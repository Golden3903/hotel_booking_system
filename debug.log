INFO 2025-05-29 07:47:18,357 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 07:48:12,086 middleware Admin user found: admin
INFO 2025-05-29 07:48:17,741 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24956
WARNING 2025-05-29 07:48:18,492 log Not Found: /favicon.ico
WARNING 2025-05-29 07:48:18,493 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-29 07:49:39,275 basehttp "GET /admin HTTP/1.1" 301 0
INFO 2025-05-29 07:49:39,325 middleware Admin user admin logged in for admin panel
INFO 2025-05-29 07:49:39,486 basehttp "GET /admin/ HTTP/1.1" 200 11003
INFO 2025-05-29 07:49:40,108 basehttp "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 200 3063
INFO 2025-05-29 07:49:40,116 basehttp "GET /static/admin/css/responsive.css HTTP/1.1" 200 16632
INFO 2025-05-29 07:49:40,116 basehttp "GET /static/admin/css/base.css HTTP/1.1" 200 22154
INFO 2025-05-29 07:49:40,145 basehttp "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 200 2810
INFO 2025-05-29 07:49:40,145 basehttp "GET /static/admin/css/dark_mode.css HTTP/1.1" 200 2808
INFO 2025-05-29 07:49:40,149 basehttp "GET /static/admin/css/dashboard.css HTTP/1.1" 200 441
INFO 2025-05-29 07:49:40,149 basehttp "GET /static/admin/js/theme.js HTTP/1.1" 200 1653
INFO 2025-05-29 07:49:40,191 basehttp "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 380
INFO 2025-05-29 07:49:40,195 basehttp "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 331
WARNING 2025-05-29 07:49:40,233 log Not Found: /favicon.ico
WARNING 2025-05-29 07:49:40,233 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-29 07:49:42,551 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16181
INFO 2025-05-29 07:49:42,619 basehttp "GET /static/admin/js/jquery.init.js HTTP/1.1" 200 347
INFO 2025-05-29 07:49:42,620 basehttp "GET /static/admin/js/core.js HTTP/1.1" 200 6208
INFO 2025-05-29 07:49:42,621 basehttp "GET /static/admin/css/changelists.css HTTP/1.1" 200 6878
INFO 2025-05-29 07:49:42,626 basehttp "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 9777
INFO 2025-05-29 07:49:42,639 basehttp "GET /static/admin/js/actions.js HTTP/1.1" 200 8076
INFO 2025-05-29 07:49:42,644 basehttp "GET /static/admin/js/urlify.js HTTP/1.1" 200 7887
INFO 2025-05-29 07:49:42,645 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 07:49:42,651 basehttp "GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1531
INFO 2025-05-29 07:49:42,656 basehttp "GET /static/admin/js/filters.js HTTP/1.1" 200 978
INFO 2025-05-29 07:49:42,664 basehttp "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 285314
INFO 2025-05-29 07:49:42,668 basehttp "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 325171
INFO 2025-05-29 07:49:42,674 basehttp "GET /static/admin/img/search.svg HTTP/1.1" 200 458
INFO 2025-05-29 07:49:42,775 basehttp "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 331
INFO 2025-05-29 07:49:42,775 basehttp "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 200 581
INFO 2025-05-29 07:49:46,816 basehttp "GET /admin/hotel_booking/booking/2/change/ HTTP/1.1" 200 32411
INFO 2025-05-29 07:49:46,888 basehttp "GET /static/admin/css/forms.css HTTP/1.1" 200 8525
INFO 2025-05-29 07:49:46,888 basehttp "GET /static/admin/js/calendar.js HTTP/1.1" 200 9141
INFO 2025-05-29 07:49:46,895 basehttp "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 200 19319
INFO 2025-05-29 07:49:46,896 basehttp "GET /static/admin/js/inlines.js HTTP/1.1" 200 15628
INFO 2025-05-29 07:49:46,904 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 07:49:46,904 basehttp "GET /static/admin/js/change_form.js HTTP/1.1" 200 606
INFO 2025-05-29 07:49:46,910 basehttp "GET /static/admin/css/widgets.css HTTP/1.1" 200 11991
INFO 2025-05-29 07:49:46,910 basehttp "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 586
INFO 2025-05-29 07:49:46,916 basehttp "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 200 392
INFO 2025-05-29 07:49:46,916 basehttp "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 200 655
INFO 2025-05-29 07:49:46,982 basehttp "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 200 1086
INFO 2025-05-29 07:50:05,967 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 07:50:21,710 views Database connection successful
INFO 2025-05-29 07:50:21,710 views Received chat request at 2025-05-29 07:50:21.710482
DEBUG 2025-05-29 07:50:21,710 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:50:21,710 views Request body: {"message":"i want change my check in date","session":{}}
INFO 2025-05-29 07:50:21,710 views User input: i want change my check in date
INFO 2025-05-29 07:50:21,710 views Current session state: None
INFO 2025-05-29 07:50:21,710 views Current user data: None
INFO 2025-05-29 07:50:22,364 dialog_manager Using device: cpu
INFO 2025-05-29 07:50:22,846 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:50:24,515 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:50:25,800 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:50:31,097 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:50:31,131 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:50:31,132 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:50:31,136 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:50:31,146 dialog_manager Processing message: i want change my check in date
INFO 2025-05-29 07:50:31,147 dialog_manager Processing input: i want change my check in date
INFO 2025-05-29 07:50:31,522 dialog_manager Using language: en
INFO 2025-05-29 07:50:31,522 dialog_manager Detecting intent for input: i want change my check in date
INFO 2025-05-29 07:50:31,552 dialog_manager Booking intent detected
INFO 2025-05-29 07:50:31,552 dialog_manager Detected intent: booking
INFO 2025-05-29 07:50:31,552 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 07:50:31,552 dialog_manager Extracting dates from: i want change my check in date
WARNING 2025-05-29 07:50:31,552 dialog_manager No dates found
INFO 2025-05-29 07:50:31,571 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 07:50:31,571 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:50:31,571 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 07:50:31,634 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:50:31,893 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 07:51:05,401 views Database connection successful
INFO 2025-05-29 07:51:05,403 views Received chat request at 2025-05-29 07:51:05.403178
DEBUG 2025-05-29 07:51:05,405 views Request headers: {'Content-Length': '139', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:51:05,406 views Request body: {"message":"TLS","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-05-29 07:51:05,407 views User input: TLS
INFO 2025-05-29 07:51:05,407 views Current session state: collecting_booking_info
INFO 2025-05-29 07:51:05,408 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 07:51:05,885 dialog_manager Using device: cpu
INFO 2025-05-29 07:51:06,330 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:51:07,828 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:51:08,815 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:51:13,387 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:51:13,394 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:51:13,394 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:51:13,394 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:51:13,397 dialog_manager Processing message: TLS
INFO 2025-05-29 07:51:13,397 dialog_manager Processing input: TLS
INFO 2025-05-29 07:51:13,399 dialog_manager Using language: en
INFO 2025-05-29 07:51:13,399 dialog_manager Detecting intent for input: TLS
INFO 2025-05-29 07:51:13,417 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:51:13,421 dialog_manager Extracted name: TLS
INFO 2025-05-29 07:51:13,422 dialog_manager Extracting dates from: TLS
WARNING 2025-05-29 07:51:13,424 dialog_manager No dates found
INFO 2025-05-29 07:51:13,425 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:51:13,428 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:51:13,431 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:51:13,433 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:51:13,451 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:51:13,454 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 261
INFO 2025-05-29 07:51:23,663 views Database connection successful
INFO 2025-05-29 07:51:23,664 views Received chat request at 2025-05-29 07:51:23.664868
DEBUG 2025-05-29 07:51:23,665 views Request headers: {'Content-Length': '166', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:51:23,667 views Request body: {"message":"01158763903","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-05-29 07:51:23,667 views User input: 01158763903
INFO 2025-05-29 07:51:23,669 views Current session state: collecting_booking_info
INFO 2025-05-29 07:51:23,670 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:51:24,236 dialog_manager Using device: cpu
INFO 2025-05-29 07:51:24,724 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:51:26,161 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:51:27,328 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:51:32,101 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:51:32,101 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:51:32,101 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:51:32,106 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:51:32,106 dialog_manager Processing message: 01158763903
INFO 2025-05-29 07:51:32,106 dialog_manager Processing input: 01158763903
INFO 2025-05-29 07:51:32,107 dialog_manager Using language: en
INFO 2025-05-29 07:51:32,107 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 07:51:32,119 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:51:32,119 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 07:51:32,124 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:51:32,125 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:51:32,125 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:51:32,127 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:51:32,142 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:51:32,274 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 282
INFO 2025-05-29 07:51:41,879 views Database connection successful
INFO 2025-05-29 07:51:41,879 views Received chat request at 2025-05-29 07:51:41.879211
DEBUG 2025-05-29 07:51:41,879 views Request headers: {'Content-Length': '196', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:51:41,887 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-05-29 07:51:41,889 views User input: marco9043@gmail.com
INFO 2025-05-29 07:51:41,890 views Current session state: collecting_booking_info
INFO 2025-05-29 07:51:41,891 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:51:42,390 dialog_manager Using device: cpu
INFO 2025-05-29 07:51:42,803 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:51:44,824 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:51:45,808 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:51:49,231 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:51:49,237 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:51:49,237 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:51:49,237 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:51:49,239 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-05-29 07:51:49,245 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-05-29 07:51:49,246 dialog_manager Using language: en
INFO 2025-05-29 07:51:49,247 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-05-29 07:51:49,258 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:51:49,258 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-05-29 07:51:49,262 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:51:49,262 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:51:49,262 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:51:49,268 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:51:49,283 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:51:49,525 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 734
INFO 2025-05-29 07:51:53,716 views Database connection successful
INFO 2025-05-29 07:51:53,721 views Received chat request at 2025-05-29 07:51:53.721626
DEBUG 2025-05-29 07:51:53,721 views Request headers: {'Content-Length': '213', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:51:53,724 views Request body: {"message":"deluxe","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-05-29 07:51:53,724 views User input: deluxe
INFO 2025-05-29 07:51:53,729 views Current session state: collecting_booking_info
INFO 2025-05-29 07:51:53,730 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:51:54,181 dialog_manager Using device: cpu
INFO 2025-05-29 07:51:54,609 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:51:55,811 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:51:56,219 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:51:59,508 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:51:59,508 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:51:59,508 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:51:59,508 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:51:59,524 dialog_manager Processing message: deluxe
INFO 2025-05-29 07:51:59,525 dialog_manager Processing input: deluxe
INFO 2025-05-29 07:51:59,526 dialog_manager Using language: en
INFO 2025-05-29 07:51:59,527 dialog_manager Detecting intent for input: deluxe
INFO 2025-05-29 07:51:59,542 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:51:59,544 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'target_room_type': 'deluxe'}
INFO 2025-05-29 07:51:59,544 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-05-29 07:51:59,544 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'target_room_type': 'deluxe'}
INFO 2025-05-29 07:51:59,544 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-05-29 07:51:59,544 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:51:59,802 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 418
INFO 2025-05-29 07:53:42,223 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 07:53:47,024 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 07:54:13,137 middleware Admin user found: admin
INFO 2025-05-29 07:55:11,600 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24956
INFO 2025-05-29 07:55:15,944 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 07:55:22,892 views Database connection successful
INFO 2025-05-29 07:55:22,893 views Received chat request at 2025-05-29 07:55:22.893562
DEBUG 2025-05-29 07:55:22,893 views Request headers: {'Content-Length': '39', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:55:22,896 views Request body: {"message":"booking room","session":{}}
INFO 2025-05-29 07:55:22,896 views User input: booking room
INFO 2025-05-29 07:55:22,897 views Current session state: None
INFO 2025-05-29 07:55:22,898 views Current user data: None
INFO 2025-05-29 07:55:23,455 dialog_manager Using device: cpu
INFO 2025-05-29 07:55:23,905 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:55:25,320 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:55:26,622 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:55:30,852 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:55:30,860 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:55:30,860 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:55:30,878 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:55:30,880 dialog_manager Processing message: booking room
INFO 2025-05-29 07:55:30,881 dialog_manager Processing input: booking room
INFO 2025-05-29 07:55:31,575 dialog_manager Using language: en
INFO 2025-05-29 07:55:31,575 dialog_manager Detecting intent for input: booking room
INFO 2025-05-29 07:55:31,599 dialog_manager Booking intent detected
INFO 2025-05-29 07:55:31,601 dialog_manager Detected intent: booking
INFO 2025-05-29 07:55:31,603 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 07:55:31,606 dialog_manager Extracting dates from: booking room
WARNING 2025-05-29 07:55:31,606 dialog_manager No dates found
INFO 2025-05-29 07:55:31,613 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 07:55:31,613 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:55:31,617 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 07:55:31,632 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:55:31,837 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 07:55:35,214 views Database connection successful
INFO 2025-05-29 07:55:35,214 views Received chat request at 2025-05-29 07:55:35.214825
DEBUG 2025-05-29 07:55:35,214 views Request headers: {'Content-Length': '139', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:55:35,214 views Request body: {"message":"TLS","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 07:55:35,214 views User input: TLS
INFO 2025-05-29 07:55:35,214 views Current session state: collecting_booking_info
INFO 2025-05-29 07:55:35,214 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 07:55:35,740 dialog_manager Using device: cpu
INFO 2025-05-29 07:55:36,229 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:55:37,592 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:55:38,143 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:55:41,454 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:55:41,470 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:55:41,470 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:55:41,470 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:55:41,470 dialog_manager Processing message: TLS
INFO 2025-05-29 07:55:41,473 dialog_manager Processing input: TLS
INFO 2025-05-29 07:55:41,474 dialog_manager Using language: af
INFO 2025-05-29 07:55:41,475 dialog_manager Detecting intent for input: TLS
INFO 2025-05-29 07:55:41,491 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:55:41,491 dialog_manager Extracted name: TLS
INFO 2025-05-29 07:55:41,491 dialog_manager Extracting dates from: TLS
WARNING 2025-05-29 07:55:41,491 dialog_manager No dates found
INFO 2025-05-29 07:55:41,491 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:55:41,498 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:55:41,500 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:55:41,500 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:55:41,513 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:55:41,751 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 261
INFO 2025-05-29 07:55:47,546 views Database connection successful
INFO 2025-05-29 07:55:47,546 views Received chat request at 2025-05-29 07:55:47.546742
DEBUG 2025-05-29 07:55:47,548 views Request headers: {'Content-Length': '166', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:55:47,548 views Request body: {"message":"01158763903","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 07:55:47,550 views User input: 01158763903
INFO 2025-05-29 07:55:47,551 views Current session state: collecting_booking_info
INFO 2025-05-29 07:55:47,551 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS'}
INFO 2025-05-29 07:55:48,027 dialog_manager Using device: cpu
INFO 2025-05-29 07:55:48,437 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:55:49,639 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:55:50,205 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:55:53,583 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:55:53,589 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:55:53,589 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:55:53,589 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:55:53,589 dialog_manager Processing message: 01158763903
INFO 2025-05-29 07:55:53,589 dialog_manager Processing input: 01158763903
INFO 2025-05-29 07:55:53,594 dialog_manager Using language: af
INFO 2025-05-29 07:55:53,594 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 07:55:53,607 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:55:53,607 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 07:55:53,607 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:55:53,609 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:55:53,609 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:55:53,609 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:55:53,623 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:55:53,878 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 282
INFO 2025-05-29 07:56:00,900 views Database connection successful
INFO 2025-05-29 07:56:00,900 views Received chat request at 2025-05-29 07:56:00.900424
DEBUG 2025-05-29 07:56:00,900 views Request headers: {'Content-Length': '196', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:56:00,908 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 07:56:00,909 views User input: marco9043@gmail.com
INFO 2025-05-29 07:56:00,911 views Current session state: collecting_booking_info
INFO 2025-05-29 07:56:00,912 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-29 07:56:01,439 dialog_manager Using device: cpu
INFO 2025-05-29 07:56:01,884 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:56:03,157 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:56:03,578 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:56:07,419 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:56:07,419 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:56:07,419 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:56:07,419 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:56:07,438 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-05-29 07:56:07,439 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-05-29 07:56:07,440 dialog_manager Using language: af
INFO 2025-05-29 07:56:07,441 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-05-29 07:56:07,452 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:56:07,453 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-05-29 07:56:07,453 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:56:07,461 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:56:07,461 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:56:07,461 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:56:07,481 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:56:07,680 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 734
INFO 2025-05-29 07:56:12,920 views Database connection successful
INFO 2025-05-29 07:56:12,920 views Received chat request at 2025-05-29 07:56:12.920649
DEBUG 2025-05-29 07:56:12,920 views Request headers: {'Content-Length': '213', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:56:12,920 views Request body: {"message":"deluxe","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 07:56:12,920 views User input: deluxe
INFO 2025-05-29 07:56:12,920 views Current session state: collecting_booking_info
INFO 2025-05-29 07:56:12,920 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-29 07:56:13,401 dialog_manager Using device: cpu
INFO 2025-05-29 07:56:13,822 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:56:14,914 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:56:15,298 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:56:18,538 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:56:18,540 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:56:18,540 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:56:18,540 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:56:18,548 dialog_manager Processing message: deluxe
INFO 2025-05-29 07:56:18,549 dialog_manager Processing input: deluxe
INFO 2025-05-29 07:56:18,550 dialog_manager Using language: af
INFO 2025-05-29 07:56:18,551 dialog_manager Detecting intent for input: deluxe
INFO 2025-05-29 07:56:18,552 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:56:18,552 dialog_manager Extracting dates from: deluxe
WARNING 2025-05-29 07:56:18,552 dialog_manager No dates found
INFO 2025-05-29 07:56:18,560 dialog_manager Extracted room type: Deluxe
INFO 2025-05-29 07:56:18,562 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-05-29 07:56:18,563 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-05-29 07:56:18,564 views Updated session state: collecting_booking_info
INFO 2025-05-29 07:56:18,564 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-05-29 07:56:18,572 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:56:18,771 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 384
INFO 2025-05-29 07:56:25,199 views Database connection successful
INFO 2025-05-29 07:56:25,199 views Received chat request at 2025-05-29 07:56:25.199299
DEBUG 2025-05-29 07:56:25,204 views Request headers: {'Content-Length': '236', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:56:25,205 views Request body: {"message":"tomorrow","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 07:56:25,206 views User input: tomorrow
INFO 2025-05-29 07:56:25,207 views Current session state: collecting_booking_info
INFO 2025-05-29 07:56:25,207 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-05-29 07:56:25,621 dialog_manager Using device: cpu
INFO 2025-05-29 07:56:26,511 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:56:27,585 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:56:28,033 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:56:31,523 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:56:31,532 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:56:31,534 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:56:31,534 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:56:31,536 dialog_manager Processing message: tomorrow
INFO 2025-05-29 07:56:31,538 dialog_manager Processing input: tomorrow
INFO 2025-05-29 07:56:31,538 dialog_manager Using language: af
INFO 2025-05-29 07:56:31,538 dialog_manager Detecting intent for input: tomorrow
INFO 2025-05-29 07:56:31,547 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:56:31,549 dialog_manager Extracting dates from: tomorrow
INFO 2025-05-29 07:56:31,550 dialog_manager Extracted 'tomorrow' date: 2025-05-30 07:56:31.550204
INFO 2025-05-29 07:56:31,551 dialog_manager Single date result: {'check_in': '2025-05-30', 'check_out': '2025-05-31'}
INFO 2025-05-29 07:56:31,551 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31'}
INFO 2025-05-29 07:56:31,561 models Booking saved: BK-45959 for TLS
INFO 2025-05-29 07:56:31,567 dialog_manager Booking created successfully: ID=3, Booking_ID=BK-45959
INFO 2025-05-29 07:56:31,569 dialog_manager Booking record created successfully: BK-45959
INFO 2025-05-29 07:56:31,569 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959'}
INFO 2025-05-29 07:56:31,569 views Updated session state: offering_addons
INFO 2025-05-29 07:56:31,570 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959'}
INFO 2025-05-29 07:56:31,570 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-29 07:56:31,570 views Booking confirmation check - State: offering_addons, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:56:31,794 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1157
INFO 2025-05-29 07:56:50,129 views Database connection successful
INFO 2025-05-29 07:56:50,129 views Received chat request at 2025-05-29 07:56:50.129917
DEBUG 2025-05-29 07:56:50,129 views Request headers: {'Content-Length': '327', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:56:50,134 views Request body: {"message":"airport transfer service","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959"},"state":"offering_addons","lang":"af"}}
INFO 2025-05-29 07:56:50,135 views User input: airport transfer service
INFO 2025-05-29 07:56:50,136 views Current session state: offering_addons
INFO 2025-05-29 07:56:50,137 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959'}
INFO 2025-05-29 07:56:50,603 dialog_manager Using device: cpu
INFO 2025-05-29 07:56:51,051 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:56:52,145 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:56:52,554 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:56:56,157 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:56:56,161 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:56:56,161 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:56:56,161 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:56:56,165 dialog_manager Processing message: airport transfer service
INFO 2025-05-29 07:56:56,165 dialog_manager Processing input: airport transfer service
INFO 2025-05-29 07:56:56,165 dialog_manager Using language: af
INFO 2025-05-29 07:56:56,165 dialog_manager Detecting intent for input: airport transfer service
INFO 2025-05-29 07:56:56,171 dialog_manager Detected intent: transport
INFO 2025-05-29 07:56:56,171 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport'}
INFO 2025-05-29 07:56:56,171 views Updated session state: collecting_transport_details
INFO 2025-05-29 07:56:56,171 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport'}
INFO 2025-05-29 07:56:56,171 views Generated response: Airport transfer service has been added (RM50). Are you going [TO THE HOTEL] or [FROM THE HOTEL]? Please also provide the transfer date, time, and number of passengers (maximum 5 people). We'll arrange our hotel van to pick you up on time.
INFO 2025-05-29 07:56:56,176 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:56:56,366 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 611
INFO 2025-05-29 07:57:09,704 views Database connection successful
INFO 2025-05-29 07:57:09,704 views Received chat request at 2025-05-29 07:57:09.704499
DEBUG 2025-05-29 07:57:09,704 views Request headers: {'Content-Length': '357', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:57:09,709 views Request body: {"message":"TO THE HOTEL","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport"},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 07:57:09,709 views User input: TO THE HOTEL
INFO 2025-05-29 07:57:09,709 views Current session state: collecting_transport_details
INFO 2025-05-29 07:57:09,709 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport'}
INFO 2025-05-29 07:57:10,161 dialog_manager Using device: cpu
INFO 2025-05-29 07:57:10,568 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:57:11,666 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:57:12,089 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:57:15,443 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:57:15,448 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:57:15,448 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:57:15,448 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:57:15,452 dialog_manager Processing message: TO THE HOTEL
INFO 2025-05-29 07:57:15,454 dialog_manager Processing input: TO THE HOTEL
INFO 2025-05-29 07:57:15,455 dialog_manager Using language: af
INFO 2025-05-29 07:57:15,455 dialog_manager Detecting intent for input: TO THE HOTEL
INFO 2025-05-29 07:57:15,465 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:57:15,465 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:57:15,465 views Updated session state: collecting_transport_details
INFO 2025-05-29 07:57:15,465 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:57:15,465 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:57:15,688 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 607
INFO 2025-05-29 07:57:45,877 views Database connection successful
INFO 2025-05-29 07:57:45,877 views Received chat request at 2025-05-29 07:57:45.877818
DEBUG 2025-05-29 07:57:45,877 views Request headers: {'Content-Length': '412', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:57:45,877 views Request body: {"message":"30.05.2025 time 12.30 5 passengers","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport","transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 07:57:45,877 views User input: 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:57:45,877 views Current session state: collecting_transport_details
INFO 2025-05-29 07:57:45,877 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:57:46,370 dialog_manager Using device: cpu
INFO 2025-05-29 07:57:46,853 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:57:48,276 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:57:48,722 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:57:52,381 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:57:52,394 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:57:52,396 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:57:52,396 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:57:52,401 dialog_manager Processing message: 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:57:52,402 dialog_manager Processing input: 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:57:52,403 dialog_manager Using language: af
INFO 2025-05-29 07:57:52,403 dialog_manager Detecting intent for input: 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:57:52,411 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:57:52,411 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:57:52,415 views Updated session state: collecting_transport_details
INFO 2025-05-29 07:57:52,415 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:57:52,422 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:57:52,690 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 558
INFO 2025-05-29 07:58:18,299 views Database connection successful
INFO 2025-05-29 07:58:18,299 views Received chat request at 2025-05-29 07:58:18.299369
DEBUG 2025-05-29 07:58:18,299 views Request headers: {'Content-Length': '421', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 07:58:18,299 views Request body: {"message":"TO HOTEL 30.05.2025 time 12.30 5 passengers","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport","transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 07:58:18,299 views User input: TO HOTEL 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:58:18,299 views Current session state: collecting_transport_details
INFO 2025-05-29 07:58:18,299 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:58:18,772 dialog_manager Using device: cpu
INFO 2025-05-29 07:58:19,289 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 07:58:20,557 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 07:58:21,159 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 07:58:24,536 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 07:58:24,554 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 07:58:24,556 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 07:58:24,558 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 07:58:24,560 dialog_manager Processing message: TO HOTEL 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:58:24,562 dialog_manager Processing input: TO HOTEL 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:58:24,562 dialog_manager Using language: af
INFO 2025-05-29 07:58:24,562 dialog_manager Detecting intent for input: TO HOTEL 30.05.2025 time 12.30 5 passengers
INFO 2025-05-29 07:58:24,576 dialog_manager Detected intent: unknown
INFO 2025-05-29 07:58:24,578 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:58:24,578 views Updated session state: collecting_transport_details
INFO 2025-05-29 07:58:24,578 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 07:58:24,588 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 07:58:24,816 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 607
INFO 2025-05-29 08:00:31,586 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:00:36,243 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:01:01,070 middleware Admin user found: admin
INFO 2025-05-29 08:01:07,552 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:01:10,333 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:01:28,123 middleware Admin user found: admin
INFO 2025-05-29 08:02:02,764 views Database connection successful
INFO 2025-05-29 08:02:02,765 views Received chat request at 2025-05-29 08:02:02.765421
DEBUG 2025-05-29 08:02:02,766 views Request headers: {'Content-Length': '412', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:02:02,767 views Request body: {"message":"30.05.2025 time 12:30 5 passengers","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport","transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 08:02:02,767 views User input: 30.05.2025 time 12:30 5 passengers
INFO 2025-05-29 08:02:02,768 views Current session state: collecting_transport_details
INFO 2025-05-29 08:02:02,769 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 08:02:03,479 dialog_manager Using device: cpu
INFO 2025-05-29 08:02:04,005 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:02:05,483 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:02:07,184 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:02:12,061 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:02:12,070 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:02:12,070 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:02:12,079 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:02:12,086 dialog_manager Processing message: 30.05.2025 time 12:30 5 passengers
INFO 2025-05-29 08:02:12,086 dialog_manager Processing input: 30.05.2025 time 12:30 5 passengers
INFO 2025-05-29 08:02:12,087 dialog_manager Using language: af
INFO 2025-05-29 08:02:12,087 dialog_manager Detecting intent for input: 30.05.2025 time 12:30 5 passengers
INFO 2025-05-29 08:02:12,121 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:02:12,123 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 08:02:12,124 views Updated session state: collecting_transport_details
INFO 2025-05-29 08:02:12,125 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 08:02:12,125 views Generated response: Please provide a valid time in HH:MM or HH.MM format (e.g., 14:30 or 14.30).
INFO 2025-05-29 08:02:12,126 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:02:12,373 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 483
INFO 2025-05-29 08:02:40,188 views Database connection successful
INFO 2025-05-29 08:02:40,188 views Received chat request at 2025-05-29 08:02:40.188640
DEBUG 2025-05-29 08:02:40,195 views Request headers: {'Content-Length': '383', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:02:40,197 views Request body: {"message":"12.30","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport","transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 08:02:40,199 views User input: 12.30
INFO 2025-05-29 08:02:40,200 views Current session state: collecting_transport_details
INFO 2025-05-29 08:02:40,201 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel'}
INFO 2025-05-29 08:02:40,661 dialog_manager Using device: cpu
INFO 2025-05-29 08:02:41,065 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:02:42,509 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:02:43,524 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:02:48,780 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:02:48,780 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:02:48,780 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:02:48,780 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:02:48,788 dialog_manager Processing message: 12.30
INFO 2025-05-29 08:02:48,792 dialog_manager Processing input: 12.30
INFO 2025-05-29 08:02:48,792 dialog_manager Using language: af
INFO 2025-05-29 08:02:48,794 dialog_manager Detecting intent for input: 12.30
INFO 2025-05-29 08:02:48,796 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:02:48,806 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel', 'transport_time': '12:30'}
INFO 2025-05-29 08:02:48,807 views Updated session state: collecting_transport_details
INFO 2025-05-29 08:02:48,807 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel', 'transport_time': '12:30'}
INFO 2025-05-29 08:02:48,829 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:02:49,054 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 550
INFO 2025-05-29 08:03:03,412 views Database connection successful
INFO 2025-05-29 08:03:03,414 views Received chat request at 2025-05-29 08:03:03.412884
DEBUG 2025-05-29 08:03:03,415 views Request headers: {'Content-Length': '416', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:03:03,416 views Request body: {"message":"30.05.2025, 4","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport","transport_direction":"to_hotel","transport_time":"12:30"},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 08:03:03,417 views User input: 30.05.2025, 4
INFO 2025-05-29 08:03:03,418 views Current session state: collecting_transport_details
INFO 2025-05-29 08:03:03,419 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel', 'transport_time': '12:30'}
INFO 2025-05-29 08:03:03,918 dialog_manager Using device: cpu
INFO 2025-05-29 08:03:04,375 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:03:05,790 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:03:06,317 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:03:09,848 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:03:09,852 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:03:09,852 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:03:09,854 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:03:09,856 dialog_manager Processing message: 30.05.2025, 4
INFO 2025-05-29 08:03:09,858 dialog_manager Processing input: 30.05.2025, 4
INFO 2025-05-29 08:03:09,858 dialog_manager Using language: af
INFO 2025-05-29 08:03:09,858 dialog_manager Detecting intent for input: 30.05.2025, 4
INFO 2025-05-29 08:03:09,867 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:03:09,867 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel', 'transport_time': '12:30', 'passenger_count': 4}
INFO 2025-05-29 08:03:09,867 views Updated session state: collecting_transport_details
INFO 2025-05-29 08:03:09,867 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel', 'transport_time': '12:30', 'passenger_count': 4}
INFO 2025-05-29 08:03:09,877 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-45959, Previous ID: BK-45959, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:03:10,097 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 531
INFO 2025-05-29 08:03:23,329 views Database connection successful
INFO 2025-05-29 08:03:23,329 views Received chat request at 2025-05-29 08:03:23.329554
DEBUG 2025-05-29 08:03:23,329 views Request headers: {'Content-Length': '433', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:03:23,329 views Request body: {"message":"30/05/2025","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-45959","selected_addon":"transport","transport_direction":"to_hotel","transport_time":"12:30","passenger_count":4},"state":"collecting_transport_details","lang":"af"}}
INFO 2025-05-29 08:03:23,329 views User input: 30/05/2025
INFO 2025-05-29 08:03:23,329 views Current session state: collecting_transport_details
INFO 2025-05-29 08:03:23,329 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-45959', 'selected_addon': 'transport', 'transport_direction': 'to_hotel', 'transport_time': '12:30', 'passenger_count': 4}
INFO 2025-05-29 08:03:23,851 dialog_manager Using device: cpu
INFO 2025-05-29 08:03:24,238 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:03:25,350 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:03:25,757 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:03:29,063 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:03:29,063 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:03:29,063 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:03:29,063 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:03:29,063 dialog_manager Processing message: 30/05/2025
INFO 2025-05-29 08:03:29,063 dialog_manager Processing input: 30/05/2025
INFO 2025-05-29 08:03:29,063 dialog_manager Using language: af
INFO 2025-05-29 08:03:29,063 dialog_manager Detecting intent for input: 30/05/2025
INFO 2025-05-29 08:03:29,080 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:03:29,088 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 08:03:29,089 dialog_manager Error handling transport details: 'transport_date'
INFO 2025-05-29 08:03:29,089 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 08:03:29,091 views Updated session state: greeting
INFO 2025-05-29 08:03:29,091 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 08:03:29,091 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 08:03:29,092 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:03:29,331 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 08:05:10,289 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:05:13,928 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:05:36,905 middleware Admin user found: admin
INFO 2025-05-29 08:05:50,598 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:05:53,240 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:06:10,007 middleware Admin user found: admin
INFO 2025-05-29 08:06:54,743 views Database connection successful
INFO 2025-05-29 08:06:54,743 views Received chat request at 2025-05-29 08:06:54.743585
DEBUG 2025-05-29 08:06:54,744 views Request headers: {'Content-Length': '124', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:06:54,745 views Request body: {"message":"airport transfer service","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-05-29 08:06:54,746 views User input: airport transfer service
INFO 2025-05-29 08:06:54,746 views Current session state: greeting
INFO 2025-05-29 08:06:54,747 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 08:06:55,225 dialog_manager Using device: cpu
INFO 2025-05-29 08:06:55,672 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:06:56,937 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:06:58,144 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:07:03,012 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:07:03,036 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:07:03,039 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:07:03,046 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:07:03,048 dialog_manager Processing message: airport transfer service
INFO 2025-05-29 08:07:03,049 dialog_manager Processing input: airport transfer service
INFO 2025-05-29 08:07:03,050 dialog_manager Using language: af
INFO 2025-05-29 08:07:03,050 dialog_manager Detecting intent for input: airport transfer service
INFO 2025-05-29 08:07:03,079 dialog_manager Detected intent: transport
INFO 2025-05-29 08:07:03,916 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:07:03,918 views Updated session state: greeting
INFO 2025-05-29 08:07:03,918 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:07:03,918 views Generated response:  We offer several add-on services: Breakfast service (RM20/person/day) and Airport transfer (RM50/up to 5 people). Which service would you like to add to your booking? Is there anything else I can help you with today?
INFO 2025-05-29 08:07:03,920 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:07:04,148 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 451
INFO 2025-05-29 08:07:14,076 views Database connection successful
INFO 2025-05-29 08:07:14,079 views Received chat request at 2025-05-29 08:07:14.079931
DEBUG 2025-05-29 08:07:14,079 views Request headers: {'Content-Length': '145', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:07:14,079 views Request body: {"message":"airport transfer service","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"af"}}
INFO 2025-05-29 08:07:14,079 views User input: airport transfer service
INFO 2025-05-29 08:07:14,079 views Current session state: greeting
INFO 2025-05-29 08:07:14,079 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:07:14,476 dialog_manager Using device: cpu
INFO 2025-05-29 08:07:14,867 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:07:15,885 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:07:16,343 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:07:20,866 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:07:20,866 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:07:20,866 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:07:20,866 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:07:20,866 dialog_manager Processing message: airport transfer service
INFO 2025-05-29 08:07:20,866 dialog_manager Processing input: airport transfer service
INFO 2025-05-29 08:07:20,878 dialog_manager Using language: af
INFO 2025-05-29 08:07:20,879 dialog_manager Detecting intent for input: airport transfer service
INFO 2025-05-29 08:07:20,890 dialog_manager Detected intent: transport
INFO 2025-05-29 08:07:20,974 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:07:20,974 views Updated session state: greeting
INFO 2025-05-29 08:07:20,975 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:07:20,975 views Generated response: Of course! I'll be happy to assist you. We offer several add-on services: Breakfast service (RM20/person/day) and Airport transfer (RM50/up to 5 people). Which service would you like to add to your booking? Is there anything else I can help you with today?
INFO 2025-05-29 08:07:20,975 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:07:21,177 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 388
INFO 2025-05-29 08:10:58,375 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:11:02,987 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:11:23,987 middleware Admin user found: admin
INFO 2025-05-29 08:14:56,886 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:15:00,857 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:15:18,123 middleware Admin user found: admin
INFO 2025-05-29 08:15:24,720 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:15:27,235 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:15:43,303 middleware Admin user found: admin
INFO 2025-05-29 08:16:14,328 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:16:16,775 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:16:34,988 middleware Admin user found: admin
INFO 2025-05-29 08:20:45,814 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:20:49,309 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:21:10,703 middleware Admin user found: admin
INFO 2025-05-29 08:21:29,769 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:21:33,161 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:21:51,835 middleware Admin user found: admin
INFO 2025-05-29 08:22:15,734 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:22:18,338 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:22:36,330 middleware Admin user found: admin
INFO 2025-05-29 08:23:13,311 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:23:16,349 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:23:34,504 middleware Admin user found: admin
INFO 2025-05-29 08:24:48,240 views Database connection successful
INFO 2025-05-29 08:24:48,242 views Received chat request at 2025-05-29 08:24:48.242093
DEBUG 2025-05-29 08:24:48,242 views Request headers: {'Content-Length': '141', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:24:48,243 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"af"}}
INFO 2025-05-29 08:24:48,244 views User input: booking status check
INFO 2025-05-29 08:24:48,245 views Current session state: greeting
INFO 2025-05-29 08:24:48,245 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:24:48,803 dialog_manager Using device: cpu
INFO 2025-05-29 08:24:49,226 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:24:50,531 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:24:52,048 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:24:58,237 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:24:58,255 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:24:58,256 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:24:58,259 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:24:58,262 dialog_manager Processing message: booking status check
INFO 2025-05-29 08:24:58,262 dialog_manager Processing input: booking status check
INFO 2025-05-29 08:24:58,263 dialog_manager Using language: af
INFO 2025-05-29 08:24:58,264 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-29 08:24:58,301 dialog_manager Booking intent detected
INFO 2025-05-29 08:24:58,302 dialog_manager Detected intent: booking
INFO 2025-05-29 08:24:58,302 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 08:24:58,305 dialog_manager Extracting dates from: booking status check
WARNING 2025-05-29 08:24:58,305 dialog_manager No dates found
INFO 2025-05-29 08:24:58,308 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:24:58,308 views Updated session state: collecting_booking_info
INFO 2025-05-29 08:24:58,310 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:24:58,327 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:24:58,592 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 08:26:56,606 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:27:01,087 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:27:26,497 middleware Admin user found: admin
INFO 2025-05-29 08:27:59,912 views Database connection successful
INFO 2025-05-29 08:27:59,912 views Received chat request at 2025-05-29 08:27:59.912334
DEBUG 2025-05-29 08:27:59,912 views Request headers: {'Content-Length': '156', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:27:59,912 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 08:27:59,912 views User input: booking status check
INFO 2025-05-29 08:27:59,912 views Current session state: collecting_booking_info
INFO 2025-05-29 08:27:59,912 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:28:00,494 dialog_manager Using device: cpu
INFO 2025-05-29 08:28:00,907 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:28:02,156 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:28:03,390 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:28:07,523 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:28:07,534 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:28:07,541 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:28:07,541 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:28:07,546 dialog_manager Processing message: booking status check
INFO 2025-05-29 08:28:07,547 dialog_manager Processing input: booking status check
INFO 2025-05-29 08:28:07,547 dialog_manager Using language: af
INFO 2025-05-29 08:28:07,547 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-29 08:28:07,576 dialog_manager Booking intent detected
INFO 2025-05-29 08:28:07,577 dialog_manager Detected intent: booking
INFO 2025-05-29 08:28:07,581 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:28:07,582 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-29 08:28:07,583 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:28:07,583 views Generated response: Sorry, I couldn't find any booking records for "booking status". Please confirm the name spelling or try providing your booking ID instead.
INFO 2025-05-29 08:28:07,583 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:28:07,823 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 299
INFO 2025-05-29 08:28:30,403 views Database connection successful
INFO 2025-05-29 08:28:30,404 views Received chat request at 2025-05-29 08:28:30.404870
DEBUG 2025-05-29 08:28:30,407 views Request headers: {'Content-Length': '155', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:28:30,408 views Request body: {"message":"BK-45959","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"collecting_booking_info_for_status","lang":"af"}}
INFO 2025-05-29 08:28:30,409 views User input: BK-45959
INFO 2025-05-29 08:28:30,410 views Current session state: collecting_booking_info_for_status
INFO 2025-05-29 08:28:30,411 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:28:30,834 dialog_manager Using device: cpu
INFO 2025-05-29 08:28:31,616 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:28:32,757 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:28:33,597 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:28:37,383 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:28:37,386 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:28:37,386 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:28:37,386 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:28:37,386 dialog_manager Processing message: BK-45959
INFO 2025-05-29 08:28:37,386 dialog_manager Processing input: BK-45959
INFO 2025-05-29 08:28:37,391 dialog_manager Using language: af
INFO 2025-05-29 08:28:37,393 dialog_manager Detecting intent for input: BK-45959
INFO 2025-05-29 08:28:37,403 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:28:37,422 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 08:28:37,423 views Updated session state: greeting
INFO 2025-05-29 08:28:37,423 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 08:28:37,452 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:28:37,683 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 710
INFO 2025-05-29 08:29:05,966 views Database connection successful
INFO 2025-05-29 08:29:05,966 views Received chat request at 2025-05-29 08:29:05.966712
DEBUG 2025-05-29 08:29:05,966 views Request headers: {'Content-Length': '106', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:29:05,973 views Request body: {"message":"cansel","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-05-29 08:29:05,974 views User input: cansel
INFO 2025-05-29 08:29:05,976 views Current session state: greeting
INFO 2025-05-29 08:29:05,977 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 08:29:06,458 dialog_manager Using device: cpu
INFO 2025-05-29 08:29:06,858 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:29:08,007 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:29:08,587 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:29:12,301 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:29:12,317 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:29:12,317 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:29:12,317 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:29:12,317 dialog_manager Processing message: cansel
INFO 2025-05-29 08:29:12,317 dialog_manager Processing input: cansel
INFO 2025-05-29 08:29:12,321 dialog_manager Using language: af
INFO 2025-05-29 08:29:12,321 dialog_manager Detecting intent for input: cansel
INFO 2025-05-29 08:29:12,328 dialog_manager Detected intent: cancel_booking
INFO 2025-05-29 08:29:12,897 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:29:12,897 views Updated session state: greeting
INFO 2025-05-29 08:29:12,897 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:29:12,897 views Generated response:  I'm here to help you with any questions about our hotel services, room reservations, local attractions, or special arrangements you might need during your stay. Is there anything else I can help you with today?
INFO 2025-05-29 08:29:12,897 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:29:13,140 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 445
INFO 2025-05-29 08:31:18,157 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:31:22,805 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:31:51,436 middleware Admin user found: admin
INFO 2025-05-29 08:32:03,565 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:32:06,801 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:32:23,745 middleware Admin user found: admin
INFO 2025-05-29 08:32:44,114 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:32:47,232 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:33:11,682 middleware Admin user found: admin
INFO 2025-05-29 08:35:08,012 views Database connection successful
INFO 2025-05-29 08:35:08,012 views Received chat request at 2025-05-29 08:35:08.012442
DEBUG 2025-05-29 08:35:08,012 views Request headers: {'Content-Length': '141', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:35:08,012 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"af"}}
INFO 2025-05-29 08:35:08,012 views User input: booking status check
INFO 2025-05-29 08:35:08,025 views Current session state: greeting
INFO 2025-05-29 08:35:08,027 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:35:08,812 dialog_manager Using device: cpu
INFO 2025-05-29 08:35:09,338 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:35:10,669 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:35:12,018 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:35:15,952 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:35:15,952 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:35:15,952 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:35:15,973 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:35:15,976 dialog_manager Processing message: booking status check
INFO 2025-05-29 08:35:15,977 dialog_manager Processing input: booking status check
INFO 2025-05-29 08:35:15,977 dialog_manager Using language: af
INFO 2025-05-29 08:35:15,978 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-29 08:35:16,005 dialog_manager Booking intent detected
INFO 2025-05-29 08:35:16,017 dialog_manager Detected intent: booking
INFO 2025-05-29 08:35:16,019 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:35:16,019 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-29 08:35:16,019 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:35:16,026 views Generated response: Sorry, I couldn't find any booking records for "booking status". Please confirm the name spelling or try providing your booking ID instead.
INFO 2025-05-29 08:35:16,026 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:35:16,279 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 299
INFO 2025-05-29 08:35:22,271 views Database connection successful
INFO 2025-05-29 08:35:22,271 views Received chat request at 2025-05-29 08:35:22.271692
DEBUG 2025-05-29 08:35:22,271 views Request headers: {'Content-Length': '155', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:35:22,280 views Request body: {"message":"BK-45959","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"collecting_booking_info_for_status","lang":"af"}}
INFO 2025-05-29 08:35:22,282 views User input: BK-45959
INFO 2025-05-29 08:35:22,283 views Current session state: collecting_booking_info_for_status
INFO 2025-05-29 08:35:22,283 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 08:35:22,763 dialog_manager Using device: cpu
INFO 2025-05-29 08:35:23,360 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:35:24,554 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:35:25,087 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:35:28,887 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:35:28,891 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:35:28,891 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:35:28,891 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:35:28,894 dialog_manager Processing message: BK-45959
INFO 2025-05-29 08:35:28,894 dialog_manager Processing input: BK-45959
INFO 2025-05-29 08:35:28,894 dialog_manager Using language: af
INFO 2025-05-29 08:35:28,895 dialog_manager Detecting intent for input: BK-45959
INFO 2025-05-29 08:35:28,905 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:35:28,912 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 3, 'booking_id': 'BK-45959', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 5, 30), 'check_out_date': datetime.date(2025, 5, 31), 'status': 'confirmed'}}
INFO 2025-05-29 08:35:28,912 views Updated session state: greeting
INFO 2025-05-29 08:35:28,912 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 3, 'booking_id': 'BK-45959', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 5, 30), 'check_out_date': datetime.date(2025, 5, 31), 'status': 'confirmed'}}
INFO 2025-05-29 08:35:28,934 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:35:29,267 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 905
INFO 2025-05-29 08:35:41,492 views Database connection successful
INFO 2025-05-29 08:35:41,493 views Received chat request at 2025-05-29 08:35:41.493651
DEBUG 2025-05-29 08:35:41,493 views Request headers: {'Content-Length': '286', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:35:41,493 views Request body: {"message":"cancel","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":3,"booking_id":"BK-45959","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-05-30","check_out_date":"2025-05-31","status":"confirmed"}},"state":"greeting","lang":"af"}}
INFO 2025-05-29 08:35:41,497 views User input: cancel
INFO 2025-05-29 08:35:41,498 views Current session state: greeting
INFO 2025-05-29 08:35:41,499 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 3, 'booking_id': 'BK-45959', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'status': 'confirmed'}}
INFO 2025-05-29 08:35:41,938 dialog_manager Using device: cpu
INFO 2025-05-29 08:35:42,682 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:35:43,887 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:35:44,598 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:35:48,843 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:35:48,843 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:35:48,857 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:35:48,857 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:35:48,857 dialog_manager Processing message: cancel
INFO 2025-05-29 08:35:48,857 dialog_manager Processing input: cancel
INFO 2025-05-29 08:35:48,857 dialog_manager Using language: af
INFO 2025-05-29 08:35:48,857 dialog_manager Detecting intent for input: cancel
INFO 2025-05-29 08:35:48,871 dialog_manager Detected intent: cancel_booking
INFO 2025-05-29 08:35:48,875 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 3, 'booking_id': 'BK-45959', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'status': 'confirmed'}, 'username': 'Golden', 'cancel_booking_id': 'BK-45959', 'booking_to_cancel': {'id': 3, 'booking_id': 'BK-45959', 'room_name': 'Deluxe Room', 'guest_name': 'TLS', 'check_in': 'May 30', 'check_out': 'May 31', 'status': 'confirmed'}}
INFO 2025-05-29 08:35:48,877 views Updated session state: confirming_cancellation
INFO 2025-05-29 08:35:48,877 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 3, 'booking_id': 'BK-45959', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'status': 'confirmed'}, 'username': 'Golden', 'cancel_booking_id': 'BK-45959', 'booking_to_cancel': {'id': 3, 'booking_id': 'BK-45959', 'room_name': 'Deluxe Room', 'guest_name': 'TLS', 'check_in': 'May 30', 'check_out': 'May 31', 'status': 'confirmed'}}
INFO 2025-05-29 08:35:48,879 views Generated response: I found your booking! You have booked a Deluxe Room with check-in dates from May 30 to May 31. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-05-29 08:35:48,880 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:35:49,058 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 702
INFO 2025-05-29 08:35:54,594 views Database connection successful
INFO 2025-05-29 08:35:54,596 views Received chat request at 2025-05-29 08:35:54.596246
DEBUG 2025-05-29 08:35:54,597 views Request headers: {'Content-Length': '510', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 08:35:54,598 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":3,"booking_id":"BK-45959","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-05-30","check_out_date":"2025-05-31","status":"confirmed"},"username":"Golden","cancel_booking_id":"BK-45959","booking_to_cancel":{"id":3,"booking_id":"BK-45959","room_name":"Deluxe Room","guest_name":"TLS","check_in":"May 30","check_out":"May 31","status":"confirmed"}},"state":"confirming_cancellation","lang":"af"}}
INFO 2025-05-29 08:35:54,599 views User input: yes
INFO 2025-05-29 08:35:54,600 views Current session state: confirming_cancellation
INFO 2025-05-29 08:35:54,600 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 3, 'booking_id': 'BK-45959', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'status': 'confirmed'}, 'username': 'Golden', 'cancel_booking_id': 'BK-45959', 'booking_to_cancel': {'id': 3, 'booking_id': 'BK-45959', 'room_name': 'Deluxe Room', 'guest_name': 'TLS', 'check_in': 'May 30', 'check_out': 'May 31', 'status': 'confirmed'}}
INFO 2025-05-29 08:35:55,086 dialog_manager Using device: cpu
INFO 2025-05-29 08:35:55,464 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 08:35:56,542 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 08:35:56,901 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 08:36:01,997 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 08:36:02,001 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 08:36:02,001 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 08:36:02,001 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 08:36:02,001 dialog_manager Processing message: yes
INFO 2025-05-29 08:36:02,008 dialog_manager Processing input: yes
INFO 2025-05-29 08:36:02,009 dialog_manager Using language: af
INFO 2025-05-29 08:36:02,010 dialog_manager Detecting intent for input: yes
INFO 2025-05-29 08:36:02,020 dialog_manager Detected intent: unknown
INFO 2025-05-29 08:36:02,025 models Booking saved: BK-45959 for TLS
INFO 2025-05-29 08:36:02,025 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 08:36:02,031 views Updated session state: greeting
INFO 2025-05-29 08:36:02,031 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 08:36:02,032 views Generated response: Your reservation has been successfully canceled, order number BK-45959. I hope to have the opportunity to serve you in the future!
INFO 2025-05-29 08:36:02,032 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 08:36:02,276 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 08:36:10,627 basehttp "GET /admin/ HTTP/1.1" 200 11003
INFO 2025-05-29 08:36:11,947 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16830
INFO 2025-05-29 08:36:12,000 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 08:36:12,111 log Not Found: /favicon.ico
INFO 2025-05-29 08:36:12,113 basehttp - Broken pipe from ('127.0.0.1', 52332)
INFO 2025-05-29 08:39:00,997 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:39:07,628 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:39:30,432 middleware Admin user found: admin
INFO 2025-05-29 08:40:39,947 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 12633
INFO 2025-05-29 08:40:40,007 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 08:40:40,215 log Not Found: /favicon.ico
INFO 2025-05-29 08:40:40,217 basehttp - Broken pipe from ('127.0.0.1', 52417)
INFO 2025-05-29 08:42:39,110 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:42:44,529 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:43:23,296 middleware Admin user found: admin
INFO 2025-05-29 08:43:31,301 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:43:34,252 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:43:58,859 middleware Admin user found: admin
INFO 2025-05-29 08:50:17,295 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:50:22,578 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:50:43,221 middleware Admin user found: admin
INFO 2025-05-29 08:52:59,900 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:53:03,669 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:53:22,259 middleware Admin user found: admin
INFO 2025-05-29 08:53:29,036 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 08:53:31,672 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 08:53:51,793 middleware Admin user found: admin
INFO 2025-05-29 10:14:12,028 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24956
INFO 2025-05-29 10:14:38,655 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15040
INFO 2025-05-29 10:14:38,735 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:14:38,874 log Not Found: /favicon.ico
INFO 2025-05-29 10:14:38,881 basehttp - Broken pipe from ('127.0.0.1', 53049)
INFO 2025-05-29 10:14:40,065 basehttp "GET /admin/hotel_booking/room/4/change/ HTTP/1.1" 200 13836
INFO 2025-05-29 10:14:40,124 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:14:40,405 basehttp - Broken pipe from ('127.0.0.1', 53051)
INFO 2025-05-29 10:14:40,410 basehttp - Broken pipe from ('127.0.0.1', 53052)
INFO 2025-05-29 10:14:41,956 basehttp "GET /admin/hotel_booking/room/4/delete/ HTTP/1.1" 200 10229
INFO 2025-05-29 10:14:42,007 basehttp "GET /static/admin/js/cancel.js HTTP/1.1" 200 884
INFO 2025-05-29 10:14:42,960 basehttp "POST /admin/hotel_booking/room/4/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 10:14:43,015 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14793
INFO 2025-05-29 10:14:43,078 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:14:43,111 basehttp "GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 436
INFO 2025-05-29 10:15:24,574 basehttp "GET /admin/hotel_booking/room/3/change/ HTTP/1.1" 200 13807
INFO 2025-05-29 10:15:24,620 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:15:30,987 models Room saved: Suite (ID: 3)
INFO 2025-05-29 10:15:30,993 basehttp "POST /admin/hotel_booking/room/3/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:15:31,067 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14837
INFO 2025-05-29 10:15:31,162 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:15:31,221 log Not Found: /favicon.ico
INFO 2025-05-29 10:15:31,221 basehttp - Broken pipe from ('127.0.0.1', 53055)
INFO 2025-05-29 10:15:34,255 basehttp "GET /admin/hotel_booking/room/2/change/ HTTP/1.1" 200 13839
INFO 2025-05-29 10:15:34,320 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:15:38,904 models Room saved: Deluxe Room (ID: 2)
INFO 2025-05-29 10:15:38,917 basehttp "POST /admin/hotel_booking/room/2/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:15:38,980 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14843
INFO 2025-05-29 10:15:39,056 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:15:40,023 basehttp "GET /admin/hotel_booking/room/1/change/ HTTP/1.1" 200 13832
INFO 2025-05-29 10:15:40,094 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:15:44,097 models Room saved: Standard Room (ID: 1)
INFO 2025-05-29 10:15:44,102 basehttp "POST /admin/hotel_booking/room/1/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:15:44,161 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14845
INFO 2025-05-29 10:15:44,223 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:16:12,623 basehttp "GET /admin/hotel_booking/room/3/change/ HTTP/1.1" 200 13807
INFO 2025-05-29 10:16:12,687 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:16:12,725 log Not Found: /favicon.ico
INFO 2025-05-29 10:16:12,729 basehttp - Broken pipe from ('127.0.0.1', 53083)
INFO 2025-05-29 10:16:39,633 models Room saved: Suite (ID: 3)
INFO 2025-05-29 10:16:39,649 basehttp "POST /admin/hotel_booking/room/3/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:16:39,680 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14837
INFO 2025-05-29 10:16:39,743 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:16:39,811 log Not Found: /favicon.ico
INFO 2025-05-29 10:16:39,811 basehttp - Broken pipe from ('127.0.0.1', 53095)
INFO 2025-05-29 10:16:41,255 basehttp "GET /admin/hotel_booking/room/1/change/ HTTP/1.1" 200 13832
INFO 2025-05-29 10:16:41,291 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:16:41,326 log Not Found: /favicon.ico
INFO 2025-05-29 10:16:41,327 basehttp - Broken pipe from ('127.0.0.1', 53097)
INFO 2025-05-29 10:17:19,801 models Room saved: Standard Room (ID: 1)
INFO 2025-05-29 10:17:19,801 basehttp "POST /admin/hotel_booking/room/1/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:17:19,828 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14845
INFO 2025-05-29 10:17:19,859 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:17:19,887 log Not Found: /favicon.ico
INFO 2025-05-29 10:17:19,887 basehttp - Broken pipe from ('127.0.0.1', 53104)
INFO 2025-05-29 10:17:21,196 basehttp "GET /admin/hotel_booking/room/2/change/ HTTP/1.1" 200 13839
INFO 2025-05-29 10:17:21,240 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:17:21,276 log Not Found: /favicon.ico
INFO 2025-05-29 10:17:21,276 basehttp - Broken pipe from ('127.0.0.1', 53105)
INFO 2025-05-29 10:17:39,862 models Room saved: Deluxe Room (ID: 2)
INFO 2025-05-29 10:17:39,871 basehttp "POST /admin/hotel_booking/room/2/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:17:39,894 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14892
INFO 2025-05-29 10:17:39,926 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:17:44,019 basehttp "GET /admin/hotel_booking/room/3/change/ HTTP/1.1" 200 13807
INFO 2025-05-29 10:17:44,059 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:17:44,092 log Not Found: /favicon.ico
INFO 2025-05-29 10:17:44,093 basehttp - Broken pipe from ('127.0.0.1', 53111)
INFO 2025-05-29 10:18:03,008 models Room saved: Suite (ID: 3)
INFO 2025-05-29 10:18:03,021 basehttp "POST /admin/hotel_booking/room/3/change/ HTTP/1.1" 302 0
INFO 2025-05-29 10:18:03,037 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14886
INFO 2025-05-29 10:18:03,105 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:18:03,153 log Not Found: /favicon.ico
INFO 2025-05-29 10:18:03,153 basehttp - Broken pipe from ('127.0.0.1', 53050)
INFO 2025-05-29 10:18:06,781 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24674
INFO 2025-05-29 10:18:06,833 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 200 175795
INFO 2025-05-29 10:18:06,835 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 200 139287
INFO 2025-05-29 10:18:06,847 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 200 146869
INFO 2025-05-29 10:18:19,399 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11159
INFO 2025-05-29 10:18:24,027 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16830
INFO 2025-05-29 10:18:24,078 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:18:28,785 basehttp "GET /admin/hotel_booking/booking/3/change/ HTTP/1.1" 200 35507
INFO 2025-05-29 10:18:28,872 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:18:28,884 basehttp - Broken pipe from ('127.0.0.1', 53127)
INFO 2025-05-29 10:18:28,884 basehttp - Broken pipe from ('127.0.0.1', 53128)
INFO 2025-05-29 10:18:29,000 basehttp "GET /static/admin/img/icon-clock.svg HTTP/1.1" 200 677
INFO 2025-05-29 10:18:42,876 basehttp "GET /hotel_booking/edit_profile/ HTTP/1.1" 200 12287
INFO 2025-05-29 10:18:51,151 basehttp "POST /hotel_booking/edit_profile/ HTTP/1.1" 302 0
INFO 2025-05-29 10:18:51,165 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11239
INFO 2025-05-29 10:18:51,229 basehttp "GET /media/profile_pictures/Acer_Wallpaper_05_3840x2400.jpg HTTP/1.1" 200 3024233
INFO 2025-05-29 10:18:56,776 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11119
INFO 2025-05-29 10:19:03,115 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 10:19:04,577 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12305
INFO 2025-05-29 10:19:04,596 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-29 10:19:04,599 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-29 10:19:04,606 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
INFO 2025-05-29 10:19:05,563 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 10:19:10,228 views Database connection successful
INFO 2025-05-29 10:19:10,228 views Received chat request at 2025-05-29 10:19:10.228417
DEBUG 2025-05-29 10:19:10,228 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:19:10,228 views Request body: {"message":"Hello","session":{}}
INFO 2025-05-29 10:19:10,228 views User input: Hello
INFO 2025-05-29 10:19:10,228 views Current session state: None
INFO 2025-05-29 10:19:10,240 views Current user data: None
INFO 2025-05-29 10:19:11,791 dialog_manager Using device: cpu
INFO 2025-05-29 10:19:12,205 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:19:13,580 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:19:14,933 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:19:20,118 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:19:20,157 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:19:20,157 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:19:20,161 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:19:20,165 dialog_manager Processing message: Hello
INFO 2025-05-29 10:19:20,167 dialog_manager Processing input: Hello
INFO 2025-05-29 10:19:20,442 dialog_manager Using language: en
INFO 2025-05-29 10:19:20,442 dialog_manager Detecting intent for input: Hello
INFO 2025-05-29 10:19:20,481 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-29 10:19:20,481 dialog_manager Detected intent: greeting
INFO 2025-05-29 10:19:24,636 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-05-29 10:19:24,636 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-29 10:19:24,667 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 10:19:24,667 views Updated session state: greeting
INFO 2025-05-29 10:19:24,667 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 10:19:24,667 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-29 10:19:24,667 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:19:24,994 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 176
INFO 2025-05-29 10:19:35,900 views Database connection successful
INFO 2025-05-29 10:19:35,900 views Received chat request at 2025-05-29 10:19:35.900678
DEBUG 2025-05-29 10:19:35,903 views Request headers: {'Content-Length': '140', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:19:35,903 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"greeting","lang":"fi"}}
INFO 2025-05-29 10:19:35,906 views User input: i want booking room
INFO 2025-05-29 10:19:35,908 views Current session state: greeting
INFO 2025-05-29 10:19:35,909 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 10:19:36,327 dialog_manager Using device: cpu
INFO 2025-05-29 10:19:36,709 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:19:37,863 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:19:38,350 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:19:42,064 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:19:42,064 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:19:42,064 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:19:42,064 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:19:42,064 dialog_manager Processing message: i want booking room
INFO 2025-05-29 10:19:42,064 dialog_manager Processing input: i want booking room
INFO 2025-05-29 10:19:42,064 dialog_manager Using language: fi
INFO 2025-05-29 10:19:42,064 dialog_manager Detecting intent for input: i want booking room
INFO 2025-05-29 10:19:42,064 dialog_manager Booking intent detected
INFO 2025-05-29 10:19:42,064 dialog_manager Detected intent: booking
INFO 2025-05-29 10:19:42,078 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 10:19:42,083 dialog_manager Extracting dates from: i want booking room
WARNING 2025-05-29 10:19:42,083 dialog_manager No dates found
INFO 2025-05-29 10:19:42,085 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 10:19:42,086 views Updated session state: collecting_booking_info
INFO 2025-05-29 10:19:42,086 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 10:19:42,106 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:19:42,319 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 10:19:47,682 views Database connection successful
INFO 2025-05-29 10:19:47,682 views Received chat request at 2025-05-29 10:19:47.682754
DEBUG 2025-05-29 10:19:47,685 views Request headers: {'Content-Length': '142', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:19:47,686 views Request body: {"message":"Golden","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 10:19:47,688 views User input: Golden
INFO 2025-05-29 10:19:47,689 views Current session state: collecting_booking_info
INFO 2025-05-29 10:19:47,689 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 10:19:48,080 dialog_manager Using device: cpu
INFO 2025-05-29 10:19:48,478 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:19:49,570 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:19:50,012 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:19:53,543 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:19:53,552 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:19:53,552 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:19:53,552 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:19:53,557 dialog_manager Processing message: Golden
INFO 2025-05-29 10:19:53,557 dialog_manager Processing input: Golden
INFO 2025-05-29 10:19:53,557 dialog_manager Using language: fi
INFO 2025-05-29 10:19:53,559 dialog_manager Detecting intent for input: Golden
INFO 2025-05-29 10:19:53,570 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:19:53,571 dialog_manager Extracted name: Golden
INFO 2025-05-29 10:19:53,573 dialog_manager Extracting dates from: Golden
WARNING 2025-05-29 10:19:53,573 dialog_manager No dates found
INFO 2025-05-29 10:19:53,574 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden'}
INFO 2025-05-29 10:19:53,574 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden'}
INFO 2025-05-29 10:19:53,574 views Updated session state: collecting_booking_info
INFO 2025-05-29 10:19:53,574 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden'}
INFO 2025-05-29 10:19:53,581 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:19:53,803 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 267
INFO 2025-05-29 10:19:58,313 views Database connection successful
INFO 2025-05-29 10:19:58,313 views Received chat request at 2025-05-29 10:19:58.313740
DEBUG 2025-05-29 10:19:58,313 views Request headers: {'Content-Length': '169', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:19:58,313 views Request body: {"message":"01158763903","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 10:19:58,313 views User input: 01158763903
INFO 2025-05-29 10:19:58,313 views Current session state: collecting_booking_info
INFO 2025-05-29 10:19:58,313 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden'}
INFO 2025-05-29 10:19:58,708 dialog_manager Using device: cpu
INFO 2025-05-29 10:19:59,103 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:20:00,279 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:20:00,742 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:20:04,130 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:20:04,142 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:20:04,142 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:20:04,142 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:20:04,142 dialog_manager Processing message: 01158763903
INFO 2025-05-29 10:20:04,142 dialog_manager Processing input: 01158763903
INFO 2025-05-29 10:20:04,142 dialog_manager Using language: fi
INFO 2025-05-29 10:20:04,142 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 10:20:04,152 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:20:04,154 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 10:20:04,154 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903'}
INFO 2025-05-29 10:20:04,154 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903'}
INFO 2025-05-29 10:20:04,154 views Updated session state: collecting_booking_info
INFO 2025-05-29 10:20:04,154 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903'}
INFO 2025-05-29 10:20:04,161 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:20:04,363 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 288
INFO 2025-05-29 10:20:11,873 views Database connection successful
INFO 2025-05-29 10:20:11,873 views Received chat request at 2025-05-29 10:20:11.873031
DEBUG 2025-05-29 10:20:11,873 views Request headers: {'Content-Length': '204', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:20:11,877 views Request body: {"message":"goldenwong3903@gmail.com","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 10:20:11,877 views User input: goldenwong3903@gmail.com
INFO 2025-05-29 10:20:11,877 views Current session state: collecting_booking_info
INFO 2025-05-29 10:20:11,878 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903'}
INFO 2025-05-29 10:20:12,283 dialog_manager Using device: cpu
INFO 2025-05-29 10:20:12,669 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:20:13,828 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:20:14,330 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:20:17,594 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:20:17,594 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:20:17,594 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:20:17,594 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:20:17,608 dialog_manager Processing message: goldenwong3903@gmail.com
INFO 2025-05-29 10:20:17,613 dialog_manager Processing input: goldenwong3903@gmail.com
INFO 2025-05-29 10:20:17,613 dialog_manager Using language: fi
INFO 2025-05-29 10:20:17,615 dialog_manager Detecting intent for input: goldenwong3903@gmail.com
INFO 2025-05-29 10:20:17,626 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:20:17,627 dialog_manager Extracted standalone email: goldenwong3903@gmail.com
INFO 2025-05-29 10:20:17,629 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com'}
INFO 2025-05-29 10:20:17,630 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com'}
INFO 2025-05-29 10:20:17,630 views Updated session state: collecting_booking_info
INFO 2025-05-29 10:20:17,630 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com'}
INFO 2025-05-29 10:20:17,636 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:20:17,828 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 745
INFO 2025-05-29 10:20:23,264 views Database connection successful
INFO 2025-05-29 10:20:23,266 views Received chat request at 2025-05-29 10:20:23.266581
DEBUG 2025-05-29 10:20:23,269 views Request headers: {'Content-Length': '223', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:20:23,271 views Request body: {"message":"standard","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 10:20:23,273 views User input: standard
INFO 2025-05-29 10:20:23,275 views Current session state: collecting_booking_info
INFO 2025-05-29 10:20:23,276 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com'}
INFO 2025-05-29 10:20:23,672 dialog_manager Using device: cpu
INFO 2025-05-29 10:20:24,067 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:20:25,205 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:20:25,609 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:20:29,023 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:20:29,026 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:20:29,026 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:20:29,026 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:20:29,026 dialog_manager Processing message: standard
INFO 2025-05-29 10:20:29,026 dialog_manager Processing input: standard
INFO 2025-05-29 10:20:29,026 dialog_manager Using language: fi
INFO 2025-05-29 10:20:29,026 dialog_manager Detecting intent for input: standard
INFO 2025-05-29 10:20:29,036 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:20:29,038 dialog_manager Extracting dates from: standard
WARNING 2025-05-29 10:20:29,038 dialog_manager No dates found
INFO 2025-05-29 10:20:29,038 dialog_manager Extracted room type: Standard
INFO 2025-05-29 10:20:29,039 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard'}
INFO 2025-05-29 10:20:29,039 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard'}
INFO 2025-05-29 10:20:29,039 views Updated session state: collecting_booking_info
INFO 2025-05-29 10:20:29,039 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard'}
INFO 2025-05-29 10:20:29,044 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:20:29,304 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 397
INFO 2025-05-29 10:20:33,875 views Database connection successful
INFO 2025-05-29 10:20:33,876 views Received chat request at 2025-05-29 10:20:33.876984
DEBUG 2025-05-29 10:20:33,876 views Request headers: {'Content-Length': '246', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:20:33,876 views Request body: {"message":"tomorrow","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 10:20:33,878 views User input: tomorrow
INFO 2025-05-29 10:20:33,878 views Current session state: collecting_booking_info
INFO 2025-05-29 10:20:33,878 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard'}
INFO 2025-05-29 10:20:34,263 dialog_manager Using device: cpu
INFO 2025-05-29 10:20:34,636 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:20:35,818 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:20:36,270 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:20:39,831 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:20:39,835 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:20:39,836 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:20:39,837 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:20:39,840 dialog_manager Processing message: tomorrow
INFO 2025-05-29 10:20:39,842 dialog_manager Processing input: tomorrow
INFO 2025-05-29 10:20:39,842 dialog_manager Using language: fi
INFO 2025-05-29 10:20:39,843 dialog_manager Detecting intent for input: tomorrow
INFO 2025-05-29 10:20:39,852 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:20:39,854 dialog_manager Extracting dates from: tomorrow
INFO 2025-05-29 10:20:39,854 dialog_manager Extracted 'tomorrow' date: 2025-05-30 10:20:39.854839
INFO 2025-05-29 10:20:39,856 dialog_manager Single date result: {'check_in': '2025-05-30', 'check_out': '2025-05-31'}
INFO 2025-05-29 10:20:39,856 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31'}
INFO 2025-05-29 10:20:39,860 models Booking saved: BK-64778 for Golden
INFO 2025-05-29 10:20:39,871 dialog_manager Booking created successfully: ID=4, Booking_ID=BK-64778
INFO 2025-05-29 10:20:39,872 dialog_manager Booking record created successfully: BK-64778
INFO 2025-05-29 10:20:39,872 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778'}
INFO 2025-05-29 10:20:39,873 views Updated session state: offering_addons
INFO 2025-05-29 10:20:39,874 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778'}
INFO 2025-05-29 10:20:39,874 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-29 10:20:39,874 views Booking confirmation check - State: offering_addons, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:20:40,143 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1358
INFO 2025-05-29 10:20:54,917 views Database connection successful
INFO 2025-05-29 10:20:54,917 views Received chat request at 2025-05-29 10:20:54.917634
DEBUG 2025-05-29 10:20:54,917 views Request headers: {'Content-Length': '317', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:20:54,917 views Request body: {"message":"both","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-64778"},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-29 10:20:54,917 views User input: both
INFO 2025-05-29 10:20:54,917 views Current session state: offering_addons
INFO 2025-05-29 10:20:54,917 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778'}
INFO 2025-05-29 10:20:55,292 dialog_manager Using device: cpu
INFO 2025-05-29 10:20:55,693 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:20:57,213 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:20:57,731 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:21:01,301 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:21:01,305 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:21:01,306 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:21:01,307 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:21:01,310 dialog_manager Processing message: both
INFO 2025-05-29 10:21:01,312 dialog_manager Processing input: both
INFO 2025-05-29 10:21:01,314 dialog_manager Using language: fi
INFO 2025-05-29 10:21:01,315 dialog_manager Detecting intent for input: both
INFO 2025-05-29 10:21:01,323 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:21:01,325 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0}
INFO 2025-05-29 10:21:01,326 views Updated session state: collecting_breakfast_count
INFO 2025-05-29 10:21:01,326 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0}
INFO 2025-05-29 10:21:01,330 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:21:01,548 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 630
INFO 2025-05-29 10:21:09,582 views Database connection successful
INFO 2025-05-29 10:21:09,582 views Received chat request at 2025-05-29 10:21:09.582457
DEBUG 2025-05-29 10:21:09,582 views Request headers: {'Content-Length': '394', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:21:09,582 views Request body: {"message":"2","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-64778","addon_selections":["breakfast","transport"],"current_addon_index":0},"state":"collecting_breakfast_count","lang":"fi"}}
INFO 2025-05-29 10:21:09,582 views User input: 2
INFO 2025-05-29 10:21:09,582 views Current session state: collecting_breakfast_count
INFO 2025-05-29 10:21:09,582 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0}
INFO 2025-05-29 10:21:09,979 dialog_manager Using device: cpu
INFO 2025-05-29 10:21:10,372 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:21:11,438 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:21:11,851 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:21:15,181 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:21:15,183 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:21:15,183 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:21:15,189 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:21:15,191 dialog_manager Processing message: 2
INFO 2025-05-29 10:21:15,193 dialog_manager Processing input: 2
INFO 2025-05-29 10:21:15,193 dialog_manager Using language: fi
INFO 2025-05-29 10:21:15,193 dialog_manager Detecting intent for input: 2
INFO 2025-05-29 10:21:15,204 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:21:15,216 dialog_manager Addon created successfully: Breakfast for 2 people - RM20
INFO 2025-05-29 10:21:15,227 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2}
INFO 2025-05-29 10:21:15,227 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:21:15,227 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2}
INFO 2025-05-29 10:21:15,233 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:21:15,438 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 753
INFO 2025-05-29 10:21:40,063 views Database connection successful
INFO 2025-05-29 10:21:40,063 views Received chat request at 2025-05-29 10:21:40.063841
DEBUG 2025-05-29 10:21:40,063 views Request headers: {'Content-Length': '441', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:21:40,063 views Request body: {"message":"to the hotel on 30.05.2025","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-64778","addon_selections":["breakfast","transport"],"current_addon_index":0,"breakfast_count":2},"state":"collecting_transport_details","lang":"fi"}}
INFO 2025-05-29 10:21:40,063 views User input: to the hotel on 30.05.2025
INFO 2025-05-29 10:21:40,063 views Current session state: collecting_transport_details
INFO 2025-05-29 10:21:40,069 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2}
INFO 2025-05-29 10:21:40,471 dialog_manager Using device: cpu
INFO 2025-05-29 10:21:40,839 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:21:41,920 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:21:42,325 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:21:45,868 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:21:45,873 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:21:45,874 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:21:45,874 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:21:45,878 dialog_manager Processing message: to the hotel on 30.05.2025
INFO 2025-05-29 10:21:45,878 dialog_manager Processing input: to the hotel on 30.05.2025
INFO 2025-05-29 10:21:45,879 dialog_manager Using language: fi
INFO 2025-05-29 10:21:45,880 dialog_manager Detecting intent for input: to the hotel on 30.05.2025
INFO 2025-05-29 10:21:45,894 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:21:45,895 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:21:45,895 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:21:45,895 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:21:45,903 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:21:46,130 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 682
INFO 2025-05-29 10:22:06,220 views Database connection successful
INFO 2025-05-29 10:22:06,220 views Received chat request at 2025-05-29 10:22:06.220796
DEBUG 2025-05-29 10:22:06,225 views Request headers: {'Content-Length': '464', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:22:06,225 views Request body: {"message":"30.05.2025 13.05","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-64778","addon_selections":["breakfast","transport"],"current_addon_index":0,"breakfast_count":2,"transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"fi"}}
INFO 2025-05-29 10:22:06,225 views User input: 30.05.2025 13.05
INFO 2025-05-29 10:22:06,225 views Current session state: collecting_transport_details
INFO 2025-05-29 10:22:06,225 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:22:06,616 dialog_manager Using device: cpu
INFO 2025-05-29 10:22:07,002 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:22:08,114 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:22:08,496 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:22:11,743 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:22:11,748 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:22:11,749 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:22:11,750 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:22:11,753 dialog_manager Processing message: 30.05.2025 13.05
INFO 2025-05-29 10:22:11,754 dialog_manager Processing input: 30.05.2025 13.05
INFO 2025-05-29 10:22:11,754 dialog_manager Using language: fi
INFO 2025-05-29 10:22:11,756 dialog_manager Detecting intent for input: 30.05.2025 13.05
INFO 2025-05-29 10:22:11,764 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:22:11,766 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:22:11,766 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:22:11,766 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:22:11,767 views Generated response: Please provide a valid time in HH:MM or HH.MM format (e.g., 14:30 or 14.30).
INFO 2025-05-29 10:22:11,767 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:22:11,986 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 590
INFO 2025-05-29 10:22:21,243 views Database connection successful
INFO 2025-05-29 10:22:21,243 views Received chat request at 2025-05-29 10:22:21.243209
DEBUG 2025-05-29 10:22:21,243 views Request headers: {'Content-Length': '483', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:22:21,249 views Request body: {"message":"13:05","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-64778","addon_selections":["breakfast","transport"],"current_addon_index":0,"breakfast_count":2,"transport_direction":"to_hotel","transport_date":"2025-05-30"},"state":"collecting_transport_details","lang":"fi"}}
INFO 2025-05-29 10:22:21,249 views User input: 13:05
INFO 2025-05-29 10:22:21,249 views Current session state: collecting_transport_details
INFO 2025-05-29 10:22:21,249 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:22:21,639 dialog_manager Using device: cpu
INFO 2025-05-29 10:22:22,024 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:22:23,215 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:22:23,625 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:22:27,480 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:22:27,480 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:22:27,480 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:22:27,480 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:22:27,480 dialog_manager Processing message: 13:05
INFO 2025-05-29 10:22:27,480 dialog_manager Processing input: 13:05
INFO 2025-05-29 10:22:27,491 dialog_manager Using language: fi
INFO 2025-05-29 10:22:27,492 dialog_manager Detecting intent for input: 13:05
INFO 2025-05-29 10:22:27,502 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:22:27,502 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:22:27,502 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:22:27,502 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:22:27,512 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:22:27,689 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 619
INFO 2025-05-29 10:22:31,719 views Database connection successful
INFO 2025-05-29 10:22:31,719 views Received chat request at 2025-05-29 10:22:31.719997
DEBUG 2025-05-29 10:22:31,719 views Request headers: {'Content-Length': '504', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:22:31,719 views Request body: {"message":"3","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"Golden","phone":"01158763903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-05-30","check_out_date":"2025-05-31","booking_id":"BK-64778","addon_selections":["breakfast","transport"],"current_addon_index":0,"breakfast_count":2,"transport_direction":"to_hotel","transport_date":"2025-05-30","transport_time":"13:05"},"state":"collecting_transport_details","lang":"fi"}}
INFO 2025-05-29 10:22:31,727 views User input: 3
INFO 2025-05-29 10:22:31,729 views Current session state: collecting_transport_details
INFO 2025-05-29 10:22:31,730 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'Golden', 'phone': '01158763903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-05-30', 'check_out_date': '2025-05-31', 'booking_id': 'BK-64778', 'addon_selections': ['breakfast', 'transport'], 'current_addon_index': 0, 'breakfast_count': 2, 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:22:32,103 dialog_manager Using device: cpu
INFO 2025-05-29 10:22:32,497 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:22:33,654 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:22:34,058 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:22:37,593 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:22:37,595 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:22:37,595 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:22:37,595 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:22:37,603 dialog_manager Processing message: 3
INFO 2025-05-29 10:22:37,606 dialog_manager Processing input: 3
INFO 2025-05-29 10:22:37,608 dialog_manager Using language: fi
INFO 2025-05-29 10:22:37,611 dialog_manager Detecting intent for input: 3
INFO 2025-05-29 10:22:37,620 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:22:37,630 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 10:22:37,630 dialog_manager Error handling transport details: 'transport_date'
INFO 2025-05-29 10:22:37,630 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 10:22:37,631 views Updated session state: greeting
INFO 2025-05-29 10:22:37,631 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 10:22:37,631 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 10:22:37,632 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:22:37,859 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 10:24:28,839 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:24:34,670 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:24:57,692 middleware Admin user found: admin
INFO 2025-05-29 10:25:33,570 views Database connection successful
INFO 2025-05-29 10:25:33,571 views Received chat request at 2025-05-29 10:25:33.571503
DEBUG 2025-05-29 10:25:33,571 views Request headers: {'Content-Length': '129', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:25:33,571 views Request body: {"message":"30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-29 10:25:33,571 views User input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:25:33,571 views Current session state: greeting
INFO 2025-05-29 10:25:33,571 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 10:25:34,180 dialog_manager Using device: cpu
INFO 2025-05-29 10:25:34,636 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:25:36,056 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:25:37,073 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:25:41,443 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:25:41,456 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:25:41,460 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:25:41,461 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:25:41,466 dialog_manager Processing message: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:25:41,467 dialog_manager Processing input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:25:41,467 dialog_manager Using language: fi
INFO 2025-05-29 10:25:41,467 dialog_manager Detecting intent for input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:25:41,497 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:25:42,310 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:25:42,310 views Updated session state: greeting
INFO 2025-05-29 10:25:42,310 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:25:42,311 views Generated response:  I'm here to help you with any questions about our hotel services, room reservations, local attractions, or special arrangements you might need during your stay. Is there anything else I can help you with today?
INFO 2025-05-29 10:25:42,312 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:25:42,554 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 445
INFO 2025-05-29 10:26:44,062 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:26:48,066 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:27:09,718 middleware Admin user found: admin
INFO 2025-05-29 10:27:21,640 views Database connection successful
INFO 2025-05-29 10:27:21,641 views Received chat request at 2025-05-29 10:27:21.641442
DEBUG 2025-05-29 10:27:21,642 views Request headers: {'Content-Length': '150', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:27:21,642 views Request body: {"message":"30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"fi"}}
INFO 2025-05-29 10:27:21,643 views User input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:27:21,643 views Current session state: greeting
INFO 2025-05-29 10:27:21,643 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:27:22,140 dialog_manager Using device: cpu
INFO 2025-05-29 10:27:22,687 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:27:24,177 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:27:25,620 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:27:29,698 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:27:29,731 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:27:29,731 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:27:29,736 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:27:29,739 dialog_manager Processing message: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:27:29,739 dialog_manager Processing input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:27:29,740 dialog_manager Using language: fi
INFO 2025-05-29 10:27:29,740 dialog_manager Detecting intent for input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:27:29,774 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:27:31,044 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:27:31,046 views Updated session state: greeting
INFO 2025-05-29 10:27:31,046 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:27:31,046 views Generated response: Of course! I'll be happy to assist you. I'm here to help you with any questions about our hotel services, room reservations, local attractions, or special arrangements you might need during your stay. Is there anything else I can help you with today?
INFO 2025-05-29 10:27:31,046 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:27:31,430 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 382
INFO 2025-05-29 10:28:48,612 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:28:53,518 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:29:15,880 middleware Admin user found: admin
INFO 2025-05-29 10:29:23,035 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:29:26,216 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:29:46,224 middleware Admin user found: admin
INFO 2025-05-29 10:31:27,856 views Database connection successful
INFO 2025-05-29 10:31:27,856 views Received chat request at 2025-05-29 10:31:27.856559
DEBUG 2025-05-29 10:31:27,857 views Request headers: {'Content-Length': '159', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:31:27,858 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"fi"}}
INFO 2025-05-29 10:31:27,858 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:31:27,858 views Current session state: greeting
INFO 2025-05-29 10:31:27,858 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:31:28,403 dialog_manager Using device: cpu
INFO 2025-05-29 10:31:28,961 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:31:30,569 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:31:31,947 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:31:36,912 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:31:36,912 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:31:36,912 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:31:36,932 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:31:36,934 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:31:36,934 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:31:36,934 dialog_manager Using language: fi
INFO 2025-05-29 10:31:36,934 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:31:36,968 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:31:37,914 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:31:37,914 views Updated session state: greeting
INFO 2025-05-29 10:31:37,914 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:31:37,914 views Generated response: I sincerely apologize for any inconvenience you've experienced. Your satisfaction is our absolute priority, and I want to resolve this matter immediately.

Could you please provide me with:
- Your booking reference number or room number
- Specific details about the issue
- How you'd like us to address this concern

I'll personally ensure this is resolved promptly and take steps to prevent it from happening again. Thank you for bringing this to our attention - it helps us maintain our high standards of service.
INFO 2025-05-29 10:31:37,914 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:31:38,186 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 654
INFO 2025-05-29 10:33:25,816 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:33:30,208 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:33:51,278 middleware Admin user found: admin
INFO 2025-05-29 10:34:12,092 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:34:14,821 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:34:34,220 middleware Admin user found: admin
INFO 2025-05-29 10:34:51,755 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:34:54,538 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:35:13,179 middleware Admin user found: admin
INFO 2025-05-29 10:35:39,602 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:35:58,637 middleware Admin user found: admin
INFO 2025-05-29 10:36:05,938 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24674
INFO 2025-05-29 10:36:06,030 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-29 10:36:06,032 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-29 10:36:06,069 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
INFO 2025-05-29 10:36:09,168 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 10:36:23,232 views Database connection successful
INFO 2025-05-29 10:36:23,234 views Received chat request at 2025-05-29 10:36:23.234070
DEBUG 2025-05-29 10:36:23,235 views Request headers: {'Content-Length': '65', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:36:23,236 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{}}
INFO 2025-05-29 10:36:23,237 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:36:23,237 views Current session state: None
INFO 2025-05-29 10:36:23,237 views Current user data: None
INFO 2025-05-29 10:36:24,018 dialog_manager Using device: cpu
INFO 2025-05-29 10:36:24,587 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:36:26,353 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:36:27,961 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:36:31,556 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:36:31,579 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:36:31,580 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:36:31,583 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:36:31,588 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:36:31,589 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:36:32,971 dialog_manager Using language: en
INFO 2025-05-29 10:36:32,971 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:36:33,039 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:36:33,069 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:36:33,069 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:36:33,069 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:36:33,069 views Generated response: I'd be happy to help you with airport transfer service! To add this service to your reservation, please provide your booking ID.
INFO 2025-05-29 10:36:33,069 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:36:33,517 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-29 10:36:40,664 basehttp "GET /admin/hotel_booking/booking/3/change/ HTTP/1.1" 200 35507
INFO 2025-05-29 10:36:40,792 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:36:40,973 log Not Found: /favicon.ico
INFO 2025-05-29 10:36:40,973 basehttp - Broken pipe from ('127.0.0.1', 53472)
INFO 2025-05-29 10:36:42,063 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 17480
INFO 2025-05-29 10:36:42,124 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:36:42,167 log Not Found: /favicon.ico
INFO 2025-05-29 10:36:42,168 basehttp - Broken pipe from ('127.0.0.1', 53475)
INFO 2025-05-29 10:36:42,260 basehttp - Broken pipe from ('127.0.0.1', 53474)
INFO 2025-05-29 10:36:43,486 basehttp "GET /admin/hotel_booking/booking/4/change/ HTTP/1.1" 200 38647
INFO 2025-05-29 10:36:43,547 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:36:53,264 views Database connection successful
INFO 2025-05-29 10:36:53,265 views Received chat request at 2025-05-29 10:36:53.265608
DEBUG 2025-05-29 10:36:53,266 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:36:53,267 views Request body: {"message":"BK-64778","session":{"user_data":{"username":"Golden","is_returning_customer":false,"pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:36:53,268 views User input: BK-64778
INFO 2025-05-29 10:36:53,270 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:36:53,271 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:36:54,076 dialog_manager Using device: cpu
INFO 2025-05-29 10:36:54,512 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:36:55,624 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:36:56,175 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:36:59,797 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:36:59,836 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:36:59,839 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:36:59,840 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:36:59,840 dialog_manager Processing message: BK-64778
INFO 2025-05-29 10:36:59,842 dialog_manager Processing input: BK-64778
INFO 2025-05-29 10:36:59,842 dialog_manager Using language: nl
INFO 2025-05-29 10:36:59,843 dialog_manager Detecting intent for input: BK-64778
INFO 2025-05-29 10:36:59,850 dialog_manager Detected intent: unknown
ERROR 2025-05-29 10:36:59,850 dialog_manager Error in response generation: 'DialogManager' object has no attribute 'handle_addon_booking_id'
INFO 2025-05-29 10:36:59,851 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:36:59,851 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:36:59,851 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:36:59,851 views Generated response: 
INFO 2025-05-29 10:36:59,854 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:37:00,120 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 334
INFO 2025-05-29 10:38:58,451 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:38:58,759 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:39:08,131 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:39:08,154 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:39:20,013 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:39:34,717 middleware Admin user found: admin
INFO 2025-05-29 10:39:38,989 middleware Admin user found: admin
INFO 2025-05-29 10:41:35,484 views Database connection successful
INFO 2025-05-29 10:41:35,486 views Received chat request at 2025-05-29 10:41:35.486101
DEBUG 2025-05-29 10:41:35,487 views Request headers: {'Content-Length': '251', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:41:35,487 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"username":"Golden","is_returning_customer":false,"pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:41:35,487 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:41:35,487 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:41:35,487 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:41:36,200 dialog_manager Using device: cpu
INFO 2025-05-29 10:41:36,747 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:41:38,140 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:41:39,960 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:41:43,730 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:41:43,789 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:41:43,789 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:41:43,800 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:41:43,802 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:41:43,802 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:41:43,807 dialog_manager Using language: nl
INFO 2025-05-29 10:41:43,807 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:41:43,866 dialog_manager Detected intent: unknown
WARNING 2025-05-29 10:41:43,866 dialog_manager No valid booking ID found in input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:41:43,866 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:41:43,866 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:41:43,866 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:41:43,866 views Generated response: Please provide a valid booking ID (e.g., BK-12345 or HTL-ABC123).
INFO 2025-05-29 10:41:43,866 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:41:44,112 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 291
INFO 2025-05-29 10:41:52,868 views Database connection successful
INFO 2025-05-29 10:41:52,873 views Received chat request at 2025-05-29 10:41:52.873291
DEBUG 2025-05-29 10:41:52,874 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:41:52,875 views Request body: {"message":"BK-64778","session":{"user_data":{"username":"Golden","is_returning_customer":false,"pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:41:52,876 views User input: BK-64778
INFO 2025-05-29 10:41:52,878 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:41:52,879 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:41:53,339 dialog_manager Using device: cpu
INFO 2025-05-29 10:41:53,761 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:41:54,952 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:41:55,364 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:42:00,215 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:42:00,221 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:42:00,221 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:42:00,221 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:42:00,225 dialog_manager Processing message: BK-64778
INFO 2025-05-29 10:42:00,225 dialog_manager Processing input: BK-64778
INFO 2025-05-29 10:42:00,226 dialog_manager Using language: nl
INFO 2025-05-29 10:42:00,226 dialog_manager Detecting intent for input: BK-64778
INFO 2025-05-29 10:42:00,238 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:42:00,239 dialog_manager Extracted booking ID: BK-64778
INFO 2025-05-29 10:42:00,244 dialog_manager Booking found: True
INFO 2025-05-29 10:42:00,245 dialog_manager Stored booking ID in user_data: BK-64778
INFO 2025-05-29 10:42:00,247 dialog_manager Pending transport request: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:42:00,247 dialog_manager Processing pending transport request
INFO 2025-05-29 10:42:00,249 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:42:00,249 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:42:00,249 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:42:00,268 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:42:00,464 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 633
INFO 2025-05-29 10:42:13,161 views Database connection successful
INFO 2025-05-29 10:42:13,161 views Received chat request at 2025-05-29 10:42:13.161972
DEBUG 2025-05-29 10:42:13,165 views Request headers: {'Content-Length': '338', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:42:13,165 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"username":"Golden","is_returning_customer":false,"pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:42:13,165 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:42:13,165 views Current session state: collecting_transport_details
INFO 2025-05-29 10:42:13,165 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:42:13,688 dialog_manager Using device: cpu
INFO 2025-05-29 10:42:15,264 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:42:16,863 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:42:17,386 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:42:20,929 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:42:20,945 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:42:20,945 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:42:20,945 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:42:20,945 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:42:20,950 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:42:20,950 dialog_manager Using language: nl
INFO 2025-05-29 10:42:20,951 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:42:20,978 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:42:20,981 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:42:20,982 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:42:20,984 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:42:20,985 views Generated response: Please provide a valid time in HH:MM or HH.MM format (e.g., 14:30 or 14.30).
INFO 2025-05-29 10:42:20,985 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:42:21,309 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 427
INFO 2025-05-29 10:42:27,722 views Database connection successful
INFO 2025-05-29 10:42:27,722 views Received chat request at 2025-05-29 10:42:27.722141
DEBUG 2025-05-29 10:42:27,722 views Request headers: {'Content-Length': '335', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:42:27,722 views Request body: {"message":"13.05","session":{"user_data":{"username":"Golden","is_returning_customer":false,"pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:42:27,722 views User input: 13.05
INFO 2025-05-29 10:42:27,722 views Current session state: collecting_transport_details
INFO 2025-05-29 10:42:27,728 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:42:28,281 dialog_manager Using device: cpu
INFO 2025-05-29 10:42:28,726 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:42:30,202 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:42:30,675 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:42:34,046 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:42:34,046 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:42:34,046 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:42:34,046 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:42:34,046 dialog_manager Processing message: 13.05
INFO 2025-05-29 10:42:34,046 dialog_manager Processing input: 13.05
INFO 2025-05-29 10:42:34,046 dialog_manager Using language: nl
INFO 2025-05-29 10:42:34,046 dialog_manager Detecting intent for input: 13.05
INFO 2025-05-29 10:42:34,066 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:42:34,069 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:42:34,070 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:42:34,070 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:42:34,081 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:42:34,288 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 456
INFO 2025-05-29 10:42:37,171 views Database connection successful
INFO 2025-05-29 10:42:37,172 views Received chat request at 2025-05-29 10:42:37.172343
DEBUG 2025-05-29 10:42:37,174 views Request headers: {'Content-Length': '356', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:42:37,175 views Request body: {"message":"3","session":{"user_data":{"username":"Golden","is_returning_customer":false,"pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30","transport_time":"13:05"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:42:37,176 views User input: 3
INFO 2025-05-29 10:42:37,176 views Current session state: collecting_transport_details
INFO 2025-05-29 10:42:37,177 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:42:37,715 dialog_manager Using device: cpu
INFO 2025-05-29 10:42:38,217 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:42:39,532 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:42:40,159 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:42:44,312 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:42:44,312 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:42:44,312 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:42:44,318 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:42:44,319 dialog_manager Processing message: 3
INFO 2025-05-29 10:42:44,319 dialog_manager Processing input: 3
INFO 2025-05-29 10:42:44,320 dialog_manager Using language: nl
INFO 2025-05-29 10:42:44,320 dialog_manager Detecting intent for input: 3
INFO 2025-05-29 10:42:44,330 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:42:44,343 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 10:42:44,343 dialog_manager Error handling transport details: 'transport_date'
INFO 2025-05-29 10:42:44,343 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 10:42:44,345 views Updated session state: greeting
INFO 2025-05-29 10:42:44,346 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 10:42:44,347 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 10:42:44,347 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:42:44,577 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 10:44:14,504 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:44:15,227 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:44:20,445 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:44:21,991 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:44:49,817 middleware Admin user found: admin
INFO 2025-05-29 10:44:49,828 middleware Admin user found: admin
INFO 2025-05-29 10:45:02,222 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:45:02,721 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:45:06,763 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:45:06,845 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:45:22,531 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:45:30,678 middleware Admin user found: admin
INFO 2025-05-29 10:45:40,856 middleware Admin user found: admin
INFO 2025-05-29 10:46:14,223 views Database connection successful
INFO 2025-05-29 10:46:14,224 views Received chat request at 2025-05-29 10:46:14.224107
DEBUG 2025-05-29 10:46:14,225 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:46:14,226 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"nl"}}
INFO 2025-05-29 10:46:14,227 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:14,227 views Current session state: greeting
INFO 2025-05-29 10:46:14,227 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 10:46:14,825 dialog_manager Using device: cpu
INFO 2025-05-29 10:46:15,246 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:46:16,605 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:46:17,702 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:46:21,788 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:46:21,802 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:46:21,804 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:46:21,807 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:46:21,809 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:21,809 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:21,811 dialog_manager Using language: nl
INFO 2025-05-29 10:46:21,811 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:21,838 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:46:21,838 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:46:21,839 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:46:21,839 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:46:21,840 views Generated response: I'd be happy to help you with airport transfer service! To add this service to your reservation, please provide your booking ID.
INFO 2025-05-29 10:46:21,840 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:46:22,068 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-29 10:46:29,388 views Database connection successful
INFO 2025-05-29 10:46:29,388 views Received chat request at 2025-05-29 10:46:29.388660
DEBUG 2025-05-29 10:46:29,388 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:46:29,388 views Request body: {"message":"BK-64778","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:46:29,388 views User input: BK-64778
INFO 2025-05-29 10:46:29,388 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:46:29,388 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:46:29,964 dialog_manager Using device: cpu
INFO 2025-05-29 10:46:30,454 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:46:32,128 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:46:32,554 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:46:35,833 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:46:35,835 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:46:35,835 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:46:35,835 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:46:35,835 dialog_manager Processing message: BK-64778
INFO 2025-05-29 10:46:35,835 dialog_manager Processing input: BK-64778
INFO 2025-05-29 10:46:35,835 dialog_manager Using language: nl
INFO 2025-05-29 10:46:35,835 dialog_manager Detecting intent for input: BK-64778
INFO 2025-05-29 10:46:35,844 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:46:35,845 dialog_manager Extracted booking ID: BK-64778
INFO 2025-05-29 10:46:35,847 dialog_manager Booking found: True
INFO 2025-05-29 10:46:35,848 dialog_manager Stored booking ID in user_data: BK-64778
INFO 2025-05-29 10:46:35,848 dialog_manager Pending transport request: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:35,849 dialog_manager Processing pending transport request
INFO 2025-05-29 10:46:35,849 dialog_manager Processing transport details for input: 'to hotel 30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:46:35,849 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport']}
INFO 2025-05-29 10:46:35,850 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:46:35,850 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:46:35,850 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:46:35,865 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:46:36,111 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 633
INFO 2025-05-29 10:46:46,834 views Database connection successful
INFO 2025-05-29 10:46:46,834 views Received chat request at 2025-05-29 10:46:46.834779
DEBUG 2025-05-29 10:46:46,834 views Request headers: {'Content-Length': '329', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:46:46,834 views Request body: {"message":"30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:46:46,834 views User input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:46,834 views Current session state: collecting_transport_details
INFO 2025-05-29 10:46:46,834 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:46:47,321 dialog_manager Using device: cpu
INFO 2025-05-29 10:46:48,124 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:46:49,425 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:46:49,829 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:46:53,585 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:46:53,587 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:46:53,589 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:46:53,589 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:46:53,589 dialog_manager Processing message: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:53,589 dialog_manager Processing input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:53,589 dialog_manager Using language: nl
INFO 2025-05-29 10:46:53,589 dialog_manager Detecting intent for input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:46:53,599 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:46:53,600 dialog_manager Processing transport details for input: '30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:46:53,601 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:46:53,601 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:46:53,602 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:46:53,602 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:46:53,604 views Generated response: Please provide a valid time in HH:MM or HH.MM format (e.g., 14:30 or 14.30).
INFO 2025-05-29 10:46:53,604 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:46:53,994 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 427
INFO 2025-05-29 10:47:00,427 views Database connection successful
INFO 2025-05-29 10:47:00,427 views Received chat request at 2025-05-29 10:47:00.427981
DEBUG 2025-05-29 10:47:00,427 views Request headers: {'Content-Length': '335', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:47:00,427 views Request body: {"message":"13:10","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:47:00,427 views User input: 13:10
INFO 2025-05-29 10:47:00,436 views Current session state: collecting_transport_details
INFO 2025-05-29 10:47:00,438 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:47:00,896 dialog_manager Using device: cpu
INFO 2025-05-29 10:47:01,331 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:47:02,579 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:47:03,206 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:47:07,077 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:47:07,079 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:47:07,079 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:47:07,079 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:47:07,079 dialog_manager Processing message: 13:10
INFO 2025-05-29 10:47:07,079 dialog_manager Processing input: 13:10
INFO 2025-05-29 10:47:07,079 dialog_manager Using language: nl
INFO 2025-05-29 10:47:07,079 dialog_manager Detecting intent for input: 13:10
INFO 2025-05-29 10:47:07,089 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:47:07,090 dialog_manager Processing transport details for input: '13:10'
INFO 2025-05-29 10:47:07,090 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:47:07,091 dialog_manager Passenger keyword match: None
INFO 2025-05-29 10:47:07,092 dialog_manager Looking for standalone passenger numbers
INFO 2025-05-29 10:47:07,092 dialog_manager Word boundary numbers found: []
INFO 2025-05-29 10:47:07,094 dialog_manager Simple digit pattern numbers found: []
INFO 2025-05-29 10:47:07,094 dialog_manager All numbers found: ['13', '10']
INFO 2025-05-29 10:47:07,094 dialog_manager No valid passenger numbers found
INFO 2025-05-29 10:47:07,095 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:47:07,095 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_date', 'transport_time']
INFO 2025-05-29 10:47:07,095 dialog_manager Missing fields: ['passenger_count']
INFO 2025-05-29 10:47:07,096 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:10'}
INFO 2025-05-29 10:47:07,096 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:47:07,098 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:10'}
INFO 2025-05-29 10:47:07,105 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:47:07,363 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 456
INFO 2025-05-29 10:47:12,276 views Database connection successful
INFO 2025-05-29 10:47:12,278 views Received chat request at 2025-05-29 10:47:12.278037
DEBUG 2025-05-29 10:47:12,279 views Request headers: {'Content-Length': '356', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:47:12,280 views Request body: {"message":"3","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30","transport_time":"13:10"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:47:12,281 views User input: 3
INFO 2025-05-29 10:47:12,282 views Current session state: collecting_transport_details
INFO 2025-05-29 10:47:12,283 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:10'}
INFO 2025-05-29 10:47:12,759 dialog_manager Using device: cpu
INFO 2025-05-29 10:47:13,161 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:47:14,287 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:47:14,682 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:47:17,972 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:47:17,978 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:47:17,978 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:47:17,978 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:47:17,978 dialog_manager Processing message: 3
INFO 2025-05-29 10:47:17,981 dialog_manager Processing input: 3
INFO 2025-05-29 10:47:17,982 dialog_manager Using language: nl
INFO 2025-05-29 10:47:17,982 dialog_manager Detecting intent for input: 3
INFO 2025-05-29 10:47:17,992 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:47:17,992 dialog_manager Processing transport details for input: '3'
INFO 2025-05-29 10:47:17,992 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:10'}
INFO 2025-05-29 10:47:17,994 dialog_manager Passenger keyword match: None
INFO 2025-05-29 10:47:17,994 dialog_manager Looking for standalone passenger numbers
INFO 2025-05-29 10:47:17,994 dialog_manager Word boundary numbers found: ['3']
INFO 2025-05-29 10:47:17,994 dialog_manager Set passenger_count to: 3
INFO 2025-05-29 10:47:17,994 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:47:17,995 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:47:17,995 dialog_manager Missing fields: []
INFO 2025-05-29 10:47:18,007 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 10:47:18,007 dialog_manager Error handling transport details: 'transport_date'
INFO 2025-05-29 10:47:18,007 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 10:47:18,008 views Updated session state: greeting
INFO 2025-05-29 10:47:18,008 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 10:47:18,008 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 10:47:18,008 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:47:18,257 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 10:47:24,128 views Database connection successful
INFO 2025-05-29 10:47:24,128 views Received chat request at 2025-05-29 10:47:24.128992
DEBUG 2025-05-29 10:47:24,133 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:47:24,135 views Request body: {"message":"3 passengers","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"nl"}}
INFO 2025-05-29 10:47:24,135 views User input: 3 passengers
INFO 2025-05-29 10:47:24,136 views Current session state: greeting
INFO 2025-05-29 10:47:24,137 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 10:47:24,596 dialog_manager Using device: cpu
INFO 2025-05-29 10:47:24,999 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:47:26,225 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:47:26,648 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:47:29,893 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:47:29,895 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:47:29,895 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:47:29,895 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:47:29,895 dialog_manager Processing message: 3 passengers
INFO 2025-05-29 10:47:29,895 dialog_manager Processing input: 3 passengers
INFO 2025-05-29 10:47:29,895 dialog_manager Using language: nl
INFO 2025-05-29 10:47:29,898 dialog_manager Detecting intent for input: 3 passengers
INFO 2025-05-29 10:47:29,904 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:47:30,447 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:47:30,455 views Updated session state: greeting
INFO 2025-05-29 10:47:30,455 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:47:30,455 views Generated response:  I'm here to help you with any questions about our hotel services, room reservations, local attractions, or special arrangements you might need during your stay. Is there anything else I can help you with today?
INFO 2025-05-29 10:47:30,455 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:47:30,686 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 415
INFO 2025-05-29 10:48:23,624 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:48:23,723 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:48:30,651 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:48:30,651 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:48:45,088 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:48:57,205 middleware Admin user found: admin
INFO 2025-05-29 10:49:04,108 middleware Admin user found: admin
INFO 2025-05-29 10:49:38,505 views Database connection successful
INFO 2025-05-29 10:49:38,506 views Received chat request at 2025-05-29 10:49:38.506212
DEBUG 2025-05-29 10:49:38,507 views Request headers: {'Content-Length': '159', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:49:38,508 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"nl"}}
INFO 2025-05-29 10:49:38,509 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:49:38,510 views Current session state: greeting
INFO 2025-05-29 10:49:38,510 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 10:49:39,121 dialog_manager Using device: cpu
INFO 2025-05-29 10:49:39,624 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:49:41,080 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:49:42,588 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:49:47,395 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:49:47,418 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:49:47,419 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:49:47,422 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:49:47,426 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:49:47,427 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:49:47,428 dialog_manager Using language: nl
INFO 2025-05-29 10:49:47,428 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:49:47,459 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:49:47,460 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:49:47,461 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:49:47,461 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:49:47,461 views Generated response: I'd be happy to help you with airport transfer service! To add this service to your reservation, please provide your booking ID.
INFO 2025-05-29 10:49:47,461 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:49:47,678 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-29 10:49:55,072 views Database connection successful
INFO 2025-05-29 10:49:55,072 views Received chat request at 2025-05-29 10:49:55.072703
DEBUG 2025-05-29 10:49:55,072 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:49:55,072 views Request body: {"message":"BK-64778","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:49:55,072 views User input: BK-64778
INFO 2025-05-29 10:49:55,072 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:49:55,072 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:49:55,584 dialog_manager Using device: cpu
INFO 2025-05-29 10:49:56,021 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:49:57,203 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:49:57,612 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:50:01,420 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:50:01,425 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:50:01,425 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:50:01,425 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:50:01,425 dialog_manager Processing message: BK-64778
INFO 2025-05-29 10:50:01,425 dialog_manager Processing input: BK-64778
INFO 2025-05-29 10:50:01,425 dialog_manager Using language: nl
INFO 2025-05-29 10:50:01,427 dialog_manager Detecting intent for input: BK-64778
INFO 2025-05-29 10:50:01,434 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:50:01,435 dialog_manager Extracted booking ID: BK-64778
INFO 2025-05-29 10:50:01,438 dialog_manager Booking found: True
INFO 2025-05-29 10:50:01,438 dialog_manager Stored booking ID in user_data: BK-64778
INFO 2025-05-29 10:50:01,438 dialog_manager Pending transport request: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:50:01,439 dialog_manager Processing pending transport request
INFO 2025-05-29 10:50:01,440 dialog_manager Processing transport details for input: 'to hotel 30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:50:01,440 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport']}
INFO 2025-05-29 10:50:01,440 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:50:01,440 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:50:01,441 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:50:01,456 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:50:01,695 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 633
INFO 2025-05-29 10:50:09,859 views Database connection successful
INFO 2025-05-29 10:50:09,859 views Received chat request at 2025-05-29 10:50:09.859361
DEBUG 2025-05-29 10:50:09,864 views Request headers: {'Content-Length': '329', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:50:09,865 views Request body: {"message":"30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:50:09,867 views User input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:50:09,867 views Current session state: collecting_transport_details
INFO 2025-05-29 10:50:09,868 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:50:10,406 dialog_manager Using device: cpu
INFO 2025-05-29 10:50:11,679 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:50:13,101 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:50:13,569 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:50:17,108 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:50:17,113 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:50:17,113 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:50:17,113 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:50:17,117 dialog_manager Processing message: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:50:17,119 dialog_manager Processing input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:50:17,120 dialog_manager Using language: nl
INFO 2025-05-29 10:50:17,121 dialog_manager Detecting intent for input: 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:50:17,132 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:50:17,132 dialog_manager Processing transport details for input: '30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:50:17,132 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:50:17,133 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:50:17,134 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:50:17,134 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:50:17,134 views Generated response: Please provide a valid time in HH:MM or HH.MM format (e.g., 14:30 or 14.30).
INFO 2025-05-29 10:50:17,135 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:50:17,418 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 427
INFO 2025-05-29 10:50:22,631 views Database connection successful
INFO 2025-05-29 10:50:22,631 views Received chat request at 2025-05-29 10:50:22.631156
DEBUG 2025-05-29 10:50:22,631 views Request headers: {'Content-Length': '335', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:50:22,631 views Request body: {"message":"13:05","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:50:22,631 views User input: 13:05
INFO 2025-05-29 10:50:22,631 views Current session state: collecting_transport_details
INFO 2025-05-29 10:50:22,631 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:50:23,092 dialog_manager Using device: cpu
INFO 2025-05-29 10:50:23,501 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:50:24,804 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:50:25,194 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:50:29,032 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:50:29,037 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:50:29,037 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:50:29,038 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:50:29,038 dialog_manager Processing message: 13:05
INFO 2025-05-29 10:50:29,038 dialog_manager Processing input: 13:05
INFO 2025-05-29 10:50:29,040 dialog_manager Using language: nl
INFO 2025-05-29 10:50:29,040 dialog_manager Detecting intent for input: 13:05
INFO 2025-05-29 10:50:29,049 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:50:29,050 dialog_manager Processing transport details for input: '13:05'
INFO 2025-05-29 10:50:29,051 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:50:29,052 dialog_manager Passenger keyword match: None
INFO 2025-05-29 10:50:29,052 dialog_manager Looking for standalone passenger numbers
INFO 2025-05-29 10:50:29,052 dialog_manager Word boundary numbers found: []
INFO 2025-05-29 10:50:29,053 dialog_manager Simple digit pattern numbers found: []
INFO 2025-05-29 10:50:29,053 dialog_manager All numbers found: ['13', '05']
INFO 2025-05-29 10:50:29,053 dialog_manager Checking number 05: before='13:', after=''
INFO 2025-05-29 10:50:29,054 dialog_manager No valid passenger numbers found
INFO 2025-05-29 10:50:29,054 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:50:29,054 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_date', 'transport_time']
INFO 2025-05-29 10:50:29,054 dialog_manager Missing fields: ['passenger_count']
INFO 2025-05-29 10:50:29,055 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:50:29,055 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:50:29,055 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:50:29,058 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:50:29,328 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 456
INFO 2025-05-29 10:50:31,612 views Database connection successful
INFO 2025-05-29 10:50:31,614 views Received chat request at 2025-05-29 10:50:31.614002
DEBUG 2025-05-29 10:50:31,614 views Request headers: {'Content-Length': '356', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:50:31,617 views Request body: {"message":"3","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30","transport_time":"13:05"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:50:31,617 views User input: 3
INFO 2025-05-29 10:50:31,617 views Current session state: collecting_transport_details
INFO 2025-05-29 10:50:31,617 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:50:32,062 dialog_manager Using device: cpu
INFO 2025-05-29 10:50:32,618 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:50:33,874 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:50:34,338 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:50:37,764 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:50:37,764 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:50:37,764 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:50:37,764 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:50:37,771 dialog_manager Processing message: 3
INFO 2025-05-29 10:50:37,771 dialog_manager Processing input: 3
INFO 2025-05-29 10:50:37,773 dialog_manager Using language: nl
INFO 2025-05-29 10:50:37,773 dialog_manager Detecting intent for input: 3
INFO 2025-05-29 10:50:37,784 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:50:37,785 dialog_manager Processing transport details for input: '3'
INFO 2025-05-29 10:50:37,786 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:50:37,786 dialog_manager Passenger keyword match: None
INFO 2025-05-29 10:50:37,787 dialog_manager Looking for standalone passenger numbers
INFO 2025-05-29 10:50:37,787 dialog_manager Word boundary numbers found: ['3']
INFO 2025-05-29 10:50:37,787 dialog_manager Set passenger_count to: 3
INFO 2025-05-29 10:50:37,788 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:50:37,788 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:50:37,789 dialog_manager Missing fields: []
INFO 2025-05-29 10:50:37,801 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 10:50:37,801 dialog_manager Error handling transport details: 'transport_date'
INFO 2025-05-29 10:50:37,807 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 10:50:37,807 views Updated session state: greeting
INFO 2025-05-29 10:50:37,807 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 10:50:37,808 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 10:50:37,809 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:50:38,056 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 10:51:41,304 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:51:41,240 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:51:48,225 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:51:48,761 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:52:19,551 middleware Admin user found: admin
INFO 2025-05-29 10:52:19,551 middleware Admin user found: admin
INFO 2025-05-29 10:52:29,192 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:52:29,238 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:52:33,252 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:52:59,477 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:53:01,223 middleware Admin user found: admin
INFO 2025-05-29 10:53:18,428 middleware Admin user found: admin
INFO 2025-05-29 10:53:43,872 views Database connection successful
INFO 2025-05-29 10:53:43,873 views Received chat request at 2025-05-29 10:53:43.873378
DEBUG 2025-05-29 10:53:43,873 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:53:43,874 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"nl"}}
INFO 2025-05-29 10:53:43,874 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:53:43,875 views Current session state: greeting
INFO 2025-05-29 10:53:43,875 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 10:53:44,384 dialog_manager Using device: cpu
INFO 2025-05-29 10:53:44,794 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:53:46,271 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:53:47,964 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:53:52,788 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:53:52,827 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:53:52,830 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:53:52,842 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:53:52,847 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:53:52,850 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:53:52,851 dialog_manager Using language: nl
INFO 2025-05-29 10:53:52,854 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:53:52,934 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:53:52,938 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:53:52,939 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:53:52,940 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:53:52,941 views Generated response: I'd be happy to help you with airport transfer service! To add this service to your reservation, please provide your booking ID.
INFO 2025-05-29 10:53:52,943 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:53:53,172 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-29 10:53:55,315 views Database connection successful
INFO 2025-05-29 10:53:55,315 views Received chat request at 2025-05-29 10:53:55.315957
DEBUG 2025-05-29 10:53:55,315 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:53:55,315 views Request body: {"message":"BK-64778","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:53:55,315 views User input: BK-64778
INFO 2025-05-29 10:53:55,315 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:53:55,315 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:53:55,907 dialog_manager Using device: cpu
INFO 2025-05-29 10:53:56,446 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:53:57,978 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:53:58,464 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:54:03,268 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:54:03,279 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:54:03,280 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:54:03,283 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:54:03,284 dialog_manager Processing message: BK-64778
INFO 2025-05-29 10:54:03,286 dialog_manager Processing input: BK-64778
INFO 2025-05-29 10:54:03,289 dialog_manager Using language: nl
INFO 2025-05-29 10:54:03,291 dialog_manager Detecting intent for input: BK-64778
INFO 2025-05-29 10:54:03,327 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:54:03,329 dialog_manager Extracted booking ID: BK-64778
INFO 2025-05-29 10:54:03,336 dialog_manager Booking found: True
INFO 2025-05-29 10:54:03,337 dialog_manager Stored booking ID in user_data: BK-64778
INFO 2025-05-29 10:54:03,339 dialog_manager Pending transport request: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:54:03,340 dialog_manager Processing pending transport request
INFO 2025-05-29 10:54:03,342 dialog_manager Processing transport details for input: 'to hotel 30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:54:03,344 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport']}
INFO 2025-05-29 10:54:03,345 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:54:03,347 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:54:03,348 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:54:03,395 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:54:03,776 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 633
INFO 2025-05-29 10:54:15,641 views Database connection successful
INFO 2025-05-29 10:54:15,645 views Received chat request at 2025-05-29 10:54:15.645248
DEBUG 2025-05-29 10:54:15,646 views Request headers: {'Content-Length': '305', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:54:15,647 views Request body: {"message":"13.05","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:54:15,648 views User input: 13.05
INFO 2025-05-29 10:54:15,648 views Current session state: collecting_transport_details
INFO 2025-05-29 10:54:15,649 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:54:16,039 dialog_manager Using device: cpu
INFO 2025-05-29 10:54:16,392 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:54:17,495 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:54:17,909 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:54:21,651 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:54:21,653 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:54:21,653 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:54:21,653 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:54:21,655 dialog_manager Processing message: 13.05
INFO 2025-05-29 10:54:21,655 dialog_manager Processing input: 13.05
INFO 2025-05-29 10:54:21,655 dialog_manager Using language: nl
INFO 2025-05-29 10:54:21,656 dialog_manager Detecting intent for input: 13.05
INFO 2025-05-29 10:54:21,669 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:54:21,670 dialog_manager Processing transport details for input: '13.05'
INFO 2025-05-29 10:54:21,670 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:54:21,673 dialog_manager Passenger keyword match: None
INFO 2025-05-29 10:54:21,673 dialog_manager Looking for standalone passenger numbers
INFO 2025-05-29 10:54:21,673 dialog_manager Word boundary numbers found: []
INFO 2025-05-29 10:54:21,673 dialog_manager Simple digit pattern numbers found: []
INFO 2025-05-29 10:54:21,673 dialog_manager All numbers found: ['13', '05']
INFO 2025-05-29 10:54:21,673 dialog_manager Checking number 05: before='13.', after=''
INFO 2025-05-29 10:54:21,677 dialog_manager No valid passenger numbers found
INFO 2025-05-29 10:54:21,677 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:54:21,677 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_time']
INFO 2025-05-29 10:54:21,677 dialog_manager Missing fields: ['transport_date', 'passenger_count']
INFO 2025-05-29 10:54:21,677 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_time': '13:05'}
INFO 2025-05-29 10:54:21,677 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:54:21,680 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_time': '13:05'}
INFO 2025-05-29 10:54:21,688 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:54:21,918 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 476
INFO 2025-05-29 10:54:27,537 views Database connection successful
INFO 2025-05-29 10:54:27,538 views Received chat request at 2025-05-29 10:54:27.538754
DEBUG 2025-05-29 10:54:27,538 views Request headers: {'Content-Length': '348', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:54:27,538 views Request body: {"message":"30.05.2025 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_time":"13:05"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:54:27,539 views User input: 30.05.2025 3 passengers
INFO 2025-05-29 10:54:27,539 views Current session state: collecting_transport_details
INFO 2025-05-29 10:54:27,539 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_time': '13:05'}
INFO 2025-05-29 10:54:27,915 dialog_manager Using device: cpu
INFO 2025-05-29 10:54:28,299 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:54:29,449 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:54:29,907 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:54:33,156 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:54:33,158 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:54:33,158 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:54:33,163 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:54:33,163 dialog_manager Processing message: 30.05.2025 3 passengers
INFO 2025-05-29 10:54:33,163 dialog_manager Processing input: 30.05.2025 3 passengers
INFO 2025-05-29 10:54:33,163 dialog_manager Using language: nl
INFO 2025-05-29 10:54:33,163 dialog_manager Detecting intent for input: 30.05.2025 3 passengers
INFO 2025-05-29 10:54:33,174 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:54:33,174 dialog_manager Processing transport details for input: '30.05.2025 3 passengers'
INFO 2025-05-29 10:54:33,174 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_time': '13:05'}
INFO 2025-05-29 10:54:33,174 dialog_manager Passenger keyword match: <re.Match object; span=(11, 22), match='3 passenger'>
INFO 2025-05-29 10:54:33,174 dialog_manager Found passenger count with keyword: 3
INFO 2025-05-29 10:54:33,174 dialog_manager Set passenger_count to: 3
INFO 2025-05-29 10:54:33,174 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:54:33,174 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_time', 'transport_date', 'passenger_count']
INFO 2025-05-29 10:54:33,174 dialog_manager Missing fields: []
INFO 2025-05-29 10:54:33,195 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 10:54:33,196 dialog_manager Error handling transport details: 'transport_date'
INFO 2025-05-29 10:54:33,205 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 10:54:33,205 views Updated session state: greeting
INFO 2025-05-29 10:54:33,205 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 10:54:33,205 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 10:54:33,205 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:54:33,416 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 10:55:33,820 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:55:35,382 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:55:41,234 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:55:42,633 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:56:10,793 middleware Admin user found: admin
INFO 2025-05-29 10:56:11,560 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 17727
INFO 2025-05-29 10:56:11,724 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 10:56:11,873 log Not Found: /favicon.ico
INFO 2025-05-29 10:56:11,875 basehttp - Broken pipe from ('127.0.0.1', 53962)
INFO 2025-05-29 10:56:11,891 basehttp - Broken pipe from ('127.0.0.1', 53959)
INFO 2025-05-29 10:56:13,544 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 10:56:41,804 middleware Admin user found: admin
INFO 2025-05-29 10:56:57,799 basehttp "GET /admin/hotel_booking/bookingaddon/7/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 10:56:57,873 basehttp "GET /static/admin/js/change_form.js HTTP/1.1" 200 606
INFO 2025-05-29 10:56:57,873 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 10:56:57,880 basehttp - Broken pipe from ('127.0.0.1', 53982)
INFO 2025-05-29 10:57:18,479 views Database connection successful
INFO 2025-05-29 10:57:18,479 views Received chat request at 2025-05-29 10:57:18.479183
DEBUG 2025-05-29 10:57:18,480 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:57:18,480 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"nl"}}
INFO 2025-05-29 10:57:18,481 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:18,481 views Current session state: greeting
INFO 2025-05-29 10:57:18,481 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 10:57:18,967 dialog_manager Using device: cpu
INFO 2025-05-29 10:57:19,368 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:57:20,971 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:57:22,390 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:57:26,106 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:57:26,166 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:57:26,169 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:57:26,171 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:57:26,178 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:26,180 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:26,180 dialog_manager Using language: nl
INFO 2025-05-29 10:57:26,182 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:26,241 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:57:26,243 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_addon, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:57:26,244 views Updated session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:57:26,244 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:57:26,245 views Generated response: I'd be happy to help you with airport transfer service! To add this service to your reservation, please provide your booking ID.
INFO 2025-05-29 10:57:26,245 views Booking confirmation check - State: collecting_booking_id_for_addon, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:57:26,469 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-29 10:57:28,281 views Database connection successful
INFO 2025-05-29 10:57:28,281 views Received chat request at 2025-05-29 10:57:28.281536
DEBUG 2025-05-29 10:57:28,281 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:57:28,281 views Request body: {"message":"BK-64778","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers"},"state":"collecting_booking_id_for_addon","lang":"nl"}}
INFO 2025-05-29 10:57:28,281 views User input: BK-64778
INFO 2025-05-29 10:57:28,287 views Current session state: collecting_booking_id_for_addon
INFO 2025-05-29 10:57:28,287 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers'}
INFO 2025-05-29 10:57:28,780 dialog_manager Using device: cpu
INFO 2025-05-29 10:57:29,350 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:57:30,926 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:57:31,468 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:57:35,641 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:57:35,673 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:57:35,679 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:57:35,679 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:57:35,679 dialog_manager Processing message: BK-64778
INFO 2025-05-29 10:57:35,681 dialog_manager Processing input: BK-64778
INFO 2025-05-29 10:57:35,681 dialog_manager Using language: nl
INFO 2025-05-29 10:57:35,682 dialog_manager Detecting intent for input: BK-64778
INFO 2025-05-29 10:57:35,721 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:57:35,724 dialog_manager Extracted booking ID: BK-64778
INFO 2025-05-29 10:57:35,728 dialog_manager Booking found: True
INFO 2025-05-29 10:57:35,730 dialog_manager Stored booking ID in user_data: BK-64778
INFO 2025-05-29 10:57:35,730 dialog_manager Pending transport request: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:35,732 dialog_manager Processing pending transport request
INFO 2025-05-29 10:57:35,733 dialog_manager Processing transport details for input: 'to hotel 30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:57:35,734 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport']}
INFO 2025-05-29 10:57:35,734 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:57:35,734 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:57:35,735 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:57:35,752 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:57:36,063 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 633
INFO 2025-05-29 10:57:38,228 views Database connection successful
INFO 2025-05-29 10:57:38,229 views Received chat request at 2025-05-29 10:57:38.229721
DEBUG 2025-05-29 10:57:38,230 views Request headers: {'Content-Length': '338', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:57:38,232 views Request body: {"message":"to hotel 30.05.2025 13:05 3 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:57:38,233 views User input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:38,233 views Current session state: collecting_transport_details
INFO 2025-05-29 10:57:38,234 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:57:38,810 dialog_manager Using device: cpu
INFO 2025-05-29 10:57:39,209 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:57:40,377 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:57:40,790 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:57:44,292 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:57:44,294 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:57:44,294 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:57:44,294 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:57:44,294 dialog_manager Processing message: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:44,294 dialog_manager Processing input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:44,294 dialog_manager Using language: nl
INFO 2025-05-29 10:57:44,294 dialog_manager Detecting intent for input: to hotel 30.05.2025 13:05 3 passengers
INFO 2025-05-29 10:57:44,305 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:57:44,306 dialog_manager Processing transport details for input: 'to hotel 30.05.2025 13:05 3 passengers'
INFO 2025-05-29 10:57:44,306 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel'}
INFO 2025-05-29 10:57:44,307 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:57:44,307 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:57:44,307 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:57:44,307 views Generated response: Please provide a valid time in HH:MM or HH.MM format (e.g., 14:30 or 14.30).
INFO 2025-05-29 10:57:44,308 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:57:44,548 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 427
INFO 2025-05-29 10:57:53,889 views Database connection successful
INFO 2025-05-29 10:57:53,889 views Received chat request at 2025-05-29 10:57:53.889449
DEBUG 2025-05-29 10:57:53,889 views Request headers: {'Content-Length': '335', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:57:53,889 views Request body: {"message":"13:05","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:57:53,895 views User input: 13:05
INFO 2025-05-29 10:57:53,895 views Current session state: collecting_transport_details
INFO 2025-05-29 10:57:53,895 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:57:54,383 dialog_manager Using device: cpu
INFO 2025-05-29 10:57:54,841 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:57:56,009 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:57:56,434 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:57:59,805 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:57:59,808 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:57:59,808 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:57:59,810 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:57:59,810 dialog_manager Processing message: 13:05
INFO 2025-05-29 10:57:59,810 dialog_manager Processing input: 13:05
INFO 2025-05-29 10:57:59,810 dialog_manager Using language: nl
INFO 2025-05-29 10:57:59,810 dialog_manager Detecting intent for input: 13:05
INFO 2025-05-29 10:57:59,816 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:57:59,818 dialog_manager Processing transport details for input: '13:05'
INFO 2025-05-29 10:57:59,818 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30'}
INFO 2025-05-29 10:57:59,818 dialog_manager Passenger keyword match: None
INFO 2025-05-29 10:57:59,818 dialog_manager Looking for standalone passenger numbers
INFO 2025-05-29 10:57:59,819 dialog_manager Word boundary numbers found: []
INFO 2025-05-29 10:57:59,819 dialog_manager Simple digit pattern numbers found: []
INFO 2025-05-29 10:57:59,820 dialog_manager All numbers found: ['13', '05']
INFO 2025-05-29 10:57:59,820 dialog_manager Checking number 05: before='13:', after=''
INFO 2025-05-29 10:57:59,820 dialog_manager No valid passenger numbers found
INFO 2025-05-29 10:57:59,821 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:57:59,821 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_date', 'transport_time']
INFO 2025-05-29 10:57:59,821 dialog_manager Missing fields: ['passenger_count']
INFO 2025-05-29 10:57:59,821 dialog_manager Dialog manager process completed - State: collecting_transport_details, User data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:57:59,822 views Updated session state: collecting_transport_details
INFO 2025-05-29 10:57:59,822 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:57:59,827 views Booking confirmation check - State: collecting_transport_details, Booking ID: BK-64778, Previous ID: BK-64778, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:58:00,100 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 456
INFO 2025-05-29 10:58:14,421 views Database connection successful
INFO 2025-05-29 10:58:14,421 views Received chat request at 2025-05-29 10:58:14.421210
DEBUG 2025-05-29 10:58:14,421 views Request headers: {'Content-Length': '367', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 10:58:14,426 views Request body: {"message":"2 passengers","session":{"user_data":{"is_returning_customer":false,"username":"Golden","pending_transport_request":"to hotel 30.05.2025 13:05 3 passengers","booking_id":"BK-64778","addon_selections":["transport"],"transport_direction":"to_hotel","transport_date":"2025-05-30","transport_time":"13:05"},"state":"collecting_transport_details","lang":"nl"}}
INFO 2025-05-29 10:58:14,426 views User input: 2 passengers
INFO 2025-05-29 10:58:14,426 views Current session state: collecting_transport_details
INFO 2025-05-29 10:58:14,426 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:58:14,910 dialog_manager Using device: cpu
INFO 2025-05-29 10:58:15,304 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 10:58:16,417 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 10:58:16,886 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 10:58:20,062 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 10:58:20,064 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 10:58:20,064 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 10:58:20,064 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 10:58:20,064 dialog_manager Processing message: 2 passengers
INFO 2025-05-29 10:58:20,064 dialog_manager Processing input: 2 passengers
INFO 2025-05-29 10:58:20,064 dialog_manager Using language: nl
INFO 2025-05-29 10:58:20,064 dialog_manager Detecting intent for input: 2 passengers
INFO 2025-05-29 10:58:20,073 dialog_manager Detected intent: unknown
INFO 2025-05-29 10:58:20,074 dialog_manager Processing transport details for input: '2 passengers'
INFO 2025-05-29 10:58:20,074 dialog_manager Current user_data: {'is_returning_customer': False, 'username': 'Golden', 'pending_transport_request': 'to hotel 30.05.2025 13:05 3 passengers', 'booking_id': 'BK-64778', 'addon_selections': ['transport'], 'transport_direction': 'to_hotel', 'transport_date': '2025-05-30', 'transport_time': '13:05'}
INFO 2025-05-29 10:58:20,075 dialog_manager Passenger keyword match: <re.Match object; span=(0, 11), match='2 passenger'>
INFO 2025-05-29 10:58:20,075 dialog_manager Found passenger count with keyword: 2
INFO 2025-05-29 10:58:20,075 dialog_manager Set passenger_count to: 2
INFO 2025-05-29 10:58:20,076 dialog_manager Checking required fields: ['transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:58:20,077 dialog_manager Current user_data keys: ['is_returning_customer', 'username', 'pending_transport_request', 'booking_id', 'addon_selections', 'transport_direction', 'transport_date', 'transport_time', 'passenger_count']
INFO 2025-05-29 10:58:20,077 dialog_manager Missing fields: []
INFO 2025-05-29 10:58:20,086 dialog_manager Addon created successfully: Transport (To Hotel) - RM50
ERROR 2025-05-29 10:58:20,086 dialog_manager Error handling transport details: 'transport_date'
ERROR 2025-05-29 10:58:20,087 dialog_manager Full traceback: Traceback (most recent call last):
  File "C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py", line 1658, in handle_transport_details
    self.state = "greeting"
KeyError: 'transport_date'

INFO 2025-05-29 10:58:20,087 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 10:58:20,088 views Updated session state: greeting
INFO 2025-05-29 10:58:20,088 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 10:58:20,088 views Generated response: Sorry, I encountered an error. Please provide the transfer date, time, and number of passengers.
INFO 2025-05-29 10:58:20,089 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 10:58:20,343 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-05-29 10:59:58,751 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 10:59:58,892 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:00:07,591 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:00:07,595 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:00:36,989 middleware Admin user found: admin
INFO 2025-05-29 11:00:36,989 middleware Admin user found: admin
INFO 2025-05-29 11:00:44,062 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 18305
INFO 2025-05-29 11:00:44,378 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 11:00:44,632 log Not Found: /favicon.ico
INFO 2025-05-29 11:00:44,632 basehttp - Broken pipe from ('127.0.0.1', 54067)
INFO 2025-05-29 11:00:45,863 basehttp "GET /admin/hotel_booking/bookingaddon/8/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 11:00:45,910 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:47,207 basehttp "GET /admin/hotel_booking/bookingaddon/8/delete/ HTTP/1.1" 200 10358
INFO 2025-05-29 11:00:48,008 basehttp "POST /admin/hotel_booking/bookingaddon/8/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:00:48,058 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 17914
INFO 2025-05-29 11:00:48,094 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:48,997 basehttp "GET /admin/hotel_booking/bookingaddon/7/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 11:00:49,058 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:50,057 basehttp "GET /admin/hotel_booking/bookingaddon/7/delete/ HTTP/1.1" 200 10358
INFO 2025-05-29 11:00:50,665 basehttp "POST /admin/hotel_booking/bookingaddon/7/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:00:50,728 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 17336
INFO 2025-05-29 11:00:50,790 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:51,571 basehttp "GET /admin/hotel_booking/bookingaddon/6/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 11:00:51,615 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:52,493 basehttp "GET /admin/hotel_booking/bookingaddon/6/delete/ HTTP/1.1" 200 10358
INFO 2025-05-29 11:00:53,159 basehttp "POST /admin/hotel_booking/bookingaddon/6/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:00:53,222 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 16758
INFO 2025-05-29 11:00:53,253 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:54,075 basehttp "GET /admin/hotel_booking/bookingaddon/5/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 11:00:54,148 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 11:00:54,223 log Not Found: /favicon.ico
INFO 2025-05-29 11:00:54,241 basehttp - Broken pipe from ('127.0.0.1', 54069)
INFO 2025-05-29 11:00:54,987 basehttp "GET /admin/hotel_booking/bookingaddon/5/delete/ HTTP/1.1" 200 10358
INFO 2025-05-29 11:00:55,694 basehttp "POST /admin/hotel_booking/bookingaddon/5/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:00:55,756 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 16180
INFO 2025-05-29 11:00:55,850 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:56,897 basehttp "GET /admin/hotel_booking/bookingaddon/4/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 11:00:56,960 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:57,798 basehttp "GET /admin/hotel_booking/bookingaddon/4/delete/ HTTP/1.1" 200 10358
INFO 2025-05-29 11:00:58,530 basehttp "POST /admin/hotel_booking/bookingaddon/4/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:00:58,622 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 15602
INFO 2025-05-29 11:00:58,691 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:00:59,335 basehttp "GET /admin/hotel_booking/bookingaddon/3/change/ HTTP/1.1" 200 18708
INFO 2025-05-29 11:00:59,382 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:01:00,391 basehttp "GET /admin/hotel_booking/bookingaddon/3/delete/ HTTP/1.1" 200 10358
INFO 2025-05-29 11:01:01,092 basehttp "POST /admin/hotel_booking/bookingaddon/3/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:01:01,126 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 15024
INFO 2025-05-29 11:01:01,192 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:01:02,129 basehttp "GET /admin/hotel_booking/bookingaddon/2/change/ HTTP/1.1" 200 18678
INFO 2025-05-29 11:01:02,171 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:01:03,062 basehttp "GET /admin/hotel_booking/bookingaddon/2/delete/ HTTP/1.1" 200 10364
INFO 2025-05-29 11:01:03,724 basehttp "POST /admin/hotel_booking/bookingaddon/2/delete/ HTTP/1.1" 302 0
INFO 2025-05-29 11:01:03,780 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 14489
INFO 2025-05-29 11:01:03,837 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 11:01:19,570 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:01:19,939 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:01:24,521 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:01:24,521 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:01:54,124 middleware Admin user found: admin
INFO 2025-05-29 11:01:54,135 middleware Admin user found: admin
INFO 2025-05-29 11:02:09,169 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:02:09,306 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:02:13,092 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:02:45,555 middleware Admin user found: admin
INFO 2025-05-29 11:02:45,564 middleware Admin user found: admin
INFO 2025-05-29 11:03:13,124 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:03:13,264 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:03:16,973 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:03:16,980 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:03:44,916 middleware Admin user found: admin
INFO 2025-05-29 11:03:55,098 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:03:55,114 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:03:58,292 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:03:58,294 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:04:24,020 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:04:24,413 middleware Admin user found: admin
INFO 2025-05-29 11:04:43,201 middleware Admin user found: admin
INFO 2025-05-29 11:05:10,943 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24674
INFO 2025-05-29 11:05:11,012 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:05:11,014 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:05:11,060 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:05:14,406 basehttp "GET /hotel_booking/room/1/ HTTP/1.1" 200 11534
INFO 2025-05-29 11:05:15,499 basehttp "GET /hotel_booking/book/1/ HTTP/1.1" 200 15547
INFO 2025-05-29 11:05:32,856 models Booking saved: 5 for Golden
INFO 2025-05-29 11:05:32,858 basehttp "POST /hotel_booking/book/1/ HTTP/1.1" 302 0
INFO 2025-05-29 11:05:32,878 basehttp "GET /hotel_booking/payment_qr/5/ HTTP/1.1" 200 11089
INFO 2025-05-29 11:05:37,951 basehttp "GET /hotel_booking/booking_success/5/ HTTP/1.1" 200 11738
INFO 2025-05-29 11:05:40,916 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12255
INFO 2025-05-29 11:05:40,933 basehttp "GET /media/profile_pictures/Acer_Wallpaper_05_3840x2400.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:05:42,368 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 11:05:46,178 views Database connection successful
INFO 2025-05-29 11:05:46,178 views Received chat request at 2025-05-29 11:05:46.178351
DEBUG 2025-05-29 11:05:46,178 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:05:46,178 views Request body: {"message":"Hello","session":{}}
INFO 2025-05-29 11:05:46,178 views User input: Hello
INFO 2025-05-29 11:05:46,178 views Current session state: None
INFO 2025-05-29 11:05:46,178 views Current user data: None
INFO 2025-05-29 11:05:46,796 dialog_manager Using device: cpu
INFO 2025-05-29 11:05:47,283 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:05:48,629 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:05:49,602 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:05:55,348 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:05:55,405 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:05:55,406 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:05:55,413 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:05:55,416 dialog_manager Processing message: Hello
INFO 2025-05-29 11:05:55,418 dialog_manager Processing input: Hello
INFO 2025-05-29 11:05:59,097 dialog_manager Using language: en
INFO 2025-05-29 11:05:59,100 dialog_manager Detecting intent for input: Hello
INFO 2025-05-29 11:05:59,206 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-29 11:05:59,213 dialog_manager Detected intent: greeting
INFO 2025-05-29 11:06:01,130 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18126
INFO 2025-05-29 11:06:01,221 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
WARNING 2025-05-29 11:06:01,393 log Not Found: /favicon.ico
INFO 2025-05-29 11:06:01,400 basehttp - Broken pipe from ('127.0.0.1', 54266)
INFO 2025-05-29 11:06:03,575 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-05-29 11:06:03,577 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-29 11:06:03,660 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:06:03,662 views Updated session state: greeting
INFO 2025-05-29 11:06:03,664 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:06:03,665 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-29 11:06:03,665 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:06:05,688 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 176
INFO 2025-05-29 11:06:24,853 views Database connection successful
INFO 2025-05-29 11:06:24,854 views Received chat request at 2025-05-29 11:06:24.854577
DEBUG 2025-05-29 11:06:24,855 views Request headers: {'Content-Length': '140', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:06:24,857 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"greeting","lang":"fi"}}
INFO 2025-05-29 11:06:24,858 views User input: i want booking room
INFO 2025-05-29 11:06:24,859 views Current session state: greeting
INFO 2025-05-29 11:06:24,860 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:06:25,389 dialog_manager Using device: cpu
INFO 2025-05-29 11:06:25,828 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:06:27,292 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:06:28,425 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:06:34,981 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:06:35,040 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:06:35,041 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:06:35,043 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:06:35,044 dialog_manager Processing message: i want booking room
INFO 2025-05-29 11:06:35,046 dialog_manager Processing input: i want booking room
INFO 2025-05-29 11:06:35,047 dialog_manager Using language: fi
INFO 2025-05-29 11:06:35,048 dialog_manager Detecting intent for input: i want booking room
INFO 2025-05-29 11:06:35,099 dialog_manager Booking intent detected
INFO 2025-05-29 11:06:35,099 dialog_manager Detected intent: booking
INFO 2025-05-29 11:06:35,100 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 11:06:35,108 dialog_manager Extracting dates from: i want booking room
WARNING 2025-05-29 11:06:35,108 dialog_manager No dates found
INFO 2025-05-29 11:06:35,111 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:06:35,112 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:06:35,112 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:06:35,133 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:06:35,354 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 11:06:46,996 views Database connection successful
INFO 2025-05-29 11:06:46,998 views Received chat request at 2025-05-29 11:06:46.998002
DEBUG 2025-05-29 11:06:46,999 views Request headers: {'Content-Length': '139', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:06:46,999 views Request body: {"message":"LBS","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 11:06:46,999 views User input: LBS
INFO 2025-05-29 11:06:47,000 views Current session state: collecting_booking_info
INFO 2025-05-29 11:06:47,000 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:06:47,423 dialog_manager Using device: cpu
INFO 2025-05-29 11:06:47,823 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:06:48,998 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:06:49,631 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:06:54,594 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:06:54,599 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:06:54,600 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:06:54,601 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:06:54,602 dialog_manager Processing message: LBS
INFO 2025-05-29 11:06:54,603 dialog_manager Processing input: LBS
INFO 2025-05-29 11:06:54,603 dialog_manager Using language: fi
INFO 2025-05-29 11:06:54,603 dialog_manager Detecting intent for input: LBS
INFO 2025-05-29 11:06:54,616 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:06:54,622 dialog_manager Extracted name: LBS
INFO 2025-05-29 11:06:54,623 dialog_manager Extracting dates from: LBS
WARNING 2025-05-29 11:06:54,624 dialog_manager No dates found
INFO 2025-05-29 11:06:54,624 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS'}
INFO 2025-05-29 11:06:54,625 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS'}
INFO 2025-05-29 11:06:54,625 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:06:54,626 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS'}
INFO 2025-05-29 11:06:54,633 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:06:54,842 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 261
INFO 2025-05-29 11:06:59,733 views Database connection successful
INFO 2025-05-29 11:06:59,734 views Received chat request at 2025-05-29 11:06:59.734546
DEBUG 2025-05-29 11:06:59,734 views Request headers: {'Content-Length': '166', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:06:59,735 views Request body: {"message":"01234567890","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 11:06:59,735 views User input: 01234567890
INFO 2025-05-29 11:06:59,737 views Current session state: collecting_booking_info
INFO 2025-05-29 11:06:59,737 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS'}
INFO 2025-05-29 11:07:00,180 dialog_manager Using device: cpu
INFO 2025-05-29 11:07:00,614 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:07:01,820 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:07:02,345 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:07:05,979 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:07:05,983 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:07:05,983 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:07:05,985 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:07:05,986 dialog_manager Processing message: 01234567890
INFO 2025-05-29 11:07:05,987 dialog_manager Processing input: 01234567890
INFO 2025-05-29 11:07:05,987 dialog_manager Using language: fi
INFO 2025-05-29 11:07:05,987 dialog_manager Detecting intent for input: 01234567890
INFO 2025-05-29 11:07:05,996 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:07:05,996 dialog_manager Extracted standalone phone: 01234567890
INFO 2025-05-29 11:07:05,996 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890'}
INFO 2025-05-29 11:07:05,997 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890'}
INFO 2025-05-29 11:07:05,997 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:07:05,997 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890'}
INFO 2025-05-29 11:07:06,001 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:07:06,231 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 282
INFO 2025-05-29 11:07:11,283 views Database connection successful
INFO 2025-05-29 11:07:11,285 views Received chat request at 2025-05-29 11:07:11.285357
DEBUG 2025-05-29 11:07:11,288 views Request headers: {'Content-Length': '191', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:07:11,289 views Request body: {"message":"ling@gmail.com","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 11:07:11,290 views User input: ling@gmail.com
INFO 2025-05-29 11:07:11,291 views Current session state: collecting_booking_info
INFO 2025-05-29 11:07:11,292 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890'}
INFO 2025-05-29 11:07:11,714 dialog_manager Using device: cpu
INFO 2025-05-29 11:07:13,777 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:07:15,131 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:07:15,852 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:07:20,161 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:07:20,165 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:07:20,166 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:07:20,167 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:07:20,171 dialog_manager Processing message: ling@gmail.com
INFO 2025-05-29 11:07:20,171 dialog_manager Processing input: ling@gmail.com
INFO 2025-05-29 11:07:20,173 dialog_manager Using language: fi
INFO 2025-05-29 11:07:20,173 dialog_manager Detecting intent for input: ling@gmail.com
INFO 2025-05-29 11:07:20,184 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:07:20,185 dialog_manager Extracted standalone email: ling@gmail.com
INFO 2025-05-29 11:07:20,186 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com'}
INFO 2025-05-29 11:07:20,187 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com'}
INFO 2025-05-29 11:07:20,187 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:07:20,187 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com'}
INFO 2025-05-29 11:07:20,198 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:07:20,437 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 729
INFO 2025-05-29 11:07:27,859 views Database connection successful
INFO 2025-05-29 11:07:27,860 views Received chat request at 2025-05-29 11:07:27.860831
DEBUG 2025-05-29 11:07:27,860 views Request headers: {'Content-Length': '207', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:07:27,861 views Request body: {"message":"suite","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 11:07:27,861 views User input: suite
INFO 2025-05-29 11:07:27,862 views Current session state: collecting_booking_info
INFO 2025-05-29 11:07:27,862 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com'}
INFO 2025-05-29 11:07:28,302 dialog_manager Using device: cpu
INFO 2025-05-29 11:07:28,678 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:07:29,783 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:07:30,512 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:07:34,456 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:07:34,461 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:07:34,462 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:07:34,463 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:07:34,466 dialog_manager Processing message: suite
INFO 2025-05-29 11:07:34,468 dialog_manager Processing input: suite
INFO 2025-05-29 11:07:34,468 dialog_manager Using language: fi
INFO 2025-05-29 11:07:34,469 dialog_manager Detecting intent for input: suite
INFO 2025-05-29 11:07:34,477 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:07:34,478 dialog_manager Extracting dates from: suite
WARNING 2025-05-29 11:07:34,480 dialog_manager No dates found
INFO 2025-05-29 11:07:34,480 dialog_manager Extracted room type: Suite
INFO 2025-05-29 11:07:34,481 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:07:34,482 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:07:34,483 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:07:34,483 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:07:34,500 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:07:34,719 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 378
INFO 2025-05-29 11:07:40,340 views Database connection successful
INFO 2025-05-29 11:07:40,341 views Received chat request at 2025-05-29 11:07:40.341627
DEBUG 2025-05-29 11:07:40,342 views Request headers: {'Content-Length': '233', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:07:40,344 views Request body: {"message":"next monday","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com","room_type":"Suite"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-29 11:07:40,344 views User input: next monday
INFO 2025-05-29 11:07:40,345 views Current session state: collecting_booking_info
INFO 2025-05-29 11:07:40,345 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:07:40,747 dialog_manager Using device: cpu
INFO 2025-05-29 11:07:41,138 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:07:42,201 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:07:42,683 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:07:47,135 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:07:47,137 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:07:47,137 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:07:47,141 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:07:47,146 dialog_manager Processing message: next monday
INFO 2025-05-29 11:07:47,146 dialog_manager Processing input: next monday
INFO 2025-05-29 11:07:47,148 dialog_manager Using language: fi
INFO 2025-05-29 11:07:47,148 dialog_manager Detecting intent for input: next monday
INFO 2025-05-29 11:07:47,156 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:07:47,157 dialog_manager Extracting dates from: next monday
INFO 2025-05-29 11:07:47,157 dialog_manager Extracted 'next monday' date: 2025-06-02 11:07:47.157965
INFO 2025-05-29 11:07:47,158 dialog_manager Single date result: {'check_in': '2025-06-02', 'check_out': '2025-06-03'}
INFO 2025-05-29 11:07:47,158 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03'}
INFO 2025-05-29 11:07:47,169 models Booking saved: BK-12108 for LBS
INFO 2025-05-29 11:07:47,169 dialog_manager Booking created successfully: ID=6, Booking_ID=BK-12108
INFO 2025-05-29 11:07:47,170 dialog_manager Booking record created successfully: BK-12108
INFO 2025-05-29 11:07:47,170 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108'}
INFO 2025-05-29 11:07:47,170 views Updated session state: offering_addons
INFO 2025-05-29 11:07:47,170 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108'}
INFO 2025-05-29 11:07:47,170 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-29 11:07:47,171 views Booking confirmation check - State: offering_addons, Booking ID: BK-12108, Previous ID: BK-12108, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:07:47,428 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1216
INFO 2025-05-29 11:08:04,257 views Database connection successful
INFO 2025-05-29 11:08:04,258 views Received chat request at 2025-05-29 11:08:04.258840
DEBUG 2025-05-29 11:08:04,258 views Request headers: {'Content-Length': '306', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:08:04,258 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-12108"},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-29 11:08:04,258 views User input: breakfast
INFO 2025-05-29 11:08:04,258 views Current session state: offering_addons
INFO 2025-05-29 11:08:04,258 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108'}
INFO 2025-05-29 11:08:04,651 dialog_manager Using device: cpu
INFO 2025-05-29 11:08:05,045 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:08:06,195 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:08:06,873 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:08:11,356 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:08:11,358 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:08:11,358 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:08:11,358 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:08:11,358 dialog_manager Processing message: breakfast
INFO 2025-05-29 11:08:11,362 dialog_manager Processing input: breakfast
INFO 2025-05-29 11:08:11,362 dialog_manager Using language: fi
INFO 2025-05-29 11:08:11,364 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-29 11:08:11,369 dialog_manager Detected intent: food
INFO 2025-05-29 11:08:11,369 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108'}
INFO 2025-05-29 11:08:11,370 views Updated session state: offering_addons
INFO 2025-05-29 11:08:11,370 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108'}
INFO 2025-05-29 11:08:11,371 views Generated response: We offer daily breakfast service from 6am to 11am in the restaurant on the first floor.
INFO 2025-05-29 11:08:11,371 views Booking confirmation check - State: offering_addons, Booking ID: BK-12108, Previous ID: BK-12108, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:08:11,549 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 409
INFO 2025-05-29 11:08:25,979 views Database connection successful
INFO 2025-05-29 11:08:25,981 views Received chat request at 2025-05-29 11:08:25.981066
DEBUG 2025-05-29 11:08:25,982 views Request headers: {'Content-Length': '305', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:08:25,984 views Request body: {"message":"6 people","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-12108"},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-29 11:08:25,984 views User input: 6 people
INFO 2025-05-29 11:08:25,985 views Current session state: offering_addons
INFO 2025-05-29 11:08:25,987 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108'}
INFO 2025-05-29 11:08:26,419 dialog_manager Using device: cpu
INFO 2025-05-29 11:08:26,868 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:08:28,121 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:08:28,769 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:08:32,845 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:08:32,850 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:08:32,855 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:08:32,858 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:08:32,863 dialog_manager Processing message: 6 people
INFO 2025-05-29 11:08:32,863 dialog_manager Processing input: 6 people
INFO 2025-05-29 11:08:32,865 dialog_manager Using language: fi
INFO 2025-05-29 11:08:32,865 dialog_manager Detecting intent for input: 6 people
INFO 2025-05-29 11:08:32,882 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:08:32,883 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:08:32,883 views Updated session state: offering_addons
INFO 2025-05-29 11:08:32,883 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:08:32,893 views Booking confirmation check - State: offering_addons, Booking ID: BK-12108, Previous ID: BK-12108, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:08:33,377 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 484
INFO 2025-05-29 11:08:54,385 views Database connection successful
INFO 2025-05-29 11:08:54,387 views Received chat request at 2025-05-29 11:08:54.387284
DEBUG 2025-05-29 11:08:54,389 views Request headers: {'Content-Length': '322', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:08:54,390 views Request body: {"message":"yes","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-12108","addon_selections":[]},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-29 11:08:54,390 views User input: yes
INFO 2025-05-29 11:08:54,391 views Current session state: offering_addons
INFO 2025-05-29 11:08:54,391 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:08:54,799 dialog_manager Using device: cpu
INFO 2025-05-29 11:08:55,225 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:08:56,365 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:08:57,525 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:09:02,873 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:09:02,878 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:09:02,878 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:09:02,879 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:09:02,883 dialog_manager Processing message: yes
INFO 2025-05-29 11:09:02,885 dialog_manager Processing input: yes
INFO 2025-05-29 11:09:02,887 dialog_manager Using language: fi
INFO 2025-05-29 11:09:02,888 dialog_manager Detecting intent for input: yes
INFO 2025-05-29 11:09:02,895 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:09:02,895 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:09:02,895 views Updated session state: offering_addons
INFO 2025-05-29 11:09:02,896 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:09:02,903 views Booking confirmation check - State: offering_addons, Booking ID: BK-12108, Previous ID: BK-12108, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:09:03,149 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 484
INFO 2025-05-29 11:11:53,568 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:11:54,431 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:12:08,767 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:12:10,087 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:12:46,085 middleware Admin user found: admin
INFO 2025-05-29 11:13:14,800 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:13:15,752 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:13:22,272 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:13:22,286 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:13:56,177 middleware Admin user found: admin
INFO 2025-05-29 11:13:56,184 middleware Admin user found: admin
INFO 2025-05-29 11:14:06,669 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:14:07,226 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:14:11,365 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:14:11,376 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:14:41,181 middleware Admin user found: admin
INFO 2025-05-29 11:14:41,187 middleware Admin user found: admin
INFO 2025-05-29 11:14:52,050 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:14:53,682 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:14:57,657 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:14:57,664 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:15:48,039 middleware Admin user found: admin
INFO 2025-05-29 11:15:48,039 middleware Admin user found: admin
INFO 2025-05-29 11:19:22,996 views Database connection successful
INFO 2025-05-29 11:19:23,000 views Received chat request at 2025-05-29 11:19:23.000082
DEBUG 2025-05-29 11:19:23,006 views Request headers: {'Content-Length': '335', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:19:23,009 views Request body: {"message":"add on breakfast","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-12108","addon_selections":[]},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-29 11:19:23,010 views User input: add on breakfast
INFO 2025-05-29 11:19:23,010 views Current session state: offering_addons
INFO 2025-05-29 11:19:23,010 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:19:24,078 dialog_manager Using device: cpu
INFO 2025-05-29 11:19:24,624 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:19:26,844 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:19:28,821 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:19:33,905 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:19:33,949 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:19:33,950 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:19:33,955 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:19:33,979 dialog_manager Processing message: add on breakfast
INFO 2025-05-29 11:19:33,980 dialog_manager Processing input: add on breakfast
INFO 2025-05-29 11:19:33,981 dialog_manager Using language: fi
INFO 2025-05-29 11:19:33,982 dialog_manager Detecting intent for input: add on breakfast
INFO 2025-05-29 11:19:34,038 dialog_manager Detected intent: food
INFO 2025-05-29 11:19:34,039 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:19:34,040 views Updated session state: offering_addons
INFO 2025-05-29 11:19:34,041 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:19:34,043 views Generated response: We offer daily breakfast service from 6am to 11am in the restaurant on the first floor.
INFO 2025-05-29 11:19:34,044 views Booking confirmation check - State: offering_addons, Booking ID: BK-12108, Previous ID: BK-12108, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:19:34,373 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 433
INFO 2025-05-29 11:19:41,081 views Database connection successful
INFO 2025-05-29 11:19:41,082 views Received chat request at 2025-05-29 11:19:41.082492
DEBUG 2025-05-29 11:19:41,083 views Request headers: {'Content-Length': '328', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:19:41,084 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"LBS","phone":"01234567890","email":"ling@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-12108","addon_selections":[]},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-29 11:19:41,084 views User input: breakfast
INFO 2025-05-29 11:19:41,086 views Current session state: offering_addons
INFO 2025-05-29 11:19:41,086 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:19:41,833 dialog_manager Using device: cpu
INFO 2025-05-29 11:19:42,556 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:19:44,351 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:19:44,918 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:19:48,720 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:19:48,724 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:19:48,726 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:19:48,726 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:19:48,728 dialog_manager Processing message: breakfast
INFO 2025-05-29 11:19:48,728 dialog_manager Processing input: breakfast
INFO 2025-05-29 11:19:48,728 dialog_manager Using language: fi
INFO 2025-05-29 11:19:48,730 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-29 11:19:48,740 dialog_manager Detected intent: food
INFO 2025-05-29 11:19:48,740 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:19:48,742 views Updated session state: offering_addons
INFO 2025-05-29 11:19:48,742 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'LBS', 'phone': '01234567890', 'email': 'ling@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-12108', 'addon_selections': []}
INFO 2025-05-29 11:19:48,743 views Generated response: We offer daily breakfast service from 6am to 11am in the restaurant on the first floor.
INFO 2025-05-29 11:19:48,743 views Booking confirmation check - State: offering_addons, Booking ID: BK-12108, Previous ID: BK-12108, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:19:49,069 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 433
INFO 2025-05-29 11:19:54,120 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24674
INFO 2025-05-29 11:19:54,173 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:19:54,174 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:19:54,205 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
INFO 2025-05-29 11:19:55,882 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 15673
INFO 2025-05-29 11:19:59,430 views Database connection successful
INFO 2025-05-29 11:19:59,430 views Received chat request at 2025-05-29 11:19:59.430321
DEBUG 2025-05-29 11:19:59,434 views Request headers: {'Content-Length': '39', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:19:59,434 views Request body: {"message":"booking room","session":{}}
INFO 2025-05-29 11:19:59,436 views User input: booking room
INFO 2025-05-29 11:19:59,436 views Current session state: None
INFO 2025-05-29 11:19:59,436 views Current user data: None
INFO 2025-05-29 11:20:00,002 dialog_manager Using device: cpu
INFO 2025-05-29 11:20:00,572 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:20:02,036 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:20:02,718 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:20:09,437 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:20:09,439 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:20:09,440 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:20:09,441 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:20:09,441 dialog_manager Processing message: booking room
INFO 2025-05-29 11:20:09,441 dialog_manager Processing input: booking room
INFO 2025-05-29 11:20:09,791 dialog_manager Using language: en
INFO 2025-05-29 11:20:09,792 dialog_manager Detecting intent for input: booking room
INFO 2025-05-29 11:20:09,799 dialog_manager Booking intent detected
INFO 2025-05-29 11:20:09,799 dialog_manager Detected intent: booking
INFO 2025-05-29 11:20:09,800 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 11:20:09,804 dialog_manager Extracting dates from: booking room
WARNING 2025-05-29 11:20:09,804 dialog_manager No dates found
INFO 2025-05-29 11:20:09,809 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:20:09,809 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:20:09,809 views Updated user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:20:09,823 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:20:10,094 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 11:20:15,976 views Database connection successful
INFO 2025-05-29 11:20:15,977 views Received chat request at 2025-05-29 11:20:15.977901
DEBUG 2025-05-29 11:20:15,978 views Request headers: {'Content-Length': '142', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:20:15,980 views Request body: {"message":"nelson","session":{"user_data":{"username":"Golden","is_returning_customer":false},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:20:15,980 views User input: nelson
INFO 2025-05-29 11:20:15,981 views Current session state: collecting_booking_info
INFO 2025-05-29 11:20:15,981 views Current user data: {'username': 'Golden', 'is_returning_customer': False}
INFO 2025-05-29 11:20:16,470 dialog_manager Using device: cpu
INFO 2025-05-29 11:20:16,883 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:20:18,150 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:20:18,557 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:20:22,868 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:20:22,876 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:20:22,876 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:20:22,876 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:20:22,876 dialog_manager Processing message: nelson
INFO 2025-05-29 11:20:22,876 dialog_manager Processing input: nelson
INFO 2025-05-29 11:20:22,876 dialog_manager Using language: af
INFO 2025-05-29 11:20:22,876 dialog_manager Detecting intent for input: nelson
INFO 2025-05-29 11:20:22,891 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:20:22,894 dialog_manager Extracted name: nelson
INFO 2025-05-29 11:20:22,895 dialog_manager Extracting dates from: nelson
WARNING 2025-05-29 11:20:22,895 dialog_manager No dates found
INFO 2025-05-29 11:20:22,896 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson'}
INFO 2025-05-29 11:20:22,897 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson'}
INFO 2025-05-29 11:20:22,897 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:20:22,898 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson'}
INFO 2025-05-29 11:20:22,911 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:20:23,212 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 267
INFO 2025-05-29 11:20:28,049 views Database connection successful
INFO 2025-05-29 11:20:28,050 views Received chat request at 2025-05-29 11:20:28.050882
DEBUG 2025-05-29 11:20:28,050 views Request headers: {'Content-Length': '169', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:20:28,050 views Request body: {"message":"01158763903","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:20:28,052 views User input: 01158763903
INFO 2025-05-29 11:20:28,052 views Current session state: collecting_booking_info
INFO 2025-05-29 11:20:28,052 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson'}
INFO 2025-05-29 11:20:28,561 dialog_manager Using device: cpu
INFO 2025-05-29 11:20:29,011 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:20:30,170 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:20:30,706 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:20:34,473 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:20:34,478 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:20:34,478 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:20:34,479 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:20:34,479 dialog_manager Processing message: 01158763903
INFO 2025-05-29 11:20:34,479 dialog_manager Processing input: 01158763903
INFO 2025-05-29 11:20:34,479 dialog_manager Using language: af
INFO 2025-05-29 11:20:34,479 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 11:20:34,487 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:20:34,487 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 11:20:34,488 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903'}
INFO 2025-05-29 11:20:34,488 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903'}
INFO 2025-05-29 11:20:34,489 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:20:34,489 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903'}
INFO 2025-05-29 11:20:34,491 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:20:34,698 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 288
INFO 2025-05-29 11:20:40,830 views Database connection successful
INFO 2025-05-29 11:20:40,830 views Received chat request at 2025-05-29 11:20:40.830619
DEBUG 2025-05-29 11:20:40,836 views Request headers: {'Content-Length': '196', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:20:40,837 views Request body: {"message":"nelson@gmail.com","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:20:40,837 views User input: nelson@gmail.com
INFO 2025-05-29 11:20:40,839 views Current session state: collecting_booking_info
INFO 2025-05-29 11:20:40,841 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903'}
INFO 2025-05-29 11:20:41,410 dialog_manager Using device: cpu
INFO 2025-05-29 11:20:42,417 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:20:43,691 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:20:44,220 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:20:48,222 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:20:48,226 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:20:48,226 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:20:48,229 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:20:48,232 dialog_manager Processing message: nelson@gmail.com
INFO 2025-05-29 11:20:48,232 dialog_manager Processing input: nelson@gmail.com
INFO 2025-05-29 11:20:48,233 dialog_manager Using language: af
INFO 2025-05-29 11:20:48,233 dialog_manager Detecting intent for input: nelson@gmail.com
INFO 2025-05-29 11:20:48,239 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:20:48,240 dialog_manager Extracted standalone email: nelson@gmail.com
INFO 2025-05-29 11:20:48,240 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com'}
INFO 2025-05-29 11:20:48,241 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com'}
INFO 2025-05-29 11:20:48,241 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:20:48,242 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com'}
INFO 2025-05-29 11:20:48,248 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:20:48,511 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 737
INFO 2025-05-29 11:20:55,308 views Database connection successful
INFO 2025-05-29 11:20:55,310 views Received chat request at 2025-05-29 11:20:55.310834
DEBUG 2025-05-29 11:20:55,311 views Request headers: {'Content-Length': '216', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:20:55,312 views Request body: {"message":"executive","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:20:55,312 views User input: executive
INFO 2025-05-29 11:20:55,313 views Current session state: collecting_booking_info
INFO 2025-05-29 11:20:55,314 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com'}
INFO 2025-05-29 11:20:55,796 dialog_manager Using device: cpu
INFO 2025-05-29 11:20:56,243 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:20:57,585 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:20:58,144 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:21:03,201 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:21:03,208 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:21:03,208 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:21:03,208 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:21:03,213 dialog_manager Processing message: executive
INFO 2025-05-29 11:21:03,214 dialog_manager Processing input: executive
INFO 2025-05-29 11:21:03,214 dialog_manager Using language: af
INFO 2025-05-29 11:21:03,214 dialog_manager Detecting intent for input: executive
INFO 2025-05-29 11:21:03,226 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:21:03,227 dialog_manager Extracting dates from: executive
WARNING 2025-05-29 11:21:03,228 dialog_manager No dates found
INFO 2025-05-29 11:21:03,228 dialog_manager Extracted room type: Suite
INFO 2025-05-29 11:21:03,229 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:21:03,229 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:21:03,230 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:21:03,230 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:21:03,235 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:21:03,526 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 386
INFO 2025-05-29 11:21:08,429 views Database connection successful
INFO 2025-05-29 11:21:08,429 views Received chat request at 2025-05-29 11:21:08.429941
DEBUG 2025-05-29 11:21:08,431 views Request headers: {'Content-Length': '238', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:21:08,431 views Request body: {"message":"next monday","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com","room_type":"Suite"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:21:08,431 views User input: next monday
INFO 2025-05-29 11:21:08,432 views Current session state: collecting_booking_info
INFO 2025-05-29 11:21:08,432 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-29 11:21:08,966 dialog_manager Using device: cpu
INFO 2025-05-29 11:21:09,475 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:21:10,726 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:21:11,337 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:21:15,064 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:21:15,067 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:21:15,067 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:21:15,067 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:21:15,069 dialog_manager Processing message: next monday
INFO 2025-05-29 11:21:15,069 dialog_manager Processing input: next monday
INFO 2025-05-29 11:21:15,069 dialog_manager Using language: af
INFO 2025-05-29 11:21:15,070 dialog_manager Detecting intent for input: next monday
INFO 2025-05-29 11:21:15,077 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:21:15,077 dialog_manager Extracting dates from: next monday
INFO 2025-05-29 11:21:15,077 dialog_manager Extracted 'next monday' date: 2025-06-02 11:21:15.077865
INFO 2025-05-29 11:21:15,077 dialog_manager Single date result: {'check_in': '2025-06-02', 'check_out': '2025-06-03'}
INFO 2025-05-29 11:21:15,077 dialog_manager Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03'}
INFO 2025-05-29 11:21:15,086 models Booking saved: BK-57426 for nelson
INFO 2025-05-29 11:21:15,088 dialog_manager Booking created successfully: ID=7, Booking_ID=BK-57426
INFO 2025-05-29 11:21:15,090 dialog_manager Booking record created successfully: BK-57426
INFO 2025-05-29 11:21:15,091 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:21:15,092 views Updated session state: offering_addons
INFO 2025-05-29 11:21:15,092 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:21:15,093 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-29 11:21:15,093 views Booking confirmation check - State: offering_addons, Booking ID: BK-57426, Previous ID: BK-57426, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:21:15,374 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1226
INFO 2025-05-29 11:21:26,400 views Database connection successful
INFO 2025-05-29 11:21:26,401 views Received chat request at 2025-05-29 11:21:26.401941
DEBUG 2025-05-29 11:21:26,402 views Request headers: {'Content-Length': '311', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:21:26,405 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-57426"},"state":"offering_addons","lang":"af"}}
INFO 2025-05-29 11:21:26,406 views User input: breakfast
INFO 2025-05-29 11:21:26,408 views Current session state: offering_addons
INFO 2025-05-29 11:21:26,409 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:21:26,881 dialog_manager Using device: cpu
INFO 2025-05-29 11:21:27,291 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:21:28,499 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:21:29,045 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:21:33,664 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:21:33,667 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:21:33,668 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:21:33,668 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:21:33,670 dialog_manager Processing message: breakfast
INFO 2025-05-29 11:21:33,671 dialog_manager Processing input: breakfast
INFO 2025-05-29 11:21:33,671 dialog_manager Using language: af
INFO 2025-05-29 11:21:33,671 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-29 11:21:33,677 dialog_manager Detected intent: food
INFO 2025-05-29 11:21:33,678 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:21:33,678 views Updated session state: offering_addons
INFO 2025-05-29 11:21:33,678 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:21:33,679 views Generated response: We offer daily breakfast service from 6am to 11am in the restaurant on the first floor.
INFO 2025-05-29 11:21:33,679 views Booking confirmation check - State: offering_addons, Booking ID: BK-57426, Previous ID: BK-57426, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:21:33,956 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 414
INFO 2025-05-29 11:22:39,002 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:22:39,734 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:22:49,280 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:22:50,286 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:23:20,467 middleware Admin user found: admin
INFO 2025-05-29 11:23:20,477 middleware Admin user found: admin
INFO 2025-05-29 11:24:51,745 views Database connection successful
INFO 2025-05-29 11:24:51,752 views Received chat request at 2025-05-29 11:24:51.752625
DEBUG 2025-05-29 11:24:51,757 views Request headers: {'Content-Length': '311', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:24:51,757 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-57426"},"state":"offering_addons","lang":"af"}}
INFO 2025-05-29 11:24:51,757 views User input: breakfast
INFO 2025-05-29 11:24:51,757 views Current session state: offering_addons
INFO 2025-05-29 11:24:51,757 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:24:52,675 dialog_manager Using device: cpu
INFO 2025-05-29 11:24:53,278 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:24:55,012 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:24:56,320 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:25:00,965 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:25:00,992 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:25:00,992 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:25:00,998 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:25:01,005 dialog_manager Processing message: breakfast
INFO 2025-05-29 11:25:01,007 dialog_manager Processing input: breakfast
INFO 2025-05-29 11:25:01,007 dialog_manager Using language: af
INFO 2025-05-29 11:25:01,008 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-29 11:25:01,041 dialog_manager Detected intent: food
INFO 2025-05-29 11:25:01,042 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:25:01,044 views Updated session state: offering_addons
INFO 2025-05-29 11:25:01,044 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:25:01,062 views Booking confirmation check - State: offering_addons, Booking ID: BK-57426, Previous ID: BK-57426, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:25:01,305 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 639
INFO 2025-05-29 11:26:31,337 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:26:33,094 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:26:41,545 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:26:41,917 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:27:10,185 middleware Admin user found: admin
INFO 2025-05-29 11:27:10,195 middleware Admin user found: admin
INFO 2025-05-29 11:27:43,247 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:27:43,622 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:27:50,281 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:27:50,285 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:28:17,846 middleware Admin user found: admin
INFO 2025-05-29 11:28:17,847 middleware Admin user found: admin
INFO 2025-05-29 11:28:57,016 views Database connection successful
INFO 2025-05-29 11:28:57,017 views Received chat request at 2025-05-29 11:28:57.016656
DEBUG 2025-05-29 11:28:57,017 views Request headers: {'Content-Length': '311', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:28:57,019 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-57426"},"state":"offering_addons","lang":"af"}}
INFO 2025-05-29 11:28:57,019 views User input: breakfast
INFO 2025-05-29 11:28:57,020 views Current session state: offering_addons
INFO 2025-05-29 11:28:57,020 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426'}
INFO 2025-05-29 11:28:57,565 dialog_manager Using device: cpu
INFO 2025-05-29 11:28:57,998 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:28:59,785 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:29:01,687 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:29:06,537 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:29:06,555 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:29:06,556 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:29:06,560 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:29:06,566 dialog_manager Processing message: breakfast
INFO 2025-05-29 11:29:06,566 dialog_manager Processing input: breakfast
INFO 2025-05-29 11:29:06,567 dialog_manager Using language: af
INFO 2025-05-29 11:29:06,567 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-29 11:29:06,607 dialog_manager Detected intent: food
INFO 2025-05-29 11:29:06,608 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426', 'addon_selections': ['breakfast']}
INFO 2025-05-29 11:29:06,608 views Updated session state: collecting_breakfast_count
INFO 2025-05-29 11:29:06,608 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426', 'addon_selections': ['breakfast']}
INFO 2025-05-29 11:29:06,609 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-05-29 11:29:06,609 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-57426, Previous ID: BK-57426, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:29:06,872 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 456
INFO 2025-05-29 11:29:09,998 views Database connection successful
INFO 2025-05-29 11:29:09,998 views Received chat request at 2025-05-29 11:29:09.998443
DEBUG 2025-05-29 11:29:09,998 views Request headers: {'Content-Length': '347', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:29:10,004 views Request body: {"message":"3","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-57426","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"af"}}
INFO 2025-05-29 11:29:10,005 views User input: 3
INFO 2025-05-29 11:29:10,006 views Current session state: collecting_breakfast_count
INFO 2025-05-29 11:29:10,006 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426', 'addon_selections': ['breakfast']}
INFO 2025-05-29 11:29:10,406 dialog_manager Using device: cpu
INFO 2025-05-29 11:29:10,825 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:29:12,148 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:29:12,531 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:29:16,015 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:29:16,019 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:29:16,021 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:29:16,021 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:29:16,025 dialog_manager Processing message: 3
INFO 2025-05-29 11:29:16,026 dialog_manager Processing input: 3
INFO 2025-05-29 11:29:16,027 dialog_manager Using language: af
INFO 2025-05-29 11:29:16,029 dialog_manager Detecting intent for input: 3
INFO 2025-05-29 11:29:16,041 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:29:16,043 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426', 'addon_selections': ['breakfast'], 'breakfast_count': 3}
INFO 2025-05-29 11:29:16,043 views Updated session state: confirming_breakfast
INFO 2025-05-29 11:29:16,044 views Updated user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426', 'addon_selections': ['breakfast'], 'breakfast_count': 3}
INFO 2025-05-29 11:29:16,045 views Generated response: OK, add breakfast for 3 guest(s), a total of RM60.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-05-29 11:29:16,045 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-57426, Previous ID: BK-57426, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:29:16,264 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 487
INFO 2025-05-29 11:29:21,737 views Database connection successful
INFO 2025-05-29 11:29:21,737 views Received chat request at 2025-05-29 11:29:21.737927
DEBUG 2025-05-29 11:29:21,737 views Request headers: {'Content-Length': '363', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:29:21,737 views Request body: {"message":"yes","session":{"user_data":{"username":"Golden","is_returning_customer":false,"guest_name":"nelson","phone":"01158763903","email":"nelson@gmail.com","room_type":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-57426","addon_selections":["breakfast"],"breakfast_count":3},"state":"confirming_breakfast","lang":"af"}}
INFO 2025-05-29 11:29:21,737 views User input: yes
INFO 2025-05-29 11:29:21,737 views Current session state: confirming_breakfast
INFO 2025-05-29 11:29:21,737 views Current user data: {'username': 'Golden', 'is_returning_customer': False, 'guest_name': 'nelson', 'phone': '01158763903', 'email': 'nelson@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-57426', 'addon_selections': ['breakfast'], 'breakfast_count': 3}
INFO 2025-05-29 11:29:22,216 dialog_manager Using device: cpu
INFO 2025-05-29 11:29:23,325 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:29:24,515 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:29:25,049 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:29:28,755 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:29:28,755 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:29:28,755 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:29:28,755 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:29:28,755 dialog_manager Processing message: yes
INFO 2025-05-29 11:29:28,765 dialog_manager Processing input: yes
INFO 2025-05-29 11:29:28,767 dialog_manager Using language: af
INFO 2025-05-29 11:29:28,767 dialog_manager Detecting intent for input: yes
INFO 2025-05-29 11:29:28,773 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:29:28,783 dialog_manager Addon created successfully: Breakfast for 3 people - RM20
INFO 2025-05-29 11:29:28,783 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 11:29:28,784 views Updated session state: greeting
INFO 2025-05-29 11:29:28,784 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 11:29:28,784 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-05-29 11:29:28,785 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:29:29,053 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-05-29 11:29:51,145 views Database connection successful
INFO 2025-05-29 11:29:51,145 views Received chat request at 2025-05-29 11:29:51.145251
DEBUG 2025-05-29 11:29:51,145 views Request headers: {'Content-Length': '120', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:29:51,145 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-05-29 11:29:51,145 views User input: booking status check
INFO 2025-05-29 11:29:51,145 views Current session state: greeting
INFO 2025-05-29 11:29:51,145 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 11:29:51,755 dialog_manager Using device: cpu
INFO 2025-05-29 11:29:52,453 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:29:54,050 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:29:55,525 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:30:01,675 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:30:01,685 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:30:01,685 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:30:01,685 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:30:01,685 dialog_manager Processing message: booking status check
INFO 2025-05-29 11:30:01,685 dialog_manager Processing input: booking status check
INFO 2025-05-29 11:30:01,685 dialog_manager Using language: af
INFO 2025-05-29 11:30:01,687 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-29 11:30:01,696 dialog_manager Booking intent detected
INFO 2025-05-29 11:30:01,696 dialog_manager Detected intent: booking
INFO 2025-05-29 11:30:01,704 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:30:01,704 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-29 11:30:01,705 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:30:01,705 views Generated response: Sorry, I couldn't find any booking records for "booking status". Please confirm the name spelling or try providing your booking ID instead.
INFO 2025-05-29 11:30:01,705 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:30:01,977 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 299
INFO 2025-05-29 11:30:14,840 views Database connection successful
INFO 2025-05-29 11:30:14,840 views Received chat request at 2025-05-29 11:30:14.840788
DEBUG 2025-05-29 11:30:14,840 views Request headers: {'Content-Length': '153', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:30:14,840 views Request body: {"message":"nelson","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"collecting_booking_info_for_status","lang":"af"}}
INFO 2025-05-29 11:30:14,845 views User input: nelson
INFO 2025-05-29 11:30:14,845 views Current session state: collecting_booking_info_for_status
INFO 2025-05-29 11:30:14,845 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:30:15,342 dialog_manager Using device: cpu
INFO 2025-05-29 11:30:15,758 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:30:17,068 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:30:17,537 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:30:21,965 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:30:21,968 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:30:21,968 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:30:21,969 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:30:21,969 dialog_manager Processing message: nelson
INFO 2025-05-29 11:30:21,969 dialog_manager Processing input: nelson
INFO 2025-05-29 11:30:21,970 dialog_manager Using language: af
INFO 2025-05-29 11:30:21,970 dialog_manager Detecting intent for input: nelson
INFO 2025-05-29 11:30:21,980 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:30:21,980 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:30:21,981 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-29 11:30:21,981 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:30:21,981 views Generated response: Please provide your booking ID, full name, or phone number so I can locate your reservation.
INFO 2025-05-29 11:30:21,982 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:30:22,255 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-29 11:30:25,287 views Database connection successful
INFO 2025-05-29 11:30:25,287 views Received chat request at 2025-05-29 11:30:25.287337
DEBUG 2025-05-29 11:30:25,293 views Request headers: {'Content-Length': '155', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:30:25,294 views Request body: {"message":"BK-57426","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"collecting_booking_info_for_status","lang":"af"}}
INFO 2025-05-29 11:30:25,295 views User input: BK-57426
INFO 2025-05-29 11:30:25,295 views Current session state: collecting_booking_info_for_status
INFO 2025-05-29 11:30:25,295 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:30:25,920 dialog_manager Using device: cpu
INFO 2025-05-29 11:30:26,474 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:30:27,985 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:30:28,475 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:30:32,755 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:30:32,759 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:30:32,759 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:30:32,759 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:30:32,759 dialog_manager Processing message: BK-57426
INFO 2025-05-29 11:30:32,759 dialog_manager Processing input: BK-57426
INFO 2025-05-29 11:30:32,759 dialog_manager Using language: af
INFO 2025-05-29 11:30:32,759 dialog_manager Detecting intent for input: BK-57426
INFO 2025-05-29 11:30:32,765 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:30:32,771 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 6, 2), 'check_out_date': datetime.date(2025, 6, 3), 'status': 'confirmed'}}
INFO 2025-05-29 11:30:32,772 views Updated session state: greeting
INFO 2025-05-29 11:30:32,774 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 6, 2), 'check_out_date': datetime.date(2025, 6, 3), 'status': 'confirmed'}}
INFO 2025-05-29 11:30:32,791 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:30:32,985 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 862
INFO 2025-05-29 11:31:01,675 views Database connection successful
INFO 2025-05-29 11:31:01,675 views Received chat request at 2025-05-29 11:31:01.675347
DEBUG 2025-05-29 11:31:01,675 views Request headers: {'Content-Length': '283', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:31:01,679 views Request body: {"message":"extend","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","status":"confirmed"}},"state":"greeting","lang":"af"}}
INFO 2025-05-29 11:31:01,681 views User input: extend
INFO 2025-05-29 11:31:01,681 views Current session state: greeting
INFO 2025-05-29 11:31:01,682 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}}
INFO 2025-05-29 11:31:02,245 dialog_manager Using device: cpu
INFO 2025-05-29 11:31:02,714 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:31:04,029 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:31:04,590 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:31:08,538 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:31:08,540 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:31:08,541 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:31:08,541 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:31:08,541 dialog_manager Processing message: extend
INFO 2025-05-29 11:31:08,542 dialog_manager Processing input: extend
INFO 2025-05-29 11:31:08,542 dialog_manager Using language: af
INFO 2025-05-29 11:31:08,542 dialog_manager Detecting intent for input: extend
INFO 2025-05-29 11:31:08,547 dialog_manager Pattern-based intent detected: extend_stay
INFO 2025-05-29 11:31:08,548 dialog_manager Detected intent: extend_stay
INFO 2025-05-29 11:31:08,548 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_extend, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}, 'username': 'Golden'}
INFO 2025-05-29 11:31:08,549 views Updated session state: collecting_booking_id_for_extend
INFO 2025-05-29 11:31:08,549 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}, 'username': 'Golden'}
INFO 2025-05-29 11:31:08,550 views Generated response: I'd be happy to help you extend your stay! Please provide your booking ID so I can check your current reservation and available dates.
INFO 2025-05-29 11:31:08,550 views Booking confirmation check - State: collecting_booking_id_for_extend, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:31:08,785 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 482
INFO 2025-05-29 11:31:16,782 views Database connection successful
INFO 2025-05-29 11:31:16,784 views Received chat request at 2025-05-29 11:31:16.784119
DEBUG 2025-05-29 11:31:16,785 views Request headers: {'Content-Length': '330', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:31:16,785 views Request body: {"message":"BK-57426","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","status":"confirmed"},"username":"Golden"},"state":"collecting_booking_id_for_extend","lang":"af"}}
INFO 2025-05-29 11:31:16,786 views User input: BK-57426
INFO 2025-05-29 11:31:16,786 views Current session state: collecting_booking_id_for_extend
INFO 2025-05-29 11:31:16,788 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}, 'username': 'Golden'}
INFO 2025-05-29 11:31:17,292 dialog_manager Using device: cpu
INFO 2025-05-29 11:31:17,846 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:31:19,204 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:31:19,654 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:31:23,841 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:31:23,843 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:31:23,844 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:31:23,844 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:31:23,845 dialog_manager Processing message: BK-57426
INFO 2025-05-29 11:31:23,845 dialog_manager Processing input: BK-57426
INFO 2025-05-29 11:31:23,845 dialog_manager Using language: af
INFO 2025-05-29 11:31:23,845 dialog_manager Detecting intent for input: BK-57426
INFO 2025-05-29 11:31:23,852 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:31:23,857 dialog_manager Dialog manager process completed - State: selecting_extend_date, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}, 'username': 'Golden', 'extend_booking_id': 'BK-57426', 'booking_to_extend': {'id': 7, 'booking_id': 'BK-57426', 'room_name': 'Suite', 'room_price': Decimal('421.00'), 'current_checkout': 'June 03 (Tuesday)', 'current_checkout_date': '2025-06-03'}}
INFO 2025-05-29 11:31:23,857 views Updated session state: selecting_extend_date
INFO 2025-05-29 11:31:23,858 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}, 'username': 'Golden', 'extend_booking_id': 'BK-57426', 'booking_to_extend': {'id': 7, 'booking_id': 'BK-57426', 'room_name': 'Suite', 'room_price': Decimal('421.00'), 'current_checkout': 'June 03 (Tuesday)', 'current_checkout_date': '2025-06-03'}}
INFO 2025-05-29 11:31:23,858 views Generated response: Your current booking is until June 03 (Tuesday). Which day do you want to extend it to? Please provide the new check-out date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-29 11:31:23,858 views Booking confirmation check - State: selecting_extend_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:31:24,116 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 714
INFO 2025-05-29 11:31:29,665 views Database connection successful
INFO 2025-05-29 11:31:29,667 views Received chat request at 2025-05-29 11:31:29.667417
DEBUG 2025-05-29 11:31:29,669 views Request headers: {'Content-Length': '520', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:31:29,671 views Request body: {"message":"June 04","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","check_in_date":"2025-06-02","check_out_date":"2025-06-03","status":"confirmed"},"username":"Golden","extend_booking_id":"BK-57426","booking_to_extend":{"id":7,"booking_id":"BK-57426","room_name":"Suite","room_price":"421.00","current_checkout":"June 03 (Tuesday)","current_checkout_date":"2025-06-03"}},"state":"selecting_extend_date","lang":"af"}}
INFO 2025-05-29 11:31:29,675 views User input: June 04
INFO 2025-05-29 11:31:29,676 views Current session state: selecting_extend_date
INFO 2025-05-29 11:31:29,677 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'status': 'confirmed'}, 'username': 'Golden', 'extend_booking_id': 'BK-57426', 'booking_to_extend': {'id': 7, 'booking_id': 'BK-57426', 'room_name': 'Suite', 'room_price': '421.00', 'current_checkout': 'June 03 (Tuesday)', 'current_checkout_date': '2025-06-03'}}
INFO 2025-05-29 11:31:30,229 dialog_manager Using device: cpu
INFO 2025-05-29 11:31:30,626 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:31:31,830 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:31:34,483 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:31:39,787 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:31:39,795 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:31:39,795 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:31:39,795 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:31:39,795 dialog_manager Processing message: June 04
INFO 2025-05-29 11:31:39,799 dialog_manager Processing input: June 04
INFO 2025-05-29 11:31:39,801 dialog_manager Using language: af
INFO 2025-05-29 11:31:39,801 dialog_manager Detecting intent for input: June 04
INFO 2025-05-29 11:31:39,814 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:31:39,826 models Booking saved: BK-57426 for nelson
INFO 2025-05-29 11:31:39,827 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 11:31:39,827 views Updated session state: greeting
INFO 2025-05-29 11:31:39,827 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 11:31:39,827 views Generated response: Good news! We have extended your stay to June 04, with an additional fee of RM421.00 (1 night  RM421.00/night). Looking forward to your continued stay!
INFO 2025-05-29 11:31:39,830 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:31:40,082 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 266
INFO 2025-05-29 11:32:02,949 views Database connection successful
INFO 2025-05-29 11:32:02,950 views Received chat request at 2025-05-29 11:32:02.950961
DEBUG 2025-05-29 11:32:02,952 views Request headers: {'Content-Length': '130', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:32:02,952 views Request body: {"message":"i want change date to check in","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-05-29 11:32:02,953 views User input: i want change date to check in
INFO 2025-05-29 11:32:02,954 views Current session state: greeting
INFO 2025-05-29 11:32:02,954 views Current user data: {'is_returning_customer': True}
INFO 2025-05-29 11:32:03,448 dialog_manager Using device: cpu
INFO 2025-05-29 11:32:03,906 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:32:05,224 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:32:05,679 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:32:09,149 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:32:09,149 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:32:09,149 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:32:09,153 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:32:09,153 dialog_manager Processing message: i want change date to check in
INFO 2025-05-29 11:32:09,153 dialog_manager Processing input: i want change date to check in
INFO 2025-05-29 11:32:09,153 dialog_manager Using language: af
INFO 2025-05-29 11:32:09,153 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-29 11:32:09,154 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 11:32:09,154 dialog_manager Detected intent: change_date
INFO 2025-05-29 11:32:09,154 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:32:09,154 views Updated session state: greeting
INFO 2025-05-29 11:32:09,163 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:32:09,163 views Generated response: Welcome to check in! Check-in time starts at 2 pm. If you need to check in early, please inform the front desk in advance.
INFO 2025-05-29 11:32:09,164 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:32:09,380 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 254
INFO 2025-05-29 11:32:50,786 views Database connection successful
INFO 2025-05-29 11:32:50,790 views Received chat request at 2025-05-29 11:32:50.790611
DEBUG 2025-05-29 11:32:50,791 views Request headers: {'Content-Length': '141', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:32:50,792 views Request body: {"message":"i want give feedback","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"greeting","lang":"af"}}
INFO 2025-05-29 11:32:50,793 views User input: i want give feedback
INFO 2025-05-29 11:32:50,794 views Current session state: greeting
INFO 2025-05-29 11:32:50,796 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:32:51,400 dialog_manager Using device: cpu
INFO 2025-05-29 11:32:51,807 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:32:53,308 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:32:54,261 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:32:58,398 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:32:58,411 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:32:58,411 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:32:58,414 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:32:58,415 dialog_manager Processing message: i want give feedback
INFO 2025-05-29 11:32:58,416 dialog_manager Processing input: i want give feedback
INFO 2025-05-29 11:32:58,417 dialog_manager Using language: af
INFO 2025-05-29 11:32:58,418 dialog_manager Detecting intent for input: i want give feedback
INFO 2025-05-29 11:32:58,434 dialog_manager Detected intent: prices
INFO 2025-05-29 11:32:58,435 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:32:58,436 views Updated session state: collecting_feedback_rating
INFO 2025-05-29 11:32:58,436 views Updated user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:32:58,447 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:32:58,725 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 519
INFO 2025-05-29 11:33:03,921 views Database connection successful
INFO 2025-05-29 11:33:03,922 views Received chat request at 2025-05-29 11:33:03.922784
DEBUG 2025-05-29 11:33:03,922 views Request headers: {'Content-Length': '140', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:33:03,923 views Request body: {"message":"3","session":{"user_data":{"is_returning_customer":false,"username":"Golden"},"state":"collecting_feedback_rating","lang":"af"}}
INFO 2025-05-29 11:33:03,925 views User input: 3
INFO 2025-05-29 11:33:03,926 views Current session state: collecting_feedback_rating
INFO 2025-05-29 11:33:03,926 views Current user data: {'is_returning_customer': False, 'username': 'Golden'}
INFO 2025-05-29 11:33:04,421 dialog_manager Using device: cpu
INFO 2025-05-29 11:33:04,825 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:33:06,055 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:33:06,681 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:33:10,671 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:33:10,677 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:33:10,679 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:33:10,679 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:33:10,679 dialog_manager Processing message: 3
INFO 2025-05-29 11:33:10,679 dialog_manager Processing input: 3
INFO 2025-05-29 11:33:10,682 dialog_manager Using language: af
INFO 2025-05-29 11:33:10,683 dialog_manager Detecting intent for input: 3
INFO 2025-05-29 11:33:10,700 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:33:10,702 dialog_manager Dialog manager process completed - State: collecting_feedback_comment, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:33:10,703 views Updated session state: collecting_feedback_comment
INFO 2025-05-29 11:33:10,703 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:33:10,714 views Booking confirmation check - State: collecting_feedback_comment, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:33:10,972 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 412
INFO 2025-05-29 11:33:29,028 views Database connection successful
INFO 2025-05-29 11:33:29,028 views Received chat request at 2025-05-29 11:33:29.028197
DEBUG 2025-05-29 11:33:29,028 views Request headers: {'Content-Length': '180', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:33:29,028 views Request body: {"message":"i want room services","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3},"state":"collecting_feedback_comment","lang":"af"}}
INFO 2025-05-29 11:33:29,034 views User input: i want room services
INFO 2025-05-29 11:33:29,034 views Current session state: collecting_feedback_comment
INFO 2025-05-29 11:33:29,034 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:33:29,527 dialog_manager Using device: cpu
INFO 2025-05-29 11:33:30,086 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:33:31,414 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:33:33,161 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:33:37,012 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:33:37,016 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:33:37,016 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:33:37,016 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:33:37,018 dialog_manager Processing message: i want room services
INFO 2025-05-29 11:33:37,018 dialog_manager Processing input: i want room services
INFO 2025-05-29 11:33:37,018 dialog_manager Using language: af
INFO 2025-05-29 11:33:37,018 dialog_manager Detecting intent for input: i want room services
INFO 2025-05-29 11:33:37,027 dialog_manager Booking intent detected
INFO 2025-05-29 11:33:37,027 dialog_manager Detected intent: booking
INFO 2025-05-29 11:33:37,028 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 11:33:37,038 dialog_manager Extracting dates from: i want room services
WARNING 2025-05-29 11:33:37,038 dialog_manager No dates found
INFO 2025-05-29 11:33:37,040 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:33:37,041 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:33:37,041 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:33:37,049 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:33:37,327 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 261
INFO 2025-05-29 11:33:45,477 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:33:45,948 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:33:58,287 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:33:58,865 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:34:33,146 middleware Admin user found: admin
INFO 2025-05-29 11:34:34,605 views Database connection successful
INFO 2025-05-29 11:34:34,609 views Received chat request at 2025-05-29 11:34:34.608511
DEBUG 2025-05-29 11:34:34,610 views Request headers: {'Content-Length': '173', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:34:34,611 views Request body: {"message":"hotel information","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:34:34,611 views User input: hotel information
INFO 2025-05-29 11:34:34,612 views Current session state: collecting_booking_info
INFO 2025-05-29 11:34:34,612 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:34:35,404 dialog_manager Using device: cpu
INFO 2025-05-29 11:34:36,036 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:34:38,146 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:34:40,006 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:34:44,662 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:34:44,697 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:34:44,699 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:34:44,704 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:34:44,707 dialog_manager Processing message: hotel information
INFO 2025-05-29 11:34:44,707 dialog_manager Processing input: hotel information
INFO 2025-05-29 11:34:44,708 dialog_manager Using language: af
INFO 2025-05-29 11:34:44,708 dialog_manager Detecting intent for input: hotel information
INFO 2025-05-29 11:34:44,766 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:34:44,768 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:34:44,768 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:34:44,769 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:34:44,790 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:34:45,250 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 481
INFO 2025-05-29 11:35:16,410 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:35:17,540 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:35:25,831 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:35:25,856 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:35:52,150 middleware Admin user found: admin
INFO 2025-05-29 11:35:52,162 middleware Admin user found: admin
INFO 2025-05-29 11:36:54,506 views Database connection successful
INFO 2025-05-29 11:36:54,506 views Received chat request at 2025-05-29 11:36:54.506815
DEBUG 2025-05-29 11:36:54,506 views Request headers: {'Content-Length': '179', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:36:54,506 views Request body: {"message":"change my check in date","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:36:54,516 views User input: change my check in date
INFO 2025-05-29 11:36:54,516 views Current session state: collecting_booking_info
INFO 2025-05-29 11:36:54,516 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:36:55,236 dialog_manager Using device: cpu
INFO 2025-05-29 11:36:55,886 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:36:57,572 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:36:58,829 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:37:05,138 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:37:05,211 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:37:05,213 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:37:05,222 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:37:05,228 dialog_manager Processing message: change my check in date
INFO 2025-05-29 11:37:05,231 dialog_manager Processing input: change my check in date
INFO 2025-05-29 11:37:05,232 dialog_manager Using language: af
INFO 2025-05-29 11:37:05,232 dialog_manager Detecting intent for input: change my check in date
INFO 2025-05-29 11:37:05,328 dialog_manager Booking intent detected
INFO 2025-05-29 11:37:05,328 dialog_manager Detected intent: booking
INFO 2025-05-29 11:37:05,329 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:37:05,329 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:37:05,330 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:37:05,330 views Generated response: Welcome to check in! Check-in time starts at 2 pm. If you need to check in early, please inform the front desk in advance.
INFO 2025-05-29 11:37:05,330 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:37:05,736 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 291
INFO 2025-05-29 11:37:17,941 views Database connection successful
INFO 2025-05-29 11:37:17,942 views Received chat request at 2025-05-29 11:37:17.942613
DEBUG 2025-05-29 11:37:17,942 views Request headers: {'Content-Length': '186', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:37:17,943 views Request body: {"message":"I want change date to check in","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:37:17,944 views User input: I want change date to check in
INFO 2025-05-29 11:37:17,944 views Current session state: collecting_booking_info
INFO 2025-05-29 11:37:17,944 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:37:18,406 dialog_manager Using device: cpu
INFO 2025-05-29 11:37:18,804 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:37:23,286 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:37:24,637 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:37:30,886 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:37:30,896 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:37:30,896 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:37:30,896 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:37:30,904 dialog_manager Processing message: I want change date to check in
INFO 2025-05-29 11:37:30,905 dialog_manager Processing input: I want change date to check in
INFO 2025-05-29 11:37:30,906 dialog_manager Using language: af
INFO 2025-05-29 11:37:30,906 dialog_manager Detecting intent for input: I want change date to check in
INFO 2025-05-29 11:37:30,940 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 11:37:30,942 dialog_manager Detected intent: change_date
INFO 2025-05-29 11:37:30,942 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:37:30,943 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-29 11:37:30,944 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:37:30,944 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-29 11:37:30,944 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:37:31,172 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 305
INFO 2025-05-29 11:37:48,656 views Database connection successful
INFO 2025-05-29 11:37:48,656 views Received chat request at 2025-05-29 11:37:48.656307
DEBUG 2025-05-29 11:37:48,656 views Request headers: {'Content-Length': '178', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:37:48,656 views Request body: {"message":"BK-57426","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3},"state":"collecting_booking_id_for_change_date","lang":"af"}}
INFO 2025-05-29 11:37:48,656 views User input: BK-57426
INFO 2025-05-29 11:37:48,660 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-29 11:37:48,660 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3}
INFO 2025-05-29 11:37:49,278 dialog_manager Using device: cpu
INFO 2025-05-29 11:37:49,936 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:37:51,540 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:37:51,986 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:37:55,996 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:37:55,996 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:37:55,996 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:37:55,996 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:37:55,996 dialog_manager Processing message: BK-57426
INFO 2025-05-29 11:37:55,996 dialog_manager Processing input: BK-57426
INFO 2025-05-29 11:37:55,996 dialog_manager Using language: af
INFO 2025-05-29 11:37:55,996 dialog_manager Detecting intent for input: BK-57426
INFO 2025-05-29 11:37:56,012 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:37:56,022 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}}
INFO 2025-05-29 11:37:56,022 views Updated session state: collecting_new_check_in_date
INFO 2025-05-29 11:37:56,023 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}}
INFO 2025-05-29 11:37:56,023 views Generated response: Your current check-in date is June 02, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-29 11:37:56,024 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:37:56,428 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 621
INFO 2025-05-29 11:38:03,733 views Database connection successful
INFO 2025-05-29 11:38:03,733 views Received chat request at 2025-05-29 11:38:03.733177
DEBUG 2025-05-29 11:38:03,734 views Request headers: {'Content-Length': '441', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:38:03,735 views Request body: {"message":"June 01","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"}},"state":"collecting_new_check_in_date","lang":"af"}}
INFO 2025-05-29 11:38:03,735 views User input: June 01
INFO 2025-05-29 11:38:03,736 views Current session state: collecting_new_check_in_date
INFO 2025-05-29 11:38:03,736 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}}
INFO 2025-05-29 11:38:04,222 dialog_manager Using device: cpu
INFO 2025-05-29 11:38:04,938 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:38:06,402 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:38:07,007 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:38:11,711 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:38:11,716 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:38:11,716 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:38:11,716 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:38:11,716 dialog_manager Processing message: June 01
INFO 2025-05-29 11:38:11,716 dialog_manager Processing input: June 01
INFO 2025-05-29 11:38:11,720 dialog_manager Using language: af
INFO 2025-05-29 11:38:11,720 dialog_manager Detecting intent for input: June 01
INFO 2025-05-29 11:38:11,727 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:38:11,730 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:11,731 views Updated session state: confirming_date_change
INFO 2025-05-29 11:38:11,732 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:11,732 views Generated response: Are you sure to change the check-in time to June 01, 2025? Your new check-out date will be June 03, 2025. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-05-29 11:38:11,733 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:38:11,970 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 689
INFO 2025-05-29 11:38:17,156 views Database connection successful
INFO 2025-05-29 11:38:17,156 views Received chat request at 2025-05-29 11:38:17.156932
DEBUG 2025-05-29 11:38:17,156 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:38:17,156 views Request body: {"message":"comfirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 11:38:17,156 views User input: comfirm
INFO 2025-05-29 11:38:17,156 views Current session state: confirming_date_change
INFO 2025-05-29 11:38:17,156 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:17,727 dialog_manager Using device: cpu
INFO 2025-05-29 11:38:18,196 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:38:19,619 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:38:20,078 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:38:24,528 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:38:24,536 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:38:24,536 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:38:24,536 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:38:24,538 dialog_manager Processing message: comfirm
INFO 2025-05-29 11:38:24,540 dialog_manager Processing input: comfirm
INFO 2025-05-29 11:38:24,540 dialog_manager Using language: af
INFO 2025-05-29 11:38:24,541 dialog_manager Detecting intent for input: comfirm
INFO 2025-05-29 11:38:24,552 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:38:24,554 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:24,556 views Updated session state: confirming_date_change
INFO 2025-05-29 11:38:24,556 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:24,556 views Generated response: Please type 'Confirm' to proceed with the date change or 'Cancel' to abort.
INFO 2025-05-29 11:38:24,557 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:38:24,806 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 604
INFO 2025-05-29 11:38:33,193 views Database connection successful
INFO 2025-05-29 11:38:33,193 views Received chat request at 2025-05-29 11:38:33.193508
DEBUG 2025-05-29 11:38:33,194 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:38:33,194 views Request body: {"message":"Comfirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 11:38:33,196 views User input: Comfirm
INFO 2025-05-29 11:38:33,197 views Current session state: confirming_date_change
INFO 2025-05-29 11:38:33,198 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:33,820 dialog_manager Using device: cpu
INFO 2025-05-29 11:38:34,530 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:38:36,197 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:38:36,842 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:38:40,805 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:38:40,808 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:38:40,808 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:38:40,809 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:38:40,809 dialog_manager Processing message: Comfirm
INFO 2025-05-29 11:38:40,809 dialog_manager Processing input: Comfirm
INFO 2025-05-29 11:38:40,809 dialog_manager Using language: af
INFO 2025-05-29 11:38:40,809 dialog_manager Detecting intent for input: Comfirm
INFO 2025-05-29 11:38:40,815 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:38:40,815 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:40,816 views Updated session state: confirming_date_change
INFO 2025-05-29 11:38:40,816 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:38:40,817 views Generated response: Please type 'Confirm' to proceed with the date change or 'Cancel' to abort.
INFO 2025-05-29 11:38:40,818 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:38:41,076 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 604
INFO 2025-05-29 11:40:54,330 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:40:54,498 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:41:06,209 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:41:07,648 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:41:40,035 middleware Admin user found: admin
INFO 2025-05-29 11:41:55,154 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:41:57,142 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:42:09,394 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:42:09,415 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:42:37,881 middleware Admin user found: admin
INFO 2025-05-29 11:42:37,890 middleware Admin user found: admin
INFO 2025-05-29 11:43:42,682 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:43:42,698 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:43:53,191 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:43:53,191 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:44:25,049 middleware Admin user found: admin
INFO 2025-05-29 11:44:25,049 middleware Admin user found: admin
INFO 2025-05-29 11:51:08,223 views Database connection successful
INFO 2025-05-29 11:51:08,231 views Received chat request at 2025-05-29 11:51:08.231101
DEBUG 2025-05-29 11:51:08,235 views Request headers: {'Content-Length': '523', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:51:08,235 views Request body: {"message":"I want change date to check in","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 11:51:08,235 views User input: I want change date to check in
INFO 2025-05-29 11:51:08,238 views Current session state: confirming_date_change
INFO 2025-05-29 11:51:08,238 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:51:09,280 dialog_manager Using device: cpu
INFO 2025-05-29 11:51:09,844 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:51:11,472 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:51:13,068 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:51:17,673 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:51:17,713 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:51:17,715 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:51:17,719 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:51:17,723 dialog_manager Processing message: I want change date to check in
INFO 2025-05-29 11:51:17,723 dialog_manager Processing input: I want change date to check in
INFO 2025-05-29 11:51:17,723 dialog_manager Using language: af
INFO 2025-05-29 11:51:17,723 dialog_manager Detecting intent for input: I want change date to check in
INFO 2025-05-29 11:51:17,765 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 11:51:17,766 dialog_manager Detected intent: change_date
INFO 2025-05-29 11:51:17,768 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:51:17,768 views Updated session state: confirming_date_change
INFO 2025-05-29 11:51:17,768 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:51:17,769 views Generated response: Welcome to check in! Check-in time starts at 2 pm. If you need to check in early, please inform the front desk in advance.
INFO 2025-05-29 11:51:17,769 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:51:18,045 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 651
INFO 2025-05-29 11:51:28,722 views Database connection successful
INFO 2025-05-29 11:51:28,723 views Received chat request at 2025-05-29 11:51:28.723242
DEBUG 2025-05-29 11:51:28,724 views Request headers: {'Content-Length': '516', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:51:28,725 views Request body: {"message":"change my check in date","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 11:51:28,726 views User input: change my check in date
INFO 2025-05-29 11:51:28,727 views Current session state: confirming_date_change
INFO 2025-05-29 11:51:28,727 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:51:29,253 dialog_manager Using device: cpu
INFO 2025-05-29 11:51:29,751 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:51:31,022 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:51:31,691 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:51:36,053 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:51:36,055 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:51:36,055 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:51:36,056 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:51:36,056 dialog_manager Processing message: change my check in date
INFO 2025-05-29 11:51:36,056 dialog_manager Processing input: change my check in date
INFO 2025-05-29 11:51:36,056 dialog_manager Using language: af
INFO 2025-05-29 11:51:36,058 dialog_manager Detecting intent for input: change my check in date
INFO 2025-05-29 11:51:36,064 dialog_manager Booking intent detected
INFO 2025-05-29 11:51:36,065 dialog_manager Detected intent: booking
INFO 2025-05-29 11:51:36,065 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 11:51:36,069 dialog_manager Extracting dates from: change my check in date
WARNING 2025-05-29 11:51:36,071 dialog_manager No dates found
INFO 2025-05-29 11:51:36,072 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:51:36,073 views Updated session state: collecting_booking_info
INFO 2025-05-29 11:51:36,073 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:51:36,092 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:51:36,331 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 622
INFO 2025-05-29 11:52:33,617 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:52:33,867 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:52:47,080 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:52:48,244 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:53:26,666 middleware Admin user found: admin
INFO 2025-05-29 11:53:53,555 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:53:53,779 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:54:01,616 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:54:01,889 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:54:32,756 middleware Admin user found: admin
INFO 2025-05-29 11:54:32,763 middleware Admin user found: admin
INFO 2025-05-29 11:57:20,576 views Database connection successful
INFO 2025-05-29 11:57:20,582 views Received chat request at 2025-05-29 11:57:20.582792
DEBUG 2025-05-29 11:57:20,584 views Request headers: {'Content-Length': '524', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:57:20,586 views Request body: {"message":"I want change date to check in","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-29 11:57:20,588 views User input: I want change date to check in
INFO 2025-05-29 11:57:20,588 views Current session state: collecting_booking_info
INFO 2025-05-29 11:57:20,588 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:21,747 dialog_manager Using device: cpu
INFO 2025-05-29 11:57:22,321 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:57:23,966 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:57:26,136 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:57:30,520 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:57:30,562 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:57:30,563 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:57:30,566 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:57:30,569 dialog_manager Processing message: I want change date to check in
INFO 2025-05-29 11:57:30,569 dialog_manager Processing input: I want change date to check in
INFO 2025-05-29 11:57:30,570 dialog_manager Using language: af
INFO 2025-05-29 11:57:30,572 dialog_manager Detecting intent for input: I want change date to check in
INFO 2025-05-29 11:57:30,616 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 11:57:30,617 dialog_manager Detected intent: change_date
INFO 2025-05-29 11:57:30,619 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:30,619 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-29 11:57:30,620 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:30,620 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-29 11:57:30,621 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:57:30,931 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 666
INFO 2025-05-29 11:57:38,616 views Database connection successful
INFO 2025-05-29 11:57:38,616 views Received chat request at 2025-05-29 11:57:38.616357
DEBUG 2025-05-29 11:57:38,616 views Request headers: {'Content-Length': '516', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:57:38,616 views Request body: {"message":"BK-57426","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"collecting_booking_id_for_change_date","lang":"af"}}
INFO 2025-05-29 11:57:38,616 views User input: BK-57426
INFO 2025-05-29 11:57:38,616 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-29 11:57:38,616 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:39,176 dialog_manager Using device: cpu
INFO 2025-05-29 11:57:39,576 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:57:40,856 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:57:41,386 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:57:46,110 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:57:46,116 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:57:46,116 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:57:46,116 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:57:46,116 dialog_manager Processing message: BK-57426
INFO 2025-05-29 11:57:46,116 dialog_manager Processing input: BK-57426
INFO 2025-05-29 11:57:46,116 dialog_manager Using language: af
INFO 2025-05-29 11:57:46,122 dialog_manager Detecting intent for input: BK-57426
INFO 2025-05-29 11:57:46,133 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:57:46,154 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:46,154 views Updated session state: collecting_new_check_in_date
INFO 2025-05-29 11:57:46,155 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:46,156 views Generated response: Your current check-in date is June 02, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-29 11:57:46,157 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:57:46,496 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 690
INFO 2025-05-29 11:57:51,556 views Database connection successful
INFO 2025-05-29 11:57:51,556 views Received chat request at 2025-05-29 11:57:51.556141
DEBUG 2025-05-29 11:57:51,556 views Request headers: {'Content-Length': '506', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:57:51,558 views Request body: {"message":"June 01","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"collecting_new_check_in_date","lang":"af"}}
INFO 2025-05-29 11:57:51,558 views User input: June 01
INFO 2025-05-29 11:57:51,558 views Current session state: collecting_new_check_in_date
INFO 2025-05-29 11:57:51,558 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:57:52,169 dialog_manager Using device: cpu
INFO 2025-05-29 11:57:54,276 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:57:55,798 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:57:56,531 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:58:00,527 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:58:00,527 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:58:00,531 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:58:00,531 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:58:00,531 dialog_manager Processing message: June 01
INFO 2025-05-29 11:58:00,531 dialog_manager Processing input: June 01
INFO 2025-05-29 11:58:00,531 dialog_manager Using language: af
INFO 2025-05-29 11:58:00,531 dialog_manager Detecting intent for input: June 01
INFO 2025-05-29 11:58:00,541 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:58:00,542 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:00,543 views Updated session state: confirming_date_change
INFO 2025-05-29 11:58:00,543 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:00,543 views Generated response: Are you sure to change the check-in time to June 01, 2025? Your new check-out date will be June 03, 2025. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-05-29 11:58:00,543 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:58:00,811 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 689
INFO 2025-05-29 11:58:06,120 views Database connection successful
INFO 2025-05-29 11:58:06,120 views Received chat request at 2025-05-29 11:58:06.120946
DEBUG 2025-05-29 11:58:06,120 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:58:06,120 views Request body: {"message":"Comfirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 11:58:06,120 views User input: Comfirm
INFO 2025-05-29 11:58:06,120 views Current session state: confirming_date_change
INFO 2025-05-29 11:58:06,120 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:06,566 dialog_manager Using device: cpu
INFO 2025-05-29 11:58:07,050 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:58:08,345 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:58:09,684 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:58:15,210 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:58:15,214 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:58:15,215 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:58:15,216 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:58:15,216 dialog_manager Processing message: Comfirm
INFO 2025-05-29 11:58:15,218 dialog_manager Processing input: Comfirm
INFO 2025-05-29 11:58:15,218 dialog_manager Using language: af
INFO 2025-05-29 11:58:15,218 dialog_manager Detecting intent for input: Comfirm
INFO 2025-05-29 11:58:15,230 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:58:15,231 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:15,232 views Updated session state: confirming_date_change
INFO 2025-05-29 11:58:15,232 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:15,233 views Generated response: Please type 'Confirm' to proceed with the date change or 'Cancel' to abort.
INFO 2025-05-29 11:58:15,233 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:58:15,435 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 604
INFO 2025-05-29 11:58:20,360 views Database connection successful
INFO 2025-05-29 11:58:20,360 views Received chat request at 2025-05-29 11:58:20.360476
DEBUG 2025-05-29 11:58:20,360 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 11:58:20,365 views Request body: {"message":"comfirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 11:58:20,366 views User input: comfirm
INFO 2025-05-29 11:58:20,367 views Current session state: confirming_date_change
INFO 2025-05-29 11:58:20,368 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:20,879 dialog_manager Using device: cpu
INFO 2025-05-29 11:58:21,326 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 11:58:22,729 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 11:58:23,332 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 11:58:27,730 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 11:58:27,730 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 11:58:27,734 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 11:58:27,734 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 11:58:27,734 dialog_manager Processing message: comfirm
INFO 2025-05-29 11:58:27,734 dialog_manager Processing input: comfirm
INFO 2025-05-29 11:58:27,734 dialog_manager Using language: af
INFO 2025-05-29 11:58:27,734 dialog_manager Detecting intent for input: comfirm
INFO 2025-05-29 11:58:27,742 dialog_manager Detected intent: unknown
INFO 2025-05-29 11:58:27,744 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:27,744 views Updated session state: confirming_date_change
INFO 2025-05-29 11:58:27,745 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 11:58:27,745 views Generated response: Please type 'Confirm' to proceed with the date change or 'Cancel' to abort.
INFO 2025-05-29 11:58:27,746 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 11:58:28,106 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 604
INFO 2025-05-29 11:59:38,340 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:59:38,619 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 11:59:47,300 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 11:59:47,882 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 12:00:22,138 middleware Admin user found: admin
INFO 2025-05-29 12:04:51,787 views Database connection successful
INFO 2025-05-29 12:04:51,795 views Received chat request at 2025-05-29 12:04:51.795496
DEBUG 2025-05-29 12:04:51,795 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 12:04:51,799 views Request body: {"message":"comfirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 12:04:51,799 views User input: comfirm
INFO 2025-05-29 12:04:51,799 views Current session state: confirming_date_change
INFO 2025-05-29 12:04:51,803 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:04:52,552 dialog_manager Using device: cpu
INFO 2025-05-29 12:04:53,064 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 12:04:54,938 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 12:04:57,115 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 12:05:01,931 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 12:05:01,983 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 12:05:01,985 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 12:05:01,993 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 12:05:01,996 dialog_manager Processing message: comfirm
INFO 2025-05-29 12:05:01,997 dialog_manager Processing input: comfirm
INFO 2025-05-29 12:05:01,997 dialog_manager Using language: af
INFO 2025-05-29 12:05:01,997 dialog_manager Detecting intent for input: comfirm
INFO 2025-05-29 12:05:02,065 dialog_manager Detected intent: unknown
INFO 2025-05-29 12:05:02,066 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:05:02,066 views Updated session state: confirming_date_change
INFO 2025-05-29 12:05:02,066 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:05:02,069 views Generated response: Please type 'Confirm' to proceed with the date change or 'Cancel' to abort.
INFO 2025-05-29 12:05:02,069 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 12:05:02,368 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 604
INFO 2025-05-29 12:05:05,999 views Database connection successful
INFO 2025-05-29 12:05:06,001 views Received chat request at 2025-05-29 12:05:06.001855
DEBUG 2025-05-29 12:05:06,002 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 12:05:06,005 views Request body: {"message":"Comfirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 12:05:06,006 views User input: Comfirm
INFO 2025-05-29 12:05:06,006 views Current session state: confirming_date_change
INFO 2025-05-29 12:05:06,008 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:05:06,491 dialog_manager Using device: cpu
INFO 2025-05-29 12:05:06,905 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 12:05:08,189 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 12:05:08,746 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 12:05:16,142 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 12:05:16,146 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 12:05:16,146 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 12:05:16,146 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 12:05:16,149 dialog_manager Processing message: Comfirm
INFO 2025-05-29 12:05:16,150 dialog_manager Processing input: Comfirm
INFO 2025-05-29 12:05:16,150 dialog_manager Using language: af
INFO 2025-05-29 12:05:16,151 dialog_manager Detecting intent for input: Comfirm
INFO 2025-05-29 12:05:16,161 dialog_manager Detected intent: unknown
INFO 2025-05-29 12:05:16,162 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:05:16,163 views Updated session state: confirming_date_change
INFO 2025-05-29 12:05:16,163 views Updated user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:05:16,164 views Generated response: Please type 'Confirm' to proceed with the date change or 'Cancel' to abort.
INFO 2025-05-29 12:05:16,165 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 12:05:16,406 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 604
INFO 2025-05-29 12:06:21,729 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 12:06:22,207 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 12:06:31,032 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 12:06:31,039 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 12:07:02,832 middleware Admin user found: admin
INFO 2025-05-29 12:07:02,841 middleware Admin user found: admin
INFO 2025-05-29 12:13:49,830 views Database connection successful
INFO 2025-05-29 12:13:49,848 views Received chat request at 2025-05-29 12:13:49.846945
DEBUG 2025-05-29 12:13:49,853 views Request headers: {'Content-Length': '500', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx; messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIllvdXIgcHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiLCIiXV0:1uKSr5:Z8OgQGNPiGWoXL83U1muAn-FeIODlgN5C7sn2L36ZXE'}
DEBUG 2025-05-29 12:13:49,854 views Request body: {"message":"Confirm","session":{"user_data":{"is_returning_customer":false,"username":"Golden","feedback_rating":3,"change_date_booking_id":"BK-57426","booking_to_change":{"id":7,"booking_id":"BK-57426","guest_name":"nelson","room_name":"Suite","current_checkin":"June 02, 2025","current_checkout":"June 04, 2025","current_checkin_date":"2025-06-02","current_checkout_date":"2025-06-04"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"af"}}
INFO 2025-05-29 12:13:49,856 views User input: Confirm
INFO 2025-05-29 12:13:49,856 views Current session state: confirming_date_change
INFO 2025-05-29 12:13:49,856 views Current user data: {'is_returning_customer': False, 'username': 'Golden', 'feedback_rating': 3, 'change_date_booking_id': 'BK-57426', 'booking_to_change': {'id': 7, 'booking_id': 'BK-57426', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'June 02, 2025', 'current_checkout': 'June 04, 2025', 'current_checkin_date': '2025-06-02', 'current_checkout_date': '2025-06-04'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 12:13:51,430 dialog_manager Using device: cpu
INFO 2025-05-29 12:13:52,067 advanced_nlp_processor English spaCy model loaded successfully
INFO 2025-05-29 12:13:53,968 advanced_nlp_processor Chinese spaCy model loaded successfully
INFO 2025-05-29 12:13:55,364 advanced_nlp_processor Sentiment analyzer loaded successfully
INFO 2025-05-29 12:14:00,006 advanced_nlp_processor Sentence transformer loaded successfully
INFO 2025-05-29 12:14:00,058 advanced_nlp_processor Intent similarity model initialized successfully
INFO 2025-05-29 12:14:00,059 dialog_manager Advanced NLP components initialized successfully
INFO 2025-05-29 12:14:00,067 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 12:14:00,070 dialog_manager Processing message: Confirm
INFO 2025-05-29 12:14:00,071 dialog_manager Processing input: Confirm
INFO 2025-05-29 12:14:00,071 dialog_manager Using language: af
INFO 2025-05-29 12:14:00,071 dialog_manager Detecting intent for input: Confirm
INFO 2025-05-29 12:14:00,119 dialog_manager Detected intent: unknown
INFO 2025-05-29 12:14:00,142 models Booking saved: BK-57426 for nelson
INFO 2025-05-29 12:14:00,143 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'date_change_7_2025-06-01': True, 'processing_date_change': False}
INFO 2025-05-29 12:14:00,144 views Updated session state: greeting
INFO 2025-05-29 12:14:00,144 views Updated user data: {'is_returning_customer': True, 'date_change_7_2025-06-01': True, 'processing_date_change': False}
INFO 2025-05-29 12:14:00,145 views Generated response: OK, your check-in date has been successfully changed to June 01, 2025. The booking ID remains unchanged. If you have any other needs, please continue to consult!
INFO 2025-05-29 12:14:00,145 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 12:14:00,477 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 337
INFO 2025-05-29 20:19:37,834 dialog_manager 33352 27284 Using device: cpu
INFO 2025-05-29 20:19:37,834 dialog_manager 33352 27284 Using device: cpu
INFO 2025-05-29 20:19:38,249 advanced_nlp_processor 33352 27284 English spaCy model loaded successfully
INFO 2025-05-29 20:19:38,249 advanced_nlp_processor 33352 27284 English spaCy model loaded successfully
INFO 2025-05-29 20:19:39,910 advanced_nlp_processor 33352 27284 Chinese spaCy model loaded successfully
INFO 2025-05-29 20:19:39,910 advanced_nlp_processor 33352 27284 Chinese spaCy model loaded successfully
INFO 2025-05-29 20:19:44,400 advanced_nlp_processor 33352 27284 Sentiment analyzer loaded successfully
INFO 2025-05-29 20:19:44,400 advanced_nlp_processor 33352 27284 Sentiment analyzer loaded successfully
INFO 2025-05-29 20:19:48,367 advanced_nlp_processor 33352 27284 Sentence transformer loaded successfully
INFO 2025-05-29 20:19:48,367 advanced_nlp_processor 33352 27284 Sentence transformer loaded successfully
INFO 2025-05-29 20:19:48,390 advanced_nlp_processor 33352 27284 Intent similarity model initialized successfully
INFO 2025-05-29 20:19:48,390 advanced_nlp_processor 33352 27284 Intent similarity model initialized successfully
INFO 2025-05-29 20:19:48,392 dialog_manager 33352 27284 Advanced NLP components initialized successfully
INFO 2025-05-29 20:19:48,392 dialog_manager 33352 27284 Advanced NLP components initialized successfully
INFO 2025-05-29 20:19:48,392 dialog_manager 33352 27284 DialogManager initialized successfully
INFO 2025-05-29 20:19:48,392 dialog_manager 33352 27284 DialogManager initialized successfully
INFO 2025-05-29 20:19:48,399 dialog_manager 33352 27284 Processing input: cancel my booking
INFO 2025-05-29 20:19:48,399 dialog_manager 33352 27284 Processing input: cancel my booking
INFO 2025-05-29 20:19:48,677 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:19:48,677 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:19:48,677 dialog_manager 33352 27284 Detecting intent for input: cancel my booking
INFO 2025-05-29 20:19:48,677 dialog_manager 33352 27284 Detecting intent for input: cancel my booking
INFO 2025-05-29 20:19:48,698 dialog_manager 33352 27284 Pattern-based intent detected: cancel_booking
INFO 2025-05-29 20:19:48,698 dialog_manager 33352 27284 Pattern-based intent detected: cancel_booking
INFO 2025-05-29 20:19:48,699 dialog_manager 33352 27284 Detected intent: cancel_booking
INFO 2025-05-29 20:19:48,699 dialog_manager 33352 27284 Detected intent: cancel_booking
ERROR 2025-05-29 20:19:48,734 dialog_manager 33352 27284 Error searching booking by name: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
ERROR 2025-05-29 20:19:48,734 dialog_manager 33352 27284 Error searching booking by name: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
INFO 2025-05-29 20:19:48,739 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:19:48,739 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:19:48,749 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:19:48,749 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:19:48,749 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:19:48,749 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:19:48,757 dialog_manager 33352 27284 Detected intent: unknown
INFO 2025-05-29 20:19:48,757 dialog_manager 33352 27284 Detected intent: unknown
ERROR 2025-05-29 20:19:48,761 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
ERROR 2025-05-29 20:19:48,761 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
INFO 2025-05-29 20:19:49,443 dialog_manager 33352 27284 Using device: cpu
INFO 2025-05-29 20:19:49,443 dialog_manager 33352 27284 Using device: cpu
INFO 2025-05-29 20:19:49,934 advanced_nlp_processor 33352 27284 English spaCy model loaded successfully
INFO 2025-05-29 20:19:49,934 advanced_nlp_processor 33352 27284 English spaCy model loaded successfully
INFO 2025-05-29 20:19:51,567 advanced_nlp_processor 33352 27284 Chinese spaCy model loaded successfully
INFO 2025-05-29 20:19:51,567 advanced_nlp_processor 33352 27284 Chinese spaCy model loaded successfully
INFO 2025-05-29 20:19:52,043 advanced_nlp_processor 33352 27284 Sentiment analyzer loaded successfully
INFO 2025-05-29 20:19:52,043 advanced_nlp_processor 33352 27284 Sentiment analyzer loaded successfully
INFO 2025-05-29 20:19:55,777 advanced_nlp_processor 33352 27284 Sentence transformer loaded successfully
INFO 2025-05-29 20:19:55,777 advanced_nlp_processor 33352 27284 Sentence transformer loaded successfully
INFO 2025-05-29 20:19:55,795 advanced_nlp_processor 33352 27284 Intent similarity model initialized successfully
INFO 2025-05-29 20:19:55,795 advanced_nlp_processor 33352 27284 Intent similarity model initialized successfully
INFO 2025-05-29 20:19:55,795 dialog_manager 33352 27284 Advanced NLP components initialized successfully
INFO 2025-05-29 20:19:55,795 dialog_manager 33352 27284 Advanced NLP components initialized successfully
INFO 2025-05-29 20:19:55,801 dialog_manager 33352 27284 DialogManager initialized successfully
INFO 2025-05-29 20:19:55,801 dialog_manager 33352 27284 DialogManager initialized successfully
INFO 2025-05-29 20:19:55,802 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:19:55,802 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:19:55,815 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:19:55,815 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:19:55,816 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:19:55,816 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:19:55,819 dialog_manager 33352 27284 Detected intent: unknown
INFO 2025-05-29 20:19:55,819 dialog_manager 33352 27284 Detected intent: unknown
ERROR 2025-05-29 20:19:55,824 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
ERROR 2025-05-29 20:19:55,824 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
INFO 2025-05-29 20:19:56,507 dialog_manager 33352 27284 Using device: cpu
INFO 2025-05-29 20:19:56,507 dialog_manager 33352 27284 Using device: cpu
INFO 2025-05-29 20:19:56,921 advanced_nlp_processor 33352 27284 English spaCy model loaded successfully
INFO 2025-05-29 20:19:56,921 advanced_nlp_processor 33352 27284 English spaCy model loaded successfully
INFO 2025-05-29 20:19:58,194 advanced_nlp_processor 33352 27284 Chinese spaCy model loaded successfully
INFO 2025-05-29 20:19:58,194 advanced_nlp_processor 33352 27284 Chinese spaCy model loaded successfully
INFO 2025-05-29 20:19:58,642 advanced_nlp_processor 33352 27284 Sentiment analyzer loaded successfully
INFO 2025-05-29 20:19:58,642 advanced_nlp_processor 33352 27284 Sentiment analyzer loaded successfully
INFO 2025-05-29 20:20:02,073 advanced_nlp_processor 33352 27284 Sentence transformer loaded successfully
INFO 2025-05-29 20:20:02,073 advanced_nlp_processor 33352 27284 Sentence transformer loaded successfully
INFO 2025-05-29 20:20:02,077 advanced_nlp_processor 33352 27284 Intent similarity model initialized successfully
INFO 2025-05-29 20:20:02,077 advanced_nlp_processor 33352 27284 Intent similarity model initialized successfully
INFO 2025-05-29 20:20:02,077 dialog_manager 33352 27284 Advanced NLP components initialized successfully
INFO 2025-05-29 20:20:02,077 dialog_manager 33352 27284 Advanced NLP components initialized successfully
INFO 2025-05-29 20:20:02,077 dialog_manager 33352 27284 DialogManager initialized successfully
INFO 2025-05-29 20:20:02,077 dialog_manager 33352 27284 DialogManager initialized successfully
INFO 2025-05-29 20:20:02,077 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:20:02,077 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:20:02,085 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:20:02,085 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:20:02,085 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:20:02,085 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:20:02,093 dialog_manager 33352 27284 Detected intent: unknown
INFO 2025-05-29 20:20:02,093 dialog_manager 33352 27284 Detected intent: unknown
ERROR 2025-05-29 20:20:02,096 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
ERROR 2025-05-29 20:20:02,096 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
INFO 2025-05-29 20:20:02,097 dialog_manager 33352 27284 Processing input: cancel my booking
INFO 2025-05-29 20:20:02,097 dialog_manager 33352 27284 Processing input: cancel my booking
INFO 2025-05-29 20:20:02,100 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:20:02,100 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:20:02,100 dialog_manager 33352 27284 Detecting intent for input: cancel my booking
INFO 2025-05-29 20:20:02,100 dialog_manager 33352 27284 Detecting intent for input: cancel my booking
INFO 2025-05-29 20:20:02,109 dialog_manager 33352 27284 Pattern-based intent detected: cancel_booking
INFO 2025-05-29 20:20:02,109 dialog_manager 33352 27284 Pattern-based intent detected: cancel_booking
INFO 2025-05-29 20:20:02,111 dialog_manager 33352 27284 Detected intent: cancel_booking
INFO 2025-05-29 20:20:02,111 dialog_manager 33352 27284 Detected intent: cancel_booking
ERROR 2025-05-29 20:20:02,117 dialog_manager 33352 27284 Error searching booking by name: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
ERROR 2025-05-29 20:20:02,117 dialog_manager 33352 27284 Error searching booking by name: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
INFO 2025-05-29 20:20:02,117 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:20:02,117 dialog_manager 33352 27284 Processing input: BK-14644
INFO 2025-05-29 20:20:02,128 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:20:02,128 dialog_manager 33352 27284 Using language: en
INFO 2025-05-29 20:20:02,128 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:20:02,128 dialog_manager 33352 27284 Detecting intent for input: BK-14644
INFO 2025-05-29 20:20:02,137 dialog_manager 33352 27284 Detected intent: unknown
INFO 2025-05-29 20:20:02,137 dialog_manager 33352 27284 Detected intent: unknown
ERROR 2025-05-29 20:20:02,144 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
ERROR 2025-05-29 20:20:02,144 dialog_manager 33352 27284 Error showing booking status: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.
INFO 2025-05-29 20:23:42,677 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:24:06,386 middleware Admin user found: admin
INFO 2025-05-29 20:29:23,539 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:29:44,530 middleware Admin user found: admin
INFO 2025-05-29 20:33:46,996 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:33:59,043 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:34:35,857 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:35:04,190 middleware Admin user found: admin
INFO 2025-05-29 20:39:34,894 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:39:44,768 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:39:59,055 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:40:04,629 middleware Admin user found: admin
INFO 2025-05-29 20:45:40,050 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:45:44,972 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:45:58,002 middleware Admin user found: admin
INFO 2025-05-29 20:46:12,491 views Database connection successful
INFO 2025-05-29 20:46:12,491 views Received chat request at 2025-05-29 20:46:12.491097
DEBUG 2025-05-29 20:46:12,491 views Request headers: {'Content-Length': '60', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:46:12,491 views Request body: {"message": "i want change date to check in", "session": {}}
INFO 2025-05-29 20:46:12,495 views User input: i want change date to check in
INFO 2025-05-29 20:46:12,501 views Current session state: None
INFO 2025-05-29 20:46:12,501 views Current user data: None
INFO 2025-05-29 20:46:13,034 dialog_manager Using device: cpu
WARNING 2025-05-29 20:46:13,034 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:46:13,034 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:46:13,034 dialog_manager Processing message: i want change date to check in
INFO 2025-05-29 20:46:13,034 dialog_manager Processing input: i want change date to check in
INFO 2025-05-29 20:46:13,567 dialog_manager Using language: en
INFO 2025-05-29 20:46:13,569 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-29 20:46:13,593 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 20:46:13,594 dialog_manager Detected intent: change_date
INFO 2025-05-29 20:46:13,601 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:46:13,603 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-29 20:46:13,603 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:46:13,604 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-29 20:46:13,604 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:46:13,608 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 261
INFO 2025-05-29 20:46:22,348 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16215
INFO 2025-05-29 20:46:33,319 views Database connection successful
INFO 2025-05-29 20:46:33,321 views Received chat request at 2025-05-29 20:46:33.321155
DEBUG 2025-05-29 20:46:33,322 views Request headers: {'Content-Length': '627', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 20:46:33,323 views Request body: {"message":"i want change date to check in","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-05","status":"confirmed"},"username":"Golden","change_date_booking_id":"BK-69789","booking_to_change":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"}},"state":"collecting_new_check_in_date","lang":"fi"}}
INFO 2025-05-29 20:46:33,324 views User input: i want change date to check in
INFO 2025-05-29 20:46:33,324 views Current session state: collecting_new_check_in_date
INFO 2025-05-29 20:46:33,324 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:46:34,148 dialog_manager Using device: cpu
WARNING 2025-05-29 20:46:34,149 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:46:34,150 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:46:34,150 dialog_manager Processing message: i want change date to check in
INFO 2025-05-29 20:46:34,151 dialog_manager Processing input: i want change date to check in
INFO 2025-05-29 20:46:34,151 dialog_manager Using language: fi
INFO 2025-05-29 20:46:34,151 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-29 20:46:34,164 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 20:46:34,165 dialog_manager Detected intent: change_date
INFO 2025-05-29 20:46:34,166 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:46:34,167 views Updated session state: collecting_new_check_in_date
INFO 2025-05-29 20:46:34,167 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:46:34,168 views Generated response: I couldn't understand the date format. Please provide the date in format like 'June 15', '15/06/2025', or '15/06'.
INFO 2025-05-29 20:46:34,168 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:46:34,173 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-05-29 20:47:41,603 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:47:47,306 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:48:00,116 middleware Admin user found: admin
INFO 2025-05-29 20:48:22,932 views Database connection successful
INFO 2025-05-29 20:48:22,934 views Received chat request at 2025-05-29 20:48:22.934113
DEBUG 2025-05-29 20:48:22,935 views Request headers: {'Content-Length': '60', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:48:22,935 views Request body: {"message": "i want change date to check in", "session": {}}
INFO 2025-05-29 20:48:22,935 views User input: i want change date to check in
INFO 2025-05-29 20:48:22,935 views Current session state: None
INFO 2025-05-29 20:48:22,937 views Current user data: None
INFO 2025-05-29 20:48:23,478 dialog_manager Using device: cpu
WARNING 2025-05-29 20:48:23,478 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:48:23,478 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:48:23,478 dialog_manager Processing message: i want change date to check in
INFO 2025-05-29 20:48:23,478 dialog_manager Processing input: i want change date to check in
INFO 2025-05-29 20:48:23,943 dialog_manager Using language: en
INFO 2025-05-29 20:48:23,943 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-29 20:48:23,964 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 20:48:23,964 dialog_manager Detected intent: change_date
INFO 2025-05-29 20:48:23,979 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:48:23,980 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-29 20:48:23,980 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:48:23,980 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-29 20:48:23,982 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:48:23,986 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 261
INFO 2025-05-29 20:48:23,993 views Database connection successful
INFO 2025-05-29 20:48:23,994 views Received chat request at 2025-05-29 20:48:23.994445
DEBUG 2025-05-29 20:48:23,994 views Request headers: {'Content-Length': '147', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:48:23,994 views Request body: {"message": "BK-69789", "session": {"user_data": {"is_returning_customer": false}, "state": "collecting_booking_id_for_change_date", "lang": "en"}}
INFO 2025-05-29 20:48:23,994 views User input: BK-69789
INFO 2025-05-29 20:48:23,994 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-29 20:48:23,994 views Current user data: {'is_returning_customer': False}
INFO 2025-05-29 20:48:24,508 dialog_manager Using device: cpu
WARNING 2025-05-29 20:48:24,508 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:48:24,508 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:48:24,508 dialog_manager Processing message: BK-69789
INFO 2025-05-29 20:48:24,508 dialog_manager Processing input: BK-69789
INFO 2025-05-29 20:48:24,508 dialog_manager Using language: en
INFO 2025-05-29 20:48:24,508 dialog_manager Detecting intent for input: BK-69789
INFO 2025-05-29 20:48:24,522 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:48:24,530 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:24,530 views Updated session state: collecting_new_check_in_date
INFO 2025-05-29 20:48:24,530 views Updated user data: {'is_returning_customer': False, 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:24,530 views Generated response: Your current check-in date is June 03, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-29 20:48:24,530 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:48:24,539 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 580
INFO 2025-05-29 20:48:24,546 views Database connection successful
INFO 2025-05-29 20:48:24,548 views Received chat request at 2025-05-29 20:48:24.548009
DEBUG 2025-05-29 20:48:24,548 views Request headers: {'Content-Length': '455', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:48:24,549 views Request body: {"message": "i want change date to check in", "session": {"user_data": {"is_returning_customer": false, "change_date_booking_id": "BK-69789", "booking_to_change": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "current_checkin": "June 03, 2025", "current_checkout": "June 05, 2025", "current_checkin_date": "2025-06-03", "current_checkout_date": "2025-06-05"}}, "state": "collecting_new_check_in_date", "lang": "en"}}
INFO 2025-05-29 20:48:24,549 views User input: i want change date to check in
INFO 2025-05-29 20:48:24,549 views Current session state: collecting_new_check_in_date
INFO 2025-05-29 20:48:24,549 views Current user data: {'is_returning_customer': False, 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:25,039 dialog_manager Using device: cpu
WARNING 2025-05-29 20:48:25,039 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:48:25,039 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:48:25,039 dialog_manager Processing message: i want change date to check in
INFO 2025-05-29 20:48:25,039 dialog_manager Processing input: i want change date to check in
INFO 2025-05-29 20:48:25,039 dialog_manager Using language: en
INFO 2025-05-29 20:48:25,054 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-29 20:48:25,057 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 20:48:25,057 dialog_manager Detected intent: change_date
INFO 2025-05-29 20:48:25,057 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False, 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:25,064 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-29 20:48:25,064 views Updated user data: {'is_returning_customer': False, 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:25,064 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-29 20:48:25,064 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:48:25,068 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 556
INFO 2025-05-29 20:48:35,394 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16215
INFO 2025-05-29 20:48:43,852 views Database connection successful
INFO 2025-05-29 20:48:43,854 views Received chat request at 2025-05-29 20:48:43.854008
DEBUG 2025-05-29 20:48:43,860 views Request headers: {'Content-Length': '627', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 20:48:43,864 views Request body: {"message":"i want change date to check in","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-05","status":"confirmed"},"username":"Golden","change_date_booking_id":"BK-69789","booking_to_change":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"}},"state":"collecting_new_check_in_date","lang":"fi"}}
INFO 2025-05-29 20:48:43,865 views User input: i want change date to check in
INFO 2025-05-29 20:48:43,867 views Current session state: collecting_new_check_in_date
INFO 2025-05-29 20:48:43,868 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:44,760 dialog_manager Using device: cpu
WARNING 2025-05-29 20:48:44,760 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:48:44,762 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:48:44,763 dialog_manager Processing message: i want change date to check in
INFO 2025-05-29 20:48:44,764 dialog_manager Processing input: i want change date to check in
INFO 2025-05-29 20:48:44,764 dialog_manager Using language: fi
INFO 2025-05-29 20:48:44,764 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-29 20:48:44,777 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-29 20:48:44,778 dialog_manager Detected intent: change_date
INFO 2025-05-29 20:48:44,782 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:44,782 views Updated session state: collecting_new_check_in_date
INFO 2025-05-29 20:48:44,782 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:44,783 views Generated response: Your current check-in date is June 03, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-29 20:48:44,784 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:48:44,794 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 797
INFO 2025-05-29 20:48:51,227 views Database connection successful
INFO 2025-05-29 20:48:51,228 views Received chat request at 2025-05-29 20:48:51.228910
DEBUG 2025-05-29 20:48:51,228 views Request headers: {'Content-Length': '604', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 20:48:51,230 views Request body: {"message":"June 01","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-05","status":"confirmed"},"username":"Golden","change_date_booking_id":"BK-69789","booking_to_change":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"}},"state":"collecting_new_check_in_date","lang":"fi"}}
INFO 2025-05-29 20:48:51,231 views User input: June 01
INFO 2025-05-29 20:48:51,231 views Current session state: collecting_new_check_in_date
INFO 2025-05-29 20:48:51,231 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-29 20:48:52,145 dialog_manager Using device: cpu
WARNING 2025-05-29 20:48:52,146 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:48:52,146 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:48:52,146 dialog_manager Processing message: June 01
INFO 2025-05-29 20:48:52,147 dialog_manager Processing input: June 01
INFO 2025-05-29 20:48:52,147 dialog_manager Using language: fi
INFO 2025-05-29 20:48:52,148 dialog_manager Detecting intent for input: June 01
INFO 2025-05-29 20:48:52,161 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:48:52,163 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 20:48:52,167 views Updated session state: confirming_date_change
INFO 2025-05-29 20:48:52,168 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 20:48:52,169 views Generated response: Are you sure to change the check-in time to June 01, 2025? Your new check-out date will be June 03, 2025. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-05-29 20:48:52,170 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:48:52,176 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 865
INFO 2025-05-29 20:48:58,886 views Database connection successful
INFO 2025-05-29 20:48:58,887 views Received chat request at 2025-05-29 20:48:58.887817
DEBUG 2025-05-29 20:48:58,888 views Request headers: {'Content-Length': '663', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 20:48:58,890 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-05","status":"confirmed"},"username":"Golden","change_date_booking_id":"BK-69789","booking_to_change":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"},"new_checkin_date":"2025-06-01","new_checkout_date":"2025-06-03"},"state":"confirming_date_change","lang":"fi"}}
INFO 2025-05-29 20:48:58,890 views User input: confirm
INFO 2025-05-29 20:48:58,890 views Current session state: confirming_date_change
INFO 2025-05-29 20:48:58,891 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-05', 'status': 'confirmed'}, 'username': 'Golden', 'change_date_booking_id': 'BK-69789', 'booking_to_change': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'new_checkin_date': '2025-06-01', 'new_checkout_date': '2025-06-03'}
INFO 2025-05-29 20:48:59,698 dialog_manager Using device: cpu
WARNING 2025-05-29 20:48:59,698 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:48:59,699 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:48:59,699 dialog_manager Processing message: confirm
INFO 2025-05-29 20:48:59,701 dialog_manager Processing input: confirm
INFO 2025-05-29 20:48:59,701 dialog_manager Using language: fi
INFO 2025-05-29 20:48:59,701 dialog_manager Detecting intent for input: confirm
INFO 2025-05-29 20:48:59,709 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:48:59,718 models Booking saved: BK-69789 for TLS
INFO 2025-05-29 20:48:59,720 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'date_change_8_2025-06-01': True, 'processing_date_change': False}
INFO 2025-05-29 20:48:59,720 views Updated session state: greeting
INFO 2025-05-29 20:48:59,721 views Updated user data: {'is_returning_customer': True, 'date_change_8_2025-06-01': True, 'processing_date_change': False}
INFO 2025-05-29 20:48:59,721 views Generated response: OK, your check-in date has been successfully changed to June 01, 2025. The booking ID remains unchanged. If you have any other needs, please continue to consult!
INFO 2025-05-29 20:48:59,722 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:48:59,729 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 337
INFO 2025-05-29 20:51:28,509 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:51:33,240 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:51:44,072 middleware Admin user found: admin
INFO 2025-05-29 20:52:03,963 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:52:07,049 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:52:16,300 middleware Admin user found: admin
INFO 2025-05-29 20:52:28,359 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:52:31,944 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:52:42,612 middleware Admin user found: admin
INFO 2025-05-29 20:53:32,646 views Database connection successful
INFO 2025-05-29 20:53:32,657 views Received chat request at 2025-05-29 20:53:32.657074
DEBUG 2025-05-29 20:53:32,657 views Request headers: {'Content-Length': '47', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:53:32,657 views Request body: {"message": "book another room", "session": {}}
INFO 2025-05-29 20:53:32,657 views User input: book another room
INFO 2025-05-29 20:53:32,657 views Current session state: None
INFO 2025-05-29 20:53:32,657 views Current user data: None
INFO 2025-05-29 20:53:33,305 dialog_manager Using device: cpu
WARNING 2025-05-29 20:53:33,305 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:53:33,310 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:53:33,311 dialog_manager Processing message: book another room
INFO 2025-05-29 20:53:33,311 dialog_manager Processing input: book another room
INFO 2025-05-29 20:53:33,847 dialog_manager Using language: en
INFO 2025-05-29 20:53:33,847 dialog_manager Detecting intent for input: book another room
INFO 2025-05-29 20:53:33,878 dialog_manager Book another room intent detected
INFO 2025-05-29 20:53:33,878 dialog_manager Detected intent: book_another_room
INFO 2025-05-29 20:53:42,647 views Database connection successful
INFO 2025-05-29 20:53:42,647 views Received chat request at 2025-05-29 20:53:42.647359
DEBUG 2025-05-29 20:53:42,647 views Request headers: {'Content-Length': '47', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:53:42,647 views Request body: {"message": "book another room", "session": {}}
INFO 2025-05-29 20:53:42,647 views User input: book another room
INFO 2025-05-29 20:53:42,647 views Current session state: None
INFO 2025-05-29 20:53:42,647 views Current user data: None
INFO 2025-05-29 20:53:43,093 dialog_manager Using device: cpu
WARNING 2025-05-29 20:53:43,093 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:53:43,103 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:53:43,103 dialog_manager Processing message: book another room
INFO 2025-05-29 20:53:43,103 dialog_manager Processing input: book another room
INFO 2025-05-29 20:53:43,109 dialog_manager Using language: en
INFO 2025-05-29 20:53:43,113 dialog_manager Detecting intent for input: book another room
INFO 2025-05-29 20:53:43,120 dialog_manager Book another room intent detected
INFO 2025-05-29 20:53:43,120 dialog_manager Detected intent: book_another_room
INFO 2025-05-29 20:53:46,820 dialog_manager Sentiment analysis: Neutral (confidence: 0.73)
INFO 2025-05-29 20:53:46,820 dialog_manager Sentiment analysis: Neutral (confidence: 0.73)
INFO 2025-05-29 20:53:46,820 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:53:46,820 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:53:46,820 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:53:46,838 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:53:46,838 views Updated session state: collecting_parent_booking_id
INFO 2025-05-29 20:53:46,838 views Updated session state: collecting_parent_booking_id
INFO 2025-05-29 20:53:46,839 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:53:46,839 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:53:46,840 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:53:46,840 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:53:46,840 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:53:46,840 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:53:46,848 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 256
INFO 2025-05-29 20:53:46,855 views Database connection successful
INFO 2025-05-29 20:53:46,856 views Received chat request at 2025-05-29 20:53:46.856365
DEBUG 2025-05-29 20:53:46,857 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:53:46,857 views Request body: {"message": "BK-69789", "session": {"user_data": {"is_returning_customer": false}, "state": "collecting_parent_booking_id", "lang": "en"}}
INFO 2025-05-29 20:53:46,858 views User input: BK-69789
INFO 2025-05-29 20:53:46,858 views Current session state: collecting_parent_booking_id
INFO 2025-05-29 20:53:46,858 views Current user data: {'is_returning_customer': False}
INFO 2025-05-29 20:53:46,875 basehttp - Broken pipe from ('127.0.0.1', 50970)
INFO 2025-05-29 20:53:47,478 dialog_manager Using device: cpu
WARNING 2025-05-29 20:53:47,478 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:53:47,491 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:53:47,494 dialog_manager Processing message: BK-69789
INFO 2025-05-29 20:53:47,494 dialog_manager Processing input: BK-69789
INFO 2025-05-29 20:53:47,494 dialog_manager Using language: en
INFO 2025-05-29 20:53:47,494 dialog_manager Detecting intent for input: BK-69789
INFO 2025-05-29 20:53:47,511 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:53:47,527 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 20:53:47,527 views Updated session state: selecting_additional_room_type
INFO 2025-05-29 20:53:47,528 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 20:53:47,528 views Generated response: Perfect! I'll help you book an additional room to go with Deluxe Room.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-29 20:53:47,529 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:53:47,532 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 631
INFO 2025-05-29 20:53:47,542 views Database connection successful
INFO 2025-05-29 20:53:47,542 views Received chat request at 2025-05-29 20:53:47.542842
DEBUG 2025-05-29 20:53:47,544 views Request headers: {'Content-Length': '331', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:53:47,544 views Request body: {"message": "B", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true}, "state": "selecting_additional_room_type", "lang": "en"}}
INFO 2025-05-29 20:53:47,544 views User input: B
INFO 2025-05-29 20:53:47,545 views Current session state: selecting_additional_room_type
INFO 2025-05-29 20:53:47,545 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True}
INFO 2025-05-29 20:53:48,099 dialog_manager Using device: cpu
WARNING 2025-05-29 20:53:48,099 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:53:48,099 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:53:48,099 dialog_manager Processing message: B
INFO 2025-05-29 20:53:48,099 dialog_manager Processing input: B
INFO 2025-05-29 20:53:48,099 dialog_manager Using language: en
INFO 2025-05-29 20:53:48,099 dialog_manager Detecting intent for input: B
INFO 2025-05-29 20:53:48,118 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:53:48,120 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:48,121 views Updated session state: confirming_additional_dates
INFO 2025-05-29 20:53:48,121 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:48,122 views Generated response: Great! You've selected Deluxe Room (RM205.00/night) for your additional booking.

Your current booking is from 2025-06-01 to 2025-06-03.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-29 20:53:48,123 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:53:48,125 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 669
INFO 2025-05-29 20:53:48,131 views Database connection successful
INFO 2025-05-29 20:53:48,132 views Received chat request at 2025-05-29 20:53:48.132441
DEBUG 2025-05-29 20:53:48,132 views Request headers: {'Content-Length': '399', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:53:48,132 views Request body: {"message": "B", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0}, "state": "confirming_additional_dates", "lang": "en"}}
INFO 2025-05-29 20:53:48,133 views User input: B
INFO 2025-05-29 20:53:48,133 views Current session state: confirming_additional_dates
INFO 2025-05-29 20:53:48,133 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:48,989 dialog_manager Using device: cpu
WARNING 2025-05-29 20:53:48,989 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:53:48,989 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:53:48,989 dialog_manager Processing message: B
INFO 2025-05-29 20:53:48,989 dialog_manager Processing input: B
INFO 2025-05-29 20:53:48,989 dialog_manager Using language: en
INFO 2025-05-29 20:53:48,989 dialog_manager Detecting intent for input: B
INFO 2025-05-29 20:53:48,993 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:53:48,993 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:48,993 views Updated session state: collecting_additional_dates
INFO 2025-05-29 20:53:48,993 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:48,999 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-29 20:53:48,999 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:53:49,002 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 529
INFO 2025-05-29 20:53:49,007 views Database connection successful
INFO 2025-05-29 20:53:49,007 views Received chat request at 2025-05-29 20:53:49.007972
DEBUG 2025-05-29 20:53:49,009 views Request headers: {'Content-Length': '416', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:53:49,009 views Request body: {"message": "June 10 to June 12", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0}, "state": "collecting_additional_dates", "lang": "en"}}
INFO 2025-05-29 20:53:49,009 views User input: June 10 to June 12
INFO 2025-05-29 20:53:49,010 views Current session state: collecting_additional_dates
INFO 2025-05-29 20:53:49,010 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:49,429 dialog_manager Using device: cpu
WARNING 2025-05-29 20:53:49,429 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:53:49,429 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:53:49,429 dialog_manager Processing message: June 10 to June 12
INFO 2025-05-29 20:53:49,429 dialog_manager Processing input: June 10 to June 12
INFO 2025-05-29 20:53:49,429 dialog_manager Using language: en
INFO 2025-05-29 20:53:49,429 dialog_manager Detecting intent for input: June 10 to June 12
INFO 2025-05-29 20:53:49,429 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:53:49,429 dialog_manager Extracting dates from: June 10 to June 12
WARNING 2025-05-29 20:53:49,440 dialog_manager No dates found
INFO 2025-05-29 20:53:49,440 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:49,440 views Updated session state: collecting_additional_dates
INFO 2025-05-29 20:53:49,441 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:53:49,441 views Generated response: I couldn't understand the date format. Please provide the check-in and check-out dates (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-29 20:53:49,441 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:53:49,444 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 544
INFO 2025-05-29 20:55:10,982 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:55:16,241 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:55:26,557 middleware Admin user found: admin
INFO 2025-05-29 20:55:39,342 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 20:55:42,400 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 20:55:51,326 middleware Admin user found: admin
INFO 2025-05-29 20:55:55,447 views Database connection successful
INFO 2025-05-29 20:55:55,447 views Received chat request at 2025-05-29 20:55:55.447582
DEBUG 2025-05-29 20:55:55,447 views Request headers: {'Content-Length': '47', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:55:55,447 views Request body: {"message": "book another room", "session": {}}
INFO 2025-05-29 20:55:55,463 views User input: book another room
INFO 2025-05-29 20:55:55,463 views Current session state: None
INFO 2025-05-29 20:55:55,463 views Current user data: None
INFO 2025-05-29 20:55:55,987 dialog_manager Using device: cpu
WARNING 2025-05-29 20:55:55,987 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:55:55,998 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:55:55,998 dialog_manager Processing message: book another room
INFO 2025-05-29 20:55:55,998 dialog_manager Processing input: book another room
INFO 2025-05-29 20:55:56,388 dialog_manager Using language: en
INFO 2025-05-29 20:55:56,388 dialog_manager Detecting intent for input: book another room
INFO 2025-05-29 20:55:56,450 dialog_manager Book another room intent detected
INFO 2025-05-29 20:55:56,452 dialog_manager Detected intent: book_another_room
INFO 2025-05-29 20:56:05,453 views Database connection successful
INFO 2025-05-29 20:56:05,453 views Received chat request at 2025-05-29 20:56:05.453509
DEBUG 2025-05-29 20:56:05,461 views Request headers: {'Content-Length': '47', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:56:05,463 views Request body: {"message": "book another room", "session": {}}
INFO 2025-05-29 20:56:05,463 views User input: book another room
INFO 2025-05-29 20:56:05,465 views Current session state: None
INFO 2025-05-29 20:56:05,466 views Current user data: None
INFO 2025-05-29 20:56:05,893 dialog_manager Using device: cpu
WARNING 2025-05-29 20:56:05,893 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:56:05,893 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:56:05,893 dialog_manager Processing message: book another room
INFO 2025-05-29 20:56:05,893 dialog_manager Processing input: book another room
INFO 2025-05-29 20:56:05,903 dialog_manager Using language: en
INFO 2025-05-29 20:56:05,903 dialog_manager Detecting intent for input: book another room
INFO 2025-05-29 20:56:05,928 dialog_manager Book another room intent detected
INFO 2025-05-29 20:56:05,930 dialog_manager Detected intent: book_another_room
ERROR 2025-05-29 20:56:09,835 dialog_manager Error in sentiment analysis: Cannot copy out of meta tensor; no data! Please use torch.nn.Module.to_empty() instead of torch.nn.Module.to() when moving module from meta to a different device.
INFO 2025-05-29 20:56:09,835 dialog_manager Sentiment analysis: Neutral (confidence: 0.33)
INFO 2025-05-29 20:56:09,835 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:56:09,855 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:56:09,857 views Updated session state: collecting_parent_booking_id
INFO 2025-05-29 20:56:09,859 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:56:09,859 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:56:09,861 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:56:09,873 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 256
INFO 2025-05-29 20:56:09,883 views Database connection successful
INFO 2025-05-29 20:56:09,884 views Received chat request at 2025-05-29 20:56:09.884691
DEBUG 2025-05-29 20:56:09,884 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:56:09,885 views Request body: {"message": "BK-69789", "session": {"user_data": {"is_returning_customer": false}, "state": "collecting_parent_booking_id", "lang": "en"}}
INFO 2025-05-29 20:56:09,885 views User input: BK-69789
INFO 2025-05-29 20:56:09,885 views Current session state: collecting_parent_booking_id
INFO 2025-05-29 20:56:09,886 views Current user data: {'is_returning_customer': False}
INFO 2025-05-29 20:56:10,478 dialog_manager Using device: cpu
WARNING 2025-05-29 20:56:10,478 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:56:10,495 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:56:10,498 dialog_manager Processing message: BK-69789
INFO 2025-05-29 20:56:10,499 dialog_manager Processing input: BK-69789
INFO 2025-05-29 20:56:10,499 dialog_manager Using language: en
INFO 2025-05-29 20:56:10,499 dialog_manager Detecting intent for input: BK-69789
INFO 2025-05-29 20:56:10,517 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:56:10,549 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 20:56:10,550 views Updated session state: selecting_additional_room_type
INFO 2025-05-29 20:56:10,550 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 20:56:10,551 views Generated response: Perfect! I'll help you book an additional room to go with Deluxe Room.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-29 20:56:10,551 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:56:10,559 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 631
INFO 2025-05-29 20:56:10,572 views Database connection successful
INFO 2025-05-29 20:56:10,574 views Received chat request at 2025-05-29 20:56:10.573196
DEBUG 2025-05-29 20:56:10,575 views Request headers: {'Content-Length': '331', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:56:10,577 views Request body: {"message": "B", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true}, "state": "selecting_additional_room_type", "lang": "en"}}
INFO 2025-05-29 20:56:10,577 views User input: B
INFO 2025-05-29 20:56:10,577 views Current session state: selecting_additional_room_type
INFO 2025-05-29 20:56:10,577 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True}
INFO 2025-05-29 20:56:11,052 dialog_manager Using device: cpu
WARNING 2025-05-29 20:56:11,054 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:56:11,054 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:56:11,054 dialog_manager Processing message: B
INFO 2025-05-29 20:56:11,054 dialog_manager Processing input: B
INFO 2025-05-29 20:56:11,054 dialog_manager Using language: en
INFO 2025-05-29 20:56:11,054 dialog_manager Detecting intent for input: B
INFO 2025-05-29 20:56:11,054 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:56:11,067 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:56:11,068 views Updated session state: confirming_additional_dates
INFO 2025-05-29 20:56:11,068 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:56:11,068 views Generated response: Great! You've selected Deluxe Room (RM205.00/night) for your additional booking.

Your current booking is from 2025-06-01 to 2025-06-03.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-29 20:56:11,069 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:56:11,073 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 669
INFO 2025-05-29 20:56:11,078 views Database connection successful
INFO 2025-05-29 20:56:11,078 views Received chat request at 2025-05-29 20:56:11.078808
DEBUG 2025-05-29 20:56:11,079 views Request headers: {'Content-Length': '399', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:56:11,080 views Request body: {"message": "B", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0}, "state": "confirming_additional_dates", "lang": "en"}}
INFO 2025-05-29 20:56:11,080 views User input: B
INFO 2025-05-29 20:56:11,082 views Current session state: confirming_additional_dates
INFO 2025-05-29 20:56:11,082 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:56:11,553 dialog_manager Using device: cpu
WARNING 2025-05-29 20:56:11,553 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:56:11,553 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:56:11,553 dialog_manager Processing message: B
INFO 2025-05-29 20:56:11,553 dialog_manager Processing input: B
INFO 2025-05-29 20:56:11,553 dialog_manager Using language: en
INFO 2025-05-29 20:56:11,553 dialog_manager Detecting intent for input: B
INFO 2025-05-29 20:56:11,578 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:56:11,579 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:56:11,580 views Updated session state: collecting_additional_dates
INFO 2025-05-29 20:56:11,582 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:56:11,582 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-29 20:56:11,583 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:56:11,587 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 529
INFO 2025-05-29 20:56:11,594 views Database connection successful
INFO 2025-05-29 20:56:11,594 views Received chat request at 2025-05-29 20:56:11.594440
DEBUG 2025-05-29 20:56:11,596 views Request headers: {'Content-Length': '416', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:56:11,597 views Request body: {"message": "June 10 to June 12", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0}, "state": "collecting_additional_dates", "lang": "en"}}
INFO 2025-05-29 20:56:11,597 views User input: June 10 to June 12
INFO 2025-05-29 20:56:11,598 views Current session state: collecting_additional_dates
INFO 2025-05-29 20:56:11,598 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
ERROR 2025-05-29 20:56:11,601 dialog_manager Error in sentiment analysis: Cannot copy out of meta tensor; no data! Please use torch.nn.Module.to_empty() instead of torch.nn.Module.to() when moving module from meta to a different device.
INFO 2025-05-29 20:56:11,602 dialog_manager Sentiment analysis: Neutral (confidence: 0.33)
INFO 2025-05-29 20:56:11,602 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:56:11,607 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:56:11,608 views Updated session state: collecting_parent_booking_id
INFO 2025-05-29 20:56:11,615 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:56:11,617 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:56:11,618 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:56:11,719 basehttp - Broken pipe from ('127.0.0.1', 51053)
INFO 2025-05-29 20:56:12,483 dialog_manager Using device: cpu
WARNING 2025-05-29 20:56:12,483 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:56:12,483 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:56:12,483 dialog_manager Processing message: June 10 to June 12
INFO 2025-05-29 20:56:12,483 dialog_manager Processing input: June 10 to June 12
INFO 2025-05-29 20:56:12,483 dialog_manager Using language: en
INFO 2025-05-29 20:56:12,483 dialog_manager Detecting intent for input: June 10 to June 12
INFO 2025-05-29 20:56:12,483 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:56:12,483 dialog_manager Extracting dates from: June 10 to June 12
INFO 2025-05-29 20:56:12,483 dialog_manager Extracted month-to-month date: check-in 2025-06-10 00:00:00, check-out 2025-06-12 00:00:00
INFO 2025-05-29 20:56:12,496 dialog_manager Multiple date result: {'check_in': '2025-06-10', 'check_out': '2025-06-12'}
INFO 2025-05-29 20:56:12,497 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 20:56:12,498 views Updated session state: confirming_additional_booking
INFO 2025-05-29 20:56:12,498 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 20:56:12,622 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:56:12,622 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 957
INFO 2025-05-29 20:57:19,096 views Database connection successful
INFO 2025-05-29 20:57:19,097 views Received chat request at 2025-05-29 20:57:19.097042
DEBUG 2025-05-29 20:57:19,097 views Request headers: {'Content-Length': '47', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:57:19,100 views Request body: {"message": "book another room", "session": {}}
INFO 2025-05-29 20:57:19,102 views User input: book another room
INFO 2025-05-29 20:57:19,102 views Current session state: None
INFO 2025-05-29 20:57:19,102 views Current user data: None
INFO 2025-05-29 20:57:19,544 dialog_manager Using device: cpu
WARNING 2025-05-29 20:57:19,559 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:57:19,559 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:57:19,559 dialog_manager Processing message: book another room
INFO 2025-05-29 20:57:19,559 dialog_manager Processing input: book another room
INFO 2025-05-29 20:57:19,563 dialog_manager Using language: en
INFO 2025-05-29 20:57:19,565 dialog_manager Detecting intent for input: book another room
INFO 2025-05-29 20:57:19,574 dialog_manager Book another room intent detected
INFO 2025-05-29 20:57:19,574 dialog_manager Detected intent: book_another_room
ERROR 2025-05-29 20:57:23,837 dialog_manager Error in sentiment analysis: Cannot copy out of meta tensor; no data! Please use torch.nn.Module.to_empty() instead of torch.nn.Module.to() when moving module from meta to a different device.
INFO 2025-05-29 20:57:23,843 dialog_manager Sentiment analysis: Neutral (confidence: 0.33)
INFO 2025-05-29 20:57:23,844 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:57:23,844 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False}
INFO 2025-05-29 20:57:23,844 views Updated session state: collecting_parent_booking_id
INFO 2025-05-29 20:57:23,844 views Updated user data: {'is_returning_customer': False}
INFO 2025-05-29 20:57:23,851 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 20:57:23,851 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:57:23,865 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 256
INFO 2025-05-29 20:57:23,873 views Database connection successful
INFO 2025-05-29 20:57:23,874 views Received chat request at 2025-05-29 20:57:23.874536
DEBUG 2025-05-29 20:57:23,875 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:57:23,876 views Request body: {"message": "BK-69789", "session": {"user_data": {"is_returning_customer": false}, "state": "collecting_parent_booking_id", "lang": "en"}}
INFO 2025-05-29 20:57:23,876 views User input: BK-69789
INFO 2025-05-29 20:57:23,876 views Current session state: collecting_parent_booking_id
INFO 2025-05-29 20:57:23,877 views Current user data: {'is_returning_customer': False}
INFO 2025-05-29 20:57:24,344 dialog_manager Using device: cpu
WARNING 2025-05-29 20:57:24,344 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:57:24,344 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:57:24,344 dialog_manager Processing message: BK-69789
INFO 2025-05-29 20:57:24,344 dialog_manager Processing input: BK-69789
INFO 2025-05-29 20:57:24,344 dialog_manager Using language: en
INFO 2025-05-29 20:57:24,344 dialog_manager Detecting intent for input: BK-69789
INFO 2025-05-29 20:57:24,361 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:57:24,384 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 20:57:24,385 views Updated session state: selecting_additional_room_type
INFO 2025-05-29 20:57:24,385 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 20:57:24,387 views Generated response: Perfect! I'll help you book an additional room to go with Deluxe Room.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-29 20:57:24,387 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:57:24,390 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 631
INFO 2025-05-29 20:57:24,398 views Database connection successful
INFO 2025-05-29 20:57:24,398 views Received chat request at 2025-05-29 20:57:24.398137
DEBUG 2025-05-29 20:57:24,399 views Request headers: {'Content-Length': '331', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:57:24,399 views Request body: {"message": "B", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true}, "state": "selecting_additional_room_type", "lang": "en"}}
INFO 2025-05-29 20:57:24,400 views User input: B
INFO 2025-05-29 20:57:24,400 views Current session state: selecting_additional_room_type
INFO 2025-05-29 20:57:24,400 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True}
INFO 2025-05-29 20:57:24,843 dialog_manager Using device: cpu
WARNING 2025-05-29 20:57:24,844 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:57:24,844 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:57:24,844 dialog_manager Processing message: B
INFO 2025-05-29 20:57:24,844 dialog_manager Processing input: B
INFO 2025-05-29 20:57:24,844 dialog_manager Using language: en
INFO 2025-05-29 20:57:24,844 dialog_manager Detecting intent for input: B
INFO 2025-05-29 20:57:24,844 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:57:24,856 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:57:24,857 views Updated session state: confirming_additional_dates
INFO 2025-05-29 20:57:24,857 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:57:24,857 views Generated response: Great! You've selected Deluxe Room (RM205.00/night) for your additional booking.

Your current booking is from 2025-06-01 to 2025-06-03.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-29 20:57:24,858 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:57:24,861 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 669
INFO 2025-05-29 20:57:24,867 views Database connection successful
INFO 2025-05-29 20:57:24,867 views Received chat request at 2025-05-29 20:57:24.867143
DEBUG 2025-05-29 20:57:24,867 views Request headers: {'Content-Length': '399', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:57:24,868 views Request body: {"message": "B", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0}, "state": "confirming_additional_dates", "lang": "en"}}
INFO 2025-05-29 20:57:24,868 views User input: B
INFO 2025-05-29 20:57:24,868 views Current session state: confirming_additional_dates
INFO 2025-05-29 20:57:24,869 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:57:25,326 dialog_manager Using device: cpu
WARNING 2025-05-29 20:57:25,326 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:57:25,326 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:57:25,326 dialog_manager Processing message: B
INFO 2025-05-29 20:57:25,326 dialog_manager Processing input: B
INFO 2025-05-29 20:57:25,326 dialog_manager Using language: en
INFO 2025-05-29 20:57:25,326 dialog_manager Detecting intent for input: B
INFO 2025-05-29 20:57:25,326 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:57:25,326 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:57:25,326 views Updated session state: collecting_additional_dates
INFO 2025-05-29 20:57:25,326 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:57:25,337 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-29 20:57:25,337 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:57:25,341 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 529
INFO 2025-05-29 20:57:25,347 views Database connection successful
INFO 2025-05-29 20:57:25,349 views Received chat request at 2025-05-29 20:57:25.349136
DEBUG 2025-05-29 20:57:25,349 views Request headers: {'Content-Length': '416', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:57:25,350 views Request body: {"message": "June 10 to June 12", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0}, "state": "collecting_additional_dates", "lang": "en"}}
INFO 2025-05-29 20:57:25,350 views User input: June 10 to June 12
INFO 2025-05-29 20:57:25,350 views Current session state: collecting_additional_dates
INFO 2025-05-29 20:57:25,351 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-29 20:57:25,760 dialog_manager Using device: cpu
WARNING 2025-05-29 20:57:25,760 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:57:25,760 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:57:25,760 dialog_manager Processing message: June 10 to June 12
INFO 2025-05-29 20:57:25,760 dialog_manager Processing input: June 10 to June 12
INFO 2025-05-29 20:57:25,760 dialog_manager Using language: en
INFO 2025-05-29 20:57:25,760 dialog_manager Detecting intent for input: June 10 to June 12
INFO 2025-05-29 20:57:25,776 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:57:25,776 dialog_manager Extracting dates from: June 10 to June 12
INFO 2025-05-29 20:57:25,776 dialog_manager Extracted month-to-month date: check-in 2025-06-10 00:00:00, check-out 2025-06-12 00:00:00
INFO 2025-05-29 20:57:25,784 dialog_manager Multiple date result: {'check_in': '2025-06-10', 'check_out': '2025-06-12'}
INFO 2025-05-29 20:57:25,784 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 20:57:25,785 views Updated session state: confirming_additional_booking
INFO 2025-05-29 20:57:25,785 views Updated user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 20:57:25,800 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:57:25,803 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 957
INFO 2025-05-29 20:57:25,808 views Database connection successful
INFO 2025-05-29 20:57:25,809 views Received chat request at 2025-05-29 20:57:25.809406
DEBUG 2025-05-29 20:57:25,810 views Request headers: {'Content-Length': '507', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 20:57:25,810 views Request body: {"message": "A", "session": {"user_data": {"is_returning_customer": false, "parent_booking": {"id": 8, "booking_id": "BK-69789", "guest_name": "TLS", "room_name": "Deluxe Room", "check_in_date": "2025-06-01", "check_out_date": "2025-06-03"}, "is_additional_booking": true, "additional_room_type": "Deluxe Room", "additional_room_price": 205.0, "additional_check_in_date": "2025-06-10", "additional_check_out_date": "2025-06-12", "guest_name": "TLS"}, "state": "confirming_additional_booking", "lang": "en"}}
INFO 2025-05-29 20:57:25,811 views User input: A
INFO 2025-05-29 20:57:25,811 views Current session state: confirming_additional_booking
INFO 2025-05-29 20:57:25,811 views Current user data: {'is_returning_customer': False, 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 20:57:26,245 dialog_manager Using device: cpu
WARNING 2025-05-29 20:57:26,245 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 20:57:26,245 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 20:57:26,245 dialog_manager Processing message: A
INFO 2025-05-29 20:57:26,245 dialog_manager Processing input: A
INFO 2025-05-29 20:57:26,245 dialog_manager Using language: en
INFO 2025-05-29 20:57:26,245 dialog_manager Detecting intent for input: A
INFO 2025-05-29 20:57:26,258 dialog_manager Detected intent: unknown
INFO 2025-05-29 20:57:26,272 models Booking saved: BK-60687 for TLS
INFO 2025-05-29 20:57:26,272 dialog_manager Additional booking created successfully: ID=10, Booking_ID=BK-60687
INFO 2025-05-29 20:57:26,273 dialog_manager Linked to parent booking: BK-69789
INFO 2025-05-29 20:57:26,274 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 20:57:26,274 views Updated session state: greeting
INFO 2025-05-29 20:57:26,275 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 20:57:26,281 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 20:57:26,283 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 507
INFO 2025-05-29 21:03:01,933 views Database connection successful
INFO 2025-05-29 21:03:01,943 views Received chat request at 2025-05-29 21:03:01.943553
DEBUG 2025-05-29 21:03:01,943 views Request headers: {'Content-Length': '183', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 21:03:01,950 views Request body: {"message":"booking another room","session":{"user_data":{"is_returning_customer":true,"date_change_8_2025-06-01":true,"processing_date_change":false},"state":"greeting","lang":"fi"}}
INFO 2025-05-29 21:03:01,950 views User input: booking another room
INFO 2025-05-29 21:03:01,950 views Current session state: greeting
INFO 2025-05-29 21:03:01,950 views Current user data: {'is_returning_customer': True, 'date_change_8_2025-06-01': True, 'processing_date_change': False}
INFO 2025-05-29 21:03:02,580 dialog_manager Using device: cpu
WARNING 2025-05-29 21:03:02,581 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:03:02,582 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:03:02,582 dialog_manager Processing message: booking another room
INFO 2025-05-29 21:03:02,582 dialog_manager Processing input: booking another room
INFO 2025-05-29 21:03:02,582 dialog_manager Using language: fi
INFO 2025-05-29 21:03:02,582 dialog_manager Detecting intent for input: booking another room
INFO 2025-05-29 21:03:02,602 dialog_manager Book another room intent detected
INFO 2025-05-29 21:03:02,603 dialog_manager Detected intent: book_another_room
ERROR 2025-05-29 21:03:06,385 dialog_manager Error in sentiment analysis: Cannot copy out of meta tensor; no data! Please use torch.nn.Module.to_empty() instead of torch.nn.Module.to() when moving module from meta to a different device.
INFO 2025-05-29 21:03:06,385 dialog_manager Sentiment analysis: Neutral (confidence: 0.33)
INFO 2025-05-29 21:03:06,385 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 21:03:06,385 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden'}
INFO 2025-05-29 21:03:06,385 views Updated session state: collecting_parent_booking_id
INFO 2025-05-29 21:03:06,385 views Updated user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden'}
INFO 2025-05-29 21:03:06,385 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-29 21:03:06,385 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:03:06,405 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 345
INFO 2025-05-29 21:03:21,606 views Database connection successful
INFO 2025-05-29 21:03:21,606 views Received chat request at 2025-05-29 21:03:21.606540
DEBUG 2025-05-29 21:03:21,606 views Request headers: {'Content-Length': '212', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 21:03:21,606 views Request body: {"message":"BK-69789","session":{"user_data":{"is_returning_customer":false,"date_change_8_2025-06-01":true,"processing_date_change":false,"username":"Golden"},"state":"collecting_parent_booking_id","lang":"fi"}}
INFO 2025-05-29 21:03:21,606 views User input: BK-69789
INFO 2025-05-29 21:03:21,606 views Current session state: collecting_parent_booking_id
INFO 2025-05-29 21:03:21,606 views Current user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden'}
INFO 2025-05-29 21:03:22,556 dialog_manager Using device: cpu
WARNING 2025-05-29 21:03:22,556 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:03:22,556 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:03:22,556 dialog_manager Processing message: BK-69789
INFO 2025-05-29 21:03:22,556 dialog_manager Processing input: BK-69789
INFO 2025-05-29 21:03:22,556 dialog_manager Using language: fi
INFO 2025-05-29 21:03:22,556 dialog_manager Detecting intent for input: BK-69789
INFO 2025-05-29 21:03:22,576 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:03:22,583 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 21:03:22,583 views Updated session state: selecting_additional_room_type
INFO 2025-05-29 21:03:22,583 views Updated user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 1), 'check_out_date': datetime.date(2025, 6, 3)}, 'is_additional_booking': True}
INFO 2025-05-29 21:03:22,596 views Generated response: Perfect! I'll help you book an additional room to go with Deluxe Room.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-29 21:03:22,597 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:03:22,602 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 720
INFO 2025-05-29 21:03:33,986 views Database connection successful
INFO 2025-05-29 21:03:33,986 views Received chat request at 2025-05-29 21:03:33.986082
DEBUG 2025-05-29 21:03:33,986 views Request headers: {'Content-Length': '394', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 21:03:33,986 views Request body: {"message":"suite","session":{"user_data":{"is_returning_customer":false,"date_change_8_2025-06-01":true,"processing_date_change":false,"username":"Golden","parent_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-01","check_out_date":"2025-06-03"},"is_additional_booking":true},"state":"selecting_additional_room_type","lang":"fi"}}
INFO 2025-05-29 21:03:33,989 views User input: suite
INFO 2025-05-29 21:03:33,990 views Current session state: selecting_additional_room_type
INFO 2025-05-29 21:03:33,991 views Current user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True}
INFO 2025-05-29 21:03:34,622 dialog_manager Using device: cpu
WARNING 2025-05-29 21:03:34,622 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:03:34,622 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:03:34,622 dialog_manager Processing message: suite
INFO 2025-05-29 21:03:34,622 dialog_manager Processing input: suite
INFO 2025-05-29 21:03:34,622 dialog_manager Using language: fi
INFO 2025-05-29 21:03:34,622 dialog_manager Detecting intent for input: suite
INFO 2025-05-29 21:03:34,622 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:03:34,637 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421.0}
INFO 2025-05-29 21:03:34,638 views Updated session state: confirming_additional_dates
INFO 2025-05-29 21:03:34,638 views Updated user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421.0}
INFO 2025-05-29 21:03:34,639 views Generated response: Great! You've selected Suite (RM421.00/night) for your additional booking.

Your current booking is from 2025-06-01 to 2025-06-03.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-29 21:03:34,639 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:03:34,643 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 746
INFO 2025-05-29 21:03:51,159 views Database connection successful
INFO 2025-05-29 21:03:51,160 views Received chat request at 2025-05-29 21:03:51.160596
DEBUG 2025-05-29 21:03:51,161 views Request headers: {'Content-Length': '447', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 21:03:51,163 views Request body: {"message":"no","session":{"user_data":{"is_returning_customer":false,"date_change_8_2025-06-01":true,"processing_date_change":false,"username":"Golden","parent_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-01","check_out_date":"2025-06-03"},"is_additional_booking":true,"additional_room_type":"Suite","additional_room_price":421},"state":"confirming_additional_dates","lang":"fi"}}
INFO 2025-05-29 21:03:51,163 views User input: no
INFO 2025-05-29 21:03:51,163 views Current session state: confirming_additional_dates
INFO 2025-05-29 21:03:51,163 views Current user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421}
INFO 2025-05-29 21:03:51,791 dialog_manager Using device: cpu
WARNING 2025-05-29 21:03:51,792 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:03:51,792 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:03:51,792 dialog_manager Processing message: no
INFO 2025-05-29 21:03:51,792 dialog_manager Processing input: no
INFO 2025-05-29 21:03:51,792 dialog_manager Using language: fi
INFO 2025-05-29 21:03:51,792 dialog_manager Detecting intent for input: no
INFO 2025-05-29 21:03:51,792 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:03:51,792 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421}
INFO 2025-05-29 21:03:51,802 views Updated session state: collecting_additional_dates
INFO 2025-05-29 21:03:51,803 views Updated user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421}
INFO 2025-05-29 21:03:51,804 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-29 21:03:51,804 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:03:51,808 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 610
INFO 2025-05-29 21:04:11,384 views Database connection successful
INFO 2025-05-29 21:04:11,384 views Received chat request at 2025-05-29 21:04:11.384500
DEBUG 2025-05-29 21:04:11,384 views Request headers: {'Content-Length': '463', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 21:04:11,384 views Request body: {"message":"June 10 to June 12","session":{"user_data":{"is_returning_customer":false,"date_change_8_2025-06-01":true,"processing_date_change":false,"username":"Golden","parent_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-01","check_out_date":"2025-06-03"},"is_additional_booking":true,"additional_room_type":"Suite","additional_room_price":421},"state":"collecting_additional_dates","lang":"fi"}}
INFO 2025-05-29 21:04:11,384 views User input: June 10 to June 12
INFO 2025-05-29 21:04:11,384 views Current session state: collecting_additional_dates
INFO 2025-05-29 21:04:11,384 views Current user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421}
INFO 2025-05-29 21:04:12,018 dialog_manager Using device: cpu
WARNING 2025-05-29 21:04:12,018 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:04:12,018 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:04:12,018 dialog_manager Processing message: June 10 to June 12
INFO 2025-05-29 21:04:12,024 dialog_manager Processing input: June 10 to June 12
INFO 2025-05-29 21:04:12,025 dialog_manager Using language: fi
INFO 2025-05-29 21:04:12,025 dialog_manager Detecting intent for input: June 10 to June 12
INFO 2025-05-29 21:04:12,025 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:04:12,025 dialog_manager Extracting dates from: June 10 to June 12
INFO 2025-05-29 21:04:12,025 dialog_manager Extracted month-to-month date: check-in 2025-06-10 00:00:00, check-out 2025-06-12 00:00:00
INFO 2025-05-29 21:04:12,025 dialog_manager Multiple date result: {'check_in': '2025-06-10', 'check_out': '2025-06-12'}
INFO 2025-05-29 21:04:12,041 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 21:04:12,042 views Updated session state: confirming_additional_booking
INFO 2025-05-29 21:04:12,042 views Updated user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 21:04:12,053 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:04:12,056 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1028
INFO 2025-05-29 21:04:23,125 views Database connection successful
INFO 2025-05-29 21:04:23,125 views Received chat request at 2025-05-29 21:04:23.125141
DEBUG 2025-05-29 21:04:23,125 views Request headers: {'Content-Length': '554', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=YN9RTH1K8RQFlTp5qPnv8R1PIowyHwvu; sessionid=c7yxl52rewkyirktzwtgqut1529srkzx'}
DEBUG 2025-05-29 21:04:23,125 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"date_change_8_2025-06-01":true,"processing_date_change":false,"username":"Golden","parent_booking":{"id":8,"booking_id":"BK-69789","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-01","check_out_date":"2025-06-03"},"is_additional_booking":true,"additional_room_type":"Suite","additional_room_price":421,"additional_check_in_date":"2025-06-10","additional_check_out_date":"2025-06-12","guest_name":"TLS"},"state":"confirming_additional_booking","lang":"fi"}}
INFO 2025-05-29 21:04:23,125 views User input: confirm
INFO 2025-05-29 21:04:23,125 views Current session state: confirming_additional_booking
INFO 2025-05-29 21:04:23,125 views Current user data: {'is_returning_customer': False, 'date_change_8_2025-06-01': True, 'processing_date_change': False, 'username': 'Golden', 'parent_booking': {'id': 8, 'booking_id': 'BK-69789', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-01', 'check_out_date': '2025-06-03'}, 'is_additional_booking': True, 'additional_room_type': 'Suite', 'additional_room_price': 421, 'additional_check_in_date': '2025-06-10', 'additional_check_out_date': '2025-06-12', 'guest_name': 'TLS'}
INFO 2025-05-29 21:04:23,782 dialog_manager Using device: cpu
WARNING 2025-05-29 21:04:23,782 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:04:23,782 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:04:23,782 dialog_manager Processing message: confirm
INFO 2025-05-29 21:04:23,782 dialog_manager Processing input: confirm
INFO 2025-05-29 21:04:23,782 dialog_manager Using language: fi
INFO 2025-05-29 21:04:23,794 dialog_manager Detecting intent for input: confirm
INFO 2025-05-29 21:04:23,801 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:04:23,812 models Booking saved: BK-74679 for TLS
INFO 2025-05-29 21:04:23,814 dialog_manager Additional booking created successfully: ID=11, Booking_ID=BK-74679
INFO 2025-05-29 21:04:23,814 dialog_manager Linked to parent booking: BK-69789
INFO 2025-05-29 21:04:23,815 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-29 21:04:23,816 views Updated session state: greeting
INFO 2025-05-29 21:04:23,816 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-29 21:04:23,826 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:04:23,829 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 507
INFO 2025-05-29 21:04:32,784 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11239
INFO 2025-05-29 21:04:32,832 basehttp "GET /media/profile_pictures/Acer_Wallpaper_05_3840x2400.jpg HTTP/1.1" 304 0
INFO 2025-05-29 21:05:56,999 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-05-29 21:06:02,511 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:06:12,126 middleware Admin user found: admin
INFO 2025-05-29 21:10:15,996 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-05-29 21:10:18,774 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:10:26,718 middleware Admin user found: admin
INFO 2025-05-29 21:10:26,994 views Database connection successful
INFO 2025-05-29 21:10:26,994 views Received chat request at 2025-05-29 21:10:26.994438
DEBUG 2025-05-29 21:10:26,994 views Request headers: {'Content-Length': '55', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:10:26,994 views Request body: {"message": "book a room", "session": {}, "user_id": 1}
INFO 2025-05-29 21:10:26,997 views User input: book a room
INFO 2025-05-29 21:10:26,997 views Current session state: None
INFO 2025-05-29 21:10:26,998 views Current user data: None
INFO 2025-05-29 21:10:27,001 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:10:27,604 dialog_manager Using device: cpu
WARNING 2025-05-29 21:10:27,604 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:10:27,611 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:10:27,611 dialog_manager Processing message: book a room
INFO 2025-05-29 21:10:27,611 dialog_manager Processing input: book a room
INFO 2025-05-29 21:10:28,032 dialog_manager Using language: en
INFO 2025-05-29 21:10:28,032 dialog_manager Detecting intent for input: book a room
INFO 2025-05-29 21:10:28,071 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:10:28,071 dialog_manager Detected intent: booking
INFO 2025-05-29 21:10:28,073 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:10:28,076 dialog_manager Extracting dates from: book a room
WARNING 2025-05-29 21:10:28,076 dialog_manager No dates found
INFO 2025-05-29 21:10:28,083 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user': <User: admin>}
INFO 2025-05-29 21:10:28,083 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:10:28,084 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user': <User: admin>}
INFO 2025-05-29 21:10:28,100 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
ERROR 2025-05-29 21:10:28,101 views Unhandled exception in chatbot_api: Object of type User is not JSON serializable
ERROR 2025-05-29 21:10:28,104 views Traceback (most recent call last):
  File "C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py", line 456, in chatbot_api
    return JsonResponse(response_data)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\response.py", line 751, in __init__
    data = json.dumps(data, cls=encoder, **json_dumps_params)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\serializers\json.py", line 114, in default
    return super().default(o)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable

ERROR 2025-05-29 21:10:28,105 middleware Exception in request: Object of type User is not JSON serializable
ERROR 2025-05-29 21:10:28,107 middleware Traceback (most recent call last):
  File "C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py", line 456, in chatbot_api
    return JsonResponse(response_data)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\response.py", line 751, in __init__
    data = json.dumps(data, cls=encoder, **json_dumps_params)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\serializers\json.py", line 114, in default
    return super().default(o)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\views\decorators\http.py", line 64, in inner
    return func(request, *args, **kwargs)
  File "C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py", line 462, in chatbot_api
    return JsonResponse({
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\response.py", line 751, in __init__
    data = json.dumps(data, cls=encoder, **json_dumps_params)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\serializers\json.py", line 114, in default
    return super().default(o)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type User is not JSON serializable

ERROR 2025-05-29 21:10:28,114 log Internal Server Error: /hotel_booking/chatbot/api/
ERROR 2025-05-29 21:10:28,115 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 500 3393
INFO 2025-05-29 21:10:52,658 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-05-29 21:10:54,461 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:11:00,700 middleware Admin user found: admin
INFO 2025-05-29 21:11:10,673 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-05-29 21:11:12,054 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:11:17,625 middleware Admin user found: admin
INFO 2025-05-29 21:11:30,213 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:11:32,691 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:11:39,935 middleware Admin user found: admin
INFO 2025-05-29 21:12:15,669 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-05-29 21:12:18,482 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:12:25,771 middleware Admin user found: admin
INFO 2025-05-29 21:12:54,614 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-05-29 21:12:56,414 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:13:02,125 middleware Admin user found: admin
INFO 2025-05-29 21:13:06,942 views Database connection successful
INFO 2025-05-29 21:13:06,942 views Received chat request at 2025-05-29 21:13:06.942842
DEBUG 2025-05-29 21:13:06,945 views Request headers: {'Content-Length': '55', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:13:06,945 views Request body: {"message": "book a room", "session": {}, "user_id": 1}
INFO 2025-05-29 21:13:06,945 views User input: book a room
INFO 2025-05-29 21:13:06,946 views Current session state: None
INFO 2025-05-29 21:13:06,946 views Current user data: None
INFO 2025-05-29 21:13:06,949 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:13:07,496 dialog_manager Using device: cpu
WARNING 2025-05-29 21:13:07,496 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:13:07,500 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:13:07,504 dialog_manager Processing message: book a room
INFO 2025-05-29 21:13:07,505 dialog_manager Processing input: book a room
INFO 2025-05-29 21:13:07,863 dialog_manager Using language: en
INFO 2025-05-29 21:13:07,863 dialog_manager Detecting intent for input: book a room
INFO 2025-05-29 21:13:07,889 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:13:07,890 dialog_manager Detected intent: booking
INFO 2025-05-29 21:13:07,891 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:13:07,894 dialog_manager Extracting dates from: book a room
WARNING 2025-05-29 21:13:07,894 dialog_manager No dates found
INFO 2025-05-29 21:13:07,902 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:13:07,902 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:13:07,902 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:13:07,915 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:13:07,915 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:13:07,920 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:13:07,937 views Database connection successful
INFO 2025-05-29 21:13:07,943 views Received chat request at 2025-05-29 21:13:07.943104
DEBUG 2025-05-29 21:13:07,944 views Request headers: {'Content-Length': '187', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:13:07,944 views Request body: {"message": "Standard Room", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:13:07,945 views User input: Standard Room
INFO 2025-05-29 21:13:07,945 views Current session state: collecting_booking_info
INFO 2025-05-29 21:13:07,945 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1}
INFO 2025-05-29 21:13:07,948 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:13:08,369 dialog_manager Using device: cpu
WARNING 2025-05-29 21:13:08,369 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:13:08,369 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:13:08,369 dialog_manager Processing message: Standard Room
INFO 2025-05-29 21:13:08,369 dialog_manager Processing input: Standard Room
INFO 2025-05-29 21:13:08,369 dialog_manager Using language: af
INFO 2025-05-29 21:13:08,369 dialog_manager Detecting intent for input: Standard Room
INFO 2025-05-29 21:13:08,369 dialog_manager Booking intent detected
INFO 2025-05-29 21:13:08,369 dialog_manager Detected intent: booking
INFO 2025-05-29 21:13:08,379 dialog_manager Using entire message as name: Standard Room
INFO 2025-05-29 21:13:08,380 dialog_manager Extracting dates from: Standard Room
WARNING 2025-05-29 21:13:08,380 dialog_manager No dates found
INFO 2025-05-29 21:13:08,380 dialog_manager Extracted room type: Standard
INFO 2025-05-29 21:13:08,380 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Standard Room', 'room_type': 'Standard'}
INFO 2025-05-29 21:13:08,381 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Standard Room', 'room_type': 'Standard'}
INFO 2025-05-29 21:13:08,381 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:13:08,381 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Standard Room', 'room_type': 'Standard'}
INFO 2025-05-29 21:13:08,388 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:13:08,390 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:13:08,392 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 319
INFO 2025-05-29 21:13:08,397 views Database connection successful
INFO 2025-05-29 21:13:08,397 views Received chat request at 2025-05-29 21:13:08.397578
DEBUG 2025-05-29 21:13:08,398 views Request headers: {'Content-Length': '248', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:13:08,398 views Request body: {"message": "June 25 to June 27", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Standard Room", "room_type": "Standard"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:13:08,398 views User input: June 25 to June 27
INFO 2025-05-29 21:13:08,398 views Current session state: collecting_booking_info
INFO 2025-05-29 21:13:08,399 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard'}
INFO 2025-05-29 21:13:08,401 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:13:08,808 dialog_manager Using device: cpu
WARNING 2025-05-29 21:13:08,808 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:13:08,808 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:13:08,808 dialog_manager Processing message: June 25 to June 27
INFO 2025-05-29 21:13:08,808 dialog_manager Processing input: June 25 to June 27
INFO 2025-05-29 21:13:08,808 dialog_manager Using language: af
INFO 2025-05-29 21:13:08,808 dialog_manager Detecting intent for input: June 25 to June 27
INFO 2025-05-29 21:13:08,813 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:13:08,813 dialog_manager Extracting dates from: June 25 to June 27
INFO 2025-05-29 21:13:08,818 dialog_manager Extracted month-to-month date: check-in 2025-06-25 00:00:00, check-out 2025-06-27 00:00:00
INFO 2025-05-29 21:13:08,818 dialog_manager Multiple date result: {'check_in': '2025-06-25', 'check_out': '2025-06-27'}
INFO 2025-05-29 21:13:08,819 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'user': <User: admin>, 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27'}
INFO 2025-05-29 21:13:08,819 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'user': <User: admin>, 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27'}
INFO 2025-05-29 21:13:08,819 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:13:08,819 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'user': <User: admin>, 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27'}
INFO 2025-05-29 21:13:08,826 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:13:08,826 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:13:08,829 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 382
INFO 2025-05-29 21:13:08,835 views Database connection successful
INFO 2025-05-29 21:13:08,835 views Received chat request at 2025-05-29 21:13:08.835298
DEBUG 2025-05-29 21:13:08,835 views Request headers: {'Content-Length': '310', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:13:08,836 views Request body: {"message": "Profile Test User", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Standard Room", "room_type": "Standard", "check_in_date": "2025-06-25", "check_out_date": "2025-06-27"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:13:08,836 views User input: Profile Test User
INFO 2025-05-29 21:13:08,836 views Current session state: collecting_booking_info
INFO 2025-05-29 21:13:08,836 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27'}
INFO 2025-05-29 21:13:08,838 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:13:09,268 dialog_manager Using device: cpu
WARNING 2025-05-29 21:13:09,268 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:13:09,282 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:13:09,282 dialog_manager Processing message: Profile Test User
INFO 2025-05-29 21:13:09,282 dialog_manager Processing input: Profile Test User
INFO 2025-05-29 21:13:09,283 dialog_manager Using language: af
INFO 2025-05-29 21:13:09,283 dialog_manager Detecting intent for input: Profile Test User
INFO 2025-05-29 21:13:09,291 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:13:09,292 dialog_manager Extracting dates from: Profile Test User
WARNING 2025-05-29 21:13:09,293 dialog_manager No dates found
INFO 2025-05-29 21:13:09,293 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'user': <User: admin>}
INFO 2025-05-29 21:13:09,293 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:13:09,293 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'user': <User: admin>}
INFO 2025-05-29 21:13:09,298 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:13:09,300 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:13:09,306 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 382
INFO 2025-05-29 21:13:09,310 views Database connection successful
INFO 2025-05-29 21:13:09,311 views Received chat request at 2025-05-29 21:13:09.311561
DEBUG 2025-05-29 21:13:09,311 views Request headers: {'Content-Length': '316', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:13:09,312 views Request body: {"message": "profiletest@example.com", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Standard Room", "room_type": "Standard", "check_in_date": "2025-06-25", "check_out_date": "2025-06-27"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:13:09,312 views User input: profiletest@example.com
INFO 2025-05-29 21:13:09,313 views Current session state: collecting_booking_info
INFO 2025-05-29 21:13:09,313 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27'}
INFO 2025-05-29 21:13:09,315 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:13:09,885 dialog_manager Using device: cpu
WARNING 2025-05-29 21:13:09,885 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:13:09,885 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:13:09,906 dialog_manager Processing message: profiletest@example.com
INFO 2025-05-29 21:13:09,908 dialog_manager Processing input: profiletest@example.com
INFO 2025-05-29 21:13:09,909 dialog_manager Using language: af
INFO 2025-05-29 21:13:09,909 dialog_manager Detecting intent for input: profiletest@example.com
INFO 2025-05-29 21:13:09,915 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:13:09,915 dialog_manager Extracted standalone email: profiletest@example.com
INFO 2025-05-29 21:13:09,917 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'user': <User: admin>, 'email': 'profiletest@example.com'}
INFO 2025-05-29 21:13:09,917 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'user': <User: admin>, 'email': 'profiletest@example.com'}
INFO 2025-05-29 21:13:09,917 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:13:09,917 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'user': <User: admin>, 'email': 'profiletest@example.com'}
INFO 2025-05-29 21:13:09,922 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:13:09,922 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:13:09,927 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 418
INFO 2025-05-29 21:13:09,931 views Database connection successful
INFO 2025-05-29 21:13:09,931 views Received chat request at 2025-05-29 21:13:09.931539
DEBUG 2025-05-29 21:13:09,932 views Request headers: {'Content-Length': '341', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:13:09,933 views Request body: {"message": "555-123-4567", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Standard Room", "room_type": "Standard", "check_in_date": "2025-06-25", "check_out_date": "2025-06-27", "email": "profiletest@example.com"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:13:09,934 views User input: 555-123-4567
INFO 2025-05-29 21:13:09,934 views Current session state: collecting_booking_info
INFO 2025-05-29 21:13:09,934 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'email': 'profiletest@example.com'}
INFO 2025-05-29 21:13:09,936 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:13:10,330 dialog_manager Using device: cpu
WARNING 2025-05-29 21:13:10,330 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:13:10,330 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:13:10,330 dialog_manager Processing message: 555-123-4567
INFO 2025-05-29 21:13:10,330 dialog_manager Processing input: 555-123-4567
INFO 2025-05-29 21:13:10,330 dialog_manager Using language: af
INFO 2025-05-29 21:13:10,330 dialog_manager Detecting intent for input: 555-123-4567
INFO 2025-05-29 21:13:10,330 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:13:10,345 dialog_manager Extracting dates from: 555-123-4567
WARNING 2025-05-29 21:13:10,345 dialog_manager No dates found
INFO 2025-05-29 21:13:10,345 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'email': 'profiletest@example.com', 'user': <User: admin>}
INFO 2025-05-29 21:13:10,345 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:13:10,346 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Standard Room', 'room_type': 'Standard', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-27', 'email': 'profiletest@example.com', 'user': <User: admin>}
INFO 2025-05-29 21:13:10,353 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:13:10,353 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:13:10,354 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 418
INFO 2025-05-29 21:14:13,829 views Database connection successful
INFO 2025-05-29 21:14:13,830 views Received chat request at 2025-05-29 21:14:13.830552
DEBUG 2025-05-29 21:14:13,831 views Request headers: {'Content-Length': '55', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:14:13,831 views Request body: {"message": "book a room", "session": {}, "user_id": 1}
INFO 2025-05-29 21:14:13,832 views User input: book a room
INFO 2025-05-29 21:14:13,832 views Current session state: None
INFO 2025-05-29 21:14:13,834 views Current user data: None
INFO 2025-05-29 21:14:13,834 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:14:14,335 dialog_manager Using device: cpu
WARNING 2025-05-29 21:14:14,335 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:14:14,335 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:14:14,335 dialog_manager Processing message: book a room
INFO 2025-05-29 21:14:14,335 dialog_manager Processing input: book a room
INFO 2025-05-29 21:14:14,347 dialog_manager Using language: en
INFO 2025-05-29 21:14:14,347 dialog_manager Detecting intent for input: book a room
INFO 2025-05-29 21:14:14,356 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:14:14,356 dialog_manager Detected intent: booking
INFO 2025-05-29 21:14:14,357 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:14:14,357 dialog_manager Extracting dates from: book a room
WARNING 2025-05-29 21:14:14,357 dialog_manager No dates found
INFO 2025-05-29 21:14:14,364 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:14:14,365 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:14:14,366 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:14:14,372 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:14:14,372 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:14:14,375 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:14:14,381 views Database connection successful
INFO 2025-05-29 21:14:14,383 views Received chat request at 2025-05-29 21:14:14.383019
DEBUG 2025-05-29 21:14:14,383 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:14:14,383 views Request body: {"message": "John Smith", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:14:14,384 views User input: John Smith
INFO 2025-05-29 21:14:14,384 views Current session state: collecting_booking_info
INFO 2025-05-29 21:14:14,384 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1}
INFO 2025-05-29 21:14:14,386 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:14:14,799 dialog_manager Using device: cpu
WARNING 2025-05-29 21:14:14,799 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:14:14,799 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:14:14,799 dialog_manager Processing message: John Smith
INFO 2025-05-29 21:14:14,799 dialog_manager Processing input: John Smith
INFO 2025-05-29 21:14:14,799 dialog_manager Using language: af
INFO 2025-05-29 21:14:14,799 dialog_manager Detecting intent for input: John Smith
INFO 2025-05-29 21:14:14,805 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:14:14,805 dialog_manager Extracted name: John Smith
INFO 2025-05-29 21:14:14,809 dialog_manager Extracting dates from: John Smith
WARNING 2025-05-29 21:14:14,809 dialog_manager No dates found
INFO 2025-05-29 21:14:14,809 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:14:14,809 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:14:14,809 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:14:14,810 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:14:14,816 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:14:14,816 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:14:14,820 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 288
INFO 2025-05-29 21:14:14,833 views Database connection successful
INFO 2025-05-29 21:14:14,834 views Received chat request at 2025-05-29 21:14:14.834710
DEBUG 2025-05-29 21:14:14,835 views Request headers: {'Content-Length': '215', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:14:14,837 views Request body: {"message": "Standard Room", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "John Smith"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:14:14,838 views User input: Standard Room
INFO 2025-05-29 21:14:14,839 views Current session state: collecting_booking_info
INFO 2025-05-29 21:14:14,841 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:14:14,844 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:14:15,276 dialog_manager Using device: cpu
WARNING 2025-05-29 21:14:15,276 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:14:15,276 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:14:15,276 dialog_manager Processing message: Standard Room
INFO 2025-05-29 21:14:15,276 dialog_manager Processing input: Standard Room
INFO 2025-05-29 21:14:15,276 dialog_manager Using language: af
INFO 2025-05-29 21:14:15,276 dialog_manager Detecting intent for input: Standard Room
INFO 2025-05-29 21:14:15,276 dialog_manager Booking intent detected
INFO 2025-05-29 21:14:15,276 dialog_manager Detected intent: booking
INFO 2025-05-29 21:14:15,276 dialog_manager Extracting dates from: Standard Room
WARNING 2025-05-29 21:14:15,292 dialog_manager No dates found
INFO 2025-05-29 21:14:15,292 dialog_manager Extracted room type: Standard
INFO 2025-05-29 21:14:15,292 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'user': <User: admin>, 'room_type': 'Standard'}
INFO 2025-05-29 21:14:15,293 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'user': <User: admin>, 'room_type': 'Standard'}
INFO 2025-05-29 21:14:15,293 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:14:15,294 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'user': <User: admin>, 'room_type': 'Standard'}
INFO 2025-05-29 21:14:15,301 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:14:15,302 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:14:15,306 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 313
INFO 2025-05-29 21:14:15,311 views Database connection successful
INFO 2025-05-29 21:14:15,312 views Received chat request at 2025-05-29 21:14:15.311258
DEBUG 2025-05-29 21:14:15,313 views Request headers: {'Content-Length': '245', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:14:15,313 views Request body: {"message": "June 28 to June 30", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "John Smith", "room_type": "Standard"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:14:15,314 views User input: June 28 to June 30
INFO 2025-05-29 21:14:15,314 views Current session state: collecting_booking_info
INFO 2025-05-29 21:14:15,314 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard'}
INFO 2025-05-29 21:14:15,316 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:14:15,712 dialog_manager Using device: cpu
WARNING 2025-05-29 21:14:15,712 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:14:15,712 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:14:15,712 dialog_manager Processing message: June 28 to June 30
INFO 2025-05-29 21:14:15,712 dialog_manager Processing input: June 28 to June 30
INFO 2025-05-29 21:14:15,712 dialog_manager Using language: af
INFO 2025-05-29 21:14:15,712 dialog_manager Detecting intent for input: June 28 to June 30
INFO 2025-05-29 21:14:15,728 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:14:15,730 dialog_manager Extracting dates from: June 28 to June 30
INFO 2025-05-29 21:14:15,730 dialog_manager Extracted month-to-month date: check-in 2025-06-28 00:00:00, check-out 2025-06-30 00:00:00
INFO 2025-05-29 21:14:15,731 dialog_manager Multiple date result: {'check_in': '2025-06-28', 'check_out': '2025-06-30'}
INFO 2025-05-29 21:14:15,731 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'user': <User: admin>, 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30'}
INFO 2025-05-29 21:14:15,731 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'user': <User: admin>, 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30'}
INFO 2025-05-29 21:14:15,731 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:14:15,732 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'user': <User: admin>, 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30'}
INFO 2025-05-29 21:14:15,736 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:14:15,737 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:14:15,741 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 376
INFO 2025-05-29 21:14:15,746 views Database connection successful
INFO 2025-05-29 21:14:15,747 views Received chat request at 2025-05-29 21:14:15.747544
DEBUG 2025-05-29 21:14:15,748 views Request headers: {'Content-Length': '312', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:14:15,748 views Request body: {"message": "john.smith@example.com", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "John Smith", "room_type": "Standard", "check_in_date": "2025-06-28", "check_out_date": "2025-06-30"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:14:15,748 views User input: john.smith@example.com
INFO 2025-05-29 21:14:15,748 views Current session state: collecting_booking_info
INFO 2025-05-29 21:14:15,749 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30'}
INFO 2025-05-29 21:14:15,750 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:14:16,164 dialog_manager Using device: cpu
WARNING 2025-05-29 21:14:16,164 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:14:16,164 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:14:16,168 dialog_manager Processing message: john.smith@example.com
INFO 2025-05-29 21:14:16,168 dialog_manager Processing input: john.smith@example.com
INFO 2025-05-29 21:14:16,168 dialog_manager Using language: af
INFO 2025-05-29 21:14:16,171 dialog_manager Detecting intent for input: john.smith@example.com
INFO 2025-05-29 21:14:16,177 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:14:16,178 dialog_manager Extracted standalone email: john.smith@example.com
INFO 2025-05-29 21:14:16,179 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30', 'user': <User: admin>, 'email': 'john.smith@example.com'}
INFO 2025-05-29 21:14:16,179 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30', 'user': <User: admin>, 'email': 'john.smith@example.com'}
INFO 2025-05-29 21:14:16,180 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:14:16,180 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30', 'user': <User: admin>, 'email': 'john.smith@example.com'}
INFO 2025-05-29 21:14:16,186 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:14:16,186 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:14:16,191 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 411
INFO 2025-05-29 21:14:16,198 views Database connection successful
INFO 2025-05-29 21:14:16,199 views Received chat request at 2025-05-29 21:14:16.199958
DEBUG 2025-05-29 21:14:16,200 views Request headers: {'Content-Length': '337', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'X-Requested-With': 'XMLHttpRequest'}
DEBUG 2025-05-29 21:14:16,200 views Request body: {"message": "555-987-6543", "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "John Smith", "room_type": "Standard", "check_in_date": "2025-06-28", "check_out_date": "2025-06-30", "email": "john.smith@example.com"}, "state": "collecting_booking_info", "lang": "af"}, "user_id": 1}
INFO 2025-05-29 21:14:16,200 views User input: 555-987-6543
INFO 2025-05-29 21:14:16,202 views Current session state: collecting_booking_info
INFO 2025-05-29 21:14:16,202 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30', 'email': 'john.smith@example.com'}
INFO 2025-05-29 21:14:16,204 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:14:16,599 dialog_manager Using device: cpu
WARNING 2025-05-29 21:14:16,599 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:14:16,599 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:14:16,599 dialog_manager Processing message: 555-987-6543
INFO 2025-05-29 21:14:16,599 dialog_manager Processing input: 555-987-6543
INFO 2025-05-29 21:14:16,599 dialog_manager Using language: af
INFO 2025-05-29 21:14:16,599 dialog_manager Detecting intent for input: 555-987-6543
INFO 2025-05-29 21:14:16,599 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:14:16,599 dialog_manager Extracting dates from: 555-987-6543
WARNING 2025-05-29 21:14:16,611 dialog_manager No dates found
INFO 2025-05-29 21:14:16,612 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30', 'email': 'john.smith@example.com', 'user': <User: admin>}
INFO 2025-05-29 21:14:16,612 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:14:16,612 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'room_type': 'Standard', 'check_in_date': '2025-06-28', 'check_out_date': '2025-06-30', 'email': 'john.smith@example.com', 'user': <User: admin>}
INFO 2025-05-29 21:14:16,618 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:14:16,618 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:14:16,620 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 411
INFO 2025-05-29 21:14:59,894 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11239
INFO 2025-05-29 21:16:19,387 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18090
INFO 2025-05-29 21:16:19,490 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 21:16:44,344 models Booking saved: BK-TEST123 for Test User via Admin
INFO 2025-05-29 21:17:41,246 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11239
INFO 2025-05-29 21:17:43,593 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11239
INFO 2025-05-29 21:17:49,824 middleware Admin user admin logged in for admin panel
INFO 2025-05-29 21:17:49,945 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18772
INFO 2025-05-29 21:17:50,017 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 21:17:56,370 basehttp "GET /admin/hotel_booking/booking/12/change/ HTTP/1.1" 200 32418
INFO 2025-05-29 21:17:56,407 basehttp "GET /static/admin/css/forms.css HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,421 basehttp "GET /static/admin/js/calendar.js HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,424 basehttp "GET /static/admin/css/widgets.css HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,429 basehttp "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,431 basehttp "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,432 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-29 21:17:56,516 basehttp "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,527 basehttp "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,669 basehttp "GET /static/admin/js/inlines.js HTTP/1.1" 200 15628
INFO 2025-05-29 21:17:56,675 basehttp "GET /static/admin/js/change_form.js HTTP/1.1" 304 0
INFO 2025-05-29 21:17:56,689 basehttp "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 200 655
INFO 2025-05-29 21:17:56,755 basehttp "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 304 0
INFO 2025-05-29 21:18:05,454 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12179
INFO 2025-05-29 21:18:49,890 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:18:55,765 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:19:07,099 middleware Admin user found: admin
INFO 2025-05-29 21:19:13,040 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:19:15,999 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:19:26,527 middleware Admin user found: admin
INFO 2025-05-29 21:23:26,587 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:23:31,745 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:23:46,299 middleware Admin user found: admin
INFO 2025-05-29 21:23:57,634 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:24:03,609 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:24:16,404 middleware Admin user found: admin
INFO 2025-05-29 21:25:25,854 dialog_manager Using device: cpu
WARNING 2025-05-29 21:25:25,854 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:25:25,854 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:25:25,854 dialog_manager Extracted standalone phone: 0128833903
INFO 2025-05-29 21:25:25,870 dialog_manager Extracted phone: 0128833903
INFO 2025-05-29 21:25:25,870 dialog_manager Extracting dates from: My phone number is 0128833903
WARNING 2025-05-29 21:25:25,870 dialog_manager No dates found
INFO 2025-05-29 21:25:25,871 dialog_manager Extracted standalone phone: 012-8833903
INFO 2025-05-29 21:25:25,872 dialog_manager Extracted phone: 012-8833903
INFO 2025-05-29 21:25:25,872 dialog_manager Extracting dates from: My phone number is 012-8833903
WARNING 2025-05-29 21:25:25,872 dialog_manager No dates found
INFO 2025-05-29 21:25:25,872 dialog_manager Extracted standalone phone: 012 8833903
INFO 2025-05-29 21:25:25,872 dialog_manager Extracted phone: 012 8833903
INFO 2025-05-29 21:25:25,873 dialog_manager Extracting dates from: My phone number is 012 8833903
WARNING 2025-05-29 21:25:25,873 dialog_manager No dates found
INFO 2025-05-29 21:25:25,873 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 21:25:25,873 dialog_manager Extracted phone: 01158763903
INFO 2025-05-29 21:25:25,875 dialog_manager Extracting dates from: My phone number is 01158763903
WARNING 2025-05-29 21:25:25,875 dialog_manager No dates found
INFO 2025-05-29 21:25:25,875 dialog_manager Extracted standalone phone: 011-58763903
INFO 2025-05-29 21:25:25,876 dialog_manager Extracted phone: 011-58763903
INFO 2025-05-29 21:25:25,876 dialog_manager Extracting dates from: My phone number is 011-58763903
WARNING 2025-05-29 21:25:25,876 dialog_manager No dates found
INFO 2025-05-29 21:25:25,877 dialog_manager Extracted standalone phone: 011 58763903
INFO 2025-05-29 21:25:25,877 dialog_manager Extracted phone: 011 58763903
INFO 2025-05-29 21:25:25,877 dialog_manager Extracting dates from: My phone number is 011 58763903
WARNING 2025-05-29 21:25:25,877 dialog_manager No dates found
INFO 2025-05-29 21:25:25,878 dialog_manager Extracted standalone phone: 0138833903
INFO 2025-05-29 21:25:25,878 dialog_manager Extracted phone: 0138833903
INFO 2025-05-29 21:25:25,878 dialog_manager Extracting dates from: My phone number is 0138833903
WARNING 2025-05-29 21:25:25,878 dialog_manager No dates found
INFO 2025-05-29 21:25:25,879 dialog_manager Extracted standalone phone: 013-8833903
INFO 2025-05-29 21:25:25,879 dialog_manager Extracted phone: 013-8833903
INFO 2025-05-29 21:25:25,879 dialog_manager Extracting dates from: My phone number is 013-8833903
WARNING 2025-05-29 21:25:25,879 dialog_manager No dates found
INFO 2025-05-29 21:25:25,880 dialog_manager Extracted standalone phone: 0148833903
INFO 2025-05-29 21:25:25,880 dialog_manager Extracted phone: 0148833903
INFO 2025-05-29 21:25:25,880 dialog_manager Extracting dates from: My phone number is 0148833903
WARNING 2025-05-29 21:25:25,881 dialog_manager No dates found
INFO 2025-05-29 21:25:25,881 dialog_manager Extracted standalone phone: 014-8833903
INFO 2025-05-29 21:25:25,881 dialog_manager Extracted phone: 014-8833903
INFO 2025-05-29 21:25:25,881 dialog_manager Extracting dates from: My phone number is 014-8833903
WARNING 2025-05-29 21:25:25,882 dialog_manager No dates found
INFO 2025-05-29 21:25:25,882 dialog_manager Extracted standalone phone: 0158833903
INFO 2025-05-29 21:25:25,882 dialog_manager Extracted phone: 0158833903
INFO 2025-05-29 21:25:25,883 dialog_manager Extracting dates from: My phone number is 0158833903
WARNING 2025-05-29 21:25:25,883 dialog_manager No dates found
INFO 2025-05-29 21:25:25,883 dialog_manager Extracted standalone phone: 015-8833903
INFO 2025-05-29 21:25:25,883 dialog_manager Extracted phone: 015-8833903
INFO 2025-05-29 21:25:25,884 dialog_manager Extracting dates from: My phone number is 015-8833903
WARNING 2025-05-29 21:25:25,884 dialog_manager No dates found
INFO 2025-05-29 21:25:25,884 dialog_manager Extracted standalone phone: 0168833903
INFO 2025-05-29 21:25:25,884 dialog_manager Extracted phone: 0168833903
INFO 2025-05-29 21:25:25,885 dialog_manager Extracting dates from: My phone number is 0168833903
WARNING 2025-05-29 21:25:25,885 dialog_manager No dates found
INFO 2025-05-29 21:25:25,885 dialog_manager Extracted standalone phone: 016-8833903
INFO 2025-05-29 21:25:25,886 dialog_manager Extracted phone: 016-8833903
INFO 2025-05-29 21:25:25,886 dialog_manager Extracting dates from: My phone number is 016-8833903
WARNING 2025-05-29 21:25:25,886 dialog_manager No dates found
INFO 2025-05-29 21:25:25,886 dialog_manager Extracted standalone phone: 0178833903
INFO 2025-05-29 21:25:25,887 dialog_manager Extracted phone: 0178833903
INFO 2025-05-29 21:25:25,887 dialog_manager Extracting dates from: My phone number is 0178833903
WARNING 2025-05-29 21:25:25,887 dialog_manager No dates found
INFO 2025-05-29 21:25:25,888 dialog_manager Extracted standalone phone: 017-8833903
INFO 2025-05-29 21:25:25,888 dialog_manager Extracted phone: 017-8833903
INFO 2025-05-29 21:25:25,888 dialog_manager Extracting dates from: My phone number is 017-8833903
WARNING 2025-05-29 21:25:25,888 dialog_manager No dates found
INFO 2025-05-29 21:25:25,889 dialog_manager Extracted standalone phone: 0188833903
INFO 2025-05-29 21:25:25,889 dialog_manager Extracted phone: 0188833903
INFO 2025-05-29 21:25:25,889 dialog_manager Extracting dates from: My phone number is 0188833903
WARNING 2025-05-29 21:25:25,889 dialog_manager No dates found
INFO 2025-05-29 21:25:25,890 dialog_manager Extracted standalone phone: 018-8833903
INFO 2025-05-29 21:25:25,890 dialog_manager Extracted phone: 018-8833903
INFO 2025-05-29 21:25:25,890 dialog_manager Extracting dates from: My phone number is 018-8833903
WARNING 2025-05-29 21:25:25,891 dialog_manager No dates found
INFO 2025-05-29 21:25:25,891 dialog_manager Extracted standalone phone: 0198833903
INFO 2025-05-29 21:25:25,892 dialog_manager Extracted phone: 0198833903
INFO 2025-05-29 21:25:25,892 dialog_manager Extracting dates from: My phone number is 0198833903
WARNING 2025-05-29 21:25:25,892 dialog_manager No dates found
INFO 2025-05-29 21:25:25,893 dialog_manager Extracted standalone phone: 019-8833903
INFO 2025-05-29 21:25:25,893 dialog_manager Extracted phone: 019-8833903
INFO 2025-05-29 21:25:25,893 dialog_manager Extracting dates from: My phone number is 019-8833903
WARNING 2025-05-29 21:25:25,893 dialog_manager No dates found
INFO 2025-05-29 21:25:25,895 dialog_manager Extracted standalone phone: 0312345678
INFO 2025-05-29 21:25:25,895 dialog_manager Extracted phone: 0312345678
INFO 2025-05-29 21:25:25,896 dialog_manager Extracting dates from: My phone number is 0312345678
WARNING 2025-05-29 21:25:25,896 dialog_manager No dates found
INFO 2025-05-29 21:25:25,896 dialog_manager Extracted standalone phone: 03-12345678
INFO 2025-05-29 21:25:25,897 dialog_manager Extracted phone: 03-12345678
INFO 2025-05-29 21:25:25,897 dialog_manager Extracting dates from: My phone number is 03-12345678
WARNING 2025-05-29 21:25:25,897 dialog_manager No dates found
INFO 2025-05-29 21:25:25,897 dialog_manager Extracted standalone phone: 03 12345678
INFO 2025-05-29 21:25:25,898 dialog_manager Extracted phone: 03 12345678
INFO 2025-05-29 21:25:25,898 dialog_manager Extracting dates from: My phone number is 03 12345678
WARNING 2025-05-29 21:25:25,898 dialog_manager No dates found
INFO 2025-05-29 21:25:25,898 dialog_manager Extracted standalone phone: 041234567
INFO 2025-05-29 21:25:25,899 dialog_manager Extracted phone: 041234567
INFO 2025-05-29 21:25:25,899 dialog_manager Extracting dates from: My phone number is 041234567
WARNING 2025-05-29 21:25:25,899 dialog_manager No dates found
INFO 2025-05-29 21:25:25,899 dialog_manager Extracted standalone phone: 04-1234567
INFO 2025-05-29 21:25:25,899 dialog_manager Extracted phone: 04-1234567
INFO 2025-05-29 21:25:25,900 dialog_manager Extracting dates from: My phone number is 04-1234567
WARNING 2025-05-29 21:25:25,900 dialog_manager No dates found
INFO 2025-05-29 21:25:25,900 dialog_manager Extracted standalone phone: 04 1234567
INFO 2025-05-29 21:25:25,900 dialog_manager Extracted phone: 04 1234567
INFO 2025-05-29 21:25:25,901 dialog_manager Extracting dates from: My phone number is 04 1234567
WARNING 2025-05-29 21:25:25,901 dialog_manager No dates found
INFO 2025-05-29 21:25:25,901 dialog_manager Extracted standalone phone: 555-987-6543
INFO 2025-05-29 21:25:25,902 dialog_manager Extracted phone: 555-987-6543
INFO 2025-05-29 21:25:25,902 dialog_manager Extracting dates from: My phone number is 555-987-6543
WARNING 2025-05-29 21:25:25,902 dialog_manager No dates found
INFO 2025-05-29 21:25:25,902 dialog_manager Extracted standalone phone: 555 987 6543
INFO 2025-05-29 21:25:25,902 dialog_manager Extracted phone: 555 987 6543
INFO 2025-05-29 21:25:25,903 dialog_manager Extracting dates from: My phone number is 555 987 6543
WARNING 2025-05-29 21:25:25,903 dialog_manager No dates found
INFO 2025-05-29 21:25:25,903 dialog_manager Extracting dates from: +60-12-8833903
WARNING 2025-05-29 21:25:25,903 dialog_manager Invalid DD/MM/YYYY date: ('60', '12', '8833'): day is out of range for month
WARNING 2025-05-29 21:25:25,904 dialog_manager No dates found
INFO 2025-05-29 21:25:25,904 dialog_manager Extracting dates from: My phone number is +60-12-8833903
WARNING 2025-05-29 21:25:25,904 dialog_manager Invalid DD/MM/YYYY date: ('60', '12', '8833'): day is out of range for month
WARNING 2025-05-29 21:25:25,905 dialog_manager No dates found
INFO 2025-05-29 21:25:25,905 dialog_manager Extracting dates from: +60 12 8833903
WARNING 2025-05-29 21:25:25,907 dialog_manager No dates found
INFO 2025-05-29 21:25:25,907 dialog_manager Extracting dates from: My phone number is +60 12 8833903
WARNING 2025-05-29 21:25:25,907 dialog_manager No dates found
INFO 2025-05-29 21:26:08,869 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:26:13,827 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:26:24,101 middleware Admin user found: admin
INFO 2025-05-29 21:26:33,495 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-29 21:26:36,573 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:26:45,042 middleware Admin user found: admin
INFO 2025-05-29 21:26:59,239 dialog_manager Using device: cpu
WARNING 2025-05-29 21:26:59,255 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:26:59,255 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:26:59,255 dialog_manager Extracted standalone phone: 0128833903
INFO 2025-05-29 21:26:59,262 dialog_manager Extracted phone: 0128833903
INFO 2025-05-29 21:26:59,262 dialog_manager Extracting dates from: My phone number is 0128833903
WARNING 2025-05-29 21:26:59,262 dialog_manager No dates found
INFO 2025-05-29 21:26:59,264 dialog_manager Extracted standalone phone: 012-8833903
INFO 2025-05-29 21:26:59,266 dialog_manager Extracted phone: 012-8833903
INFO 2025-05-29 21:26:59,266 dialog_manager Extracting dates from: My phone number is 012-8833903
WARNING 2025-05-29 21:26:59,267 dialog_manager No dates found
INFO 2025-05-29 21:26:59,267 dialog_manager Extracted standalone phone: 012 8833903
INFO 2025-05-29 21:26:59,267 dialog_manager Extracted phone: 012 8833903
INFO 2025-05-29 21:26:59,267 dialog_manager Extracting dates from: My phone number is 012 8833903
WARNING 2025-05-29 21:26:59,267 dialog_manager No dates found
INFO 2025-05-29 21:26:59,267 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 21:26:59,271 dialog_manager Extracted phone: 01158763903
INFO 2025-05-29 21:26:59,271 dialog_manager Extracting dates from: My phone number is 01158763903
WARNING 2025-05-29 21:26:59,271 dialog_manager No dates found
INFO 2025-05-29 21:26:59,272 dialog_manager Extracted standalone phone: 011-58763903
INFO 2025-05-29 21:26:59,272 dialog_manager Extracted phone: 011-58763903
INFO 2025-05-29 21:26:59,272 dialog_manager Extracting dates from: My phone number is 011-58763903
WARNING 2025-05-29 21:26:59,272 dialog_manager No dates found
INFO 2025-05-29 21:26:59,273 dialog_manager Extracted standalone phone: 011 58763903
INFO 2025-05-29 21:26:59,273 dialog_manager Extracted phone: 011 58763903
INFO 2025-05-29 21:26:59,273 dialog_manager Extracting dates from: My phone number is 011 58763903
WARNING 2025-05-29 21:26:59,273 dialog_manager No dates found
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted standalone phone: 0138833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted phone: 0138833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracting dates from: My phone number is 0138833903
WARNING 2025-05-29 21:26:59,274 dialog_manager No dates found
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted standalone phone: 013-8833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted phone: 013-8833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracting dates from: My phone number is 013-8833903
WARNING 2025-05-29 21:26:59,274 dialog_manager No dates found
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted standalone phone: 0148833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted phone: 0148833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracting dates from: My phone number is 0148833903
WARNING 2025-05-29 21:26:59,274 dialog_manager No dates found
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted standalone phone: 014-8833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted phone: 014-8833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracting dates from: My phone number is 014-8833903
WARNING 2025-05-29 21:26:59,274 dialog_manager No dates found
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted standalone phone: 0158833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted phone: 0158833903
INFO 2025-05-29 21:26:59,274 dialog_manager Extracting dates from: My phone number is 0158833903
WARNING 2025-05-29 21:26:59,274 dialog_manager No dates found
INFO 2025-05-29 21:26:59,274 dialog_manager Extracted standalone phone: 015-8833903
INFO 2025-05-29 21:26:59,282 dialog_manager Extracted phone: 015-8833903
INFO 2025-05-29 21:26:59,282 dialog_manager Extracting dates from: My phone number is 015-8833903
WARNING 2025-05-29 21:26:59,283 dialog_manager No dates found
INFO 2025-05-29 21:26:59,286 dialog_manager Extracted standalone phone: 0168833903
INFO 2025-05-29 21:26:59,286 dialog_manager Extracted phone: 0168833903
INFO 2025-05-29 21:26:59,286 dialog_manager Extracting dates from: My phone number is 0168833903
WARNING 2025-05-29 21:26:59,286 dialog_manager No dates found
INFO 2025-05-29 21:26:59,286 dialog_manager Extracted standalone phone: 016-8833903
INFO 2025-05-29 21:26:59,286 dialog_manager Extracted phone: 016-8833903
INFO 2025-05-29 21:26:59,286 dialog_manager Extracting dates from: My phone number is 016-8833903
WARNING 2025-05-29 21:26:59,286 dialog_manager No dates found
INFO 2025-05-29 21:26:59,291 dialog_manager Extracted standalone phone: 0178833903
INFO 2025-05-29 21:26:59,291 dialog_manager Extracted phone: 0178833903
INFO 2025-05-29 21:26:59,291 dialog_manager Extracting dates from: My phone number is 0178833903
WARNING 2025-05-29 21:26:59,292 dialog_manager No dates found
INFO 2025-05-29 21:26:59,293 dialog_manager Extracted standalone phone: 017-8833903
INFO 2025-05-29 21:26:59,293 dialog_manager Extracted phone: 017-8833903
INFO 2025-05-29 21:26:59,293 dialog_manager Extracting dates from: My phone number is 017-8833903
WARNING 2025-05-29 21:26:59,293 dialog_manager No dates found
INFO 2025-05-29 21:26:59,294 dialog_manager Extracted standalone phone: 0188833903
INFO 2025-05-29 21:26:59,294 dialog_manager Extracted phone: 0188833903
INFO 2025-05-29 21:26:59,294 dialog_manager Extracting dates from: My phone number is 0188833903
WARNING 2025-05-29 21:26:59,294 dialog_manager No dates found
INFO 2025-05-29 21:26:59,295 dialog_manager Extracted standalone phone: 018-8833903
INFO 2025-05-29 21:26:59,295 dialog_manager Extracted phone: 018-8833903
INFO 2025-05-29 21:26:59,295 dialog_manager Extracting dates from: My phone number is 018-8833903
WARNING 2025-05-29 21:26:59,295 dialog_manager No dates found
INFO 2025-05-29 21:26:59,295 dialog_manager Extracted standalone phone: 0198833903
INFO 2025-05-29 21:26:59,295 dialog_manager Extracted phone: 0198833903
INFO 2025-05-29 21:26:59,295 dialog_manager Extracting dates from: My phone number is 0198833903
WARNING 2025-05-29 21:26:59,295 dialog_manager No dates found
INFO 2025-05-29 21:26:59,295 dialog_manager Extracted standalone phone: 019-8833903
INFO 2025-05-29 21:26:59,295 dialog_manager Extracted phone: 019-8833903
INFO 2025-05-29 21:26:59,295 dialog_manager Extracting dates from: My phone number is 019-8833903
WARNING 2025-05-29 21:26:59,295 dialog_manager No dates found
INFO 2025-05-29 21:26:59,299 dialog_manager Extracted standalone phone: 0312345678
INFO 2025-05-29 21:26:59,300 dialog_manager Extracted phone: 0312345678
INFO 2025-05-29 21:26:59,300 dialog_manager Extracting dates from: My phone number is 0312345678
WARNING 2025-05-29 21:26:59,301 dialog_manager No dates found
INFO 2025-05-29 21:26:59,302 dialog_manager Extracted standalone phone: 03-12345678
INFO 2025-05-29 21:26:59,302 dialog_manager Extracted phone: 03-12345678
INFO 2025-05-29 21:26:59,304 dialog_manager Extracting dates from: My phone number is 03-12345678
WARNING 2025-05-29 21:26:59,304 dialog_manager No dates found
INFO 2025-05-29 21:26:59,304 dialog_manager Extracted standalone phone: 03 12345678
INFO 2025-05-29 21:26:59,305 dialog_manager Extracted phone: 03 12345678
INFO 2025-05-29 21:26:59,305 dialog_manager Extracting dates from: My phone number is 03 12345678
WARNING 2025-05-29 21:26:59,305 dialog_manager No dates found
INFO 2025-05-29 21:26:59,305 dialog_manager Extracted standalone phone: 041234567
INFO 2025-05-29 21:26:59,305 dialog_manager Extracted phone: 041234567
INFO 2025-05-29 21:26:59,305 dialog_manager Extracting dates from: My phone number is 041234567
WARNING 2025-05-29 21:26:59,307 dialog_manager No dates found
INFO 2025-05-29 21:26:59,307 dialog_manager Extracted standalone phone: 04-1234567
INFO 2025-05-29 21:26:59,307 dialog_manager Extracted phone: 04-1234567
INFO 2025-05-29 21:26:59,307 dialog_manager Extracting dates from: My phone number is 04-1234567
WARNING 2025-05-29 21:26:59,307 dialog_manager No dates found
INFO 2025-05-29 21:26:59,308 dialog_manager Extracted standalone phone: 04 1234567
INFO 2025-05-29 21:26:59,308 dialog_manager Extracted phone: 04 1234567
INFO 2025-05-29 21:26:59,308 dialog_manager Extracting dates from: My phone number is 04 1234567
WARNING 2025-05-29 21:26:59,309 dialog_manager No dates found
INFO 2025-05-29 21:26:59,309 dialog_manager Extracted standalone phone: 555-987-6543
INFO 2025-05-29 21:26:59,309 dialog_manager Extracted phone: 555-987-6543
INFO 2025-05-29 21:26:59,309 dialog_manager Extracting dates from: My phone number is 555-987-6543
WARNING 2025-05-29 21:26:59,309 dialog_manager No dates found
INFO 2025-05-29 21:26:59,309 dialog_manager Extracted standalone phone: 555 987 6543
INFO 2025-05-29 21:26:59,309 dialog_manager Extracted phone: 555 987 6543
INFO 2025-05-29 21:26:59,309 dialog_manager Extracting dates from: My phone number is 555 987 6543
WARNING 2025-05-29 21:26:59,309 dialog_manager No dates found
INFO 2025-05-29 21:26:59,312 dialog_manager Extracted standalone phone: +60-12-8833903
INFO 2025-05-29 21:26:59,312 dialog_manager Extracted phone: +60-12-8833903
INFO 2025-05-29 21:26:59,312 dialog_manager Extracting dates from: My phone number is +60-12-8833903
WARNING 2025-05-29 21:26:59,312 dialog_manager Invalid DD/MM/YYYY date: ('60', '12', '8833'): day is out of range for month
WARNING 2025-05-29 21:26:59,313 dialog_manager No dates found
INFO 2025-05-29 21:26:59,313 dialog_manager Extracted standalone phone: +60 12 8833903
INFO 2025-05-29 21:26:59,313 dialog_manager Extracted phone: +60 12 8833903
INFO 2025-05-29 21:26:59,313 dialog_manager Extracting dates from: My phone number is +60 12 8833903
WARNING 2025-05-29 21:26:59,313 dialog_manager No dates found
WARNING 2025-05-29 21:27:55,647 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:27:55,655 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
WARNING 2025-05-29 21:27:55,658 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:27:55,658 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
WARNING 2025-05-29 21:27:55,679 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:27:55,680 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
INFO 2025-05-29 21:29:34,552 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
WARNING 2025-05-29 21:29:34,561 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:29:34,562 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
WARNING 2025-05-29 21:29:34,567 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:29:34,567 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
WARNING 2025-05-29 21:29:34,575 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:29:34,576 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
INFO 2025-05-29 21:30:20,892 middleware Admin user found: admin
ERROR 2025-05-29 21:30:20,910 exception Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_request(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\middleware\common.py", line 48, in process_request
    host = request.get_host()
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\request.py", line 186, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
WARNING 2025-05-29 21:30:28,738 log Bad Request: /hotel_booking/chatbot/
ERROR 2025-05-29 21:30:28,738 exception Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_request(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\middleware\common.py", line 48, in process_request
    host = request.get_host()
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\request.py", line 186, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
WARNING 2025-05-29 21:30:28,754 log Bad Request: /hotel_booking/chatbot/
ERROR 2025-05-29 21:30:28,756 exception Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_request(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\middleware\common.py", line 48, in process_request
    host = request.get_host()
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\request.py", line 186, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
WARNING 2025-05-29 21:30:28,761 log Bad Request: /hotel_booking/chatbot/
INFO 2025-05-29 21:32:55,973 autoreload Watching for file changes with StatReloader
INFO 2025-05-29 21:33:03,542 middleware Admin user found: admin
INFO 2025-05-29 21:33:27,857 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
WARNING 2025-05-29 21:33:27,892 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:33:27,896 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
WARNING 2025-05-29 21:33:27,909 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:33:27,920 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
WARNING 2025-05-29 21:33:27,949 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:33:27,961 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
INFO 2025-05-29 21:33:49,168 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24673
INFO 2025-05-29 21:33:49,230 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-29 21:33:49,232 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-29 21:33:49,254 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
INFO 2025-05-29 21:33:50,447 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16214
INFO 2025-05-29 21:33:51,172 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11118
INFO 2025-05-29 21:33:53,727 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12599
INFO 2025-05-29 21:33:54,645 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12304
INFO 2025-05-29 21:34:04,571 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-29 21:34:04,584 views Database connection successful
INFO 2025-05-29 21:34:04,585 views Received chat request at 2025-05-29 21:34:04.585919
DEBUG 2025-05-29 21:34:04,587 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:04,588 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:34:04,588 views User input: I want to book a room
INFO 2025-05-29 21:34:04,588 views Current session state: None
INFO 2025-05-29 21:34:04,589 views Current user data: None
INFO 2025-05-29 21:34:04,590 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:06,356 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:06,356 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:06,359 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:06,361 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:34:06,361 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:34:06,673 dialog_manager Using language: en
INFO 2025-05-29 21:34:06,674 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:34:06,700 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:34:06,700 dialog_manager Detected intent: booking
INFO 2025-05-29 21:34:06,702 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:34:06,705 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:34:06,705 dialog_manager No dates found
INFO 2025-05-29 21:34:06,711 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:06,711 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:34:06,712 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:06,729 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:06,729 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:06,733 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:34:06,738 views Database connection successful
INFO 2025-05-29 21:34:06,738 views Received chat request at 2025-05-29 21:34:06.738038
DEBUG 2025-05-29 21:34:06,738 views Request headers: {'Content-Length': '42', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:06,739 views Request body: {"message": "Ahmad Bin Ali", "user_id": 1}
INFO 2025-05-29 21:34:06,739 views User input: Ahmad Bin Ali
INFO 2025-05-29 21:34:06,739 views Current session state: None
INFO 2025-05-29 21:34:06,740 views Current user data: None
INFO 2025-05-29 21:34:06,741 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:07,360 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:07,360 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:07,361 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:07,361 dialog_manager Processing message: Ahmad Bin Ali
INFO 2025-05-29 21:34:07,361 dialog_manager Processing input: Ahmad Bin Ali
INFO 2025-05-29 21:34:07,375 dialog_manager Using language: en
INFO 2025-05-29 21:34:07,376 dialog_manager Detecting intent for input: Ahmad Bin Ali
INFO 2025-05-29 21:34:07,383 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:34:21,042 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-29 21:34:21,043 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-29 21:34:21,059 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:21,060 views Updated session state: greeting
INFO 2025-05-29 21:34:21,060 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:21,061 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-29 21:34:21,061 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:21,062 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:21,146 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-05-29 21:34:21,157 views Database connection successful
INFO 2025-05-29 21:34:21,158 views Received chat request at 2025-05-29 21:34:21.158508
DEBUG 2025-05-29 21:34:21,158 views Request headers: {'Content-Length': '40', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:21,159 views Request body: {"message": "012-8833903", "user_id": 1}
INFO 2025-05-29 21:34:21,159 views User input: 012-8833903
INFO 2025-05-29 21:34:21,160 views Current session state: None
INFO 2025-05-29 21:34:21,160 views Current user data: None
INFO 2025-05-29 21:34:21,163 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:21,809 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:21,810 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:21,815 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:21,817 dialog_manager Processing message: 012-8833903
INFO 2025-05-29 21:34:21,817 dialog_manager Processing input: 012-8833903
INFO 2025-05-29 21:34:21,818 dialog_manager Using language: en
INFO 2025-05-29 21:34:21,818 dialog_manager Detecting intent for input: 012-8833903
INFO 2025-05-29 21:34:21,846 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:34:25,175 dialog_manager Sentiment analysis: Neutral (confidence: 0.67)
INFO 2025-05-29 21:34:25,175 dialog_manager Generated response: Could you provide more details so I can assist you better?
ERROR 2025-05-29 21:34:25,175 dialog_manager Error in process method: No features in text.
INFO 2025-05-29 21:34:25,175 views Updated session state: greeting
INFO 2025-05-29 21:34:25,176 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:25,176 views Generated response: 
INFO 2025-05-29 21:34:25,178 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:25,178 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:25,233 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 21:34:25,237 views Database connection successful
INFO 2025-05-29 21:34:25,238 views Received chat request at 2025-05-29 21:34:25.237986
DEBUG 2025-05-29 21:34:25,238 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:25,238 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:34:25,239 views User input: I want to book a room
INFO 2025-05-29 21:34:25,240 views Current session state: None
INFO 2025-05-29 21:34:25,240 views Current user data: None
INFO 2025-05-29 21:34:25,241 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:25,674 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:25,674 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:25,674 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:25,674 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:34:25,676 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:34:25,683 dialog_manager Using language: en
INFO 2025-05-29 21:34:25,683 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:34:25,689 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:34:25,690 dialog_manager Detected intent: booking
INFO 2025-05-29 21:34:25,690 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:34:25,694 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:34:25,694 dialog_manager No dates found
INFO 2025-05-29 21:34:25,705 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:25,706 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:34:25,707 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:25,721 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:25,722 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:25,726 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:34:25,731 views Database connection successful
INFO 2025-05-29 21:34:25,732 views Received chat request at 2025-05-29 21:34:25.732099
DEBUG 2025-05-29 21:34:25,733 views Request headers: {'Content-Length': '43', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:25,734 views Request body: {"message": "Siti Nurhaliza", "user_id": 1}
INFO 2025-05-29 21:34:25,735 views User input: Siti Nurhaliza
INFO 2025-05-29 21:34:25,735 views Current session state: None
INFO 2025-05-29 21:34:25,735 views Current user data: None
INFO 2025-05-29 21:34:25,738 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:26,187 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:26,187 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:26,189 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:26,189 dialog_manager Processing message: Siti Nurhaliza
INFO 2025-05-29 21:34:26,189 dialog_manager Processing input: Siti Nurhaliza
INFO 2025-05-29 21:34:26,210 dialog_manager Using language: en
INFO 2025-05-29 21:34:26,210 dialog_manager Detecting intent for input: Siti Nurhaliza
INFO 2025-05-29 21:34:26,218 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:34:29,162 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-05-29 21:34:29,172 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-29 21:34:29,183 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:29,183 views Updated session state: greeting
INFO 2025-05-29 21:34:29,184 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:29,184 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-29 21:34:29,184 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:29,185 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:29,243 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-29 21:34:29,245 views Database connection successful
INFO 2025-05-29 21:34:29,245 views Received chat request at 2025-05-29 21:34:29.245880
DEBUG 2025-05-29 21:34:29,245 views Request headers: {'Content-Length': '40', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:29,245 views Request body: {"message": "01158763903", "user_id": 1}
INFO 2025-05-29 21:34:29,245 views User input: 01158763903
INFO 2025-05-29 21:34:29,245 views Current session state: None
INFO 2025-05-29 21:34:29,245 views Current user data: None
INFO 2025-05-29 21:34:29,250 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:29,667 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:29,668 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:29,668 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:29,668 dialog_manager Processing message: 01158763903
INFO 2025-05-29 21:34:29,669 dialog_manager Processing input: 01158763903
INFO 2025-05-29 21:34:29,669 dialog_manager Using language: en
INFO 2025-05-29 21:34:29,669 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 21:34:29,675 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:34:32,720 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-05-29 21:34:32,720 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
ERROR 2025-05-29 21:34:32,721 dialog_manager Error in process method: No features in text.
INFO 2025-05-29 21:34:32,721 views Updated session state: greeting
INFO 2025-05-29 21:34:32,721 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:32,722 views Generated response: 
INFO 2025-05-29 21:34:32,722 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:32,722 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:32,784 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 21:34:32,789 views Database connection successful
INFO 2025-05-29 21:34:32,789 views Received chat request at 2025-05-29 21:34:32.789030
DEBUG 2025-05-29 21:34:32,789 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:32,790 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:34:32,790 views User input: I want to book a room
INFO 2025-05-29 21:34:32,790 views Current session state: None
INFO 2025-05-29 21:34:32,791 views Current user data: None
INFO 2025-05-29 21:34:32,793 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:33,268 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:33,269 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:33,269 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:33,270 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:34:33,270 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:34:33,281 dialog_manager Using language: en
INFO 2025-05-29 21:34:33,281 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:34:33,288 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:34:33,289 dialog_manager Detected intent: booking
INFO 2025-05-29 21:34:33,289 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:34:33,289 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:34:33,291 dialog_manager No dates found
INFO 2025-05-29 21:34:33,299 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:33,300 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:34:33,300 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:33,305 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:33,306 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:33,309 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:34:33,313 views Database connection successful
INFO 2025-05-29 21:34:33,314 views Received chat request at 2025-05-29 21:34:33.314798
DEBUG 2025-05-29 21:34:33,314 views Request headers: {'Content-Length': '38', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:33,315 views Request body: {"message": "Raj Kumar", "user_id": 1}
INFO 2025-05-29 21:34:33,315 views User input: Raj Kumar
INFO 2025-05-29 21:34:33,315 views Current session state: None
INFO 2025-05-29 21:34:33,315 views Current user data: None
INFO 2025-05-29 21:34:33,317 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:33,757 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:33,757 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:33,758 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:33,758 dialog_manager Processing message: Raj Kumar
INFO 2025-05-29 21:34:33,759 dialog_manager Processing input: Raj Kumar
INFO 2025-05-29 21:34:33,771 dialog_manager Using language: en
INFO 2025-05-29 21:34:33,771 dialog_manager Detecting intent for input: Raj Kumar
INFO 2025-05-29 21:34:33,779 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:34:36,856 dialog_manager Sentiment analysis: Neutral (confidence: 0.76)
INFO 2025-05-29 21:34:36,856 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-29 21:34:36,867 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:36,872 views Updated session state: greeting
INFO 2025-05-29 21:34:36,872 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:36,872 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-29 21:34:36,874 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:36,874 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:36,940 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-29 21:34:36,940 views Database connection successful
INFO 2025-05-29 21:34:36,940 views Received chat request at 2025-05-29 21:34:36.940030
DEBUG 2025-05-29 21:34:36,940 views Request headers: {'Content-Length': '43', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:34:36,940 views Request body: {"message": "+60-13-7654321", "user_id": 1}
INFO 2025-05-29 21:34:36,940 views User input: +60-13-7654321
INFO 2025-05-29 21:34:36,940 views Current session state: None
INFO 2025-05-29 21:34:36,940 views Current user data: None
INFO 2025-05-29 21:34:36,950 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:34:37,371 dialog_manager Using device: cpu
WARNING 2025-05-29 21:34:37,371 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:34:37,371 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:34:37,371 dialog_manager Processing message: +60-13-7654321
INFO 2025-05-29 21:34:37,371 dialog_manager Processing input: +60-13-7654321
INFO 2025-05-29 21:34:37,371 dialog_manager Using language: en
INFO 2025-05-29 21:34:37,371 dialog_manager Detecting intent for input: +60-13-7654321
INFO 2025-05-29 21:34:37,387 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:34:40,207 dialog_manager Sentiment analysis: Neutral (confidence: 0.78)
INFO 2025-05-29 21:34:40,207 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
ERROR 2025-05-29 21:34:40,208 dialog_manager Error in process method: No features in text.
INFO 2025-05-29 21:34:40,208 views Updated session state: greeting
INFO 2025-05-29 21:34:40,208 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:34:40,208 views Generated response: 
INFO 2025-05-29 21:34:40,209 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:34:40,209 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:34:40,265 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 21:35:13,076 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-29 21:35:13,093 views Database connection successful
INFO 2025-05-29 21:35:13,093 views Received chat request at 2025-05-29 21:35:13.093625
DEBUG 2025-05-29 21:35:13,093 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:13,093 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:35:13,093 views User input: I want to book a room
INFO 2025-05-29 21:35:13,093 views Current session state: None
INFO 2025-05-29 21:35:13,093 views Current user data: None
INFO 2025-05-29 21:35:13,099 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:13,581 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:13,581 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:13,581 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:13,581 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:35:13,581 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:35:13,598 dialog_manager Using language: en
INFO 2025-05-29 21:35:13,598 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:35:13,604 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:35:13,604 dialog_manager Detected intent: booking
INFO 2025-05-29 21:35:13,606 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:35:13,606 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:35:13,606 dialog_manager No dates found
INFO 2025-05-29 21:35:13,611 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:13,613 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:35:13,614 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:13,618 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:13,620 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:13,622 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:35:13,625 views Database connection successful
INFO 2025-05-29 21:35:13,626 views Received chat request at 2025-05-29 21:35:13.626117
DEBUG 2025-05-29 21:35:13,626 views Request headers: {'Content-Length': '42', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:13,627 views Request body: {"message": "Ahmad Bin Ali", "user_id": 1}
INFO 2025-05-29 21:35:13,628 views User input: Ahmad Bin Ali
INFO 2025-05-29 21:35:13,628 views Current session state: None
INFO 2025-05-29 21:35:13,629 views Current user data: None
INFO 2025-05-29 21:35:13,630 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:14,115 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:14,117 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:14,117 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:14,119 dialog_manager Processing message: Ahmad Bin Ali
INFO 2025-05-29 21:35:14,119 dialog_manager Processing input: Ahmad Bin Ali
INFO 2025-05-29 21:35:14,132 dialog_manager Using language: en
INFO 2025-05-29 21:35:14,132 dialog_manager Detecting intent for input: Ahmad Bin Ali
INFO 2025-05-29 21:35:14,138 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:35:18,136 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-29 21:35:18,136 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-29 21:35:18,152 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:18,152 views Updated session state: greeting
INFO 2025-05-29 21:35:18,152 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:18,152 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-29 21:35:18,152 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:18,165 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:18,226 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-05-29 21:35:18,226 views Database connection successful
INFO 2025-05-29 21:35:18,226 views Received chat request at 2025-05-29 21:35:18.226606
DEBUG 2025-05-29 21:35:18,226 views Request headers: {'Content-Length': '40', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:18,226 views Request body: {"message": "012-8833903", "user_id": 1}
INFO 2025-05-29 21:35:18,226 views User input: 012-8833903
INFO 2025-05-29 21:35:18,226 views Current session state: None
INFO 2025-05-29 21:35:18,234 views Current user data: None
INFO 2025-05-29 21:35:18,236 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:18,712 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:18,712 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:18,712 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:18,712 dialog_manager Processing message: 012-8833903
INFO 2025-05-29 21:35:18,712 dialog_manager Processing input: 012-8833903
INFO 2025-05-29 21:35:18,712 dialog_manager Using language: en
INFO 2025-05-29 21:35:18,712 dialog_manager Detecting intent for input: 012-8833903
INFO 2025-05-29 21:35:18,723 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:35:24,398 dialog_manager Sentiment analysis: Neutral (confidence: 0.67)
INFO 2025-05-29 21:35:24,398 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
ERROR 2025-05-29 21:35:24,398 dialog_manager Error in process method: No features in text.
INFO 2025-05-29 21:35:24,398 views Updated session state: greeting
INFO 2025-05-29 21:35:24,398 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:24,398 views Generated response: 
INFO 2025-05-29 21:35:24,398 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:24,398 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:24,471 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 21:35:24,479 views Database connection successful
INFO 2025-05-29 21:35:24,480 views Received chat request at 2025-05-29 21:35:24.480371
DEBUG 2025-05-29 21:35:24,481 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:24,481 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:35:24,482 views User input: I want to book a room
INFO 2025-05-29 21:35:24,482 views Current session state: None
INFO 2025-05-29 21:35:24,483 views Current user data: None
INFO 2025-05-29 21:35:24,485 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:25,061 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:25,062 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:25,063 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:25,063 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:35:25,064 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:35:25,073 dialog_manager Using language: en
INFO 2025-05-29 21:35:25,074 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:35:25,088 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:35:25,089 dialog_manager Detected intent: booking
INFO 2025-05-29 21:35:25,090 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:35:25,090 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:35:25,090 dialog_manager No dates found
INFO 2025-05-29 21:35:25,090 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:25,090 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:35:25,090 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:25,106 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:25,106 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:25,109 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:35:25,111 views Database connection successful
INFO 2025-05-29 21:35:25,111 views Received chat request at 2025-05-29 21:35:25.111739
DEBUG 2025-05-29 21:35:25,112 views Request headers: {'Content-Length': '43', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:25,112 views Request body: {"message": "Siti Nurhaliza", "user_id": 1}
INFO 2025-05-29 21:35:25,112 views User input: Siti Nurhaliza
INFO 2025-05-29 21:35:25,112 views Current session state: None
INFO 2025-05-29 21:35:25,114 views Current user data: None
INFO 2025-05-29 21:35:25,115 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:25,573 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:25,575 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:25,575 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:25,575 dialog_manager Processing message: Siti Nurhaliza
INFO 2025-05-29 21:35:25,575 dialog_manager Processing input: Siti Nurhaliza
INFO 2025-05-29 21:35:25,588 dialog_manager Using language: en
INFO 2025-05-29 21:35:25,588 dialog_manager Detecting intent for input: Siti Nurhaliza
INFO 2025-05-29 21:35:25,594 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:35:28,741 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-05-29 21:35:28,741 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-29 21:35:28,751 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:28,751 views Updated session state: greeting
INFO 2025-05-29 21:35:28,752 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:28,752 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-29 21:35:28,753 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:28,753 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:28,809 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-05-29 21:35:28,812 views Database connection successful
INFO 2025-05-29 21:35:28,813 views Received chat request at 2025-05-29 21:35:28.813315
DEBUG 2025-05-29 21:35:28,814 views Request headers: {'Content-Length': '40', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:28,815 views Request body: {"message": "01158763903", "user_id": 1}
INFO 2025-05-29 21:35:28,815 views User input: 01158763903
INFO 2025-05-29 21:35:28,815 views Current session state: None
INFO 2025-05-29 21:35:28,815 views Current user data: None
INFO 2025-05-29 21:35:28,817 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:29,511 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:29,516 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:29,517 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:29,519 dialog_manager Processing message: 01158763903
INFO 2025-05-29 21:35:29,520 dialog_manager Processing input: 01158763903
INFO 2025-05-29 21:35:29,521 dialog_manager Using language: en
INFO 2025-05-29 21:35:29,523 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 21:35:29,542 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:35:32,237 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-05-29 21:35:32,237 dialog_manager Generated response: Could you provide more details so I can assist you better?
ERROR 2025-05-29 21:35:32,237 dialog_manager Error in process method: No features in text.
INFO 2025-05-29 21:35:32,237 views Updated session state: greeting
INFO 2025-05-29 21:35:32,237 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:32,237 views Generated response: 
INFO 2025-05-29 21:35:32,237 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:32,237 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:32,300 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 21:35:32,303 views Database connection successful
INFO 2025-05-29 21:35:32,303 views Received chat request at 2025-05-29 21:35:32.303894
DEBUG 2025-05-29 21:35:32,304 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:32,304 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:35:32,304 views User input: I want to book a room
INFO 2025-05-29 21:35:32,304 views Current session state: None
INFO 2025-05-29 21:35:32,304 views Current user data: None
INFO 2025-05-29 21:35:32,306 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:32,729 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:32,729 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:32,729 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:32,729 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:35:32,729 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:35:32,740 dialog_manager Using language: en
INFO 2025-05-29 21:35:32,740 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:35:32,750 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:35:32,750 dialog_manager Detected intent: booking
INFO 2025-05-29 21:35:32,750 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:35:32,751 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:35:32,752 dialog_manager No dates found
INFO 2025-05-29 21:35:32,758 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:32,759 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:35:32,760 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:32,765 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:32,766 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:32,769 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:35:32,773 views Database connection successful
INFO 2025-05-29 21:35:32,773 views Received chat request at 2025-05-29 21:35:32.773034
DEBUG 2025-05-29 21:35:32,774 views Request headers: {'Content-Length': '38', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:32,774 views Request body: {"message": "Raj Kumar", "user_id": 1}
INFO 2025-05-29 21:35:32,774 views User input: Raj Kumar
INFO 2025-05-29 21:35:32,774 views Current session state: None
INFO 2025-05-29 21:35:32,775 views Current user data: None
INFO 2025-05-29 21:35:32,776 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:33,192 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:33,192 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:33,192 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:33,192 dialog_manager Processing message: Raj Kumar
INFO 2025-05-29 21:35:33,192 dialog_manager Processing input: Raj Kumar
INFO 2025-05-29 21:35:33,206 dialog_manager Using language: en
INFO 2025-05-29 21:35:33,208 dialog_manager Detecting intent for input: Raj Kumar
INFO 2025-05-29 21:35:33,215 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:35:35,637 dialog_manager Sentiment analysis: Neutral (confidence: 0.76)
INFO 2025-05-29 21:35:35,637 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-29 21:35:35,650 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:35,650 views Updated session state: greeting
INFO 2025-05-29 21:35:35,650 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:35,652 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-29 21:35:35,652 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:35,654 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:35,708 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-29 21:35:35,708 views Database connection successful
INFO 2025-05-29 21:35:35,708 views Received chat request at 2025-05-29 21:35:35.708247
DEBUG 2025-05-29 21:35:35,708 views Request headers: {'Content-Length': '43', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:35:35,708 views Request body: {"message": "+60-13-7654321", "user_id": 1}
INFO 2025-05-29 21:35:35,708 views User input: +60-13-7654321
INFO 2025-05-29 21:35:35,708 views Current session state: None
INFO 2025-05-29 21:35:35,708 views Current user data: None
INFO 2025-05-29 21:35:35,708 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:35:36,159 dialog_manager Using device: cpu
WARNING 2025-05-29 21:35:36,159 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:35:36,159 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:35:36,159 dialog_manager Processing message: +60-13-7654321
INFO 2025-05-29 21:35:36,161 dialog_manager Processing input: +60-13-7654321
INFO 2025-05-29 21:35:36,161 dialog_manager Using language: en
INFO 2025-05-29 21:35:36,161 dialog_manager Detecting intent for input: +60-13-7654321
INFO 2025-05-29 21:35:36,161 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:35:38,969 dialog_manager Sentiment analysis: Neutral (confidence: 0.78)
INFO 2025-05-29 21:35:38,969 dialog_manager Generated response: Could you provide more details so I can assist you better?
ERROR 2025-05-29 21:35:38,969 dialog_manager Error in process method: No features in text.
INFO 2025-05-29 21:35:38,969 views Updated session state: greeting
INFO 2025-05-29 21:35:38,969 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:35:38,969 views Generated response: 
INFO 2025-05-29 21:35:38,969 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:35:38,969 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:35:39,022 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-29 21:36:27,265 views Database connection successful
INFO 2025-05-29 21:36:27,281 views Received chat request at 2025-05-29 21:36:27.281116
DEBUG 2025-05-29 21:36:27,282 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:36:27,284 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:36:27,284 views User input: I want to book a room
INFO 2025-05-29 21:36:27,284 views Current session state: None
INFO 2025-05-29 21:36:27,284 views Current user data: None
INFO 2025-05-29 21:36:27,292 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:36:28,010 dialog_manager Using device: cpu
WARNING 2025-05-29 21:36:28,010 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:36:28,010 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:36:28,010 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:36:28,010 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:36:28,046 dialog_manager Using language: en
INFO 2025-05-29 21:36:28,047 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:36:28,078 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:36:28,078 dialog_manager Detected intent: booking
INFO 2025-05-29 21:36:28,079 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:36:28,083 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:36:28,083 dialog_manager No dates found
INFO 2025-05-29 21:36:28,091 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:36:28,091 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:36:28,091 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:36:28,109 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:36:28,111 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:36:28,118 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:36:28,125 views Database connection successful
INFO 2025-05-29 21:36:28,126 views Received chat request at 2025-05-29 21:36:28.126492
DEBUG 2025-05-29 21:36:28,127 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:36:28,127 views Request body: {"message": "John Smith", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:36:28,127 views User input: John Smith
INFO 2025-05-29 21:36:28,127 views Current session state: collecting_booking_info
INFO 2025-05-29 21:36:28,128 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1}
INFO 2025-05-29 21:36:28,131 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:36:28,625 dialog_manager Using device: cpu
WARNING 2025-05-29 21:36:28,625 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:36:28,625 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:36:28,625 dialog_manager Processing message: John Smith
INFO 2025-05-29 21:36:28,625 dialog_manager Processing input: John Smith
INFO 2025-05-29 21:36:28,625 dialog_manager Using language: en
INFO 2025-05-29 21:36:28,625 dialog_manager Detecting intent for input: John Smith
INFO 2025-05-29 21:36:28,641 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:36:28,655 dialog_manager Extracted name: John Smith
INFO 2025-05-29 21:36:28,655 dialog_manager Extracting dates from: John Smith
WARNING 2025-05-29 21:36:28,657 dialog_manager No dates found
INFO 2025-05-29 21:36:28,657 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:36:28,657 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:36:28,657 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:36:28,659 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:36:28,664 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:36:28,664 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:36:28,671 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 288
INFO 2025-05-29 21:36:28,679 views Database connection successful
INFO 2025-05-29 21:36:28,680 views Received chat request at 2025-05-29 21:36:28.680585
DEBUG 2025-05-29 21:36:28,681 views Request headers: {'Content-Length': '213', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:36:28,682 views Request body: {"message": "012-8833903", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "John Smith"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:36:28,682 views User input: 012-8833903
INFO 2025-05-29 21:36:28,683 views Current session state: collecting_booking_info
INFO 2025-05-29 21:36:28,683 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith'}
INFO 2025-05-29 21:36:28,685 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:36:29,097 dialog_manager Using device: cpu
WARNING 2025-05-29 21:36:29,097 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:36:29,097 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:36:29,097 dialog_manager Processing message: 012-8833903
INFO 2025-05-29 21:36:29,097 dialog_manager Processing input: 012-8833903
INFO 2025-05-29 21:36:29,097 dialog_manager Using language: en
INFO 2025-05-29 21:36:29,097 dialog_manager Detecting intent for input: 012-8833903
INFO 2025-05-29 21:36:29,116 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:36:29,117 dialog_manager Extracted standalone phone: 012-8833903
INFO 2025-05-29 21:36:29,117 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'user': <User: admin>, 'phone': '012-8833903'}
INFO 2025-05-29 21:36:29,117 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'user': <User: admin>, 'phone': '012-8833903'}
INFO 2025-05-29 21:36:29,117 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:36:29,118 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'John Smith', 'user': <User: admin>, 'phone': '012-8833903'}
INFO 2025-05-29 21:36:29,124 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:36:29,124 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:36:29,127 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 309
INFO 2025-05-29 21:36:50,660 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16214
WARNING 2025-05-29 21:38:26,188 log Method Not Allowed (GET): /hotel_booking/chatbot/api/
WARNING 2025-05-29 21:38:26,191 basehttp "GET /hotel_booking/chatbot/api/ HTTP/1.1" 405 0
INFO 2025-05-29 21:38:26,211 views Database connection successful
INFO 2025-05-29 21:38:26,211 views Received chat request at 2025-05-29 21:38:26.211612
DEBUG 2025-05-29 21:38:26,218 views Request headers: {'Content-Length': '34', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:38:26,220 views Request body: {"message": "hello", "user_id": 1}
INFO 2025-05-29 21:38:26,221 views User input: hello
INFO 2025-05-29 21:38:26,221 views Current session state: None
INFO 2025-05-29 21:38:26,221 views Current user data: None
INFO 2025-05-29 21:38:26,225 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:38:26,777 dialog_manager Using device: cpu
WARNING 2025-05-29 21:38:26,777 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:38:26,777 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:38:26,777 dialog_manager Processing message: hello
INFO 2025-05-29 21:38:26,777 dialog_manager Processing input: hello
INFO 2025-05-29 21:38:26,812 dialog_manager Using language: en
INFO 2025-05-29 21:38:26,813 dialog_manager Detecting intent for input: hello
INFO 2025-05-29 21:38:26,840 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-29 21:38:26,840 dialog_manager Detected intent: greeting
INFO 2025-05-29 21:38:30,808 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-05-29 21:38:30,808 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-29 21:38:30,829 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:38:30,829 views Updated session state: greeting
INFO 2025-05-29 21:38:30,830 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:38:30,831 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-29 21:38:30,831 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:38:30,832 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:38:30,895 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 189
INFO 2025-05-29 21:38:30,975 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16054
WARNING 2025-05-29 21:38:31,002 log Forbidden (CSRF cookie not set.): /hotel_booking/chatbot/
WARNING 2025-05-29 21:38:31,004 basehttp "POST /hotel_booking/chatbot/ HTTP/1.1" 403 2855
INFO 2025-05-29 21:39:39,714 views Database connection successful
INFO 2025-05-29 21:39:39,716 views Received chat request at 2025-05-29 21:39:39.716437
DEBUG 2025-05-29 21:39:39,718 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:39,720 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:39:39,720 views User input: I want to book a room
INFO 2025-05-29 21:39:39,720 views Current session state: None
INFO 2025-05-29 21:39:39,722 views Current user data: None
INFO 2025-05-29 21:39:39,743 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:40,439 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:40,439 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:40,439 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:40,439 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:39:40,439 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:39:40,459 dialog_manager Using language: en
INFO 2025-05-29 21:39:40,459 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:39:40,503 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:39:40,504 dialog_manager Detected intent: booking
INFO 2025-05-29 21:39:40,504 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:39:40,506 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:39:40,506 dialog_manager No dates found
INFO 2025-05-29 21:39:40,513 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:39:40,513 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:40,513 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:39:40,530 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:40,531 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:40,535 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:39:40,544 views Database connection successful
INFO 2025-05-29 21:39:40,545 views Received chat request at 2025-05-29 21:39:40.544158
DEBUG 2025-05-29 21:39:40,545 views Request headers: {'Content-Length': '187', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:40,545 views Request body: {"message": "Ahmad Bin Ali", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:40,545 views User input: Ahmad Bin Ali
INFO 2025-05-29 21:39:40,545 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:40,545 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1}
INFO 2025-05-29 21:39:40,549 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:41,013 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:41,013 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:41,013 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:41,013 dialog_manager Processing message: Ahmad Bin Ali
INFO 2025-05-29 21:39:41,013 dialog_manager Processing input: Ahmad Bin Ali
INFO 2025-05-29 21:39:41,013 dialog_manager Using language: en
INFO 2025-05-29 21:39:41,013 dialog_manager Detecting intent for input: Ahmad Bin Ali
INFO 2025-05-29 21:39:41,013 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:41,013 dialog_manager Extracted name: Ahmad Bin Ali
INFO 2025-05-29 21:39:41,013 dialog_manager Extracting dates from: Ahmad Bin Ali
WARNING 2025-05-29 21:39:41,029 dialog_manager No dates found
INFO 2025-05-29 21:39:41,029 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:41,029 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:41,030 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:41,030 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:41,036 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:41,036 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:41,039 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 294
INFO 2025-05-29 21:39:41,046 views Database connection successful
INFO 2025-05-29 21:39:41,046 views Received chat request at 2025-05-29 21:39:41.046414
DEBUG 2025-05-29 21:39:41,046 views Request headers: {'Content-Length': '216', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:41,047 views Request body: {"message": "012-8833903", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Ahmad Bin Ali"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:41,047 views User input: 012-8833903
INFO 2025-05-29 21:39:41,047 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:41,047 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:41,050 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:41,466 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:41,466 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:41,466 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:41,466 dialog_manager Processing message: 012-8833903
INFO 2025-05-29 21:39:41,466 dialog_manager Processing input: 012-8833903
INFO 2025-05-29 21:39:41,466 dialog_manager Using language: en
INFO 2025-05-29 21:39:41,466 dialog_manager Detecting intent for input: 012-8833903
INFO 2025-05-29 21:39:41,475 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:41,475 dialog_manager Extracted standalone phone: 012-8833903
INFO 2025-05-29 21:39:41,475 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '012-8833903'}
INFO 2025-05-29 21:39:41,477 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '012-8833903'}
INFO 2025-05-29 21:39:41,477 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:41,478 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '012-8833903'}
INFO 2025-05-29 21:39:41,483 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:41,484 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:41,487 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 315
INFO 2025-05-29 21:39:41,494 views Database connection successful
INFO 2025-05-29 21:39:41,494 views Received chat request at 2025-05-29 21:39:41.494212
DEBUG 2025-05-29 21:39:41,495 views Request headers: {'Content-Length': '250', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:41,495 views Request body: {"message": "ahmad.ali@example.com", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Ahmad Bin Ali", "phone": "012-8833903"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:41,495 views User input: ahmad.ali@example.com
INFO 2025-05-29 21:39:41,495 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:41,496 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '012-8833903'}
INFO 2025-05-29 21:39:41,497 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:41,910 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:41,910 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:41,910 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:41,925 dialog_manager Processing message: ahmad.ali@example.com
INFO 2025-05-29 21:39:41,926 dialog_manager Processing input: ahmad.ali@example.com
INFO 2025-05-29 21:39:41,926 dialog_manager Using language: en
INFO 2025-05-29 21:39:41,926 dialog_manager Detecting intent for input: ahmad.ali@example.com
INFO 2025-05-29 21:39:41,931 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:41,932 dialog_manager Extracted standalone email: ahmad.ali@example.com
INFO 2025-05-29 21:39:41,932 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '012-8833903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:41,934 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '012-8833903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:41,934 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:41,934 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '012-8833903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:41,942 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:41,942 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:41,944 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 769
INFO 2025-05-29 21:39:42,967 views Database connection successful
INFO 2025-05-29 21:39:42,967 views Received chat request at 2025-05-29 21:39:42.967852
DEBUG 2025-05-29 21:39:42,967 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:42,972 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:39:42,974 views User input: I want to book a room
INFO 2025-05-29 21:39:42,975 views Current session state: None
INFO 2025-05-29 21:39:42,976 views Current user data: None
INFO 2025-05-29 21:39:42,979 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:43,388 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:43,388 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:43,388 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:43,388 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:39:43,388 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:39:43,405 dialog_manager Using language: en
INFO 2025-05-29 21:39:43,405 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:39:43,414 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:39:43,415 dialog_manager Detected intent: booking
INFO 2025-05-29 21:39:43,415 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:39:43,417 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:39:43,417 dialog_manager No dates found
INFO 2025-05-29 21:39:43,425 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:39:43,425 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:43,425 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:39:43,429 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:43,429 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:43,432 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:39:43,439 views Database connection successful
INFO 2025-05-29 21:39:43,440 views Received chat request at 2025-05-29 21:39:43.440117
DEBUG 2025-05-29 21:39:43,440 views Request headers: {'Content-Length': '187', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:43,441 views Request body: {"message": "Ahmad Bin Ali", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:43,441 views User input: Ahmad Bin Ali
INFO 2025-05-29 21:39:43,441 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:43,442 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1}
INFO 2025-05-29 21:39:43,444 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:43,849 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:43,849 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:43,849 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:43,849 dialog_manager Processing message: Ahmad Bin Ali
INFO 2025-05-29 21:39:43,849 dialog_manager Processing input: Ahmad Bin Ali
INFO 2025-05-29 21:39:43,849 dialog_manager Using language: en
INFO 2025-05-29 21:39:43,849 dialog_manager Detecting intent for input: Ahmad Bin Ali
INFO 2025-05-29 21:39:43,849 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:43,849 dialog_manager Extracted name: Ahmad Bin Ali
INFO 2025-05-29 21:39:43,849 dialog_manager Extracting dates from: Ahmad Bin Ali
WARNING 2025-05-29 21:39:43,860 dialog_manager No dates found
INFO 2025-05-29 21:39:43,860 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:43,860 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:43,861 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:43,861 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:43,866 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:43,867 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:43,869 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 294
INFO 2025-05-29 21:39:43,875 views Database connection successful
INFO 2025-05-29 21:39:43,876 views Received chat request at 2025-05-29 21:39:43.876132
DEBUG 2025-05-29 21:39:43,876 views Request headers: {'Content-Length': '216', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:43,876 views Request body: {"message": "01158763903", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Ahmad Bin Ali"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:43,877 views User input: 01158763903
INFO 2025-05-29 21:39:43,877 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:43,877 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:43,879 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:46,495 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:46,495 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:46,495 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:46,495 dialog_manager Processing message: 01158763903
INFO 2025-05-29 21:39:46,499 dialog_manager Processing input: 01158763903
INFO 2025-05-29 21:39:46,499 dialog_manager Using language: en
INFO 2025-05-29 21:39:46,499 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-29 21:39:46,499 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:46,499 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-29 21:39:46,499 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '01158763903'}
INFO 2025-05-29 21:39:46,507 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '01158763903'}
INFO 2025-05-29 21:39:46,507 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:46,507 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '01158763903'}
INFO 2025-05-29 21:39:46,512 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:46,513 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:46,515 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 315
INFO 2025-05-29 21:39:46,522 views Database connection successful
INFO 2025-05-29 21:39:46,523 views Received chat request at 2025-05-29 21:39:46.523408
DEBUG 2025-05-29 21:39:46,523 views Request headers: {'Content-Length': '250', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:46,524 views Request body: {"message": "ahmad.ali@example.com", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Ahmad Bin Ali", "phone": "01158763903"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:46,524 views User input: ahmad.ali@example.com
INFO 2025-05-29 21:39:46,524 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:46,525 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '01158763903'}
INFO 2025-05-29 21:39:46,527 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:46,941 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:46,943 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:46,943 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:46,943 dialog_manager Processing message: ahmad.ali@example.com
INFO 2025-05-29 21:39:46,943 dialog_manager Processing input: ahmad.ali@example.com
INFO 2025-05-29 21:39:46,943 dialog_manager Using language: en
INFO 2025-05-29 21:39:46,943 dialog_manager Detecting intent for input: ahmad.ali@example.com
INFO 2025-05-29 21:39:46,947 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:46,947 dialog_manager Extracted standalone email: ahmad.ali@example.com
INFO 2025-05-29 21:39:46,947 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '01158763903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:46,954 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '01158763903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:46,954 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:46,954 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '01158763903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:46,960 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:46,961 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:46,963 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 769
INFO 2025-05-29 21:39:47,979 views Database connection successful
INFO 2025-05-29 21:39:47,979 views Received chat request at 2025-05-29 21:39:47.979348
DEBUG 2025-05-29 21:39:47,979 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:47,987 views Request body: {"message": "I want to book a room", "user_id": 1}
INFO 2025-05-29 21:39:47,989 views User input: I want to book a room
INFO 2025-05-29 21:39:47,989 views Current session state: None
INFO 2025-05-29 21:39:47,991 views Current user data: None
INFO 2025-05-29 21:39:47,992 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:48,448 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:48,449 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:48,449 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:48,449 dialog_manager Processing message: I want to book a room
INFO 2025-05-29 21:39:48,449 dialog_manager Processing input: I want to book a room
INFO 2025-05-29 21:39:48,456 dialog_manager Using language: en
INFO 2025-05-29 21:39:48,456 dialog_manager Detecting intent for input: I want to book a room
INFO 2025-05-29 21:39:48,461 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-29 21:39:48,462 dialog_manager Detected intent: booking
INFO 2025-05-29 21:39:48,463 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-29 21:39:48,463 dialog_manager Extracting dates from: I want to book a room
WARNING 2025-05-29 21:39:48,463 dialog_manager No dates found
INFO 2025-05-29 21:39:48,471 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:39:48,472 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:48,472 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-29 21:39:48,477 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:48,477 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:48,479 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-05-29 21:39:48,486 views Database connection successful
INFO 2025-05-29 21:39:48,486 views Received chat request at 2025-05-29 21:39:48.486899
DEBUG 2025-05-29 21:39:48,488 views Request headers: {'Content-Length': '187', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:48,488 views Request body: {"message": "Ahmad Bin Ali", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:48,488 views User input: Ahmad Bin Ali
INFO 2025-05-29 21:39:48,488 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:48,488 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1}
INFO 2025-05-29 21:39:48,490 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:48,899 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:48,899 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:48,899 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:48,899 dialog_manager Processing message: Ahmad Bin Ali
INFO 2025-05-29 21:39:48,899 dialog_manager Processing input: Ahmad Bin Ali
INFO 2025-05-29 21:39:48,899 dialog_manager Using language: en
INFO 2025-05-29 21:39:48,899 dialog_manager Detecting intent for input: Ahmad Bin Ali
INFO 2025-05-29 21:39:48,899 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:48,899 dialog_manager Extracted name: Ahmad Bin Ali
INFO 2025-05-29 21:39:48,899 dialog_manager Extracting dates from: Ahmad Bin Ali
WARNING 2025-05-29 21:39:48,909 dialog_manager No dates found
INFO 2025-05-29 21:39:48,910 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:48,910 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:48,910 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:48,911 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:48,915 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:48,915 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:48,919 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 294
INFO 2025-05-29 21:39:48,924 views Database connection successful
INFO 2025-05-29 21:39:48,925 views Received chat request at 2025-05-29 21:39:48.925878
DEBUG 2025-05-29 21:39:48,925 views Request headers: {'Content-Length': '219', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:48,926 views Request body: {"message": "+60-12-8833903", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Ahmad Bin Ali"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:48,926 views User input: +60-12-8833903
INFO 2025-05-29 21:39:48,926 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:48,926 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali'}
INFO 2025-05-29 21:39:48,929 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:49,315 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:49,315 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:49,316 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:49,316 dialog_manager Processing message: +60-12-8833903
INFO 2025-05-29 21:39:49,316 dialog_manager Processing input: +60-12-8833903
INFO 2025-05-29 21:39:49,316 dialog_manager Using language: en
INFO 2025-05-29 21:39:49,316 dialog_manager Detecting intent for input: +60-12-8833903
INFO 2025-05-29 21:39:49,316 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:49,316 dialog_manager Extracted standalone phone: +60-12-8833903
INFO 2025-05-29 21:39:49,316 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '+60-12-8833903'}
INFO 2025-05-29 21:39:49,325 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '+60-12-8833903'}
INFO 2025-05-29 21:39:49,325 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:49,326 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'user': <User: admin>, 'phone': '+60-12-8833903'}
INFO 2025-05-29 21:39:49,341 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:49,342 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:49,346 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 318
INFO 2025-05-29 21:39:49,353 views Database connection successful
INFO 2025-05-29 21:39:49,355 views Received chat request at 2025-05-29 21:39:49.355019
DEBUG 2025-05-29 21:39:49,355 views Request headers: {'Content-Length': '253', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-29 21:39:49,355 views Request body: {"message": "ahmad.ali@example.com", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "guest_name": "Ahmad Bin Ali", "phone": "+60-12-8833903"}, "state": "collecting_booking_info", "lang": "en"}}
INFO 2025-05-29 21:39:49,355 views User input: ahmad.ali@example.com
INFO 2025-05-29 21:39:49,355 views Current session state: collecting_booking_info
INFO 2025-05-29 21:39:49,357 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '+60-12-8833903'}
INFO 2025-05-29 21:39:49,358 views Found user by ID: admin (ID: 1)
INFO 2025-05-29 21:39:49,749 dialog_manager Using device: cpu
WARNING 2025-05-29 21:39:49,749 dialog_manager Using basic NLP functionality only
INFO 2025-05-29 21:39:49,749 dialog_manager DialogManager initialized successfully
INFO 2025-05-29 21:39:49,749 dialog_manager Processing message: ahmad.ali@example.com
INFO 2025-05-29 21:39:49,749 dialog_manager Processing input: ahmad.ali@example.com
INFO 2025-05-29 21:39:49,749 dialog_manager Using language: en
INFO 2025-05-29 21:39:49,749 dialog_manager Detecting intent for input: ahmad.ali@example.com
INFO 2025-05-29 21:39:49,749 dialog_manager Detected intent: unknown
INFO 2025-05-29 21:39:49,749 dialog_manager Extracted standalone email: ahmad.ali@example.com
INFO 2025-05-29 21:39:49,761 dialog_manager Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '+60-12-8833903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:49,762 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '+60-12-8833903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:49,762 views Updated session state: collecting_booking_info
INFO 2025-05-29 21:39:49,762 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'guest_name': 'Ahmad Bin Ali', 'phone': '+60-12-8833903', 'user': <User: admin>, 'email': 'ahmad.ali@example.com'}
INFO 2025-05-29 21:39:49,768 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-29 21:39:49,768 views Removed User object from session for JSON serialization
INFO 2025-05-29 21:39:49,771 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 772
INFO 2025-05-30 11:15:57,686 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 11:16:07,859 middleware Admin user found: admin
INFO 2025-05-30 11:16:11,569 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-30 11:16:11,697 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-30 11:16:11,702 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-30 11:16:11,726 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-05-30 11:16:12,163 log Not Found: /favicon.ico
WARNING 2025-05-30 11:16:12,163 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-30 11:16:20,017 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12144
INFO 2025-05-30 11:16:20,926 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16054
INFO 2025-05-30 11:16:21,815 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 10958
INFO 2025-05-30 11:16:23,043 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10707
INFO 2025-05-30 11:16:23,613 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 10958
INFO 2025-05-30 11:24:10,166 basehttp "GET /admin/ HTTP/1.1" 200 13279
WARNING 2025-05-30 11:24:11,096 log Not Found: /favicon.ico
WARNING 2025-05-30 11:24:11,096 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-30 11:24:15,150 basehttp "GET /admin/ HTTP/1.1" 200 13279
INFO 2025-05-30 11:24:17,931 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 12133
INFO 2025-05-30 11:24:18,022 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:20,218 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 19434
INFO 2025-05-30 11:24:20,256 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:21,954 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 15591
INFO 2025-05-30 11:24:21,985 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:24,895 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14684
INFO 2025-05-30 11:24:24,934 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:26,043 basehttp "GET /admin/hotel_booking/userprofile/ HTTP/1.1" 200 12465
INFO 2025-05-30 11:24:26,107 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:32,537 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14684
INFO 2025-05-30 11:24:32,606 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:33,373 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 15591
INFO 2025-05-30 11:24:33,419 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:44,525 basehttp "GET /admin/hotel_booking/roomservicerequest/1/change/ HTTP/1.1" 200 20845
INFO 2025-05-30 11:24:44,570 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:54,618 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 19434
INFO 2025-05-30 11:24:54,667 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:55,859 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 12133
INFO 2025-05-30 11:24:55,895 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:58,932 basehttp "GET /admin/hotel_booking/userprofile/ HTTP/1.1" 200 12465
INFO 2025-05-30 11:24:58,983 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:24:59,749 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 14684
INFO 2025-05-30 11:24:59,808 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:25:00,614 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 15591
INFO 2025-05-30 11:25:00,676 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:51:21,184 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\models.py changed, reloading.
INFO 2025-05-30 11:51:27,365 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 11:51:36,290 middleware Admin user found: admin
INFO 2025-05-30 11:51:40,887 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\admin.py changed, reloading.
INFO 2025-05-30 11:51:42,843 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 11:51:51,032 middleware Admin user found: admin
INFO 2025-05-30 11:52:04,951 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\admin.py changed, reloading.
INFO 2025-05-30 11:52:06,924 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 11:52:14,398 middleware Admin user found: admin
INFO 2025-05-30 11:52:19,663 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\views.py changed, reloading.
INFO 2025-05-30 11:52:22,044 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 11:52:29,561 middleware Admin user found: admin
INFO 2025-05-30 11:54:20,298 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11959
INFO 2025-05-30 11:54:20,384 basehttp "POST /hotel_booking/contact/ HTTP/1.1" 302 0
INFO 2025-05-30 11:54:20,384 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12355
INFO 2025-05-30 11:54:20,402 basehttp "POST /hotel_booking/contact/ HTTP/1.1" 200 12349
INFO 2025-05-30 11:54:20,409 basehttp "POST /hotel_booking/contact/ HTTP/1.1" 200 12387
INFO 2025-05-30 11:54:57,093 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11959
INFO 2025-05-30 11:56:34,837 basehttp "POST /hotel_booking/contact/ HTTP/1.1" 302 0
INFO 2025-05-30 11:56:34,882 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12355
INFO 2025-05-30 11:56:45,711 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 16086
INFO 2025-05-30 11:56:45,912 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:56:48,243 basehttp "GET /admin/hotel_booking/contactmessage/ HTTP/1.1" 200 16248
INFO 2025-05-30 11:56:48,271 basehttp "GET /static/admin/img/icon-no.svg HTTP/1.1" 304 0
INFO 2025-05-30 11:56:48,277 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:56:53,405 basehttp "GET /admin/hotel_booking/contactmessage/2/change/ HTTP/1.1" 200 15008
INFO 2025-05-30 11:56:53,465 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:57:02,681 basehttp "GET /admin/hotel_booking/contactmessage/2/delete/ HTTP/1.1" 200 10832
INFO 2025-05-30 11:57:03,552 basehttp "POST /admin/hotel_booking/contactmessage/2/delete/ HTTP/1.1" 302 0
INFO 2025-05-30 11:57:03,614 basehttp "GET /admin/hotel_booking/contactmessage/ HTTP/1.1" 200 15820
INFO 2025-05-30 11:57:03,661 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:57:04,610 basehttp "GET /admin/hotel_booking/contactmessage/1/change/ HTTP/1.1" 200 15110
INFO 2025-05-30 11:57:04,645 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 11:57:08,422 basehttp "GET /admin/hotel_booking/contactmessage/1/delete/ HTTP/1.1" 200 10868
INFO 2025-05-30 11:57:09,453 basehttp "POST /admin/hotel_booking/contactmessage/1/delete/ HTTP/1.1" 302 0
INFO 2025-05-30 11:57:09,488 basehttp "GET /admin/hotel_booking/contactmessage/ HTTP/1.1" 200 13056
INFO 2025-05-30 11:57:09,520 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 23:17:59,439 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:18:24,607 middleware Admin user found: admin
INFO 2025-05-30 23:19:27,397 views Database connection successful
INFO 2025-05-30 23:19:27,399 views Received chat request at 2025-05-30 23:19:27.397766
DEBUG 2025-05-30 23:19:27,399 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:19:27,399 views Request body: {"message": "What do you like to eat?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:19:27,399 views User input: What do you like to eat?
INFO 2025-05-30 23:19:27,399 views Current session state: None
INFO 2025-05-30 23:19:27,399 views Current user data: None
INFO 2025-05-30 23:19:27,414 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:19:28,062 dialog_manager Using device: cpu
WARNING 2025-05-30 23:19:28,062 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:19:28,062 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:19:28,062 dialog_manager Processing message: What do you like to eat?
INFO 2025-05-30 23:19:28,062 dialog_manager Processing input: What do you like to eat?
INFO 2025-05-30 23:19:28,519 dialog_manager Using language: en
INFO 2025-05-30 23:19:28,519 dialog_manager Detecting intent for input: What do you like to eat?
INFO 2025-05-30 23:19:28,545 dialog_manager Detected intent: food
INFO 2025-05-30 23:19:28,554 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:19:28,554 views Updated session state: greeting
INFO 2025-05-30 23:19:28,554 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:19:28,663 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:19:28,665 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:19:28,670 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 366
INFO 2025-05-30 23:19:29,682 views Database connection successful
INFO 2025-05-30 23:19:29,682 views Received chat request at 2025-05-30 23:19:29.682855
DEBUG 2025-05-30 23:19:29,682 views Request headers: {'Content-Length': '198', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:19:29,684 views Request body: {"message": "How does AI work?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:19:29,684 views User input: How does AI work?
INFO 2025-05-30 23:19:29,685 views Current session state: greeting
INFO 2025-05-30 23:19:29,685 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:19:29,687 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:19:30,083 dialog_manager Using device: cpu
WARNING 2025-05-30 23:19:30,083 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:19:30,083 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:19:30,083 dialog_manager Processing message: How does AI work?
INFO 2025-05-30 23:19:30,083 dialog_manager Processing input: How does AI work?
INFO 2025-05-30 23:19:30,083 dialog_manager Using language: en
INFO 2025-05-30 23:19:30,083 dialog_manager Detecting intent for input: How does AI work?
INFO 2025-05-30 23:19:30,093 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:19:53,562 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-30 23:19:53,563 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:19:53,563 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:19:53,564 views Updated session state: greeting
INFO 2025-05-30 23:19:53,564 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:19:53,564 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:19:53,565 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:19:53,565 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:19:53,628 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 225
INFO 2025-05-30 23:19:54,637 views Database connection successful
INFO 2025-05-30 23:19:54,637 views Received chat request at 2025-05-30 23:19:54.637785
DEBUG 2025-05-30 23:19:54,645 views Request headers: {'Content-Length': '203', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:19:54,647 views Request body: {"message": "Will you fall in love?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:19:54,648 views User input: Will you fall in love?
INFO 2025-05-30 23:19:54,648 views Current session state: greeting
INFO 2025-05-30 23:19:54,648 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:19:54,652 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:19:55,154 dialog_manager Using device: cpu
WARNING 2025-05-30 23:19:55,155 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:19:55,159 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:19:55,161 dialog_manager Processing message: Will you fall in love?
INFO 2025-05-30 23:19:55,161 dialog_manager Processing input: Will you fall in love?
INFO 2025-05-30 23:19:55,161 dialog_manager Using language: en
INFO 2025-05-30 23:19:55,162 dialog_manager Detecting intent for input: Will you fall in love?
INFO 2025-05-30 23:19:55,175 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:19:55,176 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:19:55,176 views Updated session state: greeting
INFO 2025-05-30 23:19:55,176 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:19:55,185 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:19:55,185 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:19:55,190 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 353
INFO 2025-05-30 23:19:56,204 views Database connection successful
INFO 2025-05-30 23:19:56,204 views Received chat request at 2025-05-30 23:19:56.204680
DEBUG 2025-05-30 23:19:56,216 views Request headers: {'Content-Length': '201', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:19:56,218 views Request body: {"message": "What time is it now?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:19:56,220 views User input: What time is it now?
INFO 2025-05-30 23:19:56,221 views Current session state: greeting
INFO 2025-05-30 23:19:56,223 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2}
INFO 2025-05-30 23:19:56,229 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:19:56,623 dialog_manager Using device: cpu
WARNING 2025-05-30 23:19:56,623 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:19:56,623 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:19:56,632 dialog_manager Processing message: What time is it now?
INFO 2025-05-30 23:19:56,632 dialog_manager Processing input: What time is it now?
INFO 2025-05-30 23:19:56,633 dialog_manager Using language: en
INFO 2025-05-30 23:19:56,633 dialog_manager Detecting intent for input: What time is it now?
INFO 2025-05-30 23:19:56,639 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:19:56,640 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:19:56,640 views Updated session state: greeting
INFO 2025-05-30 23:19:56,641 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:19:56,646 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:19:56,647 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:19:56,649 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 327
INFO 2025-05-30 23:19:57,671 views Database connection successful
INFO 2025-05-30 23:19:57,671 views Received chat request at 2025-05-30 23:19:57.671334
DEBUG 2025-05-30 23:19:57,673 views Request headers: {'Content-Length': '224', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:19:57,674 views Request body: {"message": "Do you know it will rain in Malaysia today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:19:57,675 views User input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:19:57,678 views Current session state: greeting
INFO 2025-05-30 23:19:57,678 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:19:57,683 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:19:58,117 dialog_manager Using device: cpu
WARNING 2025-05-30 23:19:58,117 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:19:58,117 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:19:58,118 dialog_manager Processing message: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:19:58,119 dialog_manager Processing input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:19:58,120 dialog_manager Using language: en
INFO 2025-05-30 23:19:58,120 dialog_manager Detecting intent for input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:19:58,127 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:20:01,734 dialog_manager Sentiment analysis: Neutral (confidence: 0.92)
INFO 2025-05-30 23:20:01,735 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:20:01,735 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:20:01,735 views Updated session state: greeting
INFO 2025-05-30 23:20:01,735 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:20:01,736 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:20:01,736 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:01,736 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:01,789 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 225
INFO 2025-05-30 23:20:02,813 views Database connection successful
INFO 2025-05-30 23:20:02,814 views Received chat request at 2025-05-30 23:20:02.814966
DEBUG 2025-05-30 23:20:02,816 views Request headers: {'Content-Length': '208', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:20:02,818 views Request body: {"message": "Are you really emotionless?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:20:02,819 views User input: Are you really emotionless?
INFO 2025-05-30 23:20:02,821 views Current session state: greeting
INFO 2025-05-30 23:20:02,822 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:20:02,829 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:20:03,229 dialog_manager Using device: cpu
WARNING 2025-05-30 23:20:03,229 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:20:03,229 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:20:03,229 dialog_manager Processing message: Are you really emotionless?
INFO 2025-05-30 23:20:03,229 dialog_manager Processing input: Are you really emotionless?
INFO 2025-05-30 23:20:03,229 dialog_manager Using language: en
INFO 2025-05-30 23:20:03,229 dialog_manager Detecting intent for input: Are you really emotionless?
INFO 2025-05-30 23:20:03,244 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:20:07,568 dialog_manager Sentiment analysis: Negative (confidence: 0.66)
INFO 2025-05-30 23:20:07,568 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:20:07,568 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:20:07,568 views Updated session state: greeting
INFO 2025-05-30 23:20:07,568 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:20:07,568 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:20:07,568 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:07,568 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:07,639 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 225
INFO 2025-05-30 23:20:08,644 views Database connection successful
INFO 2025-05-30 23:20:08,644 views Received chat request at 2025-05-30 23:20:08.644773
DEBUG 2025-05-30 23:20:08,644 views Request headers: {'Content-Length': '195', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:20:08,654 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:20:08,654 views User input: Tell me a joke
INFO 2025-05-30 23:20:08,654 views Current session state: greeting
INFO 2025-05-30 23:20:08,655 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:20:08,657 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:20:09,094 dialog_manager Using device: cpu
WARNING 2025-05-30 23:20:09,110 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:20:09,111 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:20:09,111 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:20:09,111 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:20:09,111 dialog_manager Using language: en
INFO 2025-05-30 23:20:09,111 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:20:09,111 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:20:09,111 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:20:09,111 views Updated session state: greeting
INFO 2025-05-30 23:20:09,118 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:20:09,124 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:09,124 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:09,127 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 755
INFO 2025-05-30 23:20:10,154 views Database connection successful
INFO 2025-05-30 23:20:10,154 views Received chat request at 2025-05-30 23:20:10.154684
DEBUG 2025-05-30 23:20:10,157 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:20:10,160 views Request body: {"message": "What's the latest news?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:20:10,163 views User input: What's the latest news?
INFO 2025-05-30 23:20:10,166 views Current session state: greeting
INFO 2025-05-30 23:20:10,167 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True}
INFO 2025-05-30 23:20:10,172 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:20:10,647 dialog_manager Using device: cpu
WARNING 2025-05-30 23:20:10,647 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:20:10,650 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:20:10,650 dialog_manager Processing message: What's the latest news?
INFO 2025-05-30 23:20:10,650 dialog_manager Processing input: What's the latest news?
INFO 2025-05-30 23:20:10,650 dialog_manager Using language: en
INFO 2025-05-30 23:20:10,650 dialog_manager Detecting intent for input: What's the latest news?
INFO 2025-05-30 23:20:10,659 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:20:10,659 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:20:10,659 views Updated session state: greeting
INFO 2025-05-30 23:20:10,665 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:20:10,673 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:10,673 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:10,680 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 755
INFO 2025-05-30 23:20:11,692 views Database connection successful
INFO 2025-05-30 23:20:11,692 views Received chat request at 2025-05-30 23:20:11.692271
DEBUG 2025-05-30 23:20:11,700 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:20:11,702 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-30 23:20:11,703 views User input: Tell me a joke
INFO 2025-05-30 23:20:11,705 views Current session state: None
INFO 2025-05-30 23:20:11,708 views Current user data: None
INFO 2025-05-30 23:20:11,716 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:20:12,980 dialog_manager Using device: cpu
WARNING 2025-05-30 23:20:12,980 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:20:12,980 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:20:12,980 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:20:12,980 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:20:13,012 dialog_manager Using language: en
INFO 2025-05-30 23:20:13,012 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:20:13,028 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:20:13,044 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:20:13,044 views Updated session state: greeting
INFO 2025-05-30 23:20:13,044 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:20:13,044 views Generated response: Sorry, I focus on assisting you with hotel services, such as booking rooms, querying information, extending stays, etc.
Do you need me to help you book a room or check facility information?
INFO 2025-05-30 23:20:13,044 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:13,060 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:13,062 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-30 23:20:13,079 views Database connection successful
INFO 2025-05-30 23:20:13,079 views Received chat request at 2025-05-30 23:20:13.079774
DEBUG 2025-05-30 23:20:13,079 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:20:13,079 views Request body: {"message": "What's the weather like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:20:13,079 views User input: What's the weather like?
INFO 2025-05-30 23:20:13,079 views Current session state: greeting
INFO 2025-05-30 23:20:13,079 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:20:13,079 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:20:14,151 dialog_manager Using device: cpu
WARNING 2025-05-30 23:20:14,151 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:20:14,151 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:20:14,151 dialog_manager Processing message: What's the weather like?
INFO 2025-05-30 23:20:14,151 dialog_manager Processing input: What's the weather like?
INFO 2025-05-30 23:20:14,151 dialog_manager Using language: fi
INFO 2025-05-30 23:20:14,157 dialog_manager Detecting intent for input: What's the weather like?
INFO 2025-05-30 23:20:14,169 dialog_manager Detected intent: food
INFO 2025-05-30 23:20:18,147 dialog_manager Sentiment analysis: Neutral (confidence: 0.86)
INFO 2025-05-30 23:20:18,147 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:20:18,147 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:20:18,152 views Updated session state: greeting
INFO 2025-05-30 23:20:18,152 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:20:18,152 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:20:18,152 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:18,152 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:18,229 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-05-30 23:20:18,240 views Database connection successful
INFO 2025-05-30 23:20:18,241 views Received chat request at 2025-05-30 23:20:18.241263
DEBUG 2025-05-30 23:20:18,241 views Request headers: {'Content-Length': '197', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:20:18,241 views Request body: {"message": "How old are you?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:20:18,242 views User input: How old are you?
INFO 2025-05-30 23:20:18,242 views Current session state: greeting
INFO 2025-05-30 23:20:18,242 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:20:18,244 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:20:18,737 dialog_manager Using device: cpu
WARNING 2025-05-30 23:20:18,737 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:20:18,737 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:20:18,737 dialog_manager Processing message: How old are you?
INFO 2025-05-30 23:20:18,737 dialog_manager Processing input: How old are you?
INFO 2025-05-30 23:20:18,737 dialog_manager Using language: fi
INFO 2025-05-30 23:20:18,737 dialog_manager Detecting intent for input: How old are you?
INFO 2025-05-30 23:20:18,748 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:20:24,005 dialog_manager Sentiment analysis: Neutral (confidence: 0.84)
INFO 2025-05-30 23:20:24,005 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:20:24,005 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:20:24,006 views Updated session state: greeting
INFO 2025-05-30 23:20:24,006 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:20:24,006 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:20:24,007 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:20:24,007 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:20:24,071 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-05-30 23:21:16,744 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:21:24,486 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:21:32,484 middleware Admin user found: admin
INFO 2025-05-30 23:21:47,653 views Database connection successful
INFO 2025-05-30 23:21:47,653 views Received chat request at 2025-05-30 23:21:47.653590
DEBUG 2025-05-30 23:21:47,653 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:21:47,655 views Request body: {"message": "What do you like to eat?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:21:47,655 views User input: What do you like to eat?
INFO 2025-05-30 23:21:47,655 views Current session state: None
INFO 2025-05-30 23:21:47,655 views Current user data: None
INFO 2025-05-30 23:21:47,657 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:21:48,152 dialog_manager Using device: cpu
WARNING 2025-05-30 23:21:48,152 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:21:48,156 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:21:48,156 dialog_manager Processing message: What do you like to eat?
INFO 2025-05-30 23:21:48,156 dialog_manager Processing input: What do you like to eat?
INFO 2025-05-30 23:21:48,619 dialog_manager Using language: en
INFO 2025-05-30 23:21:48,619 dialog_manager Detecting intent for input: What do you like to eat?
INFO 2025-05-30 23:21:48,649 dialog_manager Detected intent: food
INFO 2025-05-30 23:21:48,667 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:21:48,667 views Updated session state: greeting
INFO 2025-05-30 23:21:48,667 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:21:48,685 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:21:48,685 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:21:48,690 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 366
INFO 2025-05-30 23:21:49,701 views Database connection successful
INFO 2025-05-30 23:21:49,702 views Received chat request at 2025-05-30 23:21:49.702904
DEBUG 2025-05-30 23:21:49,702 views Request headers: {'Content-Length': '198', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:21:49,703 views Request body: {"message": "How does AI work?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:21:49,703 views User input: How does AI work?
INFO 2025-05-30 23:21:49,704 views Current session state: greeting
INFO 2025-05-30 23:21:49,704 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:21:49,706 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:21:50,169 dialog_manager Using device: cpu
WARNING 2025-05-30 23:21:50,170 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:21:50,170 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:21:50,170 dialog_manager Processing message: How does AI work?
INFO 2025-05-30 23:21:50,171 dialog_manager Processing input: How does AI work?
INFO 2025-05-30 23:21:50,171 dialog_manager Using language: en
INFO 2025-05-30 23:21:50,171 dialog_manager Detecting intent for input: How does AI work?
INFO 2025-05-30 23:21:50,179 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:22:02,495 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-30 23:22:02,495 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:22:02,495 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:22:02,495 views Updated session state: greeting
INFO 2025-05-30 23:22:02,495 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:22:02,495 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:22:02,495 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:02,495 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:02,555 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 225
INFO 2025-05-30 23:22:03,579 views Database connection successful
INFO 2025-05-30 23:22:03,580 views Received chat request at 2025-05-30 23:22:03.580444
DEBUG 2025-05-30 23:22:03,580 views Request headers: {'Content-Length': '203', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:03,584 views Request body: {"message": "Will you fall in love?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:22:03,585 views User input: Will you fall in love?
INFO 2025-05-30 23:22:03,586 views Current session state: greeting
INFO 2025-05-30 23:22:03,588 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:22:03,592 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:04,367 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:04,367 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:04,367 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:04,367 dialog_manager Processing message: Will you fall in love?
INFO 2025-05-30 23:22:04,367 dialog_manager Processing input: Will you fall in love?
INFO 2025-05-30 23:22:04,379 dialog_manager Using language: en
INFO 2025-05-30 23:22:04,379 dialog_manager Detecting intent for input: Will you fall in love?
INFO 2025-05-30 23:22:04,385 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:22:04,390 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:22:04,390 views Updated session state: greeting
INFO 2025-05-30 23:22:04,390 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:22:04,400 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:04,401 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:04,406 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 353
INFO 2025-05-30 23:22:05,420 views Database connection successful
INFO 2025-05-30 23:22:05,420 views Received chat request at 2025-05-30 23:22:05.420258
DEBUG 2025-05-30 23:22:05,420 views Request headers: {'Content-Length': '201', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:05,426 views Request body: {"message": "What time is it now?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:22:05,426 views User input: What time is it now?
INFO 2025-05-30 23:22:05,426 views Current session state: greeting
INFO 2025-05-30 23:22:05,426 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2}
INFO 2025-05-30 23:22:05,428 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:05,844 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:05,844 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:05,844 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:05,844 dialog_manager Processing message: What time is it now?
INFO 2025-05-30 23:22:05,844 dialog_manager Processing input: What time is it now?
INFO 2025-05-30 23:22:05,844 dialog_manager Using language: en
INFO 2025-05-30 23:22:05,844 dialog_manager Detecting intent for input: What time is it now?
INFO 2025-05-30 23:22:05,859 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:22:05,859 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:22:05,860 views Updated session state: greeting
INFO 2025-05-30 23:22:05,860 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:22:05,867 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:05,868 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:05,869 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 327
INFO 2025-05-30 23:22:06,885 views Database connection successful
INFO 2025-05-30 23:22:06,885 views Received chat request at 2025-05-30 23:22:06.885681
DEBUG 2025-05-30 23:22:06,886 views Request headers: {'Content-Length': '224', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:06,886 views Request body: {"message": "Do you know it will rain in Malaysia today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:22:06,886 views User input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:22:06,887 views Current session state: greeting
INFO 2025-05-30 23:22:06,887 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:22:06,889 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:07,346 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:07,347 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:07,348 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:07,348 dialog_manager Processing message: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:22:07,348 dialog_manager Processing input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:22:07,348 dialog_manager Using language: en
INFO 2025-05-30 23:22:07,349 dialog_manager Detecting intent for input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:22:07,356 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:22:11,673 dialog_manager Sentiment analysis: Neutral (confidence: 0.92)
INFO 2025-05-30 23:22:11,673 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:22:11,673 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:22:11,673 views Updated session state: greeting
INFO 2025-05-30 23:22:11,673 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:22:11,673 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:22:11,673 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:11,673 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:11,748 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 225
INFO 2025-05-30 23:22:12,759 views Database connection successful
INFO 2025-05-30 23:22:12,759 views Received chat request at 2025-05-30 23:22:12.759184
DEBUG 2025-05-30 23:22:12,759 views Request headers: {'Content-Length': '208', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:12,759 views Request body: {"message": "Are you really emotionless?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:22:12,766 views User input: Are you really emotionless?
INFO 2025-05-30 23:22:12,767 views Current session state: greeting
INFO 2025-05-30 23:22:12,767 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:22:12,769 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:13,187 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:13,187 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:13,203 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:13,203 dialog_manager Processing message: Are you really emotionless?
INFO 2025-05-30 23:22:13,203 dialog_manager Processing input: Are you really emotionless?
INFO 2025-05-30 23:22:13,203 dialog_manager Using language: en
INFO 2025-05-30 23:22:13,203 dialog_manager Detecting intent for input: Are you really emotionless?
INFO 2025-05-30 23:22:13,203 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:22:17,351 dialog_manager Sentiment analysis: Negative (confidence: 0.66)
INFO 2025-05-30 23:22:17,351 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:22:17,351 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:22:17,351 views Updated session state: greeting
INFO 2025-05-30 23:22:17,351 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:22:17,351 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:22:17,351 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:17,351 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:17,414 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 225
INFO 2025-05-30 23:22:18,435 views Database connection successful
INFO 2025-05-30 23:22:18,442 views Received chat request at 2025-05-30 23:22:18.442147
DEBUG 2025-05-30 23:22:18,443 views Request headers: {'Content-Length': '195', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:18,443 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:22:18,443 views User input: Tell me a joke
INFO 2025-05-30 23:22:18,443 views Current session state: greeting
INFO 2025-05-30 23:22:18,446 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:22:18,446 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:18,868 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:18,868 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:18,868 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:18,868 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:22:18,868 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:22:18,868 dialog_manager Using language: en
INFO 2025-05-30 23:22:18,868 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:22:18,884 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:22:18,884 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:22:18,890 views Updated session state: greeting
INFO 2025-05-30 23:22:18,890 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:22:18,896 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:18,897 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:18,899 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 755
INFO 2025-05-30 23:22:19,923 views Database connection successful
INFO 2025-05-30 23:22:19,923 views Received chat request at 2025-05-30 23:22:19.923541
DEBUG 2025-05-30 23:22:19,929 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:19,930 views Request body: {"message": "What's the latest news?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:22:19,931 views User input: What's the latest news?
INFO 2025-05-30 23:22:19,932 views Current session state: greeting
INFO 2025-05-30 23:22:19,933 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True}
INFO 2025-05-30 23:22:19,938 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:20,348 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:20,348 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:20,348 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:20,348 dialog_manager Processing message: What's the latest news?
INFO 2025-05-30 23:22:20,348 dialog_manager Processing input: What's the latest news?
INFO 2025-05-30 23:22:20,348 dialog_manager Using language: en
INFO 2025-05-30 23:22:20,348 dialog_manager Detecting intent for input: What's the latest news?
INFO 2025-05-30 23:22:20,367 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:22:20,367 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:22:20,367 views Updated session state: greeting
INFO 2025-05-30 23:22:20,372 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:22:20,378 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:20,379 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:20,382 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 755
INFO 2025-05-30 23:22:21,402 views Database connection successful
INFO 2025-05-30 23:22:21,404 views Received chat request at 2025-05-30 23:22:21.403294
DEBUG 2025-05-30 23:22:21,405 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:21,405 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-30 23:22:21,407 views User input: Tell me a joke
INFO 2025-05-30 23:22:21,408 views Current session state: None
INFO 2025-05-30 23:22:21,409 views Current user data: None
INFO 2025-05-30 23:22:21,413 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:21,825 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:21,825 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:21,825 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:21,825 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:22:21,825 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:22:21,832 dialog_manager Using language: en
INFO 2025-05-30 23:22:21,832 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:22:21,840 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:22:21,844 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:22:21,845 views Updated session state: greeting
INFO 2025-05-30 23:22:21,845 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:22:21,847 views Generated response: Sorry, I focus on assisting you with hotel services, such as booking rooms, querying information, extending stays, etc.
Do you need me to help you book a room or check facility information?
INFO 2025-05-30 23:22:21,847 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:21,847 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:21,849 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-30 23:22:21,857 views Database connection successful
INFO 2025-05-30 23:22:21,857 views Received chat request at 2025-05-30 23:22:21.857029
DEBUG 2025-05-30 23:22:21,858 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:21,858 views Request body: {"message": "What's the weather like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:22:21,858 views User input: What's the weather like?
INFO 2025-05-30 23:22:21,858 views Current session state: greeting
INFO 2025-05-30 23:22:21,859 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:22:21,861 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:22,249 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:22,249 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:22,249 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:22,249 dialog_manager Processing message: What's the weather like?
INFO 2025-05-30 23:22:22,249 dialog_manager Processing input: What's the weather like?
INFO 2025-05-30 23:22:22,249 dialog_manager Using language: fi
INFO 2025-05-30 23:22:22,249 dialog_manager Detecting intent for input: What's the weather like?
INFO 2025-05-30 23:22:22,249 dialog_manager Detected intent: food
INFO 2025-05-30 23:22:24,915 dialog_manager Sentiment analysis: Neutral (confidence: 0.86)
INFO 2025-05-30 23:22:24,915 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:22:24,915 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:22:24,915 views Updated session state: greeting
INFO 2025-05-30 23:22:24,915 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:22:24,915 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:22:24,915 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:24,915 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:24,972 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-05-30 23:22:24,978 views Database connection successful
INFO 2025-05-30 23:22:24,978 views Received chat request at 2025-05-30 23:22:24.978400
DEBUG 2025-05-30 23:22:24,979 views Request headers: {'Content-Length': '197', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:22:24,979 views Request body: {"message": "How old are you?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:22:24,980 views User input: How old are you?
INFO 2025-05-30 23:22:24,980 views Current session state: greeting
INFO 2025-05-30 23:22:24,980 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:22:24,982 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:22:25,382 dialog_manager Using device: cpu
WARNING 2025-05-30 23:22:25,382 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:22:25,382 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:22:25,382 dialog_manager Processing message: How old are you?
INFO 2025-05-30 23:22:25,382 dialog_manager Processing input: How old are you?
INFO 2025-05-30 23:22:25,382 dialog_manager Using language: fi
INFO 2025-05-30 23:22:25,382 dialog_manager Detecting intent for input: How old are you?
INFO 2025-05-30 23:22:25,398 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:22:28,646 dialog_manager Sentiment analysis: Neutral (confidence: 0.84)
INFO 2025-05-30 23:22:28,646 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:22:28,646 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:22:28,646 views Updated session state: greeting
INFO 2025-05-30 23:22:28,646 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:22:28,646 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:22:28,646 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:22:28,646 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:22:28,717 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-05-30 23:23:14,961 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:23:22,520 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:23:32,516 middleware Admin user found: admin
INFO 2025-05-30 23:23:32,814 views Database connection successful
INFO 2025-05-30 23:23:32,814 views Received chat request at 2025-05-30 23:23:32.814808
DEBUG 2025-05-30 23:23:32,814 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:32,814 views Request body: {"message": "What do you like to eat?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:23:32,814 views User input: What do you like to eat?
INFO 2025-05-30 23:23:32,814 views Current session state: None
INFO 2025-05-30 23:23:32,814 views Current user data: None
INFO 2025-05-30 23:23:32,825 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:33,342 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:33,342 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:33,342 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:33,357 dialog_manager Processing message: What do you like to eat?
INFO 2025-05-30 23:23:33,357 dialog_manager Processing input: What do you like to eat?
INFO 2025-05-30 23:23:33,766 dialog_manager Using language: en
INFO 2025-05-30 23:23:33,766 dialog_manager Detecting intent for input: What do you like to eat?
INFO 2025-05-30 23:23:33,792 dialog_manager Detected intent: food
INFO 2025-05-30 23:23:33,800 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:23:33,801 views Updated session state: greeting
INFO 2025-05-30 23:23:33,801 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:23:33,815 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:33,816 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:33,819 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 366
INFO 2025-05-30 23:23:34,837 views Database connection successful
INFO 2025-05-30 23:23:34,837 views Received chat request at 2025-05-30 23:23:34.837777
DEBUG 2025-05-30 23:23:34,837 views Request headers: {'Content-Length': '198', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:34,842 views Request body: {"message": "How does AI work?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:34,843 views User input: How does AI work?
INFO 2025-05-30 23:23:34,844 views Current session state: greeting
INFO 2025-05-30 23:23:34,845 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:23:34,848 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:35,266 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:35,266 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:35,266 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:35,266 dialog_manager Processing message: How does AI work?
INFO 2025-05-30 23:23:35,266 dialog_manager Processing input: How does AI work?
INFO 2025-05-30 23:23:35,266 dialog_manager Using language: en
INFO 2025-05-30 23:23:35,266 dialog_manager Detecting intent for input: How does AI work?
INFO 2025-05-30 23:23:35,276 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:23:47,423 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-30 23:23:47,425 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:23:47,425 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:23:47,425 views Updated session state: greeting
INFO 2025-05-30 23:23:47,425 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1, 'user': <User: admin>}
INFO 2025-05-30 23:23:47,425 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:23:47,427 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:47,427 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:47,500 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 219
INFO 2025-05-30 23:23:48,519 views Database connection successful
INFO 2025-05-30 23:23:48,519 views Received chat request at 2025-05-30 23:23:48.519055
DEBUG 2025-05-30 23:23:48,528 views Request headers: {'Content-Length': '203', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:48,528 views Request body: {"message": "Will you fall in love?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:48,529 views User input: Will you fall in love?
INFO 2025-05-30 23:23:48,529 views Current session state: greeting
INFO 2025-05-30 23:23:48,530 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:23:48,537 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:49,049 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:49,049 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:49,052 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:49,052 dialog_manager Processing message: Will you fall in love?
INFO 2025-05-30 23:23:49,052 dialog_manager Processing input: Will you fall in love?
INFO 2025-05-30 23:23:49,052 dialog_manager Using language: en
INFO 2025-05-30 23:23:49,055 dialog_manager Detecting intent for input: Will you fall in love?
INFO 2025-05-30 23:23:49,080 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:23:49,080 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:23:49,080 views Updated session state: greeting
INFO 2025-05-30 23:23:49,080 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:23:49,099 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:49,100 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:49,103 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 353
INFO 2025-05-30 23:23:50,126 views Database connection successful
INFO 2025-05-30 23:23:50,128 views Received chat request at 2025-05-30 23:23:50.128324
DEBUG 2025-05-30 23:23:50,129 views Request headers: {'Content-Length': '201', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:50,130 views Request body: {"message": "What time is it now?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:50,132 views User input: What time is it now?
INFO 2025-05-30 23:23:50,132 views Current session state: greeting
INFO 2025-05-30 23:23:50,134 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2}
INFO 2025-05-30 23:23:50,138 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:50,597 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:50,597 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:50,597 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:50,597 dialog_manager Processing message: What time is it now?
INFO 2025-05-30 23:23:50,613 dialog_manager Processing input: What time is it now?
INFO 2025-05-30 23:23:50,613 dialog_manager Using language: en
INFO 2025-05-30 23:23:50,613 dialog_manager Detecting intent for input: What time is it now?
INFO 2025-05-30 23:23:50,613 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:23:50,620 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:23:50,620 views Updated session state: greeting
INFO 2025-05-30 23:23:50,621 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:23:50,624 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:50,625 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:50,628 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 327
INFO 2025-05-30 23:23:51,648 views Database connection successful
INFO 2025-05-30 23:23:51,648 views Received chat request at 2025-05-30 23:23:51.648963
DEBUG 2025-05-30 23:23:51,648 views Request headers: {'Content-Length': '224', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:51,652 views Request body: {"message": "Do you know it will rain in Malaysia today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:51,652 views User input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:23:51,653 views Current session state: greeting
INFO 2025-05-30 23:23:51,653 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:23:51,655 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:52,576 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:52,576 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:52,576 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:52,576 dialog_manager Processing message: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:23:52,576 dialog_manager Processing input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:23:52,576 dialog_manager Using language: en
INFO 2025-05-30 23:23:52,576 dialog_manager Detecting intent for input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:23:52,576 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:23:55,437 dialog_manager Sentiment analysis: Neutral (confidence: 0.92)
INFO 2025-05-30 23:23:55,437 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:23:55,437 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:23:55,437 views Updated session state: greeting
INFO 2025-05-30 23:23:55,437 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:23:55,437 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:23:55,437 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:55,437 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:55,491 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 219
INFO 2025-05-30 23:23:56,529 views Database connection successful
INFO 2025-05-30 23:23:56,530 views Received chat request at 2025-05-30 23:23:56.530397
DEBUG 2025-05-30 23:23:56,531 views Request headers: {'Content-Length': '208', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:56,532 views Request body: {"message": "Are you really emotionless?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:56,532 views User input: Are you really emotionless?
INFO 2025-05-30 23:23:56,534 views Current session state: greeting
INFO 2025-05-30 23:23:56,534 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:23:56,537 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:56,960 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:56,960 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:56,960 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:56,960 dialog_manager Processing message: Are you really emotionless?
INFO 2025-05-30 23:23:56,960 dialog_manager Processing input: Are you really emotionless?
INFO 2025-05-30 23:23:56,960 dialog_manager Using language: en
INFO 2025-05-30 23:23:56,960 dialog_manager Detecting intent for input: Are you really emotionless?
INFO 2025-05-30 23:23:56,977 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:23:56,978 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>}
INFO 2025-05-30 23:23:56,978 views Updated session state: greeting
INFO 2025-05-30 23:23:56,978 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>}
INFO 2025-05-30 23:23:56,984 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:56,984 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:56,986 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 353
INFO 2025-05-30 23:23:57,998 views Database connection successful
INFO 2025-05-30 23:23:57,998 views Received chat request at 2025-05-30 23:23:57.998842
DEBUG 2025-05-30 23:23:58,006 views Request headers: {'Content-Length': '195', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:58,008 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:58,010 views User input: Tell me a joke
INFO 2025-05-30 23:23:58,010 views Current session state: greeting
INFO 2025-05-30 23:23:58,011 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4}
INFO 2025-05-30 23:23:58,013 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:58,420 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:58,420 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:58,420 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:58,425 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:23:58,425 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:23:58,425 dialog_manager Using language: en
INFO 2025-05-30 23:23:58,425 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:23:58,430 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:23:58,432 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:23:58,432 views Updated session state: greeting
INFO 2025-05-30 23:23:58,433 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:23:58,444 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:58,445 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:58,448 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 755
INFO 2025-05-30 23:23:59,471 views Database connection successful
INFO 2025-05-30 23:23:59,474 views Received chat request at 2025-05-30 23:23:59.474990
DEBUG 2025-05-30 23:23:59,474 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:23:59,477 views Request body: {"message": "What's the latest news?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 5, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:23:59,478 views User input: What's the latest news?
INFO 2025-05-30 23:23:59,478 views Current session state: greeting
INFO 2025-05-30 23:23:59,479 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True}
INFO 2025-05-30 23:23:59,483 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:23:59,894 dialog_manager Using device: cpu
WARNING 2025-05-30 23:23:59,894 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:23:59,894 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:23:59,894 dialog_manager Processing message: What's the latest news?
INFO 2025-05-30 23:23:59,894 dialog_manager Processing input: What's the latest news?
INFO 2025-05-30 23:23:59,894 dialog_manager Using language: en
INFO 2025-05-30 23:23:59,894 dialog_manager Detecting intent for input: What's the latest news?
INFO 2025-05-30 23:23:59,894 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:23:59,894 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:23:59,905 views Updated session state: greeting
INFO 2025-05-30 23:23:59,905 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:23:59,910 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:23:59,911 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:23:59,913 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 755
INFO 2025-05-30 23:24:00,925 views Database connection successful
INFO 2025-05-30 23:24:00,935 views Received chat request at 2025-05-30 23:24:00.935354
DEBUG 2025-05-30 23:24:00,937 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:24:00,939 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-30 23:24:00,941 views User input: Tell me a joke
INFO 2025-05-30 23:24:00,943 views Current session state: None
INFO 2025-05-30 23:24:00,943 views Current user data: None
INFO 2025-05-30 23:24:00,946 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:24:01,367 dialog_manager Using device: cpu
WARNING 2025-05-30 23:24:01,367 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:24:01,367 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:24:01,367 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:24:01,367 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:24:01,381 dialog_manager Using language: en
INFO 2025-05-30 23:24:01,381 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:24:01,386 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:24:01,391 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:24:01,392 views Updated session state: greeting
INFO 2025-05-30 23:24:01,392 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:24:01,393 views Generated response: Sorry, I focus on assisting you with hotel services, such as booking rooms, querying information, extending stays, etc.
Do you need me to help you book a room or check facility information?
INFO 2025-05-30 23:24:01,393 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:24:01,394 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:24:01,396 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-30 23:24:01,402 views Database connection successful
INFO 2025-05-30 23:24:01,402 views Received chat request at 2025-05-30 23:24:01.402247
DEBUG 2025-05-30 23:24:01,403 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:24:01,403 views Request body: {"message": "What's the weather like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:24:01,403 views User input: What's the weather like?
INFO 2025-05-30 23:24:01,403 views Current session state: greeting
INFO 2025-05-30 23:24:01,404 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:24:01,406 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:24:01,806 dialog_manager Using device: cpu
WARNING 2025-05-30 23:24:01,806 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:24:01,806 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:24:01,806 dialog_manager Processing message: What's the weather like?
INFO 2025-05-30 23:24:01,806 dialog_manager Processing input: What's the weather like?
INFO 2025-05-30 23:24:01,806 dialog_manager Using language: fi
INFO 2025-05-30 23:24:01,806 dialog_manager Detecting intent for input: What's the weather like?
INFO 2025-05-30 23:24:01,806 dialog_manager Detected intent: food
INFO 2025-05-30 23:24:01,806 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:24:01,817 views Updated session state: greeting
INFO 2025-05-30 23:24:01,817 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:24:01,827 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:24:01,827 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:24:01,830 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-30 23:24:01,835 views Database connection successful
INFO 2025-05-30 23:24:01,836 views Received chat request at 2025-05-30 23:24:01.836598
DEBUG 2025-05-30 23:24:01,837 views Request headers: {'Content-Length': '197', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:24:01,837 views Request body: {"message": "How old are you?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:24:01,838 views User input: How old are you?
INFO 2025-05-30 23:24:01,838 views Current session state: greeting
INFO 2025-05-30 23:24:01,838 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2}
INFO 2025-05-30 23:24:01,840 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:24:02,261 dialog_manager Using device: cpu
WARNING 2025-05-30 23:24:02,261 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:24:02,261 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:24:02,261 dialog_manager Processing message: How old are you?
INFO 2025-05-30 23:24:02,261 dialog_manager Processing input: How old are you?
INFO 2025-05-30 23:24:02,261 dialog_manager Using language: fi
INFO 2025-05-30 23:24:02,261 dialog_manager Detecting intent for input: How old are you?
INFO 2025-05-30 23:24:02,261 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:24:05,431 dialog_manager Sentiment analysis: Neutral (confidence: 0.84)
INFO 2025-05-30 23:24:05,431 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:24:05,431 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:24:05,433 views Updated session state: greeting
INFO 2025-05-30 23:24:05,433 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:24:05,433 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:24:05,433 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:24:05,433 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:24:05,504 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-05-30 23:25:20,826 views Database connection successful
INFO 2025-05-30 23:25:20,826 views Received chat request at 2025-05-30 23:25:20.826516
DEBUG 2025-05-30 23:25:20,836 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:20,836 views Request body: {"message": "What do you like to eat?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:25:20,838 views User input: What do you like to eat?
INFO 2025-05-30 23:25:20,838 views Current session state: None
INFO 2025-05-30 23:25:20,838 views Current user data: None
INFO 2025-05-30 23:25:20,846 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:21,387 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:21,387 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:21,387 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:21,387 dialog_manager Processing message: What do you like to eat?
INFO 2025-05-30 23:25:21,387 dialog_manager Processing input: What do you like to eat?
INFO 2025-05-30 23:25:21,407 dialog_manager Using language: en
INFO 2025-05-30 23:25:21,408 dialog_manager Detecting intent for input: What do you like to eat?
INFO 2025-05-30 23:25:21,437 dialog_manager Detected intent: food
INFO 2025-05-30 23:25:21,437 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:25:21,437 views Updated session state: greeting
INFO 2025-05-30 23:25:21,448 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:25:21,466 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:21,467 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:21,472 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 366
INFO 2025-05-30 23:25:21,982 views Database connection successful
INFO 2025-05-30 23:25:21,982 views Received chat request at 2025-05-30 23:25:21.982785
DEBUG 2025-05-30 23:25:21,990 views Request headers: {'Content-Length': '203', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:22,002 views Request body: {"message": "Will you fall in love?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:22,005 views User input: Will you fall in love?
INFO 2025-05-30 23:25:22,007 views Current session state: greeting
INFO 2025-05-30 23:25:22,007 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:25:22,010 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:22,428 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:22,428 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:22,433 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:22,433 dialog_manager Processing message: Will you fall in love?
INFO 2025-05-30 23:25:22,433 dialog_manager Processing input: Will you fall in love?
INFO 2025-05-30 23:25:22,433 dialog_manager Using language: en
INFO 2025-05-30 23:25:22,433 dialog_manager Detecting intent for input: Will you fall in love?
INFO 2025-05-30 23:25:22,433 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:22,433 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:25:22,443 views Updated session state: greeting
INFO 2025-05-30 23:25:22,443 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:25:22,450 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:22,451 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:22,456 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 353
INFO 2025-05-30 23:25:22,983 views Database connection successful
INFO 2025-05-30 23:25:22,983 views Received chat request at 2025-05-30 23:25:22.983191
DEBUG 2025-05-30 23:25:22,983 views Request headers: {'Content-Length': '208', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:22,986 views Request body: {"message": "Are you really emotionless?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:22,988 views User input: Are you really emotionless?
INFO 2025-05-30 23:25:22,990 views Current session state: greeting
INFO 2025-05-30 23:25:22,991 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2}
INFO 2025-05-30 23:25:22,995 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:23,420 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:23,420 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:23,420 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:23,420 dialog_manager Processing message: Are you really emotionless?
INFO 2025-05-30 23:25:23,420 dialog_manager Processing input: Are you really emotionless?
INFO 2025-05-30 23:25:23,420 dialog_manager Using language: en
INFO 2025-05-30 23:25:23,420 dialog_manager Detecting intent for input: Are you really emotionless?
INFO 2025-05-30 23:25:23,426 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:23,426 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:25:23,430 views Updated session state: greeting
INFO 2025-05-30 23:25:23,431 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'user': <User: admin>}
INFO 2025-05-30 23:25:23,440 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:23,440 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:23,442 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 353
INFO 2025-05-30 23:25:23,955 views Database connection successful
INFO 2025-05-30 23:25:23,955 views Received chat request at 2025-05-30 23:25:23.955141
DEBUG 2025-05-30 23:25:23,955 views Request headers: {'Content-Length': '202', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:23,957 views Request body: {"message": "Do you have feelings?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:23,957 views User input: Do you have feelings?
INFO 2025-05-30 23:25:23,959 views Current session state: greeting
INFO 2025-05-30 23:25:23,959 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3}
INFO 2025-05-30 23:25:23,961 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:24,347 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:24,347 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:24,347 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:24,347 dialog_manager Processing message: Do you have feelings?
INFO 2025-05-30 23:25:24,347 dialog_manager Processing input: Do you have feelings?
INFO 2025-05-30 23:25:24,347 dialog_manager Using language: en
INFO 2025-05-30 23:25:24,363 dialog_manager Detecting intent for input: Do you have feelings?
INFO 2025-05-30 23:25:24,363 dialog_manager Detected intent: prices
INFO 2025-05-30 23:25:24,363 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:25:24,363 views Updated session state: greeting
INFO 2025-05-30 23:25:24,371 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:25:24,377 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:24,378 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:24,380 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 616
INFO 2025-05-30 23:25:24,893 views Database connection successful
INFO 2025-05-30 23:25:24,893 views Received chat request at 2025-05-30 23:25:24.893527
DEBUG 2025-05-30 23:25:24,896 views Request headers: {'Content-Length': '228', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:24,896 views Request body: {"message": "How does AI work?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:24,898 views User input: How does AI work?
INFO 2025-05-30 23:25:24,898 views Current session state: greeting
INFO 2025-05-30 23:25:24,898 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True}
INFO 2025-05-30 23:25:24,907 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:25,314 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:25,316 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:25,316 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:25,316 dialog_manager Processing message: How does AI work?
INFO 2025-05-30 23:25:25,316 dialog_manager Processing input: How does AI work?
INFO 2025-05-30 23:25:25,316 dialog_manager Using language: en
INFO 2025-05-30 23:25:25,316 dialog_manager Detecting intent for input: How does AI work?
INFO 2025-05-30 23:25:25,316 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:25:28,397 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-30 23:25:28,397 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:25:28,397 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:28,397 views Updated session state: greeting
INFO 2025-05-30 23:25:28,397 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:28,397 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-30 23:25:28,397 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:28,397 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:28,463 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 255
INFO 2025-05-30 23:25:28,982 views Database connection successful
INFO 2025-05-30 23:25:28,982 views Received chat request at 2025-05-30 23:25:28.982421
DEBUG 2025-05-30 23:25:28,982 views Request headers: {'Content-Length': '229', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:28,990 views Request body: {"message": "How were you made?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:28,991 views User input: How were you made?
INFO 2025-05-30 23:25:28,991 views Current session state: greeting
INFO 2025-05-30 23:25:28,992 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True}
INFO 2025-05-30 23:25:28,995 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:29,413 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:29,413 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:29,413 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:29,413 dialog_manager Processing message: How were you made?
INFO 2025-05-30 23:25:29,413 dialog_manager Processing input: How were you made?
INFO 2025-05-30 23:25:29,413 dialog_manager Using language: en
INFO 2025-05-30 23:25:29,413 dialog_manager Detecting intent for input: How were you made?
INFO 2025-05-30 23:25:29,423 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:29,423 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:29,423 views Updated session state: greeting
INFO 2025-05-30 23:25:29,428 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:29,437 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:29,438 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:29,440 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-05-30 23:25:29,946 views Database connection successful
INFO 2025-05-30 23:25:29,946 views Received chat request at 2025-05-30 23:25:29.946555
DEBUG 2025-05-30 23:25:29,953 views Request headers: {'Content-Length': '237', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:29,953 views Request body: {"message": "What programming language?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 5, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:29,953 views User input: What programming language?
INFO 2025-05-30 23:25:29,954 views Current session state: greeting
INFO 2025-05-30 23:25:29,954 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True}
INFO 2025-05-30 23:25:29,956 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:30,379 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:30,379 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:30,379 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:30,379 dialog_manager Processing message: What programming language?
INFO 2025-05-30 23:25:30,379 dialog_manager Processing input: What programming language?
INFO 2025-05-30 23:25:30,379 dialog_manager Using language: en
INFO 2025-05-30 23:25:30,379 dialog_manager Detecting intent for input: What programming language?
INFO 2025-05-30 23:25:30,384 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:30,384 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:30,384 views Updated session state: greeting
INFO 2025-05-30 23:25:30,389 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:30,393 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:30,394 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:30,399 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-05-30 23:25:30,913 views Database connection successful
INFO 2025-05-30 23:25:30,913 views Received chat request at 2025-05-30 23:25:30.913905
DEBUG 2025-05-30 23:25:30,913 views Request headers: {'Content-Length': '231', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:30,926 views Request body: {"message": "What time is it now?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 6, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:30,927 views User input: What time is it now?
INFO 2025-05-30 23:25:30,929 views Current session state: greeting
INFO 2025-05-30 23:25:30,931 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True}
INFO 2025-05-30 23:25:30,934 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:31,312 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:31,312 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:31,312 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:31,312 dialog_manager Processing message: What time is it now?
INFO 2025-05-30 23:25:31,312 dialog_manager Processing input: What time is it now?
INFO 2025-05-30 23:25:31,327 dialog_manager Using language: en
INFO 2025-05-30 23:25:31,327 dialog_manager Detecting intent for input: What time is it now?
INFO 2025-05-30 23:25:31,328 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:31,328 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:31,334 views Updated session state: greeting
INFO 2025-05-30 23:25:31,334 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:31,338 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:31,339 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:31,342 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-30 23:25:31,866 views Database connection successful
INFO 2025-05-30 23:25:31,867 views Received chat request at 2025-05-30 23:25:31.867031
DEBUG 2025-05-30 23:25:31,870 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:31,872 views Request body: {"message": "What day is it today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 7, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:31,873 views User input: What day is it today?
INFO 2025-05-30 23:25:31,874 views Current session state: greeting
INFO 2025-05-30 23:25:31,875 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True}
INFO 2025-05-30 23:25:31,879 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:32,323 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:32,323 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:32,324 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:32,324 dialog_manager Processing message: What day is it today?
INFO 2025-05-30 23:25:32,325 dialog_manager Processing input: What day is it today?
INFO 2025-05-30 23:25:32,325 dialog_manager Using language: en
INFO 2025-05-30 23:25:32,325 dialog_manager Detecting intent for input: What day is it today?
INFO 2025-05-30 23:25:32,332 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:32,332 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:32,332 views Updated session state: greeting
INFO 2025-05-30 23:25:32,334 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:32,339 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:32,340 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:32,342 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 337
INFO 2025-05-30 23:25:32,862 views Database connection successful
INFO 2025-05-30 23:25:32,863 views Received chat request at 2025-05-30 23:25:32.863538
DEBUG 2025-05-30 23:25:32,863 views Request headers: {'Content-Length': '254', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:32,864 views Request body: {"message": "Do you know it will rain in Malaysia today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 8, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:32,864 views User input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:25:32,865 views Current session state: greeting
INFO 2025-05-30 23:25:32,865 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True}
INFO 2025-05-30 23:25:32,867 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:35,344 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:35,345 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:35,345 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:35,345 dialog_manager Processing message: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:25:35,346 dialog_manager Processing input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:25:35,346 dialog_manager Using language: en
INFO 2025-05-30 23:25:35,346 dialog_manager Detecting intent for input: Do you know it will rain in Malaysia today?
INFO 2025-05-30 23:25:35,355 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:25:38,143 dialog_manager Sentiment analysis: Neutral (confidence: 0.92)
INFO 2025-05-30 23:25:38,143 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:25:38,143 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:38,143 views Updated session state: greeting
INFO 2025-05-30 23:25:38,143 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:38,143 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:25:38,143 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:38,143 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:38,204 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 249
INFO 2025-05-30 23:25:38,730 views Database connection successful
INFO 2025-05-30 23:25:38,730 views Received chat request at 2025-05-30 23:25:38.730721
DEBUG 2025-05-30 23:25:38,730 views Request headers: {'Content-Length': '235', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:38,734 views Request body: {"message": "What's the weather like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 8, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:38,734 views User input: What's the weather like?
INFO 2025-05-30 23:25:38,735 views Current session state: greeting
INFO 2025-05-30 23:25:38,736 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True}
INFO 2025-05-30 23:25:38,740 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:39,160 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:39,160 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:39,160 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:39,162 dialog_manager Processing message: What's the weather like?
INFO 2025-05-30 23:25:39,162 dialog_manager Processing input: What's the weather like?
INFO 2025-05-30 23:25:39,162 dialog_manager Using language: en
INFO 2025-05-30 23:25:39,162 dialog_manager Detecting intent for input: What's the weather like?
INFO 2025-05-30 23:25:39,168 dialog_manager Detected intent: food
INFO 2025-05-30 23:25:39,168 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:39,168 views Updated session state: greeting
INFO 2025-05-30 23:25:39,170 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:39,179 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:39,181 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:39,182 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 384
INFO 2025-05-30 23:25:39,691 views Database connection successful
INFO 2025-05-30 23:25:39,691 views Received chat request at 2025-05-30 23:25:39.691755
DEBUG 2025-05-30 23:25:39,691 views Request headers: {'Content-Length': '229', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:39,696 views Request body: {"message": "Is it sunny today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 9, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:39,696 views User input: Is it sunny today?
INFO 2025-05-30 23:25:39,696 views Current session state: greeting
INFO 2025-05-30 23:25:39,696 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True}
INFO 2025-05-30 23:25:39,698 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:40,096 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:40,096 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:40,096 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:40,096 dialog_manager Processing message: Is it sunny today?
INFO 2025-05-30 23:25:40,096 dialog_manager Processing input: Is it sunny today?
INFO 2025-05-30 23:25:40,096 dialog_manager Using language: en
INFO 2025-05-30 23:25:40,096 dialog_manager Detecting intent for input: Is it sunny today?
INFO 2025-05-30 23:25:40,115 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:40,115 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:40,116 views Updated session state: greeting
INFO 2025-05-30 23:25:40,116 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:40,122 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:40,123 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:40,126 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 385
INFO 2025-05-30 23:25:40,644 views Database connection successful
INFO 2025-05-30 23:25:40,644 views Received chat request at 2025-05-30 23:25:40.644567
DEBUG 2025-05-30 23:25:40,644 views Request headers: {'Content-Length': '226', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:40,649 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 10, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:40,649 views User input: Tell me a joke
INFO 2025-05-30 23:25:40,650 views Current session state: greeting
INFO 2025-05-30 23:25:40,651 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True}
INFO 2025-05-30 23:25:40,655 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:41,060 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:41,060 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:41,060 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:41,062 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:25:41,062 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:25:41,063 dialog_manager Using language: en
INFO 2025-05-30 23:25:41,063 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:25:41,067 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:41,069 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:41,069 views Updated session state: greeting
INFO 2025-05-30 23:25:41,071 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:41,076 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:41,076 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:41,079 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-05-30 23:25:41,588 views Database connection successful
INFO 2025-05-30 23:25:41,589 views Received chat request at 2025-05-30 23:25:41.589580
DEBUG 2025-05-30 23:25:41,590 views Request headers: {'Content-Length': '235', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:41,590 views Request body: {"message": "What's the latest news?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 11, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:41,591 views User input: What's the latest news?
INFO 2025-05-30 23:25:41,591 views Current session state: greeting
INFO 2025-05-30 23:25:41,591 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True}
INFO 2025-05-30 23:25:41,593 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:42,017 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:42,017 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:42,017 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:42,017 dialog_manager Processing message: What's the latest news?
INFO 2025-05-30 23:25:42,017 dialog_manager Processing input: What's the latest news?
INFO 2025-05-30 23:25:42,017 dialog_manager Using language: en
INFO 2025-05-30 23:25:42,017 dialog_manager Detecting intent for input: What's the latest news?
INFO 2025-05-30 23:25:42,017 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:42,017 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:42,017 views Updated session state: greeting
INFO 2025-05-30 23:25:42,017 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:42,033 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:42,033 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:42,041 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-05-30 23:25:42,550 views Database connection successful
INFO 2025-05-30 23:25:42,550 views Received chat request at 2025-05-30 23:25:42.550294
DEBUG 2025-05-30 23:25:42,550 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:42,558 views Request body: {"message": "Movie recommendation", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 12, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:25:42,558 views User input: Movie recommendation
INFO 2025-05-30 23:25:42,558 views Current session state: greeting
INFO 2025-05-30 23:25:42,559 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True}
INFO 2025-05-30 23:25:42,560 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:43,002 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:43,002 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:43,002 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:43,002 dialog_manager Processing message: Movie recommendation
INFO 2025-05-30 23:25:43,002 dialog_manager Processing input: Movie recommendation
INFO 2025-05-30 23:25:43,002 dialog_manager Using language: en
INFO 2025-05-30 23:25:43,002 dialog_manager Detecting intent for input: Movie recommendation
INFO 2025-05-30 23:25:43,002 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:43,002 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:43,002 views Updated session state: greeting
INFO 2025-05-30 23:25:43,002 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:25:43,020 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:43,021 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:43,023 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-05-30 23:25:43,533 views Database connection successful
INFO 2025-05-30 23:25:43,533 views Received chat request at 2025-05-30 23:25:43.533181
DEBUG 2025-05-30 23:25:43,533 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:43,541 views Request body: {"message": "Tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-30 23:25:43,541 views User input: Tell me a joke
INFO 2025-05-30 23:25:43,542 views Current session state: None
INFO 2025-05-30 23:25:43,542 views Current user data: None
INFO 2025-05-30 23:25:43,545 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:43,970 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:43,970 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:43,970 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:43,970 dialog_manager Processing message: Tell me a joke
INFO 2025-05-30 23:25:43,970 dialog_manager Processing input: Tell me a joke
INFO 2025-05-30 23:25:43,970 dialog_manager Using language: en
INFO 2025-05-30 23:25:43,970 dialog_manager Detecting intent for input: Tell me a joke
INFO 2025-05-30 23:25:43,983 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:25:43,989 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:25:43,989 views Updated session state: greeting
INFO 2025-05-30 23:25:43,990 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:25:43,990 views Generated response: Sorry, I focus on assisting you with hotel services, such as booking rooms, querying information, extending stays, etc.
Do you need me to help you book a room or check facility information?
INFO 2025-05-30 23:25:43,990 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:43,992 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:43,995 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-30 23:25:44,001 views Database connection successful
INFO 2025-05-30 23:25:44,001 views Received chat request at 2025-05-30 23:25:44.001019
DEBUG 2025-05-30 23:25:44,002 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:44,002 views Request body: {"message": "What's the weather like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:25:44,003 views User input: What's the weather like?
INFO 2025-05-30 23:25:44,003 views Current session state: greeting
INFO 2025-05-30 23:25:44,003 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:25:44,005 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:44,447 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:44,451 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:44,451 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:44,451 dialog_manager Processing message: What's the weather like?
INFO 2025-05-30 23:25:44,451 dialog_manager Processing input: What's the weather like?
INFO 2025-05-30 23:25:44,451 dialog_manager Using language: fi
INFO 2025-05-30 23:25:44,451 dialog_manager Detecting intent for input: What's the weather like?
INFO 2025-05-30 23:25:44,459 dialog_manager Detected intent: food
INFO 2025-05-30 23:25:44,459 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:25:44,460 views Updated session state: greeting
INFO 2025-05-30 23:25:44,460 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:25:44,465 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:44,465 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:44,469 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-30 23:25:44,474 views Database connection successful
INFO 2025-05-30 23:25:44,474 views Received chat request at 2025-05-30 23:25:44.474609
DEBUG 2025-05-30 23:25:44,475 views Request headers: {'Content-Length': '197', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:25:44,475 views Request body: {"message": "How old are you?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2}, "state": "greeting", "lang": "fi"}}
INFO 2025-05-30 23:25:44,475 views User input: How old are you?
INFO 2025-05-30 23:25:44,476 views Current session state: greeting
INFO 2025-05-30 23:25:44,476 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2}
INFO 2025-05-30 23:25:44,478 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:25:44,885 dialog_manager Using device: cpu
WARNING 2025-05-30 23:25:44,885 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:25:44,885 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:25:44,885 dialog_manager Processing message: How old are you?
INFO 2025-05-30 23:25:44,885 dialog_manager Processing input: How old are you?
INFO 2025-05-30 23:25:44,885 dialog_manager Using language: fi
INFO 2025-05-30 23:25:44,885 dialog_manager Detecting intent for input: How old are you?
INFO 2025-05-30 23:25:44,892 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:25:49,016 dialog_manager Sentiment analysis: Neutral (confidence: 0.84)
INFO 2025-05-30 23:25:49,016 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:25:49,016 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:25:49,016 views Updated session state: greeting
INFO 2025-05-30 23:25:49,016 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>}
INFO 2025-05-30 23:25:49,016 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:25:49,016 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:25:49,016 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:25:49,073 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-05-30 23:28:06,961 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:28:14,367 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:28:21,748 middleware Admin user found: admin
INFO 2025-05-30 23:29:26,046 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:29:29,842 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:29:40,459 middleware Admin user found: admin
INFO 2025-05-30 23:30:42,260 views Database connection successful
INFO 2025-05-30 23:30:42,263 views Received chat request at 2025-05-30 23:30:42.263818
DEBUG 2025-05-30 23:30:42,264 views Request headers: {'Content-Length': '60', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:42,264 views Request body: {"message": "How old are you?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:30:42,265 views User input: How old are you?
INFO 2025-05-30 23:30:42,265 views Current session state: None
INFO 2025-05-30 23:30:42,265 views Current user data: None
INFO 2025-05-30 23:30:42,277 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:43,070 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:43,071 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:43,079 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:43,082 dialog_manager Processing message: How old are you?
INFO 2025-05-30 23:30:43,084 dialog_manager Processing input: How old are you?
INFO 2025-05-30 23:30:43,962 dialog_manager Using language: en
INFO 2025-05-30 23:30:43,962 dialog_manager Detecting intent for input: How old are you?
INFO 2025-05-30 23:30:43,992 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:43,996 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:30:43,997 views Updated session state: greeting
INFO 2025-05-30 23:30:43,997 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:30:44,016 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:44,017 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:44,025 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-30 23:30:44,339 views Database connection successful
INFO 2025-05-30 23:30:44,340 views Received chat request at 2025-05-30 23:30:44.340723
DEBUG 2025-05-30 23:30:44,340 views Request headers: {'Content-Length': '197', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:44,342 views Request body: {"message": "Are you married?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:44,342 views User input: Are you married?
INFO 2025-05-30 23:30:44,343 views Current session state: greeting
INFO 2025-05-30 23:30:44,343 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:30:44,345 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:44,883 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:44,884 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:44,884 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:44,884 dialog_manager Processing message: Are you married?
INFO 2025-05-30 23:30:44,884 dialog_manager Processing input: Are you married?
INFO 2025-05-30 23:30:44,884 dialog_manager Using language: en
INFO 2025-05-30 23:30:44,886 dialog_manager Detecting intent for input: Are you married?
INFO 2025-05-30 23:30:44,896 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:44,897 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:30:44,897 views Updated session state: greeting
INFO 2025-05-30 23:30:44,898 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:30:44,906 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:44,906 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:44,910 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 616
INFO 2025-05-30 23:30:45,233 views Database connection successful
INFO 2025-05-30 23:30:45,233 views Received chat request at 2025-05-30 23:30:45.233919
DEBUG 2025-05-30 23:30:45,234 views Request headers: {'Content-Length': '233', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:45,235 views Request body: {"message": "What do you look like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:45,236 views User input: What do you look like?
INFO 2025-05-30 23:30:45,237 views Current session state: greeting
INFO 2025-05-30 23:30:45,237 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'showing_service_menu': True}
INFO 2025-05-30 23:30:45,239 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:45,679 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:45,679 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:45,680 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:45,680 dialog_manager Processing message: What do you look like?
INFO 2025-05-30 23:30:45,680 dialog_manager Processing input: What do you look like?
INFO 2025-05-30 23:30:45,681 dialog_manager Using language: en
INFO 2025-05-30 23:30:45,681 dialog_manager Detecting intent for input: What do you look like?
INFO 2025-05-30 23:30:45,690 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:45,691 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:45,692 views Updated session state: greeting
INFO 2025-05-30 23:30:45,692 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:45,699 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:45,699 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:45,704 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 616
INFO 2025-05-30 23:30:46,031 views Database connection successful
INFO 2025-05-30 23:30:46,031 views Received chat request at 2025-05-30 23:30:46.031709
DEBUG 2025-05-30 23:30:46,040 views Request headers: {'Content-Length': '256', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:46,040 views Request body: {"message": "What programming language are you written in?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:46,042 views User input: What programming language are you written in?
INFO 2025-05-30 23:30:46,042 views Current session state: greeting
INFO 2025-05-30 23:30:46,043 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'showing_service_menu': True}
INFO 2025-05-30 23:30:46,046 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:46,652 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:46,652 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:46,652 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:46,654 dialog_manager Processing message: What programming language are you written in?
INFO 2025-05-30 23:30:46,654 dialog_manager Processing input: What programming language are you written in?
INFO 2025-05-30 23:30:46,654 dialog_manager Using language: en
INFO 2025-05-30 23:30:46,654 dialog_manager Detecting intent for input: What programming language are you written in?
INFO 2025-05-30 23:30:46,661 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:46,662 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:46,663 views Updated session state: greeting
INFO 2025-05-30 23:30:46,663 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:46,681 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:46,682 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:46,690 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-05-30 23:30:47,015 views Database connection successful
INFO 2025-05-30 23:30:47,015 views Received chat request at 2025-05-30 23:30:47.015717
DEBUG 2025-05-30 23:30:47,017 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:47,021 views Request body: {"message": "Are you ChatGPT?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:47,021 views User input: Are you ChatGPT?
INFO 2025-05-30 23:30:47,021 views Current session state: greeting
INFO 2025-05-30 23:30:47,021 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True}
INFO 2025-05-30 23:30:47,023 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:47,459 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:47,459 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:47,461 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:47,461 dialog_manager Processing message: Are you ChatGPT?
INFO 2025-05-30 23:30:47,462 dialog_manager Processing input: Are you ChatGPT?
INFO 2025-05-30 23:30:47,462 dialog_manager Using language: en
INFO 2025-05-30 23:30:47,462 dialog_manager Detecting intent for input: Are you ChatGPT?
INFO 2025-05-30 23:30:47,468 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:47,469 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:47,469 views Updated session state: greeting
INFO 2025-05-30 23:30:47,470 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:47,477 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:47,478 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:47,481 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-05-30 23:30:47,800 views Database connection successful
INFO 2025-05-30 23:30:47,801 views Received chat request at 2025-05-30 23:30:47.800038
DEBUG 2025-05-30 23:30:47,801 views Request headers: {'Content-Length': '228', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:47,802 views Request body: {"message": "What month is it?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 5, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:47,802 views User input: What month is it?
INFO 2025-05-30 23:30:47,802 views Current session state: greeting
INFO 2025-05-30 23:30:47,802 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True}
INFO 2025-05-30 23:30:47,810 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:48,223 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:48,223 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:48,223 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:48,224 dialog_manager Processing message: What month is it?
INFO 2025-05-30 23:30:48,224 dialog_manager Processing input: What month is it?
INFO 2025-05-30 23:30:48,224 dialog_manager Using language: en
INFO 2025-05-30 23:30:48,224 dialog_manager Detecting intent for input: What month is it?
INFO 2025-05-30 23:30:48,229 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:48,231 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:48,232 views Updated session state: greeting
INFO 2025-05-30 23:30:48,232 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:48,238 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:48,238 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:48,242 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 337
INFO 2025-05-30 23:30:48,553 views Database connection successful
INFO 2025-05-30 23:30:48,554 views Received chat request at 2025-05-30 23:30:48.554388
DEBUG 2025-05-30 23:30:48,554 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:48,555 views Request body: {"message": "Is it hot today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 6, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:48,555 views User input: Is it hot today?
INFO 2025-05-30 23:30:48,556 views Current session state: greeting
INFO 2025-05-30 23:30:48,556 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True}
INFO 2025-05-30 23:30:48,559 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:49,145 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:49,147 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:49,147 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:49,148 dialog_manager Processing message: Is it hot today?
INFO 2025-05-30 23:30:49,148 dialog_manager Processing input: Is it hot today?
INFO 2025-05-30 23:30:49,149 dialog_manager Using language: en
INFO 2025-05-30 23:30:49,149 dialog_manager Detecting intent for input: Is it hot today?
INFO 2025-05-30 23:30:49,150 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:49,150 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:49,150 views Updated session state: greeting
INFO 2025-05-30 23:30:49,156 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:49,160 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:49,160 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:49,160 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 384
INFO 2025-05-30 23:30:49,476 views Database connection successful
INFO 2025-05-30 23:30:49,477 views Received chat request at 2025-05-30 23:30:49.477990
DEBUG 2025-05-30 23:30:49,479 views Request headers: {'Content-Length': '225', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:49,480 views Request body: {"message": "Sing me a song", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 7, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:49,481 views User input: Sing me a song
INFO 2025-05-30 23:30:49,484 views Current session state: greeting
INFO 2025-05-30 23:30:49,485 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True}
INFO 2025-05-30 23:30:49,487 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:49,898 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:49,898 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:49,898 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:49,898 dialog_manager Processing message: Sing me a song
INFO 2025-05-30 23:30:49,898 dialog_manager Processing input: Sing me a song
INFO 2025-05-30 23:30:49,898 dialog_manager Using language: en
INFO 2025-05-30 23:30:49,898 dialog_manager Detecting intent for input: Sing me a song
INFO 2025-05-30 23:30:49,898 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:49,898 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:49,914 views Updated session state: greeting
INFO 2025-05-30 23:30:49,914 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:49,918 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:49,920 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:49,924 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 419
INFO 2025-05-30 23:30:50,248 views Database connection successful
INFO 2025-05-30 23:30:50,248 views Received chat request at 2025-05-30 23:30:50.248991
DEBUG 2025-05-30 23:30:50,250 views Request headers: {'Content-Length': '230', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:50,250 views Request body: {"message": "Play a game with me", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 8, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:50,251 views User input: Play a game with me
INFO 2025-05-30 23:30:50,251 views Current session state: greeting
INFO 2025-05-30 23:30:50,252 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True}
INFO 2025-05-30 23:30:50,258 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:50,656 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:50,658 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:50,658 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:50,658 dialog_manager Processing message: Play a game with me
INFO 2025-05-30 23:30:50,658 dialog_manager Processing input: Play a game with me
INFO 2025-05-30 23:30:50,658 dialog_manager Using language: en
INFO 2025-05-30 23:30:50,658 dialog_manager Detecting intent for input: Play a game with me
INFO 2025-05-30 23:30:50,663 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:50,663 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:50,663 views Updated session state: greeting
INFO 2025-05-30 23:30:50,665 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:50,669 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:50,670 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:50,673 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 419
INFO 2025-05-30 23:30:50,989 views Database connection successful
INFO 2025-05-30 23:30:50,989 views Received chat request at 2025-05-30 23:30:50.989026
DEBUG 2025-05-30 23:30:50,995 views Request headers: {'Content-Length': '236', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:50,995 views Request body: {"message": "What's the breaking news?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 9, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:50,996 views User input: What's the breaking news?
INFO 2025-05-30 23:30:50,997 views Current session state: greeting
INFO 2025-05-30 23:30:51,000 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True}
INFO 2025-05-30 23:30:51,005 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:51,428 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:51,428 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:51,430 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:51,430 dialog_manager Processing message: What's the breaking news?
INFO 2025-05-30 23:30:51,430 dialog_manager Processing input: What's the breaking news?
INFO 2025-05-30 23:30:51,430 dialog_manager Using language: en
INFO 2025-05-30 23:30:51,430 dialog_manager Detecting intent for input: What's the breaking news?
INFO 2025-05-30 23:30:51,430 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:51,430 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:51,430 views Updated session state: greeting
INFO 2025-05-30 23:30:51,438 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:51,441 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:51,442 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:51,445 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 406
INFO 2025-05-30 23:30:51,752 views Database connection successful
INFO 2025-05-30 23:30:51,752 views Received chat request at 2025-05-30 23:30:51.752113
DEBUG 2025-05-30 23:30:51,761 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:51,763 views Request body: {"message": "Tell me about politics", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 10, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:51,764 views User input: Tell me about politics
INFO 2025-05-30 23:30:51,768 views Current session state: greeting
INFO 2025-05-30 23:30:51,771 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True}
INFO 2025-05-30 23:30:51,774 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:52,200 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:52,200 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:52,200 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:52,200 dialog_manager Processing message: Tell me about politics
INFO 2025-05-30 23:30:52,200 dialog_manager Processing input: Tell me about politics
INFO 2025-05-30 23:30:52,200 dialog_manager Using language: en
INFO 2025-05-30 23:30:52,200 dialog_manager Detecting intent for input: Tell me about politics
INFO 2025-05-30 23:30:52,200 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:52,200 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:52,200 views Updated session state: greeting
INFO 2025-05-30 23:30:52,200 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:52,217 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:52,217 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:52,220 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 406
INFO 2025-05-30 23:30:52,528 views Database connection successful
INFO 2025-05-30 23:30:52,528 views Received chat request at 2025-05-30 23:30:52.528757
DEBUG 2025-05-30 23:30:52,530 views Request headers: {'Content-Length': '238', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:52,530 views Request body: {"message": "What's the football score?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 11, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:52,530 views User input: What's the football score?
INFO 2025-05-30 23:30:52,530 views Current session state: greeting
INFO 2025-05-30 23:30:52,531 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True}
INFO 2025-05-30 23:30:52,533 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:52,952 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:52,953 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:52,953 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:52,954 dialog_manager Processing message: What's the football score?
INFO 2025-05-30 23:30:52,954 dialog_manager Processing input: What's the football score?
INFO 2025-05-30 23:30:52,954 dialog_manager Using language: en
INFO 2025-05-30 23:30:52,955 dialog_manager Detecting intent for input: What's the football score?
INFO 2025-05-30 23:30:52,959 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:52,959 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:52,963 views Updated session state: greeting
INFO 2025-05-30 23:30:52,964 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:52,969 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:52,969 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:52,975 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 404
INFO 2025-05-30 23:30:53,280 views Database connection successful
INFO 2025-05-30 23:30:53,280 views Received chat request at 2025-05-30 23:30:53.280708
DEBUG 2025-05-30 23:30:53,280 views Request headers: {'Content-Length': '240', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:53,287 views Request body: {"message": "Who won the basketball game?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 12, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:53,287 views User input: Who won the basketball game?
INFO 2025-05-30 23:30:53,287 views Current session state: greeting
INFO 2025-05-30 23:30:53,288 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True}
INFO 2025-05-30 23:30:53,289 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:53,674 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:53,674 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:53,674 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:53,674 dialog_manager Processing message: Who won the basketball game?
INFO 2025-05-30 23:30:53,674 dialog_manager Processing input: Who won the basketball game?
INFO 2025-05-30 23:30:53,674 dialog_manager Using language: en
INFO 2025-05-30 23:30:53,674 dialog_manager Detecting intent for input: Who won the basketball game?
INFO 2025-05-30 23:30:53,690 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:30:53,690 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:53,696 views Updated session state: greeting
INFO 2025-05-30 23:30:53,696 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:30:53,700 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:30:53,702 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:30:53,706 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 420
INFO 2025-05-30 23:30:54,029 views Database connection successful
INFO 2025-05-30 23:30:54,029 views Received chat request at 2025-05-30 23:30:54.029310
DEBUG 2025-05-30 23:30:54,031 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:30:54,031 views Request body: {"message": "How do I cook pasta?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 13, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:30:54,033 views User input: How do I cook pasta?
INFO 2025-05-30 23:30:54,034 views Current session state: greeting
INFO 2025-05-30 23:30:54,041 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True}
INFO 2025-05-30 23:30:54,044 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:30:54,681 dialog_manager Using device: cpu
WARNING 2025-05-30 23:30:54,682 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:30:54,682 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:30:54,683 dialog_manager Processing message: How do I cook pasta?
INFO 2025-05-30 23:30:54,683 dialog_manager Processing input: How do I cook pasta?
INFO 2025-05-30 23:30:54,683 dialog_manager Using language: en
INFO 2025-05-30 23:30:54,683 dialog_manager Detecting intent for input: How do I cook pasta?
INFO 2025-05-30 23:30:54,686 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:31:07,341 dialog_manager Sentiment analysis: Neutral (confidence: 0.85)
INFO 2025-05-30 23:31:07,341 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:07,341 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:07,346 views Updated session state: greeting
INFO 2025-05-30 23:31:07,346 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:07,346 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:07,346 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:07,346 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:07,409 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-30 23:31:07,720 views Database connection successful
INFO 2025-05-30 23:31:07,720 views Received chat request at 2025-05-30 23:31:07.720154
DEBUG 2025-05-30 23:31:07,720 views Request headers: {'Content-Length': '235', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:07,720 views Request body: {"message": "Best local restaurants?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 13, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:07,727 views User input: Best local restaurants?
INFO 2025-05-30 23:31:07,729 views Current session state: greeting
INFO 2025-05-30 23:31:07,730 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True}
INFO 2025-05-30 23:31:07,735 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:08,241 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:08,242 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:08,247 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:08,248 dialog_manager Processing message: Best local restaurants?
INFO 2025-05-30 23:31:08,248 dialog_manager Processing input: Best local restaurants?
INFO 2025-05-30 23:31:08,250 dialog_manager Using language: en
INFO 2025-05-30 23:31:08,250 dialog_manager Detecting intent for input: Best local restaurants?
INFO 2025-05-30 23:31:08,257 dialog_manager Detected intent: food
INFO 2025-05-30 23:31:11,563 dialog_manager Sentiment analysis: Neutral (confidence: 0.85)
INFO 2025-05-30 23:31:11,564 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:11,564 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:11,564 views Updated session state: greeting
INFO 2025-05-30 23:31:11,564 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:11,564 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:11,565 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:11,565 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:11,640 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-30 23:31:11,946 views Database connection successful
INFO 2025-05-30 23:31:11,946 views Received chat request at 2025-05-30 23:31:11.946556
DEBUG 2025-05-30 23:31:11,947 views Request headers: {'Content-Length': '236', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:11,948 views Request body: {"message": "Where can I buy clothes?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 13, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:11,949 views User input: Where can I buy clothes?
INFO 2025-05-30 23:31:11,949 views Current session state: greeting
INFO 2025-05-30 23:31:11,951 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True}
INFO 2025-05-30 23:31:11,953 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:12,363 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:12,363 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:12,363 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:12,363 dialog_manager Processing message: Where can I buy clothes?
INFO 2025-05-30 23:31:12,363 dialog_manager Processing input: Where can I buy clothes?
INFO 2025-05-30 23:31:12,363 dialog_manager Using language: en
INFO 2025-05-30 23:31:12,363 dialog_manager Detecting intent for input: Where can I buy clothes?
INFO 2025-05-30 23:31:12,379 dialog_manager Detected intent: location
INFO 2025-05-30 23:31:15,700 dialog_manager Sentiment analysis: Neutral (confidence: 0.79)
INFO 2025-05-30 23:31:15,703 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:15,703 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:15,704 views Updated session state: greeting
INFO 2025-05-30 23:31:15,704 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:15,705 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:15,705 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:15,707 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:15,794 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-30 23:31:16,139 views Database connection successful
INFO 2025-05-30 23:31:16,141 views Received chat request at 2025-05-30 23:31:16.141288
DEBUG 2025-05-30 23:31:16,142 views Request headers: {'Content-Length': '231', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:16,142 views Request body: {"message": "Best online stores?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 13, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:16,143 views User input: Best online stores?
INFO 2025-05-30 23:31:16,144 views Current session state: greeting
INFO 2025-05-30 23:31:16,144 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True}
INFO 2025-05-30 23:31:16,149 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:16,809 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:16,809 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:16,809 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:16,809 dialog_manager Processing message: Best online stores?
INFO 2025-05-30 23:31:16,809 dialog_manager Processing input: Best online stores?
INFO 2025-05-30 23:31:16,809 dialog_manager Using language: en
INFO 2025-05-30 23:31:16,809 dialog_manager Detecting intent for input: Best online stores?
INFO 2025-05-30 23:31:16,846 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:31:16,847 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 14, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:16,847 views Updated session state: greeting
INFO 2025-05-30 23:31:16,847 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 14, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:16,857 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:16,858 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:16,862 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 399
INFO 2025-05-30 23:31:17,177 views Database connection successful
INFO 2025-05-30 23:31:17,179 views Received chat request at 2025-05-30 23:31:17.179369
DEBUG 2025-05-30 23:31:17,179 views Request headers: {'Content-Length': '230', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:17,180 views Request body: {"message": "How to get a visa?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 14, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:17,180 views User input: How to get a visa?
INFO 2025-05-30 23:31:17,181 views Current session state: greeting
INFO 2025-05-30 23:31:17,181 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 14, 'showing_service_menu': True}
INFO 2025-05-30 23:31:17,183 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:17,631 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:17,631 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:17,632 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:17,632 dialog_manager Processing message: How to get a visa?
INFO 2025-05-30 23:31:17,632 dialog_manager Processing input: How to get a visa?
INFO 2025-05-30 23:31:17,634 dialog_manager Using language: en
INFO 2025-05-30 23:31:17,634 dialog_manager Detecting intent for input: How to get a visa?
INFO 2025-05-30 23:31:17,645 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:31:17,646 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 15, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:17,646 views Updated session state: greeting
INFO 2025-05-30 23:31:17,647 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 15, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:17,651 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:17,653 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:17,655 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 425
INFO 2025-05-30 23:31:17,964 views Database connection successful
INFO 2025-05-30 23:31:17,966 views Received chat request at 2025-05-30 23:31:17.966006
DEBUG 2025-05-30 23:31:17,966 views Request headers: {'Content-Length': '237', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:17,967 views Request body: {"message": "Best tourist attractions?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 15, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:17,967 views User input: Best tourist attractions?
INFO 2025-05-30 23:31:17,968 views Current session state: greeting
INFO 2025-05-30 23:31:17,968 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 15, 'showing_service_menu': True}
INFO 2025-05-30 23:31:17,970 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:18,393 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:18,394 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:18,394 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:18,395 dialog_manager Processing message: Best tourist attractions?
INFO 2025-05-30 23:31:18,395 dialog_manager Processing input: Best tourist attractions?
INFO 2025-05-30 23:31:18,395 dialog_manager Using language: en
INFO 2025-05-30 23:31:18,395 dialog_manager Detecting intent for input: Best tourist attractions?
INFO 2025-05-30 23:31:18,401 dialog_manager Detected intent: attractions
INFO 2025-05-30 23:31:18,402 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:18,402 views Updated session state: greeting
INFO 2025-05-30 23:31:18,403 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:18,407 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:18,409 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:18,411 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 425
INFO 2025-05-30 23:31:18,723 views Database connection successful
INFO 2025-05-30 23:31:18,723 views Received chat request at 2025-05-30 23:31:18.723392
DEBUG 2025-05-30 23:31:18,724 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:18,724 views Request body: {"message": "How to study better?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 16, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:18,725 views User input: How to study better?
INFO 2025-05-30 23:31:18,725 views Current session state: greeting
INFO 2025-05-30 23:31:18,725 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True}
INFO 2025-05-30 23:31:18,728 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:19,195 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:19,196 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:19,196 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:19,197 dialog_manager Processing message: How to study better?
INFO 2025-05-30 23:31:19,197 dialog_manager Processing input: How to study better?
INFO 2025-05-30 23:31:19,197 dialog_manager Using language: en
INFO 2025-05-30 23:31:19,197 dialog_manager Detecting intent for input: How to study better?
INFO 2025-05-30 23:31:19,205 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:31:23,549 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-05-30 23:31:23,550 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:23,550 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:23,551 views Updated session state: greeting
INFO 2025-05-30 23:31:23,554 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:23,558 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:23,559 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:23,560 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:23,645 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-30 23:31:23,960 views Database connection successful
INFO 2025-05-30 23:31:23,962 views Received chat request at 2025-05-30 23:31:23.962085
DEBUG 2025-05-30 23:31:23,962 views Request headers: {'Content-Length': '230', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:23,963 views Request body: {"message": "Best universities?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 16, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:23,963 views User input: Best universities?
INFO 2025-05-30 23:31:23,963 views Current session state: greeting
INFO 2025-05-30 23:31:23,964 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True}
INFO 2025-05-30 23:31:23,966 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:24,558 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:24,559 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:24,559 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:24,560 dialog_manager Processing message: Best universities?
INFO 2025-05-30 23:31:24,561 dialog_manager Processing input: Best universities?
INFO 2025-05-30 23:31:24,561 dialog_manager Using language: en
INFO 2025-05-30 23:31:24,561 dialog_manager Detecting intent for input: Best universities?
INFO 2025-05-30 23:31:24,572 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:31:29,182 dialog_manager Sentiment analysis: Neutral (confidence: 0.83)
INFO 2025-05-30 23:31:29,182 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:29,182 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:29,182 views Updated session state: greeting
INFO 2025-05-30 23:31:29,182 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:29,182 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:29,182 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:29,182 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:29,244 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-30 23:31:29,569 views Database connection successful
INFO 2025-05-30 23:31:29,570 views Received chat request at 2025-05-30 23:31:29.570197
DEBUG 2025-05-30 23:31:29,571 views Request headers: {'Content-Length': '229', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:29,571 views Request body: {"message": "I have a headache", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 16, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:29,573 views User input: I have a headache
INFO 2025-05-30 23:31:29,573 views Current session state: greeting
INFO 2025-05-30 23:31:29,574 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True}
INFO 2025-05-30 23:31:29,582 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:30,039 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:30,039 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:30,040 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:30,040 dialog_manager Processing message: I have a headache
INFO 2025-05-30 23:31:30,040 dialog_manager Processing input: I have a headache
INFO 2025-05-30 23:31:30,040 dialog_manager Using language: en
INFO 2025-05-30 23:31:30,041 dialog_manager Detecting intent for input: I have a headache
INFO 2025-05-30 23:31:30,065 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:31:34,780 dialog_manager Sentiment analysis: Negative (confidence: 0.97)
INFO 2025-05-30 23:31:34,782 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:34,782 views Updated session state: greeting
INFO 2025-05-30 23:31:34,782 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:34,782 views Generated response: I'm sorry to hear that. How can I better assist you? I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:31:34,783 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:34,783 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:34,836 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 303
INFO 2025-05-30 23:31:35,153 views Database connection successful
INFO 2025-05-30 23:31:35,153 views Received chat request at 2025-05-30 23:31:35.153559
DEBUG 2025-05-30 23:31:35,153 views Request headers: {'Content-Length': '228', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:35,156 views Request body: {"message": "How to exercise?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 16, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:35,157 views User input: How to exercise?
INFO 2025-05-30 23:31:35,158 views Current session state: greeting
INFO 2025-05-30 23:31:35,158 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True}
INFO 2025-05-30 23:31:35,163 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:35,572 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:35,573 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:35,573 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:35,573 dialog_manager Processing message: How to exercise?
INFO 2025-05-30 23:31:35,573 dialog_manager Processing input: How to exercise?
INFO 2025-05-30 23:31:35,574 dialog_manager Using language: en
INFO 2025-05-30 23:31:35,574 dialog_manager Detecting intent for input: How to exercise?
INFO 2025-05-30 23:31:35,580 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:31:35,581 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 17, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:35,581 views Updated session state: greeting
INFO 2025-05-30 23:31:35,582 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 17, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:35,589 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:35,589 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:35,591 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 404
INFO 2025-05-30 23:31:35,912 views Database connection successful
INFO 2025-05-30 23:31:35,912 views Received chat request at 2025-05-30 23:31:35.912246
DEBUG 2025-05-30 23:31:35,915 views Request headers: {'Content-Length': '240', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:35,915 views Request body: {"message": "What is the meaning of life?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 17, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:35,917 views User input: What is the meaning of life?
INFO 2025-05-30 23:31:35,918 views Current session state: greeting
INFO 2025-05-30 23:31:35,919 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 17, 'showing_service_menu': True}
INFO 2025-05-30 23:31:35,921 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:36,421 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:36,422 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:36,423 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:36,426 dialog_manager Processing message: What is the meaning of life?
INFO 2025-05-30 23:31:36,426 dialog_manager Processing input: What is the meaning of life?
INFO 2025-05-30 23:31:36,428 dialog_manager Using language: en
INFO 2025-05-30 23:31:36,432 dialog_manager Detecting intent for input: What is the meaning of life?
INFO 2025-05-30 23:31:36,455 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:31:36,457 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 18, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:36,457 views Updated session state: greeting
INFO 2025-05-30 23:31:36,458 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 18, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:36,472 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:36,472 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:36,477 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-30 23:31:36,793 views Database connection successful
INFO 2025-05-30 23:31:36,794 views Received chat request at 2025-05-30 23:31:36.794578
DEBUG 2025-05-30 23:31:36,794 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:31:36,794 views Request body: {"message": "Do you believe in God?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 18, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:31:36,796 views User input: Do you believe in God?
INFO 2025-05-30 23:31:36,796 views Current session state: greeting
INFO 2025-05-30 23:31:36,796 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 18, 'showing_service_menu': True}
INFO 2025-05-30 23:31:36,799 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:31:37,325 dialog_manager Using device: cpu
WARNING 2025-05-30 23:31:37,326 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:31:37,326 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:31:37,327 dialog_manager Processing message: Do you believe in God?
INFO 2025-05-30 23:31:37,327 dialog_manager Processing input: Do you believe in God?
INFO 2025-05-30 23:31:37,327 dialog_manager Using language: en
INFO 2025-05-30 23:31:37,328 dialog_manager Detecting intent for input: Do you believe in God?
INFO 2025-05-30 23:31:37,334 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:31:37,334 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 19, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:37,335 views Updated session state: greeting
INFO 2025-05-30 23:31:37,335 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 19, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:31:37,341 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:31:37,341 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:31:37,346 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-30 23:32:01,156 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:32:10,384 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:32:19,291 middleware Admin user found: admin
INFO 2025-05-30 23:32:41,705 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:32:44,345 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:32:51,938 middleware Admin user found: admin
INFO 2025-05-30 23:32:55,823 views Database connection successful
INFO 2025-05-30 23:32:55,823 views Received chat request at 2025-05-30 23:32:55.823072
DEBUG 2025-05-30 23:32:55,824 views Request headers: {'Content-Length': '60', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:32:55,825 views Request body: {"message": "How old are you?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:32:55,825 views User input: How old are you?
INFO 2025-05-30 23:32:55,825 views Current session state: None
INFO 2025-05-30 23:32:55,826 views Current user data: None
INFO 2025-05-30 23:32:55,828 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:32:56,356 dialog_manager Using device: cpu
WARNING 2025-05-30 23:32:56,356 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:32:56,356 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:32:56,356 dialog_manager Processing message: How old are you?
INFO 2025-05-30 23:32:56,356 dialog_manager Processing input: How old are you?
INFO 2025-05-30 23:32:56,793 dialog_manager Using language: en
INFO 2025-05-30 23:32:56,793 dialog_manager Detecting intent for input: How old are you?
INFO 2025-05-30 23:32:56,817 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:32:56,823 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:32:56,823 views Updated session state: greeting
INFO 2025-05-30 23:32:56,824 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:32:56,837 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:32:56,837 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:32:56,841 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-30 23:32:57,147 views Database connection successful
INFO 2025-05-30 23:32:57,147 views Received chat request at 2025-05-30 23:32:57.147056
DEBUG 2025-05-30 23:32:57,147 views Request headers: {'Content-Length': '197', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:32:57,150 views Request body: {"message": "Are you married?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 1}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:32:57,151 views User input: Are you married?
INFO 2025-05-30 23:32:57,152 views Current session state: greeting
INFO 2025-05-30 23:32:57,152 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 1}
INFO 2025-05-30 23:32:57,153 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:32:57,543 dialog_manager Using device: cpu
WARNING 2025-05-30 23:32:57,544 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:32:57,544 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:32:57,544 dialog_manager Processing message: Are you married?
INFO 2025-05-30 23:32:57,544 dialog_manager Processing input: Are you married?
INFO 2025-05-30 23:32:57,544 dialog_manager Using language: en
INFO 2025-05-30 23:32:57,544 dialog_manager Detecting intent for input: Are you married?
INFO 2025-05-30 23:32:57,544 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:32:57,544 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:32:57,553 views Updated session state: greeting
INFO 2025-05-30 23:32:57,553 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'user': <User: admin>, 'showing_service_menu': True}
INFO 2025-05-30 23:32:57,559 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:32:57,559 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:32:57,564 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 616
INFO 2025-05-30 23:32:57,891 views Database connection successful
INFO 2025-05-30 23:32:57,891 views Received chat request at 2025-05-30 23:32:57.891036
DEBUG 2025-05-30 23:32:57,893 views Request headers: {'Content-Length': '233', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:32:57,899 views Request body: {"message": "What do you look like?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 2, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:32:57,900 views User input: What do you look like?
INFO 2025-05-30 23:32:57,900 views Current session state: greeting
INFO 2025-05-30 23:32:57,902 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 2, 'showing_service_menu': True}
INFO 2025-05-30 23:32:57,904 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:32:58,285 dialog_manager Using device: cpu
WARNING 2025-05-30 23:32:58,285 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:32:58,293 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:32:58,294 dialog_manager Processing message: What do you look like?
INFO 2025-05-30 23:32:58,294 dialog_manager Processing input: What do you look like?
INFO 2025-05-30 23:32:58,294 dialog_manager Using language: en
INFO 2025-05-30 23:32:58,294 dialog_manager Detecting intent for input: What do you look like?
INFO 2025-05-30 23:32:58,300 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:32:58,300 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:32:58,302 views Updated session state: greeting
INFO 2025-05-30 23:32:58,302 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:32:58,305 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:32:58,305 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:32:58,309 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 616
INFO 2025-05-30 23:32:58,638 views Database connection successful
INFO 2025-05-30 23:32:58,638 views Received chat request at 2025-05-30 23:32:58.638017
DEBUG 2025-05-30 23:32:58,638 views Request headers: {'Content-Length': '256', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:32:58,641 views Request body: {"message": "What programming language are you written in?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 3, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:32:58,643 views User input: What programming language are you written in?
INFO 2025-05-30 23:32:58,644 views Current session state: greeting
INFO 2025-05-30 23:32:58,645 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 3, 'showing_service_menu': True}
INFO 2025-05-30 23:32:58,650 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:32:59,060 dialog_manager Using device: cpu
WARNING 2025-05-30 23:32:59,060 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:32:59,060 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:32:59,060 dialog_manager Processing message: What programming language are you written in?
INFO 2025-05-30 23:32:59,060 dialog_manager Processing input: What programming language are you written in?
INFO 2025-05-30 23:32:59,060 dialog_manager Using language: en
INFO 2025-05-30 23:32:59,060 dialog_manager Detecting intent for input: What programming language are you written in?
INFO 2025-05-30 23:32:59,060 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:32:59,060 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:32:59,060 views Updated session state: greeting
INFO 2025-05-30 23:32:59,072 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:32:59,079 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:32:59,079 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:32:59,082 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-05-30 23:32:59,398 views Database connection successful
INFO 2025-05-30 23:32:59,398 views Received chat request at 2025-05-30 23:32:59.398691
DEBUG 2025-05-30 23:32:59,398 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:32:59,398 views Request body: {"message": "Are you ChatGPT?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 4, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:32:59,398 views User input: Are you ChatGPT?
INFO 2025-05-30 23:32:59,398 views Current session state: greeting
INFO 2025-05-30 23:32:59,403 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 4, 'showing_service_menu': True}
INFO 2025-05-30 23:32:59,405 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:32:59,966 dialog_manager Using device: cpu
WARNING 2025-05-30 23:32:59,966 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:32:59,966 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:32:59,966 dialog_manager Processing message: Are you ChatGPT?
INFO 2025-05-30 23:32:59,966 dialog_manager Processing input: Are you ChatGPT?
INFO 2025-05-30 23:32:59,966 dialog_manager Using language: en
INFO 2025-05-30 23:32:59,966 dialog_manager Detecting intent for input: Are you ChatGPT?
INFO 2025-05-30 23:32:59,976 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:32:59,976 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:32:59,981 views Updated session state: greeting
INFO 2025-05-30 23:32:59,981 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:32:59,988 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:32:59,988 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:32:59,993 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-05-30 23:33:00,299 views Database connection successful
INFO 2025-05-30 23:33:00,299 views Received chat request at 2025-05-30 23:33:00.299843
DEBUG 2025-05-30 23:33:00,299 views Request headers: {'Content-Length': '228', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:00,306 views Request body: {"message": "What month is it?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 5, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:00,306 views User input: What month is it?
INFO 2025-05-30 23:33:00,307 views Current session state: greeting
INFO 2025-05-30 23:33:00,307 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 5, 'showing_service_menu': True}
INFO 2025-05-30 23:33:00,309 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:00,719 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:00,719 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:00,719 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:00,719 dialog_manager Processing message: What month is it?
INFO 2025-05-30 23:33:00,719 dialog_manager Processing input: What month is it?
INFO 2025-05-30 23:33:00,719 dialog_manager Using language: en
INFO 2025-05-30 23:33:00,719 dialog_manager Detecting intent for input: What month is it?
INFO 2025-05-30 23:33:00,719 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:00,719 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:00,730 views Updated session state: greeting
INFO 2025-05-30 23:33:00,730 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:00,735 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:00,736 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:00,741 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 337
INFO 2025-05-30 23:33:01,051 views Database connection successful
INFO 2025-05-30 23:33:01,051 views Received chat request at 2025-05-30 23:33:01.051066
DEBUG 2025-05-30 23:33:01,051 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:01,051 views Request body: {"message": "Is it hot today?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 6, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:01,057 views User input: Is it hot today?
INFO 2025-05-30 23:33:01,060 views Current session state: greeting
INFO 2025-05-30 23:33:01,061 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 6, 'showing_service_menu': True}
INFO 2025-05-30 23:33:01,061 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:01,456 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:01,456 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:01,470 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:01,470 dialog_manager Processing message: Is it hot today?
INFO 2025-05-30 23:33:01,470 dialog_manager Processing input: Is it hot today?
INFO 2025-05-30 23:33:01,470 dialog_manager Using language: en
INFO 2025-05-30 23:33:01,470 dialog_manager Detecting intent for input: Is it hot today?
INFO 2025-05-30 23:33:01,470 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:01,470 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:01,479 views Updated session state: greeting
INFO 2025-05-30 23:33:01,480 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:01,486 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:01,486 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:01,491 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 384
INFO 2025-05-30 23:33:01,809 views Database connection successful
INFO 2025-05-30 23:33:01,809 views Received chat request at 2025-05-30 23:33:01.809132
DEBUG 2025-05-30 23:33:01,821 views Request headers: {'Content-Length': '225', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:01,822 views Request body: {"message": "Sing me a song", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 7, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:01,824 views User input: Sing me a song
INFO 2025-05-30 23:33:01,826 views Current session state: greeting
INFO 2025-05-30 23:33:01,827 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 7, 'showing_service_menu': True}
INFO 2025-05-30 23:33:01,831 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:02,376 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:02,376 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:02,376 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:02,376 dialog_manager Processing message: Sing me a song
INFO 2025-05-30 23:33:02,376 dialog_manager Processing input: Sing me a song
INFO 2025-05-30 23:33:02,376 dialog_manager Using language: en
INFO 2025-05-30 23:33:02,376 dialog_manager Detecting intent for input: Sing me a song
INFO 2025-05-30 23:33:02,385 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:02,387 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:02,387 views Updated session state: greeting
INFO 2025-05-30 23:33:02,387 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:02,394 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:02,395 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:02,400 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 419
INFO 2025-05-30 23:33:02,723 views Database connection successful
INFO 2025-05-30 23:33:02,725 views Received chat request at 2025-05-30 23:33:02.725717
DEBUG 2025-05-30 23:33:02,726 views Request headers: {'Content-Length': '230', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:02,727 views Request body: {"message": "Play a game with me", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 8, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:02,728 views User input: Play a game with me
INFO 2025-05-30 23:33:02,728 views Current session state: greeting
INFO 2025-05-30 23:33:02,729 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 8, 'showing_service_menu': True}
INFO 2025-05-30 23:33:02,731 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:03,231 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:03,231 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:03,231 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:03,231 dialog_manager Processing message: Play a game with me
INFO 2025-05-30 23:33:03,231 dialog_manager Processing input: Play a game with me
INFO 2025-05-30 23:33:03,231 dialog_manager Using language: en
INFO 2025-05-30 23:33:03,231 dialog_manager Detecting intent for input: Play a game with me
INFO 2025-05-30 23:33:03,249 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:03,250 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:03,250 views Updated session state: greeting
INFO 2025-05-30 23:33:03,251 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:03,260 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:03,261 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:03,266 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 419
INFO 2025-05-30 23:33:03,580 views Database connection successful
INFO 2025-05-30 23:33:03,580 views Received chat request at 2025-05-30 23:33:03.580344
DEBUG 2025-05-30 23:33:03,587 views Request headers: {'Content-Length': '236', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:03,588 views Request body: {"message": "What's the breaking news?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 9, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:03,589 views User input: What's the breaking news?
INFO 2025-05-30 23:33:03,589 views Current session state: greeting
INFO 2025-05-30 23:33:03,590 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 9, 'showing_service_menu': True}
INFO 2025-05-30 23:33:03,595 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:03,999 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:03,999 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:03,999 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:03,999 dialog_manager Processing message: What's the breaking news?
INFO 2025-05-30 23:33:03,999 dialog_manager Processing input: What's the breaking news?
INFO 2025-05-30 23:33:03,999 dialog_manager Using language: en
INFO 2025-05-30 23:33:03,999 dialog_manager Detecting intent for input: What's the breaking news?
INFO 2025-05-30 23:33:04,014 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:04,016 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:04,016 views Updated session state: greeting
INFO 2025-05-30 23:33:04,017 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:04,025 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:04,026 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:04,030 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 406
INFO 2025-05-30 23:33:04,339 views Database connection successful
INFO 2025-05-30 23:33:04,339 views Received chat request at 2025-05-30 23:33:04.339191
DEBUG 2025-05-30 23:33:04,339 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:04,349 views Request body: {"message": "Tell me about politics", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 10, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:04,350 views User input: Tell me about politics
INFO 2025-05-30 23:33:04,351 views Current session state: greeting
INFO 2025-05-30 23:33:04,352 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 10, 'showing_service_menu': True}
INFO 2025-05-30 23:33:04,356 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:04,758 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:04,758 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:04,758 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:04,758 dialog_manager Processing message: Tell me about politics
INFO 2025-05-30 23:33:04,758 dialog_manager Processing input: Tell me about politics
INFO 2025-05-30 23:33:04,758 dialog_manager Using language: en
INFO 2025-05-30 23:33:04,758 dialog_manager Detecting intent for input: Tell me about politics
INFO 2025-05-30 23:33:04,772 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:04,772 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:04,774 views Updated session state: greeting
INFO 2025-05-30 23:33:04,774 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:04,780 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:04,781 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:04,783 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 406
INFO 2025-05-30 23:33:05,110 views Database connection successful
INFO 2025-05-30 23:33:05,111 views Received chat request at 2025-05-30 23:33:05.111468
DEBUG 2025-05-30 23:33:05,114 views Request headers: {'Content-Length': '238', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:05,114 views Request body: {"message": "What's the football score?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 11, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:05,118 views User input: What's the football score?
INFO 2025-05-30 23:33:05,118 views Current session state: greeting
INFO 2025-05-30 23:33:05,118 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 11, 'showing_service_menu': True}
INFO 2025-05-30 23:33:05,128 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:05,538 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:05,538 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:05,538 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:05,538 dialog_manager Processing message: What's the football score?
INFO 2025-05-30 23:33:05,538 dialog_manager Processing input: What's the football score?
INFO 2025-05-30 23:33:05,538 dialog_manager Using language: en
INFO 2025-05-30 23:33:05,538 dialog_manager Detecting intent for input: What's the football score?
INFO 2025-05-30 23:33:05,555 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:05,557 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:05,557 views Updated session state: greeting
INFO 2025-05-30 23:33:05,557 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:05,561 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:05,563 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:05,566 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 404
INFO 2025-05-30 23:33:05,880 views Database connection successful
INFO 2025-05-30 23:33:05,880 views Received chat request at 2025-05-30 23:33:05.880549
DEBUG 2025-05-30 23:33:05,880 views Request headers: {'Content-Length': '240', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:05,883 views Request body: {"message": "Who won the basketball game?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 12, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:05,884 views User input: Who won the basketball game?
INFO 2025-05-30 23:33:05,885 views Current session state: greeting
INFO 2025-05-30 23:33:05,886 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 12, 'showing_service_menu': True}
INFO 2025-05-30 23:33:05,890 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:06,288 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:06,289 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:06,290 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:06,290 dialog_manager Processing message: Who won the basketball game?
INFO 2025-05-30 23:33:06,291 dialog_manager Processing input: Who won the basketball game?
INFO 2025-05-30 23:33:06,291 dialog_manager Using language: en
INFO 2025-05-30 23:33:06,291 dialog_manager Detecting intent for input: Who won the basketball game?
INFO 2025-05-30 23:33:06,298 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:06,299 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:06,299 views Updated session state: greeting
INFO 2025-05-30 23:33:06,300 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:06,307 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:06,308 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:06,312 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 420
INFO 2025-05-30 23:33:06,621 views Database connection successful
INFO 2025-05-30 23:33:06,621 views Received chat request at 2025-05-30 23:33:06.621183
DEBUG 2025-05-30 23:33:06,631 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:06,631 views Request body: {"message": "How do I cook pasta?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 13, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:06,632 views User input: How do I cook pasta?
INFO 2025-05-30 23:33:06,632 views Current session state: greeting
INFO 2025-05-30 23:33:06,633 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 13, 'showing_service_menu': True}
INFO 2025-05-30 23:33:06,634 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:07,252 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:07,253 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:07,253 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:07,253 dialog_manager Processing message: How do I cook pasta?
INFO 2025-05-30 23:33:07,253 dialog_manager Processing input: How do I cook pasta?
INFO 2025-05-30 23:33:07,253 dialog_manager Using language: en
INFO 2025-05-30 23:33:07,253 dialog_manager Detecting intent for input: How do I cook pasta?
INFO 2025-05-30 23:33:07,253 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:07,253 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 14, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:07,262 views Updated session state: greeting
INFO 2025-05-30 23:33:07,263 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 14, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:07,269 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:07,270 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:07,274 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 437
INFO 2025-05-30 23:33:07,588 views Database connection successful
INFO 2025-05-30 23:33:07,588 views Received chat request at 2025-05-30 23:33:07.588403
DEBUG 2025-05-30 23:33:07,588 views Request headers: {'Content-Length': '235', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:07,599 views Request body: {"message": "Best local restaurants?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 14, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:07,601 views User input: Best local restaurants?
INFO 2025-05-30 23:33:07,602 views Current session state: greeting
INFO 2025-05-30 23:33:07,603 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 14, 'showing_service_menu': True}
INFO 2025-05-30 23:33:07,609 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:07,986 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:07,986 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:07,986 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:07,986 dialog_manager Processing message: Best local restaurants?
INFO 2025-05-30 23:33:07,986 dialog_manager Processing input: Best local restaurants?
INFO 2025-05-30 23:33:07,986 dialog_manager Using language: en
INFO 2025-05-30 23:33:07,986 dialog_manager Detecting intent for input: Best local restaurants?
INFO 2025-05-30 23:33:08,002 dialog_manager Detected intent: food
INFO 2025-05-30 23:33:08,003 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 15, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:08,004 views Updated session state: greeting
INFO 2025-05-30 23:33:08,004 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 15, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:08,008 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:08,008 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:08,013 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 437
INFO 2025-05-30 23:33:08,321 views Database connection successful
INFO 2025-05-30 23:33:08,321 views Received chat request at 2025-05-30 23:33:08.321563
DEBUG 2025-05-30 23:33:08,325 views Request headers: {'Content-Length': '236', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:08,325 views Request body: {"message": "Where can I buy clothes?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 15, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:08,326 views User input: Where can I buy clothes?
INFO 2025-05-30 23:33:08,327 views Current session state: greeting
INFO 2025-05-30 23:33:08,327 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 15, 'showing_service_menu': True}
INFO 2025-05-30 23:33:08,328 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:08,705 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:08,705 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:08,705 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:08,705 dialog_manager Processing message: Where can I buy clothes?
INFO 2025-05-30 23:33:08,705 dialog_manager Processing input: Where can I buy clothes?
INFO 2025-05-30 23:33:08,705 dialog_manager Using language: en
INFO 2025-05-30 23:33:08,705 dialog_manager Detecting intent for input: Where can I buy clothes?
INFO 2025-05-30 23:33:08,718 dialog_manager Detected intent: location
INFO 2025-05-30 23:33:08,718 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:08,725 views Updated session state: greeting
INFO 2025-05-30 23:33:08,725 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:08,731 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:08,731 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:08,736 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 399
INFO 2025-05-30 23:33:09,053 views Database connection successful
INFO 2025-05-30 23:33:09,053 views Received chat request at 2025-05-30 23:33:09.053533
DEBUG 2025-05-30 23:33:09,065 views Request headers: {'Content-Length': '231', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:09,067 views Request body: {"message": "Best online stores?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 16, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:09,068 views User input: Best online stores?
INFO 2025-05-30 23:33:09,070 views Current session state: greeting
INFO 2025-05-30 23:33:09,072 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 16, 'showing_service_menu': True}
INFO 2025-05-30 23:33:09,076 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:09,451 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:09,451 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:09,451 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:09,451 dialog_manager Processing message: Best online stores?
INFO 2025-05-30 23:33:09,451 dialog_manager Processing input: Best online stores?
INFO 2025-05-30 23:33:09,451 dialog_manager Using language: en
INFO 2025-05-30 23:33:09,451 dialog_manager Detecting intent for input: Best online stores?
INFO 2025-05-30 23:33:09,468 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:09,468 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 17, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:09,471 views Updated session state: greeting
INFO 2025-05-30 23:33:09,471 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 17, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:09,474 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:09,475 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:09,480 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 399
INFO 2025-05-30 23:33:09,790 views Database connection successful
INFO 2025-05-30 23:33:09,790 views Received chat request at 2025-05-30 23:33:09.790784
DEBUG 2025-05-30 23:33:09,792 views Request headers: {'Content-Length': '230', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:09,794 views Request body: {"message": "How to get a visa?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 17, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:09,794 views User input: How to get a visa?
INFO 2025-05-30 23:33:09,795 views Current session state: greeting
INFO 2025-05-30 23:33:09,795 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 17, 'showing_service_menu': True}
INFO 2025-05-30 23:33:09,799 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:10,184 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:10,184 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:10,184 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:10,184 dialog_manager Processing message: How to get a visa?
INFO 2025-05-30 23:33:10,184 dialog_manager Processing input: How to get a visa?
INFO 2025-05-30 23:33:10,184 dialog_manager Using language: en
INFO 2025-05-30 23:33:10,184 dialog_manager Detecting intent for input: How to get a visa?
INFO 2025-05-30 23:33:10,205 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:10,205 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 18, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:10,206 views Updated session state: greeting
INFO 2025-05-30 23:33:10,206 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 18, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:10,211 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:10,212 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:10,216 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 425
INFO 2025-05-30 23:33:10,538 views Database connection successful
INFO 2025-05-30 23:33:10,538 views Received chat request at 2025-05-30 23:33:10.538914
DEBUG 2025-05-30 23:33:10,541 views Request headers: {'Content-Length': '237', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:10,541 views Request body: {"message": "Best tourist attractions?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 18, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:10,542 views User input: Best tourist attractions?
INFO 2025-05-30 23:33:10,542 views Current session state: greeting
INFO 2025-05-30 23:33:10,542 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 18, 'showing_service_menu': True}
INFO 2025-05-30 23:33:10,544 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:10,934 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:10,934 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:10,934 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:10,934 dialog_manager Processing message: Best tourist attractions?
INFO 2025-05-30 23:33:10,934 dialog_manager Processing input: Best tourist attractions?
INFO 2025-05-30 23:33:10,934 dialog_manager Using language: en
INFO 2025-05-30 23:33:10,934 dialog_manager Detecting intent for input: Best tourist attractions?
INFO 2025-05-30 23:33:10,954 dialog_manager Detected intent: attractions
INFO 2025-05-30 23:33:10,954 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 19, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:10,957 views Updated session state: greeting
INFO 2025-05-30 23:33:10,957 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 19, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:10,960 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:10,960 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:10,965 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 425
INFO 2025-05-30 23:33:11,287 views Database connection successful
INFO 2025-05-30 23:33:11,288 views Received chat request at 2025-05-30 23:33:11.288321
DEBUG 2025-05-30 23:33:11,291 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:11,291 views Request body: {"message": "How to study better?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 19, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:11,293 views User input: How to study better?
INFO 2025-05-30 23:33:11,293 views Current session state: greeting
INFO 2025-05-30 23:33:11,294 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 19, 'showing_service_menu': True}
INFO 2025-05-30 23:33:11,296 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:11,700 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:11,700 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:11,700 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:11,700 dialog_manager Processing message: How to study better?
INFO 2025-05-30 23:33:11,700 dialog_manager Processing input: How to study better?
INFO 2025-05-30 23:33:11,700 dialog_manager Using language: en
INFO 2025-05-30 23:33:11,700 dialog_manager Detecting intent for input: How to study better?
INFO 2025-05-30 23:33:11,700 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:11,700 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 20, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:11,700 views Updated session state: greeting
INFO 2025-05-30 23:33:11,710 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 20, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:11,715 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:11,715 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:11,719 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-30 23:33:12,044 views Database connection successful
INFO 2025-05-30 23:33:12,044 views Received chat request at 2025-05-30 23:33:12.044782
DEBUG 2025-05-30 23:33:12,044 views Request headers: {'Content-Length': '230', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:12,047 views Request body: {"message": "Best universities?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 20, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:12,050 views User input: Best universities?
INFO 2025-05-30 23:33:12,052 views Current session state: greeting
INFO 2025-05-30 23:33:12,054 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 20, 'showing_service_menu': True}
INFO 2025-05-30 23:33:12,057 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:12,451 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:12,451 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:12,451 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:12,451 dialog_manager Processing message: Best universities?
INFO 2025-05-30 23:33:12,451 dialog_manager Processing input: Best universities?
INFO 2025-05-30 23:33:12,451 dialog_manager Using language: en
INFO 2025-05-30 23:33:12,451 dialog_manager Detecting intent for input: Best universities?
INFO 2025-05-30 23:33:12,463 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:12,464 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 21, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:12,464 views Updated session state: greeting
INFO 2025-05-30 23:33:12,465 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 21, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:12,471 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:12,471 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:12,474 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-30 23:33:12,780 views Database connection successful
INFO 2025-05-30 23:33:12,780 views Received chat request at 2025-05-30 23:33:12.780276
DEBUG 2025-05-30 23:33:12,780 views Request headers: {'Content-Length': '229', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:12,788 views Request body: {"message": "I have a headache", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 21, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:12,789 views User input: I have a headache
INFO 2025-05-30 23:33:12,790 views Current session state: greeting
INFO 2025-05-30 23:33:12,790 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 21, 'showing_service_menu': True}
INFO 2025-05-30 23:33:12,792 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:13,192 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:13,192 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:13,192 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:13,192 dialog_manager Processing message: I have a headache
INFO 2025-05-30 23:33:13,192 dialog_manager Processing input: I have a headache
INFO 2025-05-30 23:33:13,192 dialog_manager Using language: en
INFO 2025-05-30 23:33:13,192 dialog_manager Detecting intent for input: I have a headache
INFO 2025-05-30 23:33:13,192 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:13,192 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 22, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:13,192 views Updated session state: greeting
INFO 2025-05-30 23:33:13,204 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 22, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:13,208 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:13,209 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:13,212 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 404
INFO 2025-05-30 23:33:13,532 views Database connection successful
INFO 2025-05-30 23:33:13,532 views Received chat request at 2025-05-30 23:33:13.532180
DEBUG 2025-05-30 23:33:13,532 views Request headers: {'Content-Length': '228', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:13,534 views Request body: {"message": "How to exercise?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 22, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:13,534 views User input: How to exercise?
INFO 2025-05-30 23:33:13,535 views Current session state: greeting
INFO 2025-05-30 23:33:13,535 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 22, 'showing_service_menu': True}
INFO 2025-05-30 23:33:13,537 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:13,949 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:13,949 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:13,949 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:13,953 dialog_manager Processing message: How to exercise?
INFO 2025-05-30 23:33:13,953 dialog_manager Processing input: How to exercise?
INFO 2025-05-30 23:33:13,953 dialog_manager Using language: en
INFO 2025-05-30 23:33:13,953 dialog_manager Detecting intent for input: How to exercise?
INFO 2025-05-30 23:33:13,959 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:13,959 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 23, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:13,962 views Updated session state: greeting
INFO 2025-05-30 23:33:13,962 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 23, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:13,967 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:13,967 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:13,971 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 404
INFO 2025-05-30 23:33:14,288 views Database connection successful
INFO 2025-05-30 23:33:14,288 views Received chat request at 2025-05-30 23:33:14.288542
DEBUG 2025-05-30 23:33:14,290 views Request headers: {'Content-Length': '240', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:14,290 views Request body: {"message": "What is the meaning of life?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 23, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:14,292 views User input: What is the meaning of life?
INFO 2025-05-30 23:33:14,293 views Current session state: greeting
INFO 2025-05-30 23:33:14,293 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 23, 'showing_service_menu': True}
INFO 2025-05-30 23:33:14,295 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:14,932 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:14,932 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:14,932 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:14,932 dialog_manager Processing message: What is the meaning of life?
INFO 2025-05-30 23:33:14,932 dialog_manager Processing input: What is the meaning of life?
INFO 2025-05-30 23:33:14,932 dialog_manager Using language: en
INFO 2025-05-30 23:33:14,932 dialog_manager Detecting intent for input: What is the meaning of life?
INFO 2025-05-30 23:33:14,932 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:14,932 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 24, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:14,940 views Updated session state: greeting
INFO 2025-05-30 23:33:14,940 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 24, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:14,949 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:14,950 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:14,953 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-30 23:33:15,265 views Database connection successful
INFO 2025-05-30 23:33:15,265 views Received chat request at 2025-05-30 23:33:15.265388
DEBUG 2025-05-30 23:33:15,275 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:33:15,277 views Request body: {"message": "Do you believe in God?", "user_id": 1, "session": {"user_data": {"username": "admin", "is_returning_customer": false, "user_id": 1, "off_topic_count": 24, "showing_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:33:15,279 views User input: Do you believe in God?
INFO 2025-05-30 23:33:15,281 views Current session state: greeting
INFO 2025-05-30 23:33:15,284 views Current user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 24, 'showing_service_menu': True}
INFO 2025-05-30 23:33:15,287 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:33:15,681 dialog_manager Using device: cpu
WARNING 2025-05-30 23:33:15,681 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:33:15,681 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:33:15,681 dialog_manager Processing message: Do you believe in God?
INFO 2025-05-30 23:33:15,681 dialog_manager Processing input: Do you believe in God?
INFO 2025-05-30 23:33:15,681 dialog_manager Using language: en
INFO 2025-05-30 23:33:15,681 dialog_manager Detecting intent for input: Do you believe in God?
INFO 2025-05-30 23:33:15,699 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:33:15,700 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 25, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:15,700 views Updated session state: greeting
INFO 2025-05-30 23:33:15,701 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'off_topic_count': 25, 'showing_service_menu': True, 'user': <User: admin>}
INFO 2025-05-30 23:33:15,706 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:33:15,706 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:33:15,709 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-30 23:37:12,119 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:37:18,925 middleware Admin user found: admin
INFO 2025-05-30 23:37:37,156 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-30 23:37:37,220 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-30 23:37:37,220 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-30 23:37:37,870 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-05-30 23:37:38,086 log Not Found: /favicon.ico
WARNING 2025-05-30 23:37:38,086 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-30 23:37:40,163 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10707
INFO 2025-05-30 23:37:41,948 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 12177
INFO 2025-05-30 23:37:55,612 basehttp "GET /admin/ HTTP/1.1" 200 13967
WARNING 2025-05-30 23:37:56,451 log Not Found: /favicon.ico
WARNING 2025-05-30 23:37:56,452 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-30 23:37:57,801 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 15570
INFO 2025-05-30 23:37:57,830 basehttp "GET /static/admin/img/icon-no.svg HTTP/1.1" 304 0
INFO 2025-05-30 23:37:57,835 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 23:37:59,973 basehttp "GET /admin/auth/user/4/change/ HTTP/1.1" 200 26582
INFO 2025-05-30 23:38:00,020 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 23:38:02,348 basehttp "POST /admin/auth/user/4/change/ HTTP/1.1" 302 0
INFO 2025-05-30 23:38:02,378 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 15766
INFO 2025-05-30 23:38:02,403 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 23:38:03,560 basehttp "GET /admin/auth/user/4/change/ HTTP/1.1" 200 26582
INFO 2025-05-30 23:38:03,594 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 23:38:05,407 basehttp "GET /admin/auth/user/4/delete/ HTTP/1.1" 200 10689
INFO 2025-05-30 23:38:06,242 basehttp "POST /admin/auth/user/4/delete/ HTTP/1.1" 302 0
INFO 2025-05-30 23:38:06,291 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 15264
INFO 2025-05-30 23:38:06,326 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-30 23:38:39,679 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-05-30 23:38:39,684 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24671
INFO 2025-05-30 23:38:47,342 basehttp "GET /hotel_booking/room/1/ HTTP/1.1" 200 11531
INFO 2025-05-30 23:38:48,279 basehttp "GET /hotel_booking/book/1/ HTTP/1.1" 200 15544
INFO 2025-05-30 23:39:03,148 models Booking saved: 14 for TLS
INFO 2025-05-30 23:39:03,151 basehttp "POST /hotel_booking/book/1/ HTTP/1.1" 302 0
INFO 2025-05-30 23:39:03,162 basehttp "GET /hotel_booking/payment_qr/14/ HTTP/1.1" 200 11087
INFO 2025-05-30 23:39:03,177 basehttp "GET /media/payment/QR%20Bank.jpeg HTTP/1.1" 304 0
INFO 2025-05-30 23:39:08,218 basehttp "GET /hotel_booking/booking_success/14/ HTTP/1.1" 200 11727
INFO 2025-05-30 23:39:11,090 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12168
INFO 2025-05-30 23:39:13,968 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16212
INFO 2025-05-30 23:39:16,768 views Database connection successful
INFO 2025-05-30 23:39:16,768 views Received chat request at 2025-05-30 23:39:16.768657
DEBUG 2025-05-30 23:39:16,769 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:39:16,770 views Request body: {"message":"Hello","session":{}}
INFO 2025-05-30 23:39:16,771 views User input: Hello
INFO 2025-05-30 23:39:16,771 views Current session state: None
INFO 2025-05-30 23:39:16,771 views Current user data: None
INFO 2025-05-30 23:39:17,365 dialog_manager Using device: cpu
WARNING 2025-05-30 23:39:17,365 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:39:17,365 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:39:17,365 dialog_manager Processing message: Hello
INFO 2025-05-30 23:39:17,365 dialog_manager Processing input: Hello
INFO 2025-05-30 23:39:17,424 dialog_manager Using language: en
INFO 2025-05-30 23:39:17,425 dialog_manager Detecting intent for input: Hello
INFO 2025-05-30 23:39:17,460 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-30 23:39:17,462 dialog_manager Detected intent: greeting
INFO 2025-05-30 23:39:31,305 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-05-30 23:39:31,305 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-05-30 23:39:31,346 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:39:31,347 views Updated session state: greeting
INFO 2025-05-30 23:39:31,347 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:39:31,347 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-05-30 23:39:31,348 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:39:31,349 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:39:31,414 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 199
INFO 2025-05-30 23:39:39,081 views Database connection successful
INFO 2025-05-30 23:39:39,081 views Received chat request at 2025-05-30 23:39:39.081387
DEBUG 2025-05-30 23:39:39,081 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:39:39,081 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:39:39,081 views User input: i want booking room
INFO 2025-05-30 23:39:39,081 views Current session state: greeting
INFO 2025-05-30 23:39:39,081 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5}
INFO 2025-05-30 23:39:39,618 dialog_manager Using device: cpu
WARNING 2025-05-30 23:39:39,620 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:39:39,622 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:39:39,628 dialog_manager Processing message: i want booking room
INFO 2025-05-30 23:39:39,628 dialog_manager Processing input: i want booking room
INFO 2025-05-30 23:39:39,628 dialog_manager Using language: no
INFO 2025-05-30 23:39:39,629 dialog_manager Detecting intent for input: i want booking room
INFO 2025-05-30 23:39:39,657 dialog_manager Booking intent detected
INFO 2025-05-30 23:39:39,657 dialog_manager Detected intent: booking
INFO 2025-05-30 23:39:39,659 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-30 23:39:39,662 dialog_manager Extracting dates from: i want booking room
WARNING 2025-05-30 23:39:39,663 dialog_manager No dates found
INFO 2025-05-30 23:39:39,666 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:39:39,666 views Updated session state: collecting_booking_info
INFO 2025-05-30 23:39:39,666 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:39:39,671 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:39:39,672 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:39:39,676 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-30 23:39:43,957 views Database connection successful
INFO 2025-05-30 23:39:43,958 views Received chat request at 2025-05-30 23:39:43.958234
DEBUG 2025-05-30 23:39:43,958 views Request headers: {'Content-Length': '148', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:39:43,959 views Request body: {"message":"TLS","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5},"state":"collecting_booking_info","lang":"no"}}
INFO 2025-05-30 23:39:43,961 views User input: TLS
INFO 2025-05-30 23:39:43,961 views Current session state: collecting_booking_info
INFO 2025-05-30 23:39:43,962 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5}
INFO 2025-05-30 23:39:44,376 dialog_manager Using device: cpu
WARNING 2025-05-30 23:39:44,376 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:39:44,376 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:39:44,376 dialog_manager Processing message: TLS
INFO 2025-05-30 23:39:44,376 dialog_manager Processing input: TLS
INFO 2025-05-30 23:39:44,376 dialog_manager Using language: no
INFO 2025-05-30 23:39:44,376 dialog_manager Detecting intent for input: TLS
INFO 2025-05-30 23:39:44,376 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:39:44,389 dialog_manager Extracted name: TLS
INFO 2025-05-30 23:39:44,389 dialog_manager Extracting dates from: TLS
WARNING 2025-05-30 23:39:44,390 dialog_manager No dates found
INFO 2025-05-30 23:39:44,390 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-05-30 23:39:44,391 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-05-30 23:39:44,391 views Updated session state: collecting_booking_info
INFO 2025-05-30 23:39:44,391 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-05-30 23:39:44,397 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:39:44,398 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:39:44,400 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 272
INFO 2025-05-30 23:39:48,694 views Database connection successful
INFO 2025-05-30 23:39:48,694 views Received chat request at 2025-05-30 23:39:48.694552
DEBUG 2025-05-30 23:39:48,694 views Request headers: {'Content-Length': '175', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:39:48,694 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS"},"state":"collecting_booking_info","lang":"no"}}
INFO 2025-05-30 23:39:48,694 views User input: 01158763903
INFO 2025-05-30 23:39:48,694 views Current session state: collecting_booking_info
INFO 2025-05-30 23:39:48,694 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS'}
INFO 2025-05-30 23:39:49,622 dialog_manager Using device: cpu
WARNING 2025-05-30 23:39:49,622 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:39:49,622 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:39:49,622 dialog_manager Processing message: 01158763903
INFO 2025-05-30 23:39:49,622 dialog_manager Processing input: 01158763903
INFO 2025-05-30 23:39:49,622 dialog_manager Using language: no
INFO 2025-05-30 23:39:49,622 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-30 23:39:49,622 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:39:49,622 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-30 23:39:49,622 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-30 23:39:49,634 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-30 23:39:49,634 views Updated session state: collecting_booking_info
INFO 2025-05-30 23:39:49,634 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-30 23:39:49,642 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:39:49,643 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:39:49,647 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 293
INFO 2025-05-30 23:39:56,309 views Database connection successful
INFO 2025-05-30 23:39:56,309 views Received chat request at 2025-05-30 23:39:56.309338
DEBUG 2025-05-30 23:39:56,309 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:39:56,316 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS","phone":"01158763903"},"state":"collecting_booking_info","lang":"no"}}
INFO 2025-05-30 23:39:56,318 views User input: marco9043@gmail.com
INFO 2025-05-30 23:39:56,319 views Current session state: collecting_booking_info
INFO 2025-05-30 23:39:56,319 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-05-30 23:39:56,733 dialog_manager Using device: cpu
WARNING 2025-05-30 23:39:56,733 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:39:56,733 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:39:56,733 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-05-30 23:39:56,733 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-05-30 23:39:56,733 dialog_manager Using language: no
INFO 2025-05-30 23:39:56,733 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-05-30 23:39:56,744 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:39:56,745 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-05-30 23:39:56,746 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-30 23:39:56,746 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-30 23:39:56,747 views Updated session state: collecting_booking_info
INFO 2025-05-30 23:39:56,747 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-30 23:39:56,754 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:39:56,754 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:39:56,757 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 745
INFO 2025-05-30 23:40:00,296 views Database connection successful
INFO 2025-05-30 23:40:00,297 views Received chat request at 2025-05-30 23:40:00.297962
DEBUG 2025-05-30 23:40:00,299 views Request headers: {'Content-Length': '222', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:00,299 views Request body: {"message":"deluxe","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"no"}}
INFO 2025-05-30 23:40:00,299 views User input: deluxe
INFO 2025-05-30 23:40:00,299 views Current session state: collecting_booking_info
INFO 2025-05-30 23:40:00,299 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-30 23:40:00,713 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:00,713 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:00,713 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:00,713 dialog_manager Processing message: deluxe
INFO 2025-05-30 23:40:00,713 dialog_manager Processing input: deluxe
INFO 2025-05-30 23:40:00,713 dialog_manager Using language: no
INFO 2025-05-30 23:40:00,713 dialog_manager Detecting intent for input: deluxe
INFO 2025-05-30 23:40:00,713 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:40:00,713 dialog_manager Extracting dates from: deluxe
WARNING 2025-05-30 23:40:00,713 dialog_manager No dates found
INFO 2025-05-30 23:40:00,713 dialog_manager Extracted room type: Deluxe
INFO 2025-05-30 23:40:00,729 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-30 23:40:00,730 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-30 23:40:00,730 views Updated session state: collecting_booking_info
INFO 2025-05-30 23:40:00,731 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-30 23:40:00,738 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:00,739 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:40:00,741 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 395
INFO 2025-05-30 23:40:07,015 views Database connection successful
INFO 2025-05-30 23:40:07,016 views Received chat request at 2025-05-30 23:40:07.016740
DEBUG 2025-05-30 23:40:07,016 views Request headers: {'Content-Length': '245', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:07,016 views Request body: {"message":"tomorrow","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"no"}}
INFO 2025-05-30 23:40:07,016 views User input: tomorrow
INFO 2025-05-30 23:40:07,016 views Current session state: collecting_booking_info
INFO 2025-05-30 23:40:07,025 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-05-30 23:40:07,440 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:07,440 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:07,440 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:07,440 dialog_manager Processing message: tomorrow
INFO 2025-05-30 23:40:07,440 dialog_manager Processing input: tomorrow
INFO 2025-05-30 23:40:07,440 dialog_manager Using language: no
INFO 2025-05-30 23:40:07,440 dialog_manager Detecting intent for input: tomorrow
INFO 2025-05-30 23:40:07,440 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:40:07,440 dialog_manager Extracting dates from: tomorrow
INFO 2025-05-30 23:40:07,440 dialog_manager Extracted 'tomorrow' date: 2025-05-31 23:40:07.440799
INFO 2025-05-30 23:40:07,453 dialog_manager Single date result: {'check_in': '2025-05-31', 'check_out': '2025-06-01'}
INFO 2025-05-30 23:40:07,453 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01'}
INFO 2025-05-30 23:40:07,463 models Booking saved: BK-67718 for TLS
INFO 2025-05-30 23:40:07,464 dialog_manager Booking created successfully: ID=15, Booking_ID=BK-67718
INFO 2025-05-30 23:40:07,464 dialog_manager Booking record created successfully: BK-67718
INFO 2025-05-30 23:40:07,465 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718'}
INFO 2025-05-30 23:40:07,465 views Updated session state: offering_addons
INFO 2025-05-30 23:40:07,465 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718'}
INFO 2025-05-30 23:40:07,465 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-30 23:40:07,466 views Booking confirmation check - State: offering_addons, Booking ID: BK-67718, Previous ID: BK-67718, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:07,466 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:40:07,469 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1239
INFO 2025-05-30 23:40:22,155 views Database connection successful
INFO 2025-05-30 23:40:22,155 views Received chat request at 2025-05-30 23:40:22.155723
DEBUG 2025-05-30 23:40:22,155 views Request headers: {'Content-Length': '321', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:22,155 views Request body: {"message":"breakfast","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-31","check_out_date":"2025-06-01","booking_id":"BK-67718"},"state":"offering_addons","lang":"no"}}
INFO 2025-05-30 23:40:22,155 views User input: breakfast
INFO 2025-05-30 23:40:22,155 views Current session state: offering_addons
INFO 2025-05-30 23:40:22,155 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718'}
INFO 2025-05-30 23:40:22,578 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:22,578 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:22,578 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:22,578 dialog_manager Processing message: breakfast
INFO 2025-05-30 23:40:22,578 dialog_manager Processing input: breakfast
INFO 2025-05-30 23:40:22,578 dialog_manager Using language: no
INFO 2025-05-30 23:40:22,578 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-30 23:40:22,578 dialog_manager Detected intent: food
INFO 2025-05-30 23:40:22,593 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-05-30 23:40:22,593 views Updated session state: collecting_breakfast_count
INFO 2025-05-30 23:40:22,594 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-05-30 23:40:22,595 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-05-30 23:40:22,595 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-67718, Previous ID: BK-67718, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:22,596 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:40:22,599 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 468
INFO 2025-05-30 23:40:24,795 views Database connection successful
INFO 2025-05-30 23:40:24,795 views Received chat request at 2025-05-30 23:40:24.795317
DEBUG 2025-05-30 23:40:24,798 views Request headers: {'Content-Length': '357', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:24,798 views Request body: {"message":"2","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-31","check_out_date":"2025-06-01","booking_id":"BK-67718","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"no"}}
INFO 2025-05-30 23:40:24,798 views User input: 2
INFO 2025-05-30 23:40:24,798 views Current session state: collecting_breakfast_count
INFO 2025-05-30 23:40:24,798 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718', 'addon_selections': ['breakfast']}
INFO 2025-05-30 23:40:25,198 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:25,198 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:25,198 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:25,198 dialog_manager Processing message: 2
INFO 2025-05-30 23:40:25,198 dialog_manager Processing input: 2
INFO 2025-05-30 23:40:25,198 dialog_manager Using language: no
INFO 2025-05-30 23:40:25,198 dialog_manager Detecting intent for input: 2
INFO 2025-05-30 23:40:25,209 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:40:25,209 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 2}
INFO 2025-05-30 23:40:25,209 views Updated session state: confirming_breakfast
INFO 2025-05-30 23:40:25,213 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 2}
INFO 2025-05-30 23:40:25,213 views Generated response: OK, add breakfast for 2 guest(s), a total of RM40.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-05-30 23:40:25,213 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-67718, Previous ID: BK-67718, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:25,213 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:40:25,215 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 499
INFO 2025-05-30 23:40:27,654 views Database connection successful
INFO 2025-05-30 23:40:27,654 views Received chat request at 2025-05-30 23:40:27.654832
DEBUG 2025-05-30 23:40:27,657 views Request headers: {'Content-Length': '373', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:27,659 views Request body: {"message":"yes","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-05-31","check_out_date":"2025-06-01","booking_id":"BK-67718","addon_selections":["breakfast"],"breakfast_count":2},"state":"confirming_breakfast","lang":"no"}}
INFO 2025-05-30 23:40:27,660 views User input: yes
INFO 2025-05-30 23:40:27,660 views Current session state: confirming_breakfast
INFO 2025-05-30 23:40:27,660 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-01', 'booking_id': 'BK-67718', 'addon_selections': ['breakfast'], 'breakfast_count': 2}
INFO 2025-05-30 23:40:28,073 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:28,073 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:28,073 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:28,086 dialog_manager Processing message: yes
INFO 2025-05-30 23:40:28,086 dialog_manager Processing input: yes
INFO 2025-05-30 23:40:28,086 dialog_manager Using language: no
INFO 2025-05-30 23:40:28,086 dialog_manager Detecting intent for input: yes
INFO 2025-05-30 23:40:28,093 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:40:28,099 dialog_manager Addon created successfully: Breakfast for 2 people - RM20
INFO 2025-05-30 23:40:28,099 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-30 23:40:28,099 views Updated session state: greeting
INFO 2025-05-30 23:40:28,099 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-30 23:40:28,100 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-05-30 23:40:28,100 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:28,103 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-05-30 23:40:49,557 views Database connection successful
INFO 2025-05-30 23:40:49,557 views Received chat request at 2025-05-30 23:40:49.557848
DEBUG 2025-05-30 23:40:49,557 views Request headers: {'Content-Length': '106', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:49,557 views Request body: {"message":"extend","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:40:49,557 views User input: extend
INFO 2025-05-30 23:40:49,557 views Current session state: greeting
INFO 2025-05-30 23:40:49,557 views Current user data: {'is_returning_customer': True}
INFO 2025-05-30 23:40:50,006 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:50,006 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:50,006 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:50,006 dialog_manager Processing message: extend
INFO 2025-05-30 23:40:50,006 dialog_manager Processing input: extend
INFO 2025-05-30 23:40:50,006 dialog_manager Using language: no
INFO 2025-05-30 23:40:50,006 dialog_manager Detecting intent for input: extend
INFO 2025-05-30 23:40:50,027 dialog_manager Pattern-based intent detected: extend_stay
INFO 2025-05-30 23:40:50,028 dialog_manager Detected intent: extend_stay
INFO 2025-05-30 23:40:50,029 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_extend, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:40:50,030 views Updated session state: collecting_booking_id_for_extend
INFO 2025-05-30 23:40:50,030 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:40:50,030 views Generated response: I'd be happy to help you extend your stay! Please provide your booking ID so I can check your current reservation and available dates.
INFO 2025-05-30 23:40:50,032 views Booking confirmation check - State: collecting_booking_id_for_extend, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:50,032 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:40:50,035 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 301
INFO 2025-05-30 23:40:57,076 views Database connection successful
INFO 2025-05-30 23:40:57,076 views Received chat request at 2025-05-30 23:40:57.076270
DEBUG 2025-05-30 23:40:57,076 views Request headers: {'Content-Length': '162', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:40:57,076 views Request body: {"message":"BK-67718","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_booking_id_for_extend","lang":"no"}}
INFO 2025-05-30 23:40:57,076 views User input: BK-67718
INFO 2025-05-30 23:40:57,076 views Current session state: collecting_booking_id_for_extend
INFO 2025-05-30 23:40:57,076 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-30 23:40:57,482 dialog_manager Using device: cpu
WARNING 2025-05-30 23:40:57,482 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:40:57,482 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:40:57,482 dialog_manager Processing message: BK-67718
INFO 2025-05-30 23:40:57,482 dialog_manager Processing input: BK-67718
INFO 2025-05-30 23:40:57,482 dialog_manager Using language: no
INFO 2025-05-30 23:40:57,482 dialog_manager Detecting intent for input: BK-67718
INFO 2025-05-30 23:40:57,482 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:40:57,497 dialog_manager Dialog manager process completed - State: selecting_extend_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'extend_booking_id': 'BK-67718', 'booking_to_extend': {'id': 15, 'booking_id': 'BK-67718', 'room_name': 'Deluxe Room', 'room_price': Decimal('205.00'), 'current_checkout': 'June 01 (Sunday)', 'current_checkout_date': '2025-06-01'}}
INFO 2025-05-30 23:40:57,498 views Updated session state: selecting_extend_date
INFO 2025-05-30 23:40:57,498 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'extend_booking_id': 'BK-67718', 'booking_to_extend': {'id': 15, 'booking_id': 'BK-67718', 'room_name': 'Deluxe Room', 'room_price': Decimal('205.00'), 'current_checkout': 'June 01 (Sunday)', 'current_checkout_date': '2025-06-01'}}
INFO 2025-05-30 23:40:57,499 views Generated response: Your current booking is until June 01 (Sunday). Which day do you want to extend it to? Please provide the new check-out date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-30 23:40:57,499 views Booking confirmation check - State: selecting_extend_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:40:57,500 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:40:57,502 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 538
INFO 2025-05-30 23:41:01,555 views Database connection successful
INFO 2025-05-30 23:41:01,555 views Received chat request at 2025-05-30 23:41:01.555466
DEBUG 2025-05-30 23:41:01,555 views Request headers: {'Content-Length': '358', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:01,555 views Request body: {"message":"June 02","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"extend_booking_id":"BK-67718","booking_to_extend":{"id":15,"booking_id":"BK-67718","room_name":"Deluxe Room","room_price":"205.00","current_checkout":"June 01 (Sunday)","current_checkout_date":"2025-06-01"}},"state":"selecting_extend_date","lang":"no"}}
INFO 2025-05-30 23:41:01,555 views User input: June 02
INFO 2025-05-30 23:41:01,555 views Current session state: selecting_extend_date
INFO 2025-05-30 23:41:01,555 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'extend_booking_id': 'BK-67718', 'booking_to_extend': {'id': 15, 'booking_id': 'BK-67718', 'room_name': 'Deluxe Room', 'room_price': '205.00', 'current_checkout': 'June 01 (Sunday)', 'current_checkout_date': '2025-06-01'}}
INFO 2025-05-30 23:41:01,963 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:01,963 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:01,963 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:01,963 dialog_manager Processing message: June 02
INFO 2025-05-30 23:41:01,963 dialog_manager Processing input: June 02
INFO 2025-05-30 23:41:01,963 dialog_manager Using language: no
INFO 2025-05-30 23:41:01,963 dialog_manager Detecting intent for input: June 02
INFO 2025-05-30 23:41:01,984 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:41:01,990 models Booking saved: BK-67718 for TLS
INFO 2025-05-30 23:41:01,990 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-30 23:41:01,991 views Updated session state: greeting
INFO 2025-05-30 23:41:01,991 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-30 23:41:01,991 views Generated response: Good news! We have extended your stay to June 02, with an additional fee of RM205.00 (1 night  RM205.00/night). Looking forward to your continued stay!
INFO 2025-05-30 23:41:01,992 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:01,995 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 266
INFO 2025-05-30 23:41:12,157 views Database connection successful
INFO 2025-05-30 23:41:12,157 views Received chat request at 2025-05-30 23:41:12.157318
DEBUG 2025-05-30 23:41:12,157 views Request headers: {'Content-Length': '107', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:12,157 views Request body: {"message":"upgrade","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:41:12,157 views User input: upgrade
INFO 2025-05-30 23:41:12,157 views Current session state: greeting
INFO 2025-05-30 23:41:12,157 views Current user data: {'is_returning_customer': True}
INFO 2025-05-30 23:41:12,573 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:12,573 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:12,573 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:12,573 dialog_manager Processing message: upgrade
INFO 2025-05-30 23:41:12,573 dialog_manager Processing input: upgrade
INFO 2025-05-30 23:41:12,573 dialog_manager Using language: no
INFO 2025-05-30 23:41:12,573 dialog_manager Detecting intent for input: upgrade
INFO 2025-05-30 23:41:12,587 dialog_manager Detected intent: upgrade_room
INFO 2025-05-30 23:41:12,587 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:41:12,591 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-05-30 23:41:12,592 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:41:12,592 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-05-30 23:41:12,592 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:12,593 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:41:12,595 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 322
INFO 2025-05-30 23:41:14,777 views Database connection successful
INFO 2025-05-30 23:41:14,777 views Received chat request at 2025-05-30 23:41:14.777077
DEBUG 2025-05-30 23:41:14,777 views Request headers: {'Content-Length': '163', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:14,779 views Request body: {"message":"BK-67718","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_booking_id_for_upgrade","lang":"no"}}
INFO 2025-05-30 23:41:14,779 views User input: BK-67718
INFO 2025-05-30 23:41:14,779 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-05-30 23:41:14,779 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-30 23:41:15,185 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:15,185 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:15,185 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:15,185 dialog_manager Processing message: BK-67718
INFO 2025-05-30 23:41:15,185 dialog_manager Processing input: BK-67718
INFO 2025-05-30 23:41:15,185 dialog_manager Using language: no
INFO 2025-05-30 23:41:15,185 dialog_manager Detecting intent for input: BK-67718
INFO 2025-05-30 23:41:15,185 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:41:15,209 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'upgrade_booking_id': 'BK-67718', 'booking_to_upgrade': {'id': 15, 'booking_id': 'BK-67718', 'current_room': 'Deluxe Room', 'current_price': Decimal('205.00'), 'check_in': 'May 31', 'check_out': 'June 02', 'duration': 2}}
INFO 2025-05-30 23:41:15,210 views Updated session state: selecting_upgrade_room
INFO 2025-05-30 23:41:15,210 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'upgrade_booking_id': 'BK-67718', 'booking_to_upgrade': {'id': 15, 'booking_id': 'BK-67718', 'current_room': 'Deluxe Room', 'current_price': Decimal('205.00'), 'check_in': 'May 31', 'check_out': 'June 02', 'duration': 2}}
INFO 2025-05-30 23:41:15,215 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:15,215 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:41:15,219 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 675
INFO 2025-05-30 23:41:17,916 views Database connection successful
INFO 2025-05-30 23:41:17,916 views Received chat request at 2025-05-30 23:41:17.916587
DEBUG 2025-05-30 23:41:17,916 views Request headers: {'Content-Length': '345', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:17,916 views Request body: {"message":"suite","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"upgrade_booking_id":"BK-67718","booking_to_upgrade":{"id":15,"booking_id":"BK-67718","current_room":"Deluxe Room","current_price":"205.00","check_in":"May 31","check_out":"June 02","duration":2}},"state":"selecting_upgrade_room","lang":"no"}}
INFO 2025-05-30 23:41:17,916 views User input: suite
INFO 2025-05-30 23:41:17,916 views Current session state: selecting_upgrade_room
INFO 2025-05-30 23:41:17,916 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'upgrade_booking_id': 'BK-67718', 'booking_to_upgrade': {'id': 15, 'booking_id': 'BK-67718', 'current_room': 'Deluxe Room', 'current_price': '205.00', 'check_in': 'May 31', 'check_out': 'June 02', 'duration': 2}}
INFO 2025-05-30 23:41:18,332 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:18,332 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:18,332 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:18,332 dialog_manager Processing message: suite
INFO 2025-05-30 23:41:18,332 dialog_manager Processing input: suite
INFO 2025-05-30 23:41:18,332 dialog_manager Using language: no
INFO 2025-05-30 23:41:18,332 dialog_manager Detecting intent for input: suite
INFO 2025-05-30 23:41:18,352 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:41:18,357 models Booking saved: BK-67718 for TLS
INFO 2025-05-30 23:41:18,358 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-30 23:41:18,358 views Updated session state: greeting
INFO 2025-05-30 23:41:18,359 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-30 23:41:18,359 views Generated response: Your room type has been successfully upgraded to Suite and the total price has been adjusted. Additional cost: RM432.00 (RM216.00/night  2 nights). We look forward to your more comfortable stay!
INFO 2025-05-30 23:41:18,359 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:18,362 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 309
INFO 2025-05-30 23:41:32,898 views Database connection successful
INFO 2025-05-30 23:41:32,903 views Received chat request at 2025-05-30 23:41:32.903441
DEBUG 2025-05-30 23:41:32,905 views Request headers: {'Content-Length': '120', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:32,906 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:41:32,906 views User input: booking status check
INFO 2025-05-30 23:41:32,907 views Current session state: greeting
INFO 2025-05-30 23:41:32,907 views Current user data: {'is_returning_customer': True}
INFO 2025-05-30 23:41:33,320 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:33,320 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:33,320 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:33,320 dialog_manager Processing message: booking status check
INFO 2025-05-30 23:41:33,320 dialog_manager Processing input: booking status check
INFO 2025-05-30 23:41:33,320 dialog_manager Using language: no
INFO 2025-05-30 23:41:33,320 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-30 23:41:33,320 dialog_manager Booking intent detected
INFO 2025-05-30 23:41:33,320 dialog_manager Detected intent: booking
INFO 2025-05-30 23:41:33,336 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:41:33,336 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-30 23:41:33,338 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:41:33,338 views Generated response: I'd be happy to check your booking status! Do you remember the name, phone number, or booking ID used for the reservation? This will help me find your booking quickly.
INFO 2025-05-30 23:41:33,338 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:33,339 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:41:33,341 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 336
INFO 2025-05-30 23:41:36,018 views Database connection successful
INFO 2025-05-30 23:41:36,019 views Received chat request at 2025-05-30 23:41:36.019130
DEBUG 2025-05-30 23:41:36,019 views Request headers: {'Content-Length': '164', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:36,019 views Request body: {"message":"BK-67718","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_booking_info_for_status","lang":"no"}}
INFO 2025-05-30 23:41:36,019 views User input: BK-67718
INFO 2025-05-30 23:41:36,019 views Current session state: collecting_booking_info_for_status
INFO 2025-05-30 23:41:36,019 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-30 23:41:36,467 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:36,467 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:36,467 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:36,467 dialog_manager Processing message: BK-67718
INFO 2025-05-30 23:41:36,467 dialog_manager Processing input: BK-67718
INFO 2025-05-30 23:41:36,467 dialog_manager Using language: no
INFO 2025-05-30 23:41:36,467 dialog_manager Detecting intent for input: BK-67718
INFO 2025-05-30 23:41:36,467 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:41:36,482 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 5, 31), 'check_out_date': datetime.date(2025, 6, 2), 'status': 'confirmed'}}
INFO 2025-05-30 23:41:36,482 views Updated session state: greeting
INFO 2025-05-30 23:41:36,483 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 5, 31), 'check_out_date': datetime.date(2025, 6, 2), 'status': 'confirmed'}}
INFO 2025-05-30 23:41:36,491 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:36,493 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 855
INFO 2025-05-30 23:41:46,237 views Database connection successful
INFO 2025-05-30 23:41:46,237 views Received chat request at 2025-05-30 23:41:46.237827
DEBUG 2025-05-30 23:41:46,237 views Request headers: {'Content-Length': '292', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:41:46,239 views Request body: {"message":"hotel information","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02","status":"confirmed"}},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:41:46,240 views User input: hotel information
INFO 2025-05-30 23:41:46,240 views Current session state: greeting
INFO 2025-05-30 23:41:46,240 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}}
INFO 2025-05-30 23:41:46,675 dialog_manager Using device: cpu
WARNING 2025-05-30 23:41:46,675 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:41:46,675 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:41:46,675 dialog_manager Processing message: hotel information
INFO 2025-05-30 23:41:46,675 dialog_manager Processing input: hotel information
INFO 2025-05-30 23:41:46,678 dialog_manager Using language: no
INFO 2025-05-30 23:41:46,678 dialog_manager Detecting intent for input: hotel information
INFO 2025-05-30 23:41:46,678 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:41:46,678 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:41:46,684 views Updated session state: greeting
INFO 2025-05-30 23:41:46,684 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:41:46,688 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:41:46,688 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:41:46,692 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 584
INFO 2025-05-30 23:42:10,698 views Database connection successful
INFO 2025-05-30 23:42:10,699 views Received chat request at 2025-05-30 23:42:10.699302
DEBUG 2025-05-30 23:42:10,699 views Request headers: {'Content-Length': '328', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:42:10,701 views Request body: {"message":"change date to check in","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02","status":"confirmed"},"username":"TLS","user_id":5},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:42:10,701 views User input: change date to check in
INFO 2025-05-30 23:42:10,701 views Current session state: greeting
INFO 2025-05-30 23:42:10,702 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-30 23:42:11,156 dialog_manager Using device: cpu
WARNING 2025-05-30 23:42:11,156 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:42:11,156 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:42:11,156 dialog_manager Processing message: change date to check in
INFO 2025-05-30 23:42:11,156 dialog_manager Processing input: change date to check in
INFO 2025-05-30 23:42:11,156 dialog_manager Using language: no
INFO 2025-05-30 23:42:11,156 dialog_manager Detecting intent for input: change date to check in
INFO 2025-05-30 23:42:11,176 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-30 23:42:11,176 dialog_manager Detected intent: change_date
INFO 2025-05-30 23:42:11,180 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'change_date_booking_id': 'BK-67718'}
INFO 2025-05-30 23:42:11,181 views Updated session state: greeting
INFO 2025-05-30 23:42:11,182 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'change_date_booking_id': 'BK-67718'}
INFO 2025-05-30 23:42:11,182 views Generated response: Sorry, check-in date changes must be made at least 3 days in advance. Your current check-in date is May 31, 2025, which is only 1 day(s) away.
INFO 2025-05-30 23:42:11,183 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:42:11,185 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:42:11,187 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 513
INFO 2025-05-30 23:42:25,721 views Database connection successful
INFO 2025-05-30 23:42:25,721 views Received chat request at 2025-05-30 23:42:25.721304
DEBUG 2025-05-30 23:42:25,721 views Request headers: {'Content-Length': '354', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:42:25,721 views Request body: {"message":"room services","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02","status":"confirmed"},"username":"TLS","user_id":5,"change_date_booking_id":"BK-67718"},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:42:25,721 views User input: room services
INFO 2025-05-30 23:42:25,721 views Current session state: greeting
INFO 2025-05-30 23:42:25,721 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718'}
INFO 2025-05-30 23:42:26,160 dialog_manager Using device: cpu
WARNING 2025-05-30 23:42:26,160 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:42:26,160 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:42:26,160 dialog_manager Processing message: room services
INFO 2025-05-30 23:42:26,160 dialog_manager Processing input: room services
INFO 2025-05-30 23:42:26,160 dialog_manager Using language: no
INFO 2025-05-30 23:42:26,160 dialog_manager Detecting intent for input: room services
INFO 2025-05-30 23:42:26,176 dialog_manager Booking intent detected
INFO 2025-05-30 23:42:26,176 dialog_manager Detected intent: booking
INFO 2025-05-30 23:42:26,176 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-30 23:42:26,184 dialog_manager Extracting dates from: room services
WARNING 2025-05-30 23:42:26,184 dialog_manager No dates found
INFO 2025-05-30 23:42:26,184 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:42:26,185 views Updated session state: collecting_booking_info
INFO 2025-05-30 23:42:26,185 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:42:26,193 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:42:26,195 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:42:26,198 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 478
INFO 2025-05-30 23:43:38,666 views Database connection successful
INFO 2025-05-30 23:43:38,685 views Received chat request at 2025-05-30 23:43:38.685098
DEBUG 2025-05-30 23:43:38,685 views Request headers: {'Content-Length': '364', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:43:38,685 views Request body: {"message":"feedback","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02","status":"confirmed"},"username":"TLS","user_id":5,"change_date_booking_id":"BK-67718"},"state":"collecting_booking_info","lang":"no"}}
INFO 2025-05-30 23:43:38,685 views User input: feedback
INFO 2025-05-30 23:43:38,685 views Current session state: collecting_booking_info
INFO 2025-05-30 23:43:38,685 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718'}
INFO 2025-05-30 23:43:44,212 dialog_manager Using device: cpu
WARNING 2025-05-30 23:43:44,213 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:43:44,214 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:43:44,214 dialog_manager Processing message: feedback
INFO 2025-05-30 23:43:44,214 dialog_manager Processing input: feedback
INFO 2025-05-30 23:43:44,214 dialog_manager Using language: no
INFO 2025-05-30 23:43:44,215 dialog_manager Detecting intent for input: feedback
INFO 2025-05-30 23:43:44,247 dialog_manager Detected intent: prices
INFO 2025-05-30 23:43:44,248 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:43:44,249 views Updated session state: collecting_feedback_rating
INFO 2025-05-30 23:43:44,249 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:43:44,260 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:43:44,261 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:43:44,266 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 758
INFO 2025-05-30 23:43:47,189 views Database connection successful
INFO 2025-05-30 23:43:47,189 views Received chat request at 2025-05-30 23:43:47.189482
DEBUG 2025-05-30 23:43:47,194 views Request headers: {'Content-Length': '360', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:43:47,196 views Request body: {"message":"4","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02","status":"confirmed"},"username":"TLS","user_id":5,"change_date_booking_id":"BK-67718"},"state":"collecting_feedback_rating","lang":"no"}}
INFO 2025-05-30 23:43:47,197 views User input: 4
INFO 2025-05-30 23:43:47,197 views Current session state: collecting_feedback_rating
INFO 2025-05-30 23:43:47,197 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718'}
INFO 2025-05-30 23:43:47,947 dialog_manager Using device: cpu
WARNING 2025-05-30 23:43:47,947 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:43:47,947 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:43:47,947 dialog_manager Processing message: 4
INFO 2025-05-30 23:43:47,947 dialog_manager Processing input: 4
INFO 2025-05-30 23:43:47,947 dialog_manager Using language: no
INFO 2025-05-30 23:43:47,947 dialog_manager Detecting intent for input: 4
INFO 2025-05-30 23:43:47,969 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:43:47,970 dialog_manager Dialog manager process completed - State: collecting_feedback_comment, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>, 'feedback_rating': 4}
INFO 2025-05-30 23:43:47,971 views Updated session state: collecting_feedback_comment
INFO 2025-05-30 23:43:47,971 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'user': <SimpleLazyObject: <User: TLS>>, 'feedback_rating': 4}
INFO 2025-05-30 23:43:47,980 views Booking confirmation check - State: collecting_feedback_comment, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:43:47,980 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:43:47,984 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 620
INFO 2025-05-30 23:44:01,223 views Database connection successful
INFO 2025-05-30 23:44:01,224 views Received chat request at 2025-05-30 23:44:01.224605
DEBUG 2025-05-30 23:44:01,224 views Request headers: {'Content-Length': '407', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:44:01,226 views Request body: {"message":"i want booking another room","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02","status":"confirmed"},"username":"TLS","user_id":5,"change_date_booking_id":"BK-67718","feedback_rating":4},"state":"collecting_feedback_comment","lang":"no"}}
INFO 2025-05-30 23:44:01,226 views User input: i want booking another room
INFO 2025-05-30 23:44:01,228 views Current session state: collecting_feedback_comment
INFO 2025-05-30 23:44:01,230 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-67718', 'feedback_rating': 4}
INFO 2025-05-30 23:44:01,952 dialog_manager Using device: cpu
WARNING 2025-05-30 23:44:01,952 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:44:01,952 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:44:01,952 dialog_manager Processing message: i want booking another room
INFO 2025-05-30 23:44:01,952 dialog_manager Processing input: i want booking another room
INFO 2025-05-30 23:44:01,952 dialog_manager Using language: no
INFO 2025-05-30 23:44:01,952 dialog_manager Detecting intent for input: i want booking another room
INFO 2025-05-30 23:44:01,978 dialog_manager Book another room intent detected
INFO 2025-05-30 23:44:01,978 dialog_manager Detected intent: book_another_room
INFO 2025-05-30 23:44:01,979 dialog_manager Customer feedback received: {'rating': 4, 'comment': 'i want booking another room', 'timestamp': datetime.datetime(2025, 5, 30, 15, 44, 1, 978569, tzinfo=datetime.timezone.utc)}
INFO 2025-05-30 23:44:01,979 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-30 23:44:01,983 views Updated session state: greeting
INFO 2025-05-30 23:44:01,984 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-30 23:44:01,994 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:44:02,002 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 379
INFO 2025-05-30 23:44:18,385 views Database connection successful
INFO 2025-05-30 23:44:18,385 views Received chat request at 2025-05-30 23:44:18.385614
DEBUG 2025-05-30 23:44:18,386 views Request headers: {'Content-Length': '127', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:44:18,386 views Request body: {"message":"i want booking another room","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:44:18,387 views User input: i want booking another room
INFO 2025-05-30 23:44:18,387 views Current session state: greeting
INFO 2025-05-30 23:44:18,387 views Current user data: {'is_returning_customer': True}
INFO 2025-05-30 23:44:19,017 dialog_manager Using device: cpu
WARNING 2025-05-30 23:44:19,017 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:44:19,017 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:44:19,017 dialog_manager Processing message: i want booking another room
INFO 2025-05-30 23:44:19,017 dialog_manager Processing input: i want booking another room
INFO 2025-05-30 23:44:19,017 dialog_manager Using language: no
INFO 2025-05-30 23:44:19,017 dialog_manager Detecting intent for input: i want booking another room
INFO 2025-05-30 23:44:19,017 dialog_manager Book another room intent detected
INFO 2025-05-30 23:44:19,017 dialog_manager Detected intent: book_another_room
INFO 2025-05-30 23:44:24,384 dialog_manager Sentiment analysis: Neutral (confidence: 0.73)
INFO 2025-05-30 23:44:24,384 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-30 23:44:24,384 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:44:24,384 views Updated session state: collecting_parent_booking_id
INFO 2025-05-30 23:44:24,384 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:44:24,384 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-30 23:44:24,384 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:44:24,384 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:44:24,466 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 289
INFO 2025-05-30 23:44:39,951 views Database connection successful
INFO 2025-05-30 23:44:39,952 views Received chat request at 2025-05-30 23:44:39.952855
DEBUG 2025-05-30 23:44:39,952 views Request headers: {'Content-Length': '158', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:44:39,952 views Request body: {"message":"BK-67718","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_parent_booking_id","lang":"no"}}
INFO 2025-05-30 23:44:39,952 views User input: BK-67718
INFO 2025-05-30 23:44:39,952 views Current session state: collecting_parent_booking_id
INFO 2025-05-30 23:44:39,952 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-30 23:44:40,366 dialog_manager Using device: cpu
WARNING 2025-05-30 23:44:40,366 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:44:40,371 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:44:40,371 dialog_manager Processing message: BK-67718
INFO 2025-05-30 23:44:40,371 dialog_manager Processing input: BK-67718
INFO 2025-05-30 23:44:40,371 dialog_manager Using language: no
INFO 2025-05-30 23:44:40,371 dialog_manager Detecting intent for input: BK-67718
INFO 2025-05-30 23:44:40,375 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:44:40,400 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 5, 31), 'check_out_date': datetime.date(2025, 6, 2)}, 'is_additional_booking': True}
INFO 2025-05-30 23:44:40,400 views Updated session state: selecting_additional_room_type
INFO 2025-05-30 23:44:40,400 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 5, 31), 'check_out_date': datetime.date(2025, 6, 2)}, 'is_additional_booking': True}
INFO 2025-05-30 23:44:40,400 views Generated response: Perfect! I'll help you book an additional room to go with Suite.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-30 23:44:40,400 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:44:40,400 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:44:40,400 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 653
INFO 2025-05-30 23:44:44,744 views Database connection successful
INFO 2025-05-30 23:44:44,744 views Received chat request at 2025-05-30 23:44:44.744218
DEBUG 2025-05-30 23:44:44,745 views Request headers: {'Content-Length': '338', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:44:44,745 views Request body: {"message":"standard","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02"},"is_additional_booking":true},"state":"selecting_additional_room_type","lang":"no"}}
INFO 2025-05-30 23:44:44,746 views User input: standard
INFO 2025-05-30 23:44:44,746 views Current session state: selecting_additional_room_type
INFO 2025-05-30 23:44:44,746 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True}
INFO 2025-05-30 23:44:45,150 dialog_manager Using device: cpu
WARNING 2025-05-30 23:44:45,150 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:44:45,150 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:44:45,150 dialog_manager Processing message: standard
INFO 2025-05-30 23:44:45,160 dialog_manager Processing input: standard
INFO 2025-05-30 23:44:45,161 dialog_manager Using language: no
INFO 2025-05-30 23:44:45,161 dialog_manager Detecting intent for input: standard
INFO 2025-05-30 23:44:45,167 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:44:45,167 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_room_type': 'Standard Room', 'additional_room_price': 132.0}
INFO 2025-05-30 23:44:45,167 views Updated session state: confirming_additional_dates
INFO 2025-05-30 23:44:45,167 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_room_type': 'Standard Room', 'additional_room_price': 132.0}
INFO 2025-05-30 23:44:45,167 views Generated response: Great! You've selected Standard Room (RM132.00/night) for your additional booking.

Your current booking is from 2025-05-31 to 2025-06-02.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-30 23:44:45,167 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:44:45,167 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:44:45,167 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 701
INFO 2025-05-30 23:44:51,608 views Database connection successful
INFO 2025-05-30 23:44:51,608 views Received chat request at 2025-05-30 23:44:51.608883
DEBUG 2025-05-30 23:44:51,608 views Request headers: {'Content-Length': '396', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:44:51,608 views Request body: {"message":"no","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132},"state":"confirming_additional_dates","lang":"no"}}
INFO 2025-05-30 23:44:51,608 views User input: no
INFO 2025-05-30 23:44:51,608 views Current session state: confirming_additional_dates
INFO 2025-05-30 23:44:51,608 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132}
INFO 2025-05-30 23:44:52,007 dialog_manager Using device: cpu
WARNING 2025-05-30 23:44:52,007 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:44:52,007 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:44:52,007 dialog_manager Processing message: no
INFO 2025-05-30 23:44:52,007 dialog_manager Processing input: no
INFO 2025-05-30 23:44:52,007 dialog_manager Using language: no
INFO 2025-05-30 23:44:52,007 dialog_manager Detecting intent for input: no
INFO 2025-05-30 23:44:52,023 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:44:52,026 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:44:52,026 views Updated session state: collecting_additional_dates
INFO 2025-05-30 23:44:52,026 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:44:52,026 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-30 23:44:52,026 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:44:52,028 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:44:52,030 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 557
INFO 2025-05-30 23:45:03,304 views Database connection successful
INFO 2025-05-30 23:45:03,304 views Received chat request at 2025-05-30 23:45:03.304860
DEBUG 2025-05-30 23:45:03,308 views Request headers: {'Content-Length': '412', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:45:03,308 views Request body: {"message":"June 12 to June 14","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132},"state":"collecting_additional_dates","lang":"no"}}
INFO 2025-05-30 23:45:03,309 views User input: June 12 to June 14
INFO 2025-05-30 23:45:03,309 views Current session state: collecting_additional_dates
INFO 2025-05-30 23:45:03,309 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132}
INFO 2025-05-30 23:45:03,719 dialog_manager Using device: cpu
WARNING 2025-05-30 23:45:03,719 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:45:03,719 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:45:03,719 dialog_manager Processing message: June 12 to June 14
INFO 2025-05-30 23:45:03,719 dialog_manager Processing input: June 12 to June 14
INFO 2025-05-30 23:45:03,719 dialog_manager Using language: no
INFO 2025-05-30 23:45:03,719 dialog_manager Detecting intent for input: June 12 to June 14
INFO 2025-05-30 23:45:03,730 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:45:03,730 dialog_manager Extracting dates from: June 12 to June 14
INFO 2025-05-30 23:45:03,730 dialog_manager Extracted month-to-month date: check-in 2025-06-12 00:00:00, check-out 2025-06-14 00:00:00
INFO 2025-05-30 23:45:03,730 dialog_manager Multiple date result: {'check_in': '2025-06-12', 'check_out': '2025-06-14'}
INFO 2025-05-30 23:45:03,730 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS'}
INFO 2025-05-30 23:45:03,730 views Updated session state: confirming_additional_booking
INFO 2025-05-30 23:45:03,730 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS'}
INFO 2025-05-30 23:45:03,740 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:45:03,740 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:45:03,742 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 977
INFO 2025-05-30 23:45:15,372 views Database connection successful
INFO 2025-05-30 23:45:15,373 views Received chat request at 2025-05-30 23:45:15.373547
DEBUG 2025-05-30 23:45:15,374 views Request headers: {'Content-Length': '510', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:45:15,376 views Request body: {"message":"cancel booking","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132,"additional_check_in_date":"2025-06-12","additional_check_out_date":"2025-06-14","guest_name":"TLS"},"state":"confirming_additional_booking","lang":"no"}}
INFO 2025-05-30 23:45:15,378 views User input: cancel booking
INFO 2025-05-30 23:45:15,380 views Current session state: confirming_additional_booking
INFO 2025-05-30 23:45:15,381 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS'}
INFO 2025-05-30 23:45:15,787 dialog_manager Using device: cpu
WARNING 2025-05-30 23:45:15,787 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:45:15,787 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:45:15,787 dialog_manager Processing message: cancel booking
INFO 2025-05-30 23:45:15,787 dialog_manager Processing input: cancel booking
INFO 2025-05-30 23:45:15,787 dialog_manager Using language: no
INFO 2025-05-30 23:45:15,787 dialog_manager Detecting intent for input: cancel booking
INFO 2025-05-30 23:45:15,795 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-05-30 23:45:15,795 dialog_manager Detected intent: cancel_booking
INFO 2025-05-30 23:45:15,795 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_cancel, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-05-30 23:45:15,795 views Updated session state: collecting_booking_id_for_cancel
INFO 2025-05-30 23:45:15,795 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-05-30 23:45:15,795 views Generated response: I'd be happy to help you cancel your booking. Please provide your booking ID or booking name, and I will help you check the booking information.
INFO 2025-05-30 23:45:15,795 views Booking confirmation check - State: collecting_booking_id_for_cancel, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:45:15,795 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:45:15,803 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 712
INFO 2025-05-30 23:45:18,122 views Database connection successful
INFO 2025-05-30 23:45:18,122 views Received chat request at 2025-05-30 23:45:18.122305
DEBUG 2025-05-30 23:45:18,122 views Request headers: {'Content-Length': '536', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:45:18,122 views Request body: {"message":"BK-67718","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132,"additional_check_in_date":"2025-06-12","additional_check_out_date":"2025-06-14","guest_name":"TLS","pending_cancel_intent":true},"state":"collecting_booking_id_for_cancel","lang":"no"}}
INFO 2025-05-30 23:45:18,126 views User input: BK-67718
INFO 2025-05-30 23:45:18,126 views Current session state: collecting_booking_id_for_cancel
INFO 2025-05-30 23:45:18,126 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS', 'pending_cancel_intent': True}
INFO 2025-05-30 23:45:18,518 dialog_manager Using device: cpu
WARNING 2025-05-30 23:45:18,518 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:45:18,518 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:45:18,518 dialog_manager Processing message: BK-67718
INFO 2025-05-30 23:45:18,518 dialog_manager Processing input: BK-67718
INFO 2025-05-30 23:45:18,518 dialog_manager Using language: no
INFO 2025-05-30 23:45:18,518 dialog_manager Detecting intent for input: BK-67718
INFO 2025-05-30 23:45:18,518 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:45:18,518 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-67718', 'booking_to_cancel': {'id': 15, 'booking_id': 'BK-67718', 'room_name': 'Suite', 'guest_name': 'TLS', 'check_in': 'May 31', 'check_out': 'June 02', 'status': 'confirmed'}}
INFO 2025-05-30 23:45:18,518 views Updated session state: confirming_cancellation
INFO 2025-05-30 23:45:18,518 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-67718', 'booking_to_cancel': {'id': 15, 'booking_id': 'BK-67718', 'room_name': 'Suite', 'guest_name': 'TLS', 'check_in': 'May 31', 'check_out': 'June 02', 'status': 'confirmed'}}
INFO 2025-05-30 23:45:18,533 views Generated response: I found your booking! You have booked a Suite with check-in dates from May 31 to June 02. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-05-30 23:45:18,533 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:45:18,534 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:45:18,536 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 879
INFO 2025-05-30 23:45:23,583 views Database connection successful
INFO 2025-05-30 23:45:23,583 views Received chat request at 2025-05-30 23:45:23.583196
DEBUG 2025-05-30 23:45:23,583 views Request headers: {'Content-Length': '680', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:45:23,583 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":15,"booking_id":"BK-67718","guest_name":"TLS","room_name":"Suite","check_in_date":"2025-05-31","check_out_date":"2025-06-02"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132,"additional_check_in_date":"2025-06-12","additional_check_out_date":"2025-06-14","guest_name":"TLS","cancel_booking_id":"BK-67718","booking_to_cancel":{"id":15,"booking_id":"BK-67718","room_name":"Suite","guest_name":"TLS","check_in":"May 31","check_out":"June 02","status":"confirmed"}},"state":"confirming_cancellation","lang":"no"}}
INFO 2025-05-30 23:45:23,583 views User input: yes
INFO 2025-05-30 23:45:23,583 views Current session state: confirming_cancellation
INFO 2025-05-30 23:45:23,583 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 15, 'booking_id': 'BK-67718', 'guest_name': 'TLS', 'room_name': 'Suite', 'check_in_date': '2025-05-31', 'check_out_date': '2025-06-02'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'TLS', 'cancel_booking_id': 'BK-67718', 'booking_to_cancel': {'id': 15, 'booking_id': 'BK-67718', 'room_name': 'Suite', 'guest_name': 'TLS', 'check_in': 'May 31', 'check_out': 'June 02', 'status': 'confirmed'}}
INFO 2025-05-30 23:45:23,980 dialog_manager Using device: cpu
WARNING 2025-05-30 23:45:23,980 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:45:23,980 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:45:23,980 dialog_manager Processing message: yes
INFO 2025-05-30 23:45:23,980 dialog_manager Processing input: yes
INFO 2025-05-30 23:45:23,980 dialog_manager Using language: no
INFO 2025-05-30 23:45:23,980 dialog_manager Detecting intent for input: yes
INFO 2025-05-30 23:45:23,995 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:45:23,996 models Booking saved: BK-67718 for TLS
INFO 2025-05-30 23:45:23,996 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-30 23:45:23,996 views Updated session state: greeting
INFO 2025-05-30 23:45:23,996 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-30 23:45:23,996 views Generated response: Your reservation has been successfully canceled, order number BK-67718. I hope to have the opportunity to serve you in the future!
INFO 2025-05-30 23:45:23,996 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:45:23,996 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-30 23:45:58,859 views Database connection successful
INFO 2025-05-30 23:45:58,864 views Received chat request at 2025-05-30 23:45:58.863329
DEBUG 2025-05-30 23:45:58,865 views Request headers: {'Content-Length': '123', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:45:58,866 views Request body: {"message":"do you have girlfriend?","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:45:58,867 views User input: do you have girlfriend?
INFO 2025-05-30 23:45:58,867 views Current session state: greeting
INFO 2025-05-30 23:45:58,867 views Current user data: {'is_returning_customer': True}
INFO 2025-05-30 23:45:59,810 dialog_manager Using device: cpu
WARNING 2025-05-30 23:45:59,811 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:45:59,811 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:45:59,812 dialog_manager Processing message: do you have girlfriend?
INFO 2025-05-30 23:45:59,812 dialog_manager Processing input: do you have girlfriend?
INFO 2025-05-30 23:45:59,812 dialog_manager Using language: no
INFO 2025-05-30 23:45:59,814 dialog_manager Detecting intent for input: do you have girlfriend?
INFO 2025-05-30 23:45:59,840 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:46:05,196 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-30 23:46:05,212 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-30 23:46:05,213 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:46:05,213 views Updated session state: greeting
INFO 2025-05-30 23:46:05,213 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-30 23:46:05,213 views Generated response: I'm not sure I understand.
INFO 2025-05-30 23:46:05,213 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:46:05,216 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:46:05,349 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 169
INFO 2025-05-30 23:46:14,220 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:46:15,241 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:46:20,348 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:46:27,040 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:46:34,458 middleware Admin user found: admin
INFO 2025-05-30 23:46:37,370 middleware Admin user found: admin
INFO 2025-05-30 23:46:51,685 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:46:52,079 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:46:56,104 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:46:56,104 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:47:08,624 middleware Admin user found: admin
INFO 2025-05-30 23:47:08,639 middleware Admin user found: admin
INFO 2025-05-30 23:47:20,646 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:47:21,031 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:47:23,811 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:47:33,491 middleware Admin user found: admin
INFO 2025-05-30 23:47:33,503 middleware Admin user found: admin
INFO 2025-05-30 23:47:48,315 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:47:48,342 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:47:51,530 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:47:51,530 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:48:01,414 middleware Admin user found: admin
INFO 2025-05-30 23:48:01,418 middleware Admin user found: admin
INFO 2025-05-30 23:49:11,027 views Database connection successful
INFO 2025-05-30 23:49:11,027 views Received chat request at 2025-05-30 23:49:11.027318
DEBUG 2025-05-30 23:49:11,027 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'User-Agent': 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4061', 'Host': '127.0.0.1:8000', 'Expect': '100-continue', 'Connection': 'Keep-Alive'}
DEBUG 2025-05-30 23:49:11,037 views Request body: {"message": "room services", "user_id": 1, "session": {}}
INFO 2025-05-30 23:49:11,037 views User input: room services
INFO 2025-05-30 23:49:11,037 views Current session state: None
INFO 2025-05-30 23:49:11,037 views Current user data: None
INFO 2025-05-30 23:49:11,061 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:49:12,061 dialog_manager Using device: cpu
WARNING 2025-05-30 23:49:12,061 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:49:12,061 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:49:12,074 dialog_manager Processing message: room services
INFO 2025-05-30 23:49:12,076 dialog_manager Processing input: room services
INFO 2025-05-30 23:49:13,237 dialog_manager Using language: en
INFO 2025-05-30 23:49:13,237 dialog_manager Detecting intent for input: room services
INFO 2025-05-30 23:49:13,273 dialog_manager Booking intent detected
INFO 2025-05-30 23:49:13,273 dialog_manager Detected intent: booking
INFO 2025-05-30 23:49:13,279 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:49:13,280 views Updated session state: greeting
INFO 2025-05-30 23:49:13,280 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:49:13,299 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:49:13,300 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:49:13,302 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 652
INFO 2025-05-30 23:49:51,558 views Database connection successful
INFO 2025-05-30 23:49:51,558 views Received chat request at 2025-05-30 23:49:51.558192
DEBUG 2025-05-30 23:49:51,558 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:49:51,568 views Request body: {"message": "room services", "user_id": 1, "session": {}}
INFO 2025-05-30 23:49:51,568 views User input: room services
INFO 2025-05-30 23:49:51,569 views Current session state: None
INFO 2025-05-30 23:49:51,569 views Current user data: None
INFO 2025-05-30 23:49:51,571 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:49:52,004 dialog_manager Using device: cpu
WARNING 2025-05-30 23:49:52,004 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:49:52,004 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:49:52,004 dialog_manager Processing message: room services
INFO 2025-05-30 23:49:52,004 dialog_manager Processing input: room services
INFO 2025-05-30 23:49:52,024 dialog_manager Using language: en
INFO 2025-05-30 23:49:52,025 dialog_manager Detecting intent for input: room services
INFO 2025-05-30 23:49:52,031 dialog_manager Booking intent detected
INFO 2025-05-30 23:49:52,032 dialog_manager Detected intent: booking
INFO 2025-05-30 23:49:52,040 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:49:52,041 views Updated session state: greeting
INFO 2025-05-30 23:49:52,042 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:49:52,048 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:49:52,049 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:49:52,052 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 652
INFO 2025-05-30 23:50:31,791 views Database connection successful
INFO 2025-05-30 23:50:31,791 views Received chat request at 2025-05-30 23:50:31.791155
DEBUG 2025-05-30 23:50:31,791 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:50:31,791 views Request body: {"message": "room services", "user_id": 1, "session": {}}
INFO 2025-05-30 23:50:31,791 views User input: room services
INFO 2025-05-30 23:50:31,791 views Current session state: None
INFO 2025-05-30 23:50:31,791 views Current user data: None
INFO 2025-05-30 23:50:31,803 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:50:32,221 dialog_manager Using device: cpu
WARNING 2025-05-30 23:50:32,221 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:50:32,221 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:50:32,237 dialog_manager Processing message: room services
INFO 2025-05-30 23:50:32,237 dialog_manager Processing input: room services
INFO 2025-05-30 23:50:32,237 dialog_manager Using language: en
INFO 2025-05-30 23:50:32,237 dialog_manager Detecting intent for input: room services
INFO 2025-05-30 23:50:32,250 dialog_manager Booking intent detected
INFO 2025-05-30 23:50:32,251 dialog_manager Detected intent: booking
INFO 2025-05-30 23:50:32,260 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:50:32,261 views Updated session state: greeting
INFO 2025-05-30 23:50:32,262 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:50:32,267 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:50:32,268 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:50:32,272 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 652
INFO 2025-05-30 23:50:32,277 views Database connection successful
INFO 2025-05-30 23:50:32,278 views Received chat request at 2025-05-30 23:50:32.278573
DEBUG 2025-05-30 23:50:32,279 views Request headers: {'Content-Length': '139', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:50:32,279 views Request body: {"message": "housekeeping", "user_id": 1, "session": {"user_data": {"showing_room_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:50:32,279 views User input: housekeeping
INFO 2025-05-30 23:50:32,280 views Current session state: greeting
INFO 2025-05-30 23:50:32,280 views Current user data: {'showing_room_service_menu': True}
INFO 2025-05-30 23:50:32,281 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:50:33,061 dialog_manager Using device: cpu
WARNING 2025-05-30 23:50:33,061 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:50:33,061 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:50:33,061 dialog_manager Processing message: housekeeping
INFO 2025-05-30 23:50:33,061 dialog_manager Processing input: housekeeping
INFO 2025-05-30 23:50:33,061 dialog_manager Using language: en
INFO 2025-05-30 23:50:33,061 dialog_manager Detecting intent for input: housekeeping
INFO 2025-05-30 23:50:33,079 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:50:33,080 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'showing_room_service_menu': True, 'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'room_service_type': 'cleaning'}
INFO 2025-05-30 23:50:33,080 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-30 23:50:33,080 views Updated user data: {'showing_room_service_menu': True, 'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'room_service_type': 'cleaning'}
INFO 2025-05-30 23:50:33,081 views Generated response: I'd be happy to arrange room cleaning for you! Please provide your booking ID so I can process your housekeeping request.
INFO 2025-05-30 23:50:33,081 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:50:33,082 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:50:33,086 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 364
INFO 2025-05-30 23:50:33,092 views Database connection successful
INFO 2025-05-30 23:50:33,093 views Received chat request at 2025-05-30 23:50:33.093560
DEBUG 2025-05-30 23:50:33,093 views Request headers: {'Content-Length': '141', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:50:33,094 views Request body: {"message": "do not disturb", "user_id": 1, "session": {"user_data": {"showing_room_service_menu": true}, "state": "greeting", "lang": "en"}}
INFO 2025-05-30 23:50:33,094 views User input: do not disturb
INFO 2025-05-30 23:50:33,095 views Current session state: greeting
INFO 2025-05-30 23:50:33,095 views Current user data: {'showing_room_service_menu': True}
INFO 2025-05-30 23:50:33,097 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:50:33,549 dialog_manager Using device: cpu
WARNING 2025-05-30 23:50:33,549 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:50:33,549 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:50:33,549 dialog_manager Processing message: do not disturb
INFO 2025-05-30 23:50:33,549 dialog_manager Processing input: do not disturb
INFO 2025-05-30 23:50:33,549 dialog_manager Using language: en
INFO 2025-05-30 23:50:33,549 dialog_manager Detecting intent for input: do not disturb
INFO 2025-05-30 23:50:33,558 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:50:33,560 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'showing_room_service_menu': True, 'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'room_service_type': 'dnd'}
INFO 2025-05-30 23:50:33,560 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-30 23:50:33,560 views Updated user data: {'showing_room_service_menu': True, 'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'room_service_type': 'dnd'}
INFO 2025-05-30 23:50:33,561 views Generated response: I'll set up Do Not Disturb for you! Please provide your booking ID so I can update your room status.
INFO 2025-05-30 23:50:33,561 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:50:33,561 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:50:33,566 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 338
INFO 2025-05-30 23:51:09,670 views Database connection successful
INFO 2025-05-30 23:51:09,670 views Received chat request at 2025-05-30 23:51:09.670212
DEBUG 2025-05-30 23:51:09,670 views Request headers: {'Content-Length': '143', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:51:09,670 views Request body: {"message":"room services","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:51:09,678 views User input: room services
INFO 2025-05-30 23:51:09,680 views Current session state: greeting
INFO 2025-05-30 23:51:09,686 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-30 23:51:10,357 dialog_manager Using device: cpu
WARNING 2025-05-30 23:51:10,357 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:51:10,357 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:51:10,357 dialog_manager Processing message: room services
INFO 2025-05-30 23:51:10,357 dialog_manager Processing input: room services
INFO 2025-05-30 23:51:10,357 dialog_manager Using language: no
INFO 2025-05-30 23:51:10,357 dialog_manager Detecting intent for input: room services
INFO 2025-05-30 23:51:10,369 dialog_manager Booking intent detected
INFO 2025-05-30 23:51:10,369 dialog_manager Detected intent: booking
INFO 2025-05-30 23:51:10,371 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:51:10,371 views Updated session state: greeting
INFO 2025-05-30 23:51:10,371 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-30 23:51:10,383 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:51:10,383 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:51:10,387 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 650
INFO 2025-05-30 23:51:28,551 views Database connection successful
INFO 2025-05-30 23:51:28,551 views Received chat request at 2025-05-30 23:51:28.551352
DEBUG 2025-05-30 23:51:28,551 views Request headers: {'Content-Length': '175', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:51:28,551 views Request body: {"message":"housekeeping","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"showing_room_service_menu":true},"state":"greeting","lang":"no"}}
INFO 2025-05-30 23:51:28,551 views User input: housekeeping
INFO 2025-05-30 23:51:28,551 views Current session state: greeting
INFO 2025-05-30 23:51:28,551 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True}
INFO 2025-05-30 23:51:28,999 dialog_manager Using device: cpu
WARNING 2025-05-30 23:51:28,999 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:51:28,999 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:51:28,999 dialog_manager Processing message: housekeeping
INFO 2025-05-30 23:51:28,999 dialog_manager Processing input: housekeeping
INFO 2025-05-30 23:51:28,999 dialog_manager Using language: no
INFO 2025-05-30 23:51:29,011 dialog_manager Detecting intent for input: housekeeping
INFO 2025-05-30 23:51:29,013 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:51:29,013 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'cleaning'}
INFO 2025-05-30 23:51:29,019 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-30 23:51:29,019 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'cleaning'}
INFO 2025-05-30 23:51:29,019 views Generated response: I'd be happy to arrange room cleaning for you! Please provide your booking ID so I can process your housekeeping request.
INFO 2025-05-30 23:51:29,020 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:51:29,020 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:51:29,025 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 362
INFO 2025-05-30 23:51:38,323 views Database connection successful
INFO 2025-05-30 23:51:38,324 views Received chat request at 2025-05-30 23:51:38.324776
DEBUG 2025-05-30 23:51:38,326 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=W1siX19qc29uX21lc3NhZ2UiLDAsMjUsIkFjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhIFdlbGNvbWUgVExTISIsIiJdXQ:1uL1od:YnWQ_ziuSGNt9zKLhwwP78VH4JJTUPINiQyNIlGmBfI; csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-30 23:51:38,326 views Request body: {"message":"BK-67718","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"showing_room_service_menu":true,"room_service_type":"cleaning"},"state":"collecting_booking_id_for_room_service","lang":"no"}}
INFO 2025-05-30 23:51:38,326 views User input: BK-67718
INFO 2025-05-30 23:51:38,330 views Current session state: collecting_booking_id_for_room_service
INFO 2025-05-30 23:51:38,330 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning'}
INFO 2025-05-30 23:51:39,074 dialog_manager Using device: cpu
WARNING 2025-05-30 23:51:39,074 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:51:39,074 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:51:39,074 dialog_manager Processing message: BK-67718
INFO 2025-05-30 23:51:39,074 dialog_manager Processing input: BK-67718
INFO 2025-05-30 23:51:39,074 dialog_manager Using language: no
INFO 2025-05-30 23:51:39,074 dialog_manager Detecting intent for input: BK-67718
INFO 2025-05-30 23:51:39,096 dialog_manager Detected intent: unknown
INFO 2025-05-30 23:51:39,101 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_booking_id': 'BK-67718'}
INFO 2025-05-30 23:51:39,102 views Updated session state: greeting
INFO 2025-05-30 23:51:39,104 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_booking_id': 'BK-67718'}
INFO 2025-05-30 23:51:39,105 views Generated response: This booking (BK-67718) has been cancelled. Room service is not available for cancelled bookings.
INFO 2025-05-30 23:51:39,106 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:51:39,108 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:51:39,117 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 347
INFO 2025-05-30 23:54:45,440 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:54:51,404 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:54:59,877 middleware Admin user found: admin
INFO 2025-05-30 23:55:42,226 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:55:45,198 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:55:54,346 middleware Admin user found: admin
INFO 2025-05-30 23:56:06,075 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:56:08,749 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:56:17,551 middleware Admin user found: admin
INFO 2025-05-30 23:56:25,323 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:56:27,343 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:56:35,690 middleware Admin user found: admin
INFO 2025-05-30 23:56:52,974 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-30 23:56:55,574 autoreload Watching for file changes with StatReloader
INFO 2025-05-30 23:57:05,038 middleware Admin user found: admin
INFO 2025-05-30 23:58:57,178 views Database connection successful
INFO 2025-05-30 23:58:57,178 views Received chat request at 2025-05-30 23:58:57.178706
DEBUG 2025-05-30 23:58:57,178 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:58:57,178 views Request body: {"message": "do you have girlfriend?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:58:57,178 views User input: do you have girlfriend?
INFO 2025-05-30 23:58:57,178 views Current session state: None
INFO 2025-05-30 23:58:57,178 views Current user data: None
INFO 2025-05-30 23:58:57,178 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:58:57,818 dialog_manager Using device: cpu
WARNING 2025-05-30 23:58:57,818 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:58:57,835 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:58:57,838 dialog_manager Processing message: do you have girlfriend?
INFO 2025-05-30 23:58:57,839 dialog_manager Processing input: do you have girlfriend?
INFO 2025-05-30 23:58:58,528 dialog_manager Using language: en
INFO 2025-05-30 23:58:58,528 dialog_manager Detecting intent for input: do you have girlfriend?
INFO 2025-05-30 23:58:58,562 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:58:58,573 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:58:58,573 views Updated session state: greeting
INFO 2025-05-30 23:58:58,574 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:58:58,590 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:58:58,591 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:58:58,595 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-30 23:58:59,108 views Database connection successful
INFO 2025-05-30 23:58:59,108 views Received chat request at 2025-05-30 23:58:59.108627
DEBUG 2025-05-30 23:58:59,108 views Request headers: {'Content-Length': '82', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:58:59,108 views Request body: {"message": "have egg first or have chicken first??", "user_id": 1, "session": {}}
INFO 2025-05-30 23:58:59,113 views User input: have egg first or have chicken first??
INFO 2025-05-30 23:58:59,113 views Current session state: None
INFO 2025-05-30 23:58:59,113 views Current user data: None
INFO 2025-05-30 23:58:59,115 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:58:59,562 dialog_manager Using device: cpu
WARNING 2025-05-30 23:58:59,562 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:58:59,562 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:58:59,562 dialog_manager Processing message: have egg first or have chicken first??
INFO 2025-05-30 23:58:59,562 dialog_manager Processing input: have egg first or have chicken first??
INFO 2025-05-30 23:58:59,577 dialog_manager Using language: en
INFO 2025-05-30 23:58:59,577 dialog_manager Detecting intent for input: have egg first or have chicken first??
INFO 2025-05-30 23:58:59,585 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-30 23:58:59,585 dialog_manager Detected intent: greeting
INFO 2025-05-30 23:58:59,594 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:58:59,594 views Updated session state: greeting
INFO 2025-05-30 23:58:59,596 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:58:59,600 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:58:59,600 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:58:59,603 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 374
INFO 2025-05-30 23:59:00,119 views Database connection successful
INFO 2025-05-30 23:59:00,119 views Received chat request at 2025-05-30 23:59:00.119387
DEBUG 2025-05-30 23:59:00,119 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:00,119 views Request body: {"message": "how does AI work?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:00,123 views User input: how does AI work?
INFO 2025-05-30 23:59:00,123 views Current session state: None
INFO 2025-05-30 23:59:00,124 views Current user data: None
INFO 2025-05-30 23:59:00,125 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:00,549 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:00,549 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:00,549 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:00,549 dialog_manager Processing message: how does AI work?
INFO 2025-05-30 23:59:00,549 dialog_manager Processing input: how does AI work?
INFO 2025-05-30 23:59:00,555 dialog_manager Using language: en
INFO 2025-05-30 23:59:00,555 dialog_manager Detecting intent for input: how does AI work?
INFO 2025-05-30 23:59:00,562 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:00,567 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:00,568 views Updated session state: greeting
INFO 2025-05-30 23:59:00,568 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:00,573 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:00,573 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:00,578 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 394
INFO 2025-05-30 23:59:01,103 views Database connection successful
INFO 2025-05-30 23:59:01,103 views Received chat request at 2025-05-30 23:59:01.103260
DEBUG 2025-05-30 23:59:01,105 views Request headers: {'Content-Length': '64', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:01,106 views Request body: {"message": "what time is it now?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:01,108 views User input: what time is it now?
INFO 2025-05-30 23:59:01,113 views Current session state: None
INFO 2025-05-30 23:59:01,116 views Current user data: None
INFO 2025-05-30 23:59:01,119 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:01,732 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:01,732 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:01,732 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:01,732 dialog_manager Processing message: what time is it now?
INFO 2025-05-30 23:59:01,732 dialog_manager Processing input: what time is it now?
INFO 2025-05-30 23:59:01,737 dialog_manager Using language: en
INFO 2025-05-30 23:59:01,739 dialog_manager Detecting intent for input: what time is it now?
INFO 2025-05-30 23:59:01,751 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:01,753 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:01,754 views Updated session state: greeting
INFO 2025-05-30 23:59:01,754 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:01,761 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:01,762 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:01,765 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 327
INFO 2025-05-30 23:59:02,271 views Database connection successful
INFO 2025-05-30 23:59:02,271 views Received chat request at 2025-05-30 23:59:02.271272
DEBUG 2025-05-30 23:59:02,271 views Request headers: {'Content-Length': '63', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:02,271 views Request body: {"message": "will it rain today?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:02,279 views User input: will it rain today?
INFO 2025-05-30 23:59:02,279 views Current session state: None
INFO 2025-05-30 23:59:02,280 views Current user data: None
INFO 2025-05-30 23:59:02,281 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:02,688 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:02,688 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:02,688 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:02,688 dialog_manager Processing message: will it rain today?
INFO 2025-05-30 23:59:02,688 dialog_manager Processing input: will it rain today?
INFO 2025-05-30 23:59:02,688 dialog_manager Using language: en
INFO 2025-05-30 23:59:02,688 dialog_manager Detecting intent for input: will it rain today?
INFO 2025-05-30 23:59:02,688 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:02,705 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:02,706 views Updated session state: greeting
INFO 2025-05-30 23:59:02,707 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:02,711 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:02,711 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:02,714 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-30 23:59:03,225 views Database connection successful
INFO 2025-05-30 23:59:03,225 views Received chat request at 2025-05-30 23:59:03.225683
DEBUG 2025-05-30 23:59:03,225 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:03,232 views Request body: {"message": "tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:03,233 views User input: tell me a joke
INFO 2025-05-30 23:59:03,234 views Current session state: None
INFO 2025-05-30 23:59:03,234 views Current user data: None
INFO 2025-05-30 23:59:03,236 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:03,728 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:03,728 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:03,730 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:03,730 dialog_manager Processing message: tell me a joke
INFO 2025-05-30 23:59:03,730 dialog_manager Processing input: tell me a joke
INFO 2025-05-30 23:59:03,743 dialog_manager Using language: en
INFO 2025-05-30 23:59:03,746 dialog_manager Detecting intent for input: tell me a joke
INFO 2025-05-30 23:59:03,757 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:03,764 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:03,765 views Updated session state: greeting
INFO 2025-05-30 23:59:03,767 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:03,775 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:03,776 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:03,782 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-30 23:59:04,304 views Database connection successful
INFO 2025-05-30 23:59:04,304 views Received chat request at 2025-05-30 23:59:04.304026
DEBUG 2025-05-30 23:59:04,307 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:04,309 views Request body: {"message": "what's the latest news?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:04,311 views User input: what's the latest news?
INFO 2025-05-30 23:59:04,311 views Current session state: None
INFO 2025-05-30 23:59:04,313 views Current user data: None
INFO 2025-05-30 23:59:04,316 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:04,769 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:04,769 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:04,769 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:04,769 dialog_manager Processing message: what's the latest news?
INFO 2025-05-30 23:59:04,769 dialog_manager Processing input: what's the latest news?
INFO 2025-05-30 23:59:04,769 dialog_manager Using language: en
INFO 2025-05-30 23:59:04,769 dialog_manager Detecting intent for input: what's the latest news?
INFO 2025-05-30 23:59:04,782 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:04,785 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:04,785 views Updated session state: greeting
INFO 2025-05-30 23:59:04,785 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:04,792 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:04,792 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:04,796 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 375
INFO 2025-05-30 23:59:05,304 views Database connection successful
INFO 2025-05-30 23:59:05,304 views Received chat request at 2025-05-30 23:59:05.304419
DEBUG 2025-05-30 23:59:05,304 views Request headers: {'Content-Length': '64', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:05,312 views Request body: {"message": "football score today", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:05,313 views User input: football score today
INFO 2025-05-30 23:59:05,313 views Current session state: None
INFO 2025-05-30 23:59:05,314 views Current user data: None
INFO 2025-05-30 23:59:05,316 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:05,721 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:05,721 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:05,721 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:05,721 dialog_manager Processing message: football score today
INFO 2025-05-30 23:59:05,721 dialog_manager Processing input: football score today
INFO 2025-05-30 23:59:05,732 dialog_manager Using language: en
INFO 2025-05-30 23:59:05,732 dialog_manager Detecting intent for input: football score today
INFO 2025-05-30 23:59:05,739 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:05,743 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:05,744 views Updated session state: greeting
INFO 2025-05-30 23:59:05,744 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:05,749 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:05,749 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:05,753 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 373
INFO 2025-05-30 23:59:06,271 views Database connection successful
INFO 2025-05-30 23:59:06,271 views Received chat request at 2025-05-30 23:59:06.271080
DEBUG 2025-05-30 23:59:06,271 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:06,280 views Request body: {"message": "best restaurants nearby", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:06,281 views User input: best restaurants nearby
INFO 2025-05-30 23:59:06,282 views Current session state: None
INFO 2025-05-30 23:59:06,283 views Current user data: None
INFO 2025-05-30 23:59:06,288 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:06,703 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:06,703 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:06,703 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:06,703 dialog_manager Processing message: best restaurants nearby
INFO 2025-05-30 23:59:06,703 dialog_manager Processing input: best restaurants nearby
INFO 2025-05-30 23:59:06,736 dialog_manager Using language: en
INFO 2025-05-30 23:59:06,737 dialog_manager Detecting intent for input: best restaurants nearby
INFO 2025-05-30 23:59:06,742 dialog_manager Detected intent: food
INFO 2025-05-30 23:59:19,943 dialog_manager Sentiment analysis: Positive (confidence: 0.79)
INFO 2025-05-30 23:59:19,985 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-30 23:59:19,986 views Updated session state: greeting
INFO 2025-05-30 23:59:19,986 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-30 23:59:19,987 views Generated response: Great to hear you're excited! I'm not sure I understand. Could you please clarify?
INFO 2025-05-30 23:59:19,987 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:19,988 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:20,152 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 227
INFO 2025-05-30 23:59:20,658 views Database connection successful
INFO 2025-05-30 23:59:20,658 views Received chat request at 2025-05-30 23:59:20.658430
DEBUG 2025-05-30 23:59:20,658 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:20,668 views Request body: {"message": "where can I buy clothes?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:20,668 views User input: where can I buy clothes?
INFO 2025-05-30 23:59:20,669 views Current session state: None
INFO 2025-05-30 23:59:20,669 views Current user data: None
INFO 2025-05-30 23:59:20,678 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:21,189 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:21,189 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:21,200 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:21,201 dialog_manager Processing message: where can I buy clothes?
INFO 2025-05-30 23:59:21,201 dialog_manager Processing input: where can I buy clothes?
INFO 2025-05-30 23:59:21,205 dialog_manager Using language: en
INFO 2025-05-30 23:59:21,206 dialog_manager Detecting intent for input: where can I buy clothes?
INFO 2025-05-30 23:59:21,244 dialog_manager Detected intent: location
INFO 2025-05-30 23:59:21,247 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:21,247 views Updated session state: greeting
INFO 2025-05-30 23:59:21,248 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:21,261 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:21,262 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:21,264 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 368
INFO 2025-05-30 23:59:21,773 views Database connection successful
INFO 2025-05-30 23:59:21,773 views Received chat request at 2025-05-30 23:59:21.773517
DEBUG 2025-05-30 23:59:21,773 views Request headers: {'Content-Length': '64', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:21,781 views Request body: {"message": "how to invest money?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:21,782 views User input: how to invest money?
INFO 2025-05-30 23:59:21,783 views Current session state: None
INFO 2025-05-30 23:59:21,783 views Current user data: None
INFO 2025-05-30 23:59:21,786 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:22,246 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:22,246 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:22,246 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:22,246 dialog_manager Processing message: how to invest money?
INFO 2025-05-30 23:59:22,246 dialog_manager Processing input: how to invest money?
INFO 2025-05-30 23:59:22,251 dialog_manager Using language: en
INFO 2025-05-30 23:59:22,251 dialog_manager Detecting intent for input: how to invest money?
INFO 2025-05-30 23:59:22,258 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:22,260 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:22,261 views Updated session state: greeting
INFO 2025-05-30 23:59:22,261 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:22,266 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:22,266 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:22,269 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 399
INFO 2025-05-30 23:59:22,784 views Database connection successful
INFO 2025-05-30 23:59:22,784 views Received chat request at 2025-05-30 23:59:22.784148
DEBUG 2025-05-30 23:59:22,788 views Request headers: {'Content-Length': '62', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:22,788 views Request body: {"message": "job interview tips", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:22,789 views User input: job interview tips
INFO 2025-05-30 23:59:22,789 views Current session state: None
INFO 2025-05-30 23:59:22,790 views Current user data: None
INFO 2025-05-30 23:59:22,791 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:23,625 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:23,625 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:23,625 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:23,625 dialog_manager Processing message: job interview tips
INFO 2025-05-30 23:59:23,625 dialog_manager Processing input: job interview tips
INFO 2025-05-30 23:59:23,643 dialog_manager Using language: en
INFO 2025-05-30 23:59:23,643 dialog_manager Detecting intent for input: job interview tips
INFO 2025-05-30 23:59:23,650 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:23,665 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:23,665 views Updated session state: greeting
INFO 2025-05-30 23:59:23,667 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:23,672 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:23,673 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:23,677 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 394
INFO 2025-05-30 23:59:24,180 views Database connection successful
INFO 2025-05-30 23:59:24,180 views Received chat request at 2025-05-30 23:59:24.180727
DEBUG 2025-05-30 23:59:24,180 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:24,180 views Request body: {"message": "I have a headache", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:24,187 views User input: I have a headache
INFO 2025-05-30 23:59:24,187 views Current session state: None
INFO 2025-05-30 23:59:24,187 views Current user data: None
INFO 2025-05-30 23:59:24,189 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:24,569 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:24,569 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:24,569 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:24,569 dialog_manager Processing message: I have a headache
INFO 2025-05-30 23:59:24,569 dialog_manager Processing input: I have a headache
INFO 2025-05-30 23:59:24,585 dialog_manager Using language: en
INFO 2025-05-30 23:59:24,585 dialog_manager Detecting intent for input: I have a headache
INFO 2025-05-30 23:59:24,592 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:24,595 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:24,597 views Updated session state: greeting
INFO 2025-05-30 23:59:24,597 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:24,602 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:24,603 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:24,606 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 373
INFO 2025-05-30 23:59:25,119 views Database connection successful
INFO 2025-05-30 23:59:25,119 views Received chat request at 2025-05-30 23:59:25.119573
DEBUG 2025-05-30 23:59:25,119 views Request headers: {'Content-Length': '72', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:25,125 views Request body: {"message": "what is the meaning of life?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:25,126 views User input: what is the meaning of life?
INFO 2025-05-30 23:59:25,126 views Current session state: None
INFO 2025-05-30 23:59:25,127 views Current user data: None
INFO 2025-05-30 23:59:25,128 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:25,530 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:25,530 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:25,530 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:25,530 dialog_manager Processing message: what is the meaning of life?
INFO 2025-05-30 23:59:25,530 dialog_manager Processing input: what is the meaning of life?
INFO 2025-05-30 23:59:25,530 dialog_manager Using language: en
INFO 2025-05-30 23:59:25,536 dialog_manager Detecting intent for input: what is the meaning of life?
INFO 2025-05-30 23:59:25,536 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:25,545 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:25,545 views Updated session state: greeting
INFO 2025-05-30 23:59:25,545 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:25,550 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:25,552 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:25,554 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 370
INFO 2025-05-30 23:59:26,067 views Database connection successful
INFO 2025-05-30 23:59:26,067 views Received chat request at 2025-05-30 23:59:26.067234
DEBUG 2025-05-30 23:59:26,067 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-30 23:59:26,078 views Request body: {"message": "how do smartphones work?", "user_id": 1, "session": {}}
INFO 2025-05-30 23:59:26,078 views User input: how do smartphones work?
INFO 2025-05-30 23:59:26,079 views Current session state: None
INFO 2025-05-30 23:59:26,079 views Current user data: None
INFO 2025-05-30 23:59:26,082 views Found user by ID: admin (ID: 1)
INFO 2025-05-30 23:59:26,509 dialog_manager Using device: cpu
WARNING 2025-05-30 23:59:26,509 dialog_manager Using basic NLP functionality only
INFO 2025-05-30 23:59:26,509 dialog_manager DialogManager initialized successfully
INFO 2025-05-30 23:59:26,509 dialog_manager Processing message: how do smartphones work?
INFO 2025-05-30 23:59:26,509 dialog_manager Processing input: how do smartphones work?
INFO 2025-05-30 23:59:26,516 dialog_manager Using language: en
INFO 2025-05-30 23:59:26,516 dialog_manager Detecting intent for input: how do smartphones work?
INFO 2025-05-30 23:59:26,524 dialog_manager Detected intent: off_topic
INFO 2025-05-30 23:59:26,528 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:26,529 views Updated session state: greeting
INFO 2025-05-30 23:59:26,529 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-30 23:59:26,537 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-30 23:59:26,537 views Removed User object from session for JSON serialization
INFO 2025-05-30 23:59:26,540 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 376
INFO 2025-05-31 00:04:33,918 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:04:43,215 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:04:51,867 middleware Admin user found: admin
INFO 2025-05-31 00:05:23,280 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:05:26,145 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:05:33,469 middleware Admin user found: admin
INFO 2025-05-31 00:05:42,249 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:05:44,403 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:05:51,564 middleware Admin user found: admin
INFO 2025-05-31 00:06:06,601 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:06:09,323 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:06:16,575 middleware Admin user found: admin
INFO 2025-05-31 00:07:02,998 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:07:06,153 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:07:14,289 middleware Admin user found: admin
INFO 2025-05-31 00:07:50,074 views Database connection successful
INFO 2025-05-31 00:07:50,074 views Received chat request at 2025-05-31 00:07:50.074868
DEBUG 2025-05-31 00:07:50,074 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:07:50,075 views Request body: {"message": "\u4f60\u662f\u7528\u4ec0\u4e48\u7a0b\u5e8f\u5199\u7684\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:07:50,075 views User input: 
INFO 2025-05-31 00:07:50,076 views Current session state: None
INFO 2025-05-31 00:07:50,077 views Current user data: None
INFO 2025-05-31 00:07:50,081 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:07:50,569 dialog_manager Using device: cpu
WARNING 2025-05-31 00:07:50,569 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:07:50,575 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:07:50,578 dialog_manager Processing message: 
INFO 2025-05-31 00:07:50,578 dialog_manager Processing input: 
INFO 2025-05-31 00:07:50,961 dialog_manager Using language: en
INFO 2025-05-31 00:07:50,961 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:07:50,981 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:04,899 dialog_manager Sentiment analysis: Neutral (confidence: 0.78)
INFO 2025-05-31 00:08:04,899 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:04,903 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:04,903 views Updated session state: greeting
INFO 2025-05-31 00:08:04,905 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:04,905 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:04,905 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:04,907 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:04,982 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:08:05,517 views Database connection successful
INFO 2025-05-31 00:08:05,520 views Received chat request at 2025-05-31 00:08:05.520189
DEBUG 2025-05-31 00:08:05,522 views Request headers: {'Content-Length': '80', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:05,523 views Request body: {"message": "\u4f60\u73a9\u6e38\u620f\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:05,523 views User input: 
INFO 2025-05-31 00:08:05,527 views Current session state: None
INFO 2025-05-31 00:08:05,528 views Current user data: None
INFO 2025-05-31 00:08:05,535 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:06,148 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:06,148 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:06,159 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:06,163 dialog_manager Processing message: 
INFO 2025-05-31 00:08:06,164 dialog_manager Processing input: 
INFO 2025-05-31 00:08:06,168 dialog_manager Using language: en
INFO 2025-05-31 00:08:06,168 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:06,206 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:10,867 dialog_manager Sentiment analysis: Neutral (confidence: 0.86)
INFO 2025-05-31 00:08:10,867 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:10,867 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:10,867 views Updated session state: greeting
INFO 2025-05-31 00:08:10,867 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:10,867 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:10,867 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:10,867 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:10,941 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:08:11,454 views Database connection successful
INFO 2025-05-31 00:08:11,454 views Received chat request at 2025-05-31 00:08:11.454894
DEBUG 2025-05-31 00:08:11,454 views Request headers: {'Content-Length': '92', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:11,457 views Request body: {"message": "\u4f60\u6709\u5144\u5f1f\u59d0\u59b9\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:11,457 views User input: 
INFO 2025-05-31 00:08:11,457 views Current session state: None
INFO 2025-05-31 00:08:11,458 views Current user data: None
INFO 2025-05-31 00:08:11,459 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:11,874 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:11,874 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:11,874 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:11,874 dialog_manager Processing message: 
INFO 2025-05-31 00:08:11,876 dialog_manager Processing input: 
INFO 2025-05-31 00:08:11,876 dialog_manager Using language: en
INFO 2025-05-31 00:08:11,878 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:11,882 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:16,253 dialog_manager Sentiment analysis: Neutral (confidence: 0.80)
INFO 2025-05-31 00:08:16,253 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:16,253 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:16,253 views Updated session state: greeting
INFO 2025-05-31 00:08:16,253 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:16,253 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:16,263 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:16,263 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:16,317 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-05-31 00:08:16,828 views Database connection successful
INFO 2025-05-31 00:08:16,841 views Received chat request at 2025-05-31 00:08:16.841043
DEBUG 2025-05-31 00:08:16,841 views Request headers: {'Content-Length': '98', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:16,846 views Request body: {"message": "\u4f60\u80fd\u5e2e\u6211\u5199\u4f5c\u4e1a\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:16,848 views User input: 
INFO 2025-05-31 00:08:16,851 views Current session state: None
INFO 2025-05-31 00:08:16,854 views Current user data: None
INFO 2025-05-31 00:08:16,855 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:17,267 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:17,267 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:17,267 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:17,267 dialog_manager Processing message: 
INFO 2025-05-31 00:08:17,267 dialog_manager Processing input: 
INFO 2025-05-31 00:08:17,267 dialog_manager Using language: en
INFO 2025-05-31 00:08:17,267 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:17,267 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:19,911 dialog_manager Sentiment analysis: Neutral (confidence: 0.81)
INFO 2025-05-31 00:08:19,911 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:19,911 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:19,911 views Updated session state: greeting
INFO 2025-05-31 00:08:19,911 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:19,911 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:19,911 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:19,911 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:19,963 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:08:20,479 views Database connection successful
INFO 2025-05-31 00:08:20,479 views Received chat request at 2025-05-31 00:08:20.479001
DEBUG 2025-05-31 00:08:20,483 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:20,484 views Request body: {"message": "\u8c01\u662f\u4f60\u7684\u8001\u677f\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:20,484 views User input: 
INFO 2025-05-31 00:08:20,484 views Current session state: None
INFO 2025-05-31 00:08:20,484 views Current user data: None
INFO 2025-05-31 00:08:20,487 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:20,883 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:20,883 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:20,883 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:20,883 dialog_manager Processing message: 
INFO 2025-05-31 00:08:20,883 dialog_manager Processing input: 
INFO 2025-05-31 00:08:20,883 dialog_manager Using language: en
INFO 2025-05-31 00:08:20,883 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:20,894 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:25,006 dialog_manager Sentiment analysis: Neutral (confidence: 0.75)
INFO 2025-05-31 00:08:25,006 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:25,006 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:25,006 views Updated session state: greeting
INFO 2025-05-31 00:08:25,006 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:25,006 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:25,006 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:25,006 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:25,060 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:08:25,565 views Database connection successful
INFO 2025-05-31 00:08:25,565 views Received chat request at 2025-05-31 00:08:25.565760
DEBUG 2025-05-31 00:08:25,565 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:25,578 views Request body: {"message": "\u4f60\u89c9\u5f97\u4eba\u7c7b\u4f1a\u88abAI\u53d6\u4ee3\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:25,579 views User input: AI
INFO 2025-05-31 00:08:25,580 views Current session state: None
INFO 2025-05-31 00:08:25,581 views Current user data: None
INFO 2025-05-31 00:08:25,583 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:26,006 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:26,006 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:26,006 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:26,006 dialog_manager Processing message: AI
INFO 2025-05-31 00:08:26,006 dialog_manager Processing input: AI
INFO 2025-05-31 00:08:26,006 dialog_manager Using language: en
INFO 2025-05-31 00:08:26,006 dialog_manager Detecting intent for input: AI
INFO 2025-05-31 00:08:26,015 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:28,902 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-31 00:08:28,902 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:28,902 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:28,902 views Updated session state: greeting
INFO 2025-05-31 00:08:28,902 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:28,902 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:28,902 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:28,902 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:28,957 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:08:29,483 views Database connection successful
INFO 2025-05-31 00:08:29,485 views Received chat request at 2025-05-31 00:08:29.485011
DEBUG 2025-05-31 00:08:29,487 views Request headers: {'Content-Length': '116', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:29,496 views Request body: {"message": "\u9a6c\u6765\u897f\u4e9a\u72ec\u7acb\u65e5\u662f\u54ea\u4e00\u5929\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:29,497 views User input: 
INFO 2025-05-31 00:08:29,498 views Current session state: None
INFO 2025-05-31 00:08:29,498 views Current user data: None
INFO 2025-05-31 00:08:29,501 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:29,897 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:29,897 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:29,897 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:29,897 dialog_manager Processing message: 
INFO 2025-05-31 00:08:29,897 dialog_manager Processing input: 
INFO 2025-05-31 00:08:29,897 dialog_manager Using language: en
INFO 2025-05-31 00:08:29,897 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:29,909 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:33,576 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-05-31 00:08:33,576 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:33,579 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:33,579 views Updated session state: greeting
INFO 2025-05-31 00:08:33,579 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:33,579 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:33,579 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:33,579 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:33,635 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:08:34,155 views Database connection successful
INFO 2025-05-31 00:08:34,155 views Received chat request at 2025-05-31 00:08:34.155368
DEBUG 2025-05-31 00:08:34,155 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:34,168 views Request body: {"message": "\u4f60\u76f8\u4fe1\u547d\u8fd0\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:34,169 views User input: 
INFO 2025-05-31 00:08:34,170 views Current session state: None
INFO 2025-05-31 00:08:34,170 views Current user data: None
INFO 2025-05-31 00:08:34,174 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:34,569 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:34,569 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:34,569 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:34,569 dialog_manager Processing message: 
INFO 2025-05-31 00:08:34,569 dialog_manager Processing input: 
INFO 2025-05-31 00:08:34,584 dialog_manager Using language: en
INFO 2025-05-31 00:08:34,586 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:34,590 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:38,542 dialog_manager Sentiment analysis: Neutral (confidence: 0.83)
INFO 2025-05-31 00:08:38,542 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:38,546 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:38,546 views Updated session state: greeting
INFO 2025-05-31 00:08:38,546 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:38,546 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:08:38,546 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:38,546 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:38,602 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:08:39,120 views Database connection successful
INFO 2025-05-31 00:08:39,120 views Received chat request at 2025-05-31 00:08:39.120431
DEBUG 2025-05-31 00:08:39,120 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:39,122 views Request body: {"message": "\u4f60\u6709\u6ca1\u6709\u5ba0\u7269\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:39,122 views User input: 
INFO 2025-05-31 00:08:39,122 views Current session state: None
INFO 2025-05-31 00:08:39,123 views Current user data: None
INFO 2025-05-31 00:08:39,125 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:39,538 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:39,538 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:39,538 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:39,538 dialog_manager Processing message: 
INFO 2025-05-31 00:08:39,538 dialog_manager Processing input: 
INFO 2025-05-31 00:08:39,538 dialog_manager Using language: en
INFO 2025-05-31 00:08:39,543 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:39,549 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:43,001 dialog_manager Sentiment analysis: Neutral (confidence: 0.81)
INFO 2025-05-31 00:08:43,001 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:43,001 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:43,001 views Updated session state: greeting
INFO 2025-05-31 00:08:43,001 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:43,001 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:43,001 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:43,001 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:43,062 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:08:43,580 views Database connection successful
INFO 2025-05-31 00:08:43,580 views Received chat request at 2025-05-31 00:08:43.580385
DEBUG 2025-05-31 00:08:43,583 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:43,583 views Request body: {"message": "\u4f60\u559c\u6b22\u6d77\u8fb9\u8fd8\u662f\u5c71\u4e0a\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:43,583 views User input: 
INFO 2025-05-31 00:08:43,585 views Current session state: None
INFO 2025-05-31 00:08:43,585 views Current user data: None
INFO 2025-05-31 00:08:43,587 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:43,995 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:43,995 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:43,995 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:43,995 dialog_manager Processing message: 
INFO 2025-05-31 00:08:43,995 dialog_manager Processing input: 
INFO 2025-05-31 00:08:43,995 dialog_manager Using language: en
INFO 2025-05-31 00:08:43,995 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:44,007 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:47,136 dialog_manager Sentiment analysis: Neutral (confidence: 0.80)
INFO 2025-05-31 00:08:47,140 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:47,142 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:47,142 views Updated session state: greeting
INFO 2025-05-31 00:08:47,142 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:47,142 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:47,142 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:47,142 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:47,198 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:08:47,714 views Database connection successful
INFO 2025-05-31 00:08:47,714 views Received chat request at 2025-05-31 00:08:47.714341
DEBUG 2025-05-31 00:08:47,714 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:47,724 views Request body: {"message": "\u6211\u89c9\u5f97\u4f60\u5f88\u53ef\u7231", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:47,724 views User input: 
INFO 2025-05-31 00:08:47,726 views Current session state: None
INFO 2025-05-31 00:08:47,727 views Current user data: None
INFO 2025-05-31 00:08:47,730 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:48,124 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:48,124 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:48,124 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:48,124 dialog_manager Processing message: 
INFO 2025-05-31 00:08:48,124 dialog_manager Processing input: 
INFO 2025-05-31 00:08:48,124 dialog_manager Using language: en
INFO 2025-05-31 00:08:48,124 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:48,144 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:51,838 dialog_manager Sentiment analysis: Neutral (confidence: 0.79)
INFO 2025-05-31 00:08:51,838 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:51,838 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:51,838 views Updated session state: greeting
INFO 2025-05-31 00:08:51,838 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:51,838 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:51,838 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:51,838 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:51,897 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:08:52,404 views Database connection successful
INFO 2025-05-31 00:08:52,404 views Received chat request at 2025-05-31 00:08:52.404313
DEBUG 2025-05-31 00:08:52,409 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:52,409 views Request body: {"message": "\u4f60\u80fd\u544a\u8bc9\u6211\u4e50\u900f\u53f7\u7801\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:52,409 views User input: 
INFO 2025-05-31 00:08:52,409 views Current session state: None
INFO 2025-05-31 00:08:52,410 views Current user data: None
INFO 2025-05-31 00:08:52,411 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:52,804 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:52,804 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:52,804 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:52,804 dialog_manager Processing message: 
INFO 2025-05-31 00:08:52,804 dialog_manager Processing input: 
INFO 2025-05-31 00:08:52,804 dialog_manager Using language: en
INFO 2025-05-31 00:08:52,804 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:52,804 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:08:55,834 dialog_manager Sentiment analysis: Neutral (confidence: 0.82)
INFO 2025-05-31 00:08:55,834 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:55,834 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:55,834 views Updated session state: greeting
INFO 2025-05-31 00:08:55,834 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:08:55,834 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:08:55,834 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:08:55,834 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:08:55,890 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:08:56,412 views Database connection successful
INFO 2025-05-31 00:08:56,412 views Received chat request at 2025-05-31 00:08:56.412251
DEBUG 2025-05-31 00:08:56,412 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:08:56,415 views Request body: {"message": "\u4f60\u652f\u4e0d\u652f\u6301\u67d0\u67d0\u653f\u515a\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:08:56,417 views User input: 
INFO 2025-05-31 00:08:56,420 views Current session state: None
INFO 2025-05-31 00:08:56,421 views Current user data: None
INFO 2025-05-31 00:08:56,426 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:08:56,822 dialog_manager Using device: cpu
WARNING 2025-05-31 00:08:56,822 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:08:56,822 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:08:56,822 dialog_manager Processing message: 
INFO 2025-05-31 00:08:56,822 dialog_manager Processing input: 
INFO 2025-05-31 00:08:56,834 dialog_manager Using language: en
INFO 2025-05-31 00:08:56,834 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:08:56,841 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:00,814 dialog_manager Sentiment analysis: Neutral (confidence: 0.76)
INFO 2025-05-31 00:09:00,814 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:00,814 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:00,814 views Updated session state: greeting
INFO 2025-05-31 00:09:00,814 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:00,825 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:00,825 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:00,825 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:00,881 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-31 00:09:01,396 views Database connection successful
INFO 2025-05-31 00:09:01,396 views Received chat request at 2025-05-31 00:09:01.396927
DEBUG 2025-05-31 00:09:01,396 views Request headers: {'Content-Length': '98', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:01,409 views Request body: {"message": "\u4f60\u559c\u6b22\u770b\u4ec0\u4e48\u7535\u5f71\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:01,410 views User input: 
INFO 2025-05-31 00:09:01,411 views Current session state: None
INFO 2025-05-31 00:09:01,411 views Current user data: None
INFO 2025-05-31 00:09:01,415 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:01,798 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:01,814 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:01,814 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:01,814 dialog_manager Processing message: 
INFO 2025-05-31 00:09:01,814 dialog_manager Processing input: 
INFO 2025-05-31 00:09:01,814 dialog_manager Using language: en
INFO 2025-05-31 00:09:01,814 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:09:01,814 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:05,323 dialog_manager Sentiment analysis: Neutral (confidence: 0.80)
INFO 2025-05-31 00:09:05,323 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:05,323 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:05,323 views Updated session state: greeting
INFO 2025-05-31 00:09:05,323 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:05,323 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:05,323 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:05,323 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:05,377 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:09:05,898 views Database connection successful
INFO 2025-05-31 00:09:05,898 views Received chat request at 2025-05-31 00:09:05.898119
DEBUG 2025-05-31 00:09:05,898 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:05,907 views Request body: {"message": "\u4f60\u53ef\u4ee5\u5531\u6b4c\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:05,908 views User input: 
INFO 2025-05-31 00:09:05,909 views Current session state: None
INFO 2025-05-31 00:09:05,909 views Current user data: None
INFO 2025-05-31 00:09:05,912 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:06,357 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:06,357 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:06,357 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:06,357 dialog_manager Processing message: 
INFO 2025-05-31 00:09:06,357 dialog_manager Processing input: 
INFO 2025-05-31 00:09:06,364 dialog_manager Using language: en
INFO 2025-05-31 00:09:06,364 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:09:06,370 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:08,970 dialog_manager Sentiment analysis: Neutral (confidence: 0.83)
INFO 2025-05-31 00:09:08,970 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:09:08,985 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:08,985 views Updated session state: greeting
INFO 2025-05-31 00:09:08,985 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:08,985 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:09:08,988 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:08,988 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:09,040 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:09:09,554 views Database connection successful
INFO 2025-05-31 00:09:09,554 views Received chat request at 2025-05-31 00:09:09.554913
DEBUG 2025-05-31 00:09:09,554 views Request headers: {'Content-Length': '100', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:09,554 views Request body: {"message": "\u4f60\u600e\u4e48\u770bAI\u76d1\u7ba1\u95ee\u9898\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:09,562 views User input: AI
INFO 2025-05-31 00:09:09,562 views Current session state: None
INFO 2025-05-31 00:09:09,562 views Current user data: None
INFO 2025-05-31 00:09:09,564 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:11,963 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:11,963 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:11,963 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:11,968 dialog_manager Processing message: AI
INFO 2025-05-31 00:09:11,968 dialog_manager Processing input: AI
INFO 2025-05-31 00:09:11,968 dialog_manager Using language: en
INFO 2025-05-31 00:09:11,968 dialog_manager Detecting intent for input: AI
INFO 2025-05-31 00:09:11,978 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:15,681 dialog_manager Sentiment analysis: Neutral (confidence: 0.83)
INFO 2025-05-31 00:09:15,681 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:09:15,684 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:15,684 views Updated session state: greeting
INFO 2025-05-31 00:09:15,684 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:15,684 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:09:15,684 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:15,684 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:15,741 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:09:16,257 views Database connection successful
INFO 2025-05-31 00:09:16,257 views Received chat request at 2025-05-31 00:09:16.257811
DEBUG 2025-05-31 00:09:16,260 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:16,262 views Request body: {"message": "\u4f60\u77e5\u9053\u8c01\u53d1\u660e\u4e86\u7535\u706f\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:16,262 views User input: 
INFO 2025-05-31 00:09:16,263 views Current session state: None
INFO 2025-05-31 00:09:16,263 views Current user data: None
INFO 2025-05-31 00:09:16,265 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:16,660 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:16,660 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:16,660 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:16,660 dialog_manager Processing message: 
INFO 2025-05-31 00:09:16,660 dialog_manager Processing input: 
INFO 2025-05-31 00:09:16,660 dialog_manager Using language: en
INFO 2025-05-31 00:09:16,660 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:09:16,673 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:20,934 dialog_manager Sentiment analysis: Neutral (confidence: 0.84)
INFO 2025-05-31 00:09:20,934 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:20,936 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:20,936 views Updated session state: greeting
INFO 2025-05-31 00:09:20,936 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:20,936 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:20,937 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:20,937 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:20,997 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:09:21,507 views Database connection successful
INFO 2025-05-31 00:09:21,507 views Received chat request at 2025-05-31 00:09:21.507328
DEBUG 2025-05-31 00:09:21,507 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:21,507 views Request body: {"message": "\u4f60\u89c9\u5f97\u54ea\u5bb6\u624b\u673a\u6700\u597d\u7528\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:21,507 views User input: 
INFO 2025-05-31 00:09:21,513 views Current session state: None
INFO 2025-05-31 00:09:21,514 views Current user data: None
INFO 2025-05-31 00:09:21,516 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:21,910 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:21,910 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:21,910 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:21,910 dialog_manager Processing message: 
INFO 2025-05-31 00:09:21,910 dialog_manager Processing input: 
INFO 2025-05-31 00:09:21,910 dialog_manager Using language: en
INFO 2025-05-31 00:09:21,910 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:09:21,910 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:24,764 dialog_manager Sentiment analysis: Neutral (confidence: 0.80)
INFO 2025-05-31 00:09:24,764 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:24,767 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:24,767 views Updated session state: greeting
INFO 2025-05-31 00:09:24,768 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:24,768 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:24,768 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:24,769 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:24,835 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:09:25,356 views Database connection successful
INFO 2025-05-31 00:09:25,356 views Received chat request at 2025-05-31 00:09:25.356933
DEBUG 2025-05-31 00:09:25,361 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:25,361 views Request body: {"message": "\u4f60\u591a\u5927\u4e86\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:25,362 views User input: 
INFO 2025-05-31 00:09:25,362 views Current session state: None
INFO 2025-05-31 00:09:25,363 views Current user data: None
INFO 2025-05-31 00:09:25,367 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:25,749 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:25,749 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:25,749 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:25,749 dialog_manager Processing message: 
INFO 2025-05-31 00:09:25,749 dialog_manager Processing input: 
INFO 2025-05-31 00:09:25,771 dialog_manager Using language: en
INFO 2025-05-31 00:09:25,771 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:09:25,777 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:28,373 dialog_manager Sentiment analysis: Neutral (confidence: 0.83)
INFO 2025-05-31 00:09:28,375 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:09:28,384 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:28,384 views Updated session state: greeting
INFO 2025-05-31 00:09:28,384 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:28,385 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:09:28,386 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:28,386 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:28,441 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 206
INFO 2025-05-31 00:09:28,951 views Database connection successful
INFO 2025-05-31 00:09:28,951 views Received chat request at 2025-05-31 00:09:28.951370
DEBUG 2025-05-31 00:09:28,958 views Request headers: {'Content-Length': '80', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:09:28,958 views Request body: {"message": "\u4f60\u4f4f\u5728\u54ea\u91cc\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:09:28,959 views User input: 
INFO 2025-05-31 00:09:28,959 views Current session state: None
INFO 2025-05-31 00:09:28,959 views Current user data: None
INFO 2025-05-31 00:09:28,964 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:09:29,351 dialog_manager Using device: cpu
WARNING 2025-05-31 00:09:29,351 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:09:29,351 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:09:29,351 dialog_manager Processing message: 
INFO 2025-05-31 00:09:29,351 dialog_manager Processing input: 
INFO 2025-05-31 00:09:29,351 dialog_manager Using language: en
INFO 2025-05-31 00:09:29,351 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:09:29,365 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:09:33,834 dialog_manager Sentiment analysis: Neutral (confidence: 0.85)
INFO 2025-05-31 00:09:33,834 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:33,834 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:33,834 views Updated session state: greeting
INFO 2025-05-31 00:09:33,834 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:09:33,834 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:09:33,848 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:09:33,848 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:09:33,903 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 200
INFO 2025-05-31 00:10:00,174 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:10:06,330 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:10:15,862 middleware Admin user found: admin
INFO 2025-05-31 00:10:23,991 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:10:25,984 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:10:33,304 middleware Admin user found: admin
INFO 2025-05-31 00:10:44,535 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:10:47,031 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:10:55,578 middleware Admin user found: admin
INFO 2025-05-31 00:11:04,785 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:11:06,905 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:11:12,565 middleware Admin user found: admin
INFO 2025-05-31 00:12:00,200 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:12:02,308 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:12:18,491 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:12:19,382 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:12:27,200 middleware Admin user found: admin
INFO 2025-05-31 00:12:33,468 views Database connection successful
INFO 2025-05-31 00:12:33,468 views Received chat request at 2025-05-31 00:12:33.468253
DEBUG 2025-05-31 00:12:33,469 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:33,469 views Request body: {"message": "\u4f60\u662f\u7528\u4ec0\u4e48\u7a0b\u5e8f\u5199\u7684\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:33,469 views User input: 
INFO 2025-05-31 00:12:33,471 views Current session state: None
INFO 2025-05-31 00:12:33,471 views Current user data: None
INFO 2025-05-31 00:12:33,474 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:34,009 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:34,009 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:34,013 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:34,013 dialog_manager Processing message: 
INFO 2025-05-31 00:12:34,013 dialog_manager Processing input: 
INFO 2025-05-31 00:12:34,416 dialog_manager Using language: en
INFO 2025-05-31 00:12:34,416 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:34,443 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:34,446 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:34,446 views Updated session state: greeting
INFO 2025-05-31 00:12:34,447 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:34,447 views Generated response: 
INFO 2025-05-31 00:12:34,448 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:34,449 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:34,453 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 440
INFO 2025-05-31 00:12:34,972 views Database connection successful
INFO 2025-05-31 00:12:34,972 views Received chat request at 2025-05-31 00:12:34.972223
DEBUG 2025-05-31 00:12:34,972 views Request headers: {'Content-Length': '80', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:34,972 views Request body: {"message": "\u4f60\u73a9\u6e38\u620f\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:34,972 views User input: 
INFO 2025-05-31 00:12:34,972 views Current session state: None
INFO 2025-05-31 00:12:34,977 views Current user data: None
INFO 2025-05-31 00:12:34,979 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:35,456 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:35,456 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:35,456 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:35,456 dialog_manager Processing message: 
INFO 2025-05-31 00:12:35,456 dialog_manager Processing input: 
INFO 2025-05-31 00:12:35,456 dialog_manager Using language: en
INFO 2025-05-31 00:12:35,456 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:35,465 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:35,467 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:35,467 views Updated session state: greeting
INFO 2025-05-31 00:12:35,467 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:35,467 views Generated response: 
INFO 2025-05-31 00:12:35,468 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:35,468 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:35,472 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 464
INFO 2025-05-31 00:12:35,994 views Database connection successful
INFO 2025-05-31 00:12:35,994 views Received chat request at 2025-05-31 00:12:35.994828
DEBUG 2025-05-31 00:12:35,994 views Request headers: {'Content-Length': '92', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:35,994 views Request body: {"message": "\u4f60\u6709\u5144\u5f1f\u59d0\u59b9\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:35,994 views User input: 
INFO 2025-05-31 00:12:35,994 views Current session state: None
INFO 2025-05-31 00:12:35,994 views Current user data: None
INFO 2025-05-31 00:12:35,998 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:36,535 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:36,535 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:36,535 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:36,535 dialog_manager Processing message: 
INFO 2025-05-31 00:12:36,535 dialog_manager Processing input: 
INFO 2025-05-31 00:12:36,535 dialog_manager Using language: en
INFO 2025-05-31 00:12:36,535 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:36,551 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:36,554 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:36,554 views Updated session state: greeting
INFO 2025-05-31 00:12:36,554 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:36,555 views Generated response: 
INFO 2025-05-31 00:12:36,555 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:36,555 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:36,560 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-31 00:12:37,073 views Database connection successful
INFO 2025-05-31 00:12:37,075 views Received chat request at 2025-05-31 00:12:37.075536
DEBUG 2025-05-31 00:12:37,075 views Request headers: {'Content-Length': '98', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:37,075 views Request body: {"message": "\u4f60\u80fd\u5e2e\u6211\u5199\u4f5c\u4e1a\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:37,075 views User input: 
INFO 2025-05-31 00:12:37,077 views Current session state: None
INFO 2025-05-31 00:12:37,077 views Current user data: None
INFO 2025-05-31 00:12:37,079 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:37,669 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:37,669 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:37,669 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:37,669 dialog_manager Processing message: 
INFO 2025-05-31 00:12:37,669 dialog_manager Processing input: 
INFO 2025-05-31 00:12:37,669 dialog_manager Using language: en
INFO 2025-05-31 00:12:37,669 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:37,669 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:37,683 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:37,684 views Updated session state: greeting
INFO 2025-05-31 00:12:37,684 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:37,685 views Generated response: 
INFO 2025-05-31 00:12:37,685 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:37,686 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:37,689 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 446
INFO 2025-05-31 00:12:38,208 views Database connection successful
INFO 2025-05-31 00:12:38,208 views Received chat request at 2025-05-31 00:12:38.208843
DEBUG 2025-05-31 00:12:38,208 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:38,216 views Request body: {"message": "\u8c01\u662f\u4f60\u7684\u8001\u677f\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:38,218 views User input: 
INFO 2025-05-31 00:12:38,219 views Current session state: None
INFO 2025-05-31 00:12:38,220 views Current user data: None
INFO 2025-05-31 00:12:38,225 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:38,635 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:38,635 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:38,635 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:38,650 dialog_manager Processing message: 
INFO 2025-05-31 00:12:38,650 dialog_manager Processing input: 
INFO 2025-05-31 00:12:38,651 dialog_manager Using language: en
INFO 2025-05-31 00:12:38,651 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:38,657 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:38,660 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:38,660 views Updated session state: greeting
INFO 2025-05-31 00:12:38,661 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:38,661 views Generated response: 
INFO 2025-05-31 00:12:38,661 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:38,661 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:38,664 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 374
INFO 2025-05-31 00:12:39,169 views Database connection successful
INFO 2025-05-31 00:12:39,169 views Received chat request at 2025-05-31 00:12:39.169650
DEBUG 2025-05-31 00:12:39,169 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:39,181 views Request body: {"message": "\u4f60\u89c9\u5f97\u4eba\u7c7b\u4f1a\u88abAI\u53d6\u4ee3\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:39,183 views User input: AI
INFO 2025-05-31 00:12:39,185 views Current session state: None
INFO 2025-05-31 00:12:39,188 views Current user data: None
INFO 2025-05-31 00:12:39,191 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:39,600 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:39,600 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:39,600 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:39,600 dialog_manager Processing message: AI
INFO 2025-05-31 00:12:39,600 dialog_manager Processing input: AI
INFO 2025-05-31 00:12:39,600 dialog_manager Using language: en
INFO 2025-05-31 00:12:39,600 dialog_manager Detecting intent for input: AI
INFO 2025-05-31 00:12:39,600 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:39,609 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:39,609 views Updated session state: greeting
INFO 2025-05-31 00:12:39,610 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:39,620 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:39,620 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:39,623 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 373
INFO 2025-05-31 00:12:40,136 views Database connection successful
INFO 2025-05-31 00:12:40,136 views Received chat request at 2025-05-31 00:12:40.136730
DEBUG 2025-05-31 00:12:40,139 views Request headers: {'Content-Length': '116', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:40,139 views Request body: {"message": "\u9a6c\u6765\u897f\u4e9a\u72ec\u7acb\u65e5\u662f\u54ea\u4e00\u5929\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:40,140 views User input: 
INFO 2025-05-31 00:12:40,141 views Current session state: None
INFO 2025-05-31 00:12:40,141 views Current user data: None
INFO 2025-05-31 00:12:40,142 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:40,550 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:40,550 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:40,550 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:40,550 dialog_manager Processing message: 
INFO 2025-05-31 00:12:40,550 dialog_manager Processing input: 
INFO 2025-05-31 00:12:40,565 dialog_manager Using language: en
INFO 2025-05-31 00:12:40,565 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:40,566 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:40,572 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:40,572 views Updated session state: greeting
INFO 2025-05-31 00:12:40,572 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:40,572 views Generated response: 
INFO 2025-05-31 00:12:40,573 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:40,573 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:40,576 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 428
INFO 2025-05-31 00:12:41,094 views Database connection successful
INFO 2025-05-31 00:12:41,094 views Received chat request at 2025-05-31 00:12:41.094599
DEBUG 2025-05-31 00:12:41,094 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:41,097 views Request body: {"message": "\u4f60\u76f8\u4fe1\u547d\u8fd0\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:41,099 views User input: 
INFO 2025-05-31 00:12:41,100 views Current session state: None
INFO 2025-05-31 00:12:41,103 views Current user data: None
INFO 2025-05-31 00:12:41,109 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:41,510 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:41,510 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:41,510 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:41,510 dialog_manager Processing message: 
INFO 2025-05-31 00:12:41,510 dialog_manager Processing input: 
INFO 2025-05-31 00:12:41,515 dialog_manager Using language: en
INFO 2025-05-31 00:12:41,515 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:41,521 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:41,523 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:41,523 views Updated session state: greeting
INFO 2025-05-31 00:12:41,524 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:41,528 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:41,528 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:41,533 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 383
INFO 2025-05-31 00:12:42,054 views Database connection successful
INFO 2025-05-31 00:12:42,054 views Received chat request at 2025-05-31 00:12:42.054023
DEBUG 2025-05-31 00:12:42,054 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:42,056 views Request body: {"message": "\u4f60\u6709\u6ca1\u6709\u5ba0\u7269\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:42,056 views User input: 
INFO 2025-05-31 00:12:42,056 views Current session state: None
INFO 2025-05-31 00:12:42,058 views Current user data: None
INFO 2025-05-31 00:12:42,059 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:42,506 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:42,508 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:42,508 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:42,508 dialog_manager Processing message: 
INFO 2025-05-31 00:12:42,508 dialog_manager Processing input: 
INFO 2025-05-31 00:12:42,511 dialog_manager Using language: en
INFO 2025-05-31 00:12:42,511 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:42,520 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:42,523 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:42,523 views Updated session state: greeting
INFO 2025-05-31 00:12:42,524 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:42,524 views Generated response: 
INFO 2025-05-31 00:12:42,524 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:42,525 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:42,529 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 362
INFO 2025-05-31 00:12:43,031 views Database connection successful
INFO 2025-05-31 00:12:43,031 views Received chat request at 2025-05-31 00:12:43.031329
DEBUG 2025-05-31 00:12:43,031 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:43,031 views Request body: {"message": "\u4f60\u559c\u6b22\u6d77\u8fb9\u8fd8\u662f\u5c71\u4e0a\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:43,031 views User input: 
INFO 2025-05-31 00:12:43,031 views Current session state: None
INFO 2025-05-31 00:12:43,037 views Current user data: None
INFO 2025-05-31 00:12:43,039 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:43,502 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:43,502 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:43,502 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:43,502 dialog_manager Processing message: 
INFO 2025-05-31 00:12:43,502 dialog_manager Processing input: 
INFO 2025-05-31 00:12:43,502 dialog_manager Using language: en
INFO 2025-05-31 00:12:43,502 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:43,512 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:43,517 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:43,517 views Updated session state: greeting
INFO 2025-05-31 00:12:43,518 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:43,518 views Generated response: 
INFO 2025-05-31 00:12:43,518 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:43,519 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:43,523 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 398
INFO 2025-05-31 00:12:44,038 views Database connection successful
INFO 2025-05-31 00:12:44,039 views Received chat request at 2025-05-31 00:12:44.039995
DEBUG 2025-05-31 00:12:44,041 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:44,042 views Request body: {"message": "\u6211\u89c9\u5f97\u4f60\u5f88\u53ef\u7231", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:44,042 views User input: 
INFO 2025-05-31 00:12:44,042 views Current session state: None
INFO 2025-05-31 00:12:44,042 views Current user data: None
INFO 2025-05-31 00:12:44,046 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:44,476 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:44,477 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:44,477 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:44,477 dialog_manager Processing message: 
INFO 2025-05-31 00:12:44,477 dialog_manager Processing input: 
INFO 2025-05-31 00:12:44,479 dialog_manager Using language: en
INFO 2025-05-31 00:12:44,480 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:44,485 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:44,487 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:44,488 views Updated session state: greeting
INFO 2025-05-31 00:12:44,488 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:44,491 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:44,491 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:44,495 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 370
INFO 2025-05-31 00:12:45,003 views Database connection successful
INFO 2025-05-31 00:12:45,003 views Received chat request at 2025-05-31 00:12:45.003763
DEBUG 2025-05-31 00:12:45,003 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:45,011 views Request body: {"message": "\u4f60\u80fd\u544a\u8bc9\u6211\u4e50\u900f\u53f7\u7801\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:45,012 views User input: 
INFO 2025-05-31 00:12:45,013 views Current session state: None
INFO 2025-05-31 00:12:45,013 views Current user data: None
INFO 2025-05-31 00:12:45,017 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:45,431 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:45,432 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:45,432 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:45,432 dialog_manager Processing message: 
INFO 2025-05-31 00:12:45,432 dialog_manager Processing input: 
INFO 2025-05-31 00:12:45,433 dialog_manager Using language: en
INFO 2025-05-31 00:12:45,434 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:45,439 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:45,440 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:45,441 views Updated session state: greeting
INFO 2025-05-31 00:12:45,441 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:45,448 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:45,449 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:45,452 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 497
INFO 2025-05-31 00:12:45,960 views Database connection successful
INFO 2025-05-31 00:12:45,960 views Received chat request at 2025-05-31 00:12:45.960746
DEBUG 2025-05-31 00:12:45,960 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:45,975 views Request body: {"message": "\u4f60\u652f\u4e0d\u652f\u6301\u67d0\u67d0\u653f\u515a\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:45,976 views User input: 
INFO 2025-05-31 00:12:45,976 views Current session state: None
INFO 2025-05-31 00:12:45,977 views Current user data: None
INFO 2025-05-31 00:12:45,980 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:46,402 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:46,402 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:46,402 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:46,404 dialog_manager Processing message: 
INFO 2025-05-31 00:12:46,404 dialog_manager Processing input: 
INFO 2025-05-31 00:12:46,406 dialog_manager Using language: en
INFO 2025-05-31 00:12:46,407 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:46,413 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:46,417 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:46,417 views Updated session state: greeting
INFO 2025-05-31 00:12:46,418 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:46,418 views Generated response: 
INFO 2025-05-31 00:12:46,418 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:46,419 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:46,422 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 377
INFO 2025-05-31 00:12:46,929 views Database connection successful
INFO 2025-05-31 00:12:46,929 views Received chat request at 2025-05-31 00:12:46.929116
DEBUG 2025-05-31 00:12:46,929 views Request headers: {'Content-Length': '98', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:46,929 views Request body: {"message": "\u4f60\u559c\u6b22\u770b\u4ec0\u4e48\u7535\u5f71\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:46,936 views User input: 
INFO 2025-05-31 00:12:46,936 views Current session state: None
INFO 2025-05-31 00:12:46,937 views Current user data: None
INFO 2025-05-31 00:12:46,939 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:47,590 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:47,591 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:47,591 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:47,592 dialog_manager Processing message: 
INFO 2025-05-31 00:12:47,592 dialog_manager Processing input: 
INFO 2025-05-31 00:12:47,593 dialog_manager Using language: en
INFO 2025-05-31 00:12:47,593 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:47,601 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:47,604 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:47,604 views Updated session state: greeting
INFO 2025-05-31 00:12:47,604 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:47,604 views Generated response: 
INFO 2025-05-31 00:12:47,604 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:47,607 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:47,612 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 422
INFO 2025-05-31 00:12:48,125 views Database connection successful
INFO 2025-05-31 00:12:48,125 views Received chat request at 2025-05-31 00:12:48.125368
DEBUG 2025-05-31 00:12:48,140 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:48,140 views Request body: {"message": "\u4f60\u53ef\u4ee5\u5531\u6b4c\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:48,141 views User input: 
INFO 2025-05-31 00:12:48,142 views Current session state: None
INFO 2025-05-31 00:12:48,143 views Current user data: None
INFO 2025-05-31 00:12:48,149 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:48,562 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:48,562 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:48,562 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:48,562 dialog_manager Processing message: 
INFO 2025-05-31 00:12:48,562 dialog_manager Processing input: 
INFO 2025-05-31 00:12:48,562 dialog_manager Using language: en
INFO 2025-05-31 00:12:48,562 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:48,562 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:48,576 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:48,577 views Updated session state: greeting
INFO 2025-05-31 00:12:48,578 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:48,578 views Generated response: Wi-Fi
INFO 2025-05-31 00:12:48,578 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:48,579 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:48,582 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 382
INFO 2025-05-31 00:12:49,106 views Database connection successful
INFO 2025-05-31 00:12:49,107 views Received chat request at 2025-05-31 00:12:49.107159
DEBUG 2025-05-31 00:12:49,109 views Request headers: {'Content-Length': '100', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:49,110 views Request body: {"message": "\u4f60\u600e\u4e48\u770bAI\u76d1\u7ba1\u95ee\u9898\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:49,110 views User input: AI
INFO 2025-05-31 00:12:49,111 views Current session state: None
INFO 2025-05-31 00:12:49,111 views Current user data: None
INFO 2025-05-31 00:12:49,115 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:49,530 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:49,530 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:49,530 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:49,530 dialog_manager Processing message: AI
INFO 2025-05-31 00:12:49,530 dialog_manager Processing input: AI
INFO 2025-05-31 00:12:49,530 dialog_manager Using language: en
INFO 2025-05-31 00:12:49,530 dialog_manager Detecting intent for input: AI
INFO 2025-05-31 00:12:49,540 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:49,543 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:49,543 views Updated session state: greeting
INFO 2025-05-31 00:12:49,543 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:49,543 views Generated response: 
INFO 2025-05-31 00:12:49,544 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:49,544 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:49,548 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 458
INFO 2025-05-31 00:12:50,054 views Database connection successful
INFO 2025-05-31 00:12:50,054 views Received chat request at 2025-05-31 00:12:50.054043
DEBUG 2025-05-31 00:12:50,054 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:50,055 views Request body: {"message": "\u4f60\u77e5\u9053\u8c01\u53d1\u660e\u4e86\u7535\u706f\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:50,055 views User input: 
INFO 2025-05-31 00:12:50,055 views Current session state: None
INFO 2025-05-31 00:12:50,056 views Current user data: None
INFO 2025-05-31 00:12:50,058 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:50,457 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:50,457 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:50,457 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:50,457 dialog_manager Processing message: 
INFO 2025-05-31 00:12:50,457 dialog_manager Processing input: 
INFO 2025-05-31 00:12:50,457 dialog_manager Using language: en
INFO 2025-05-31 00:12:50,457 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:50,457 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:50,472 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:50,472 views Updated session state: greeting
INFO 2025-05-31 00:12:50,473 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:50,479 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:50,479 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:50,482 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 425
INFO 2025-05-31 00:12:50,992 views Database connection successful
INFO 2025-05-31 00:12:50,992 views Received chat request at 2025-05-31 00:12:50.992346
DEBUG 2025-05-31 00:12:50,992 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:50,992 views Request body: {"message": "\u4f60\u89c9\u5f97\u54ea\u5bb6\u624b\u673a\u6700\u597d\u7528\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:50,996 views User input: 
INFO 2025-05-31 00:12:50,996 views Current session state: None
INFO 2025-05-31 00:12:50,997 views Current user data: None
INFO 2025-05-31 00:12:50,999 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:51,393 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:51,393 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:51,393 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:51,393 dialog_manager Processing message: 
INFO 2025-05-31 00:12:51,393 dialog_manager Processing input: 
INFO 2025-05-31 00:12:51,393 dialog_manager Using language: en
INFO 2025-05-31 00:12:51,393 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:51,393 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:51,406 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:51,406 views Updated session state: greeting
INFO 2025-05-31 00:12:51,407 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:51,407 views Generated response: 
INFO 2025-05-31 00:12:51,407 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:51,409 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:51,412 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 428
INFO 2025-05-31 00:12:51,924 views Database connection successful
INFO 2025-05-31 00:12:51,926 views Received chat request at 2025-05-31 00:12:51.926988
DEBUG 2025-05-31 00:12:51,926 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:51,930 views Request body: {"message": "\u4f60\u591a\u5927\u4e86\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:51,931 views User input: 
INFO 2025-05-31 00:12:51,932 views Current session state: None
INFO 2025-05-31 00:12:51,933 views Current user data: None
INFO 2025-05-31 00:12:51,935 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:52,337 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:52,337 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:52,337 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:52,337 dialog_manager Processing message: 
INFO 2025-05-31 00:12:52,337 dialog_manager Processing input: 
INFO 2025-05-31 00:12:52,354 dialog_manager Using language: en
INFO 2025-05-31 00:12:52,354 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:52,359 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:52,369 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:52,370 views Updated session state: greeting
INFO 2025-05-31 00:12:52,370 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:52,370 views Generated response: 
INFO 2025-05-31 00:12:52,370 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:52,371 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:52,376 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 416
INFO 2025-05-31 00:12:52,881 views Database connection successful
INFO 2025-05-31 00:12:52,881 views Received chat request at 2025-05-31 00:12:52.881978
DEBUG 2025-05-31 00:12:52,881 views Request headers: {'Content-Length': '80', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:12:52,885 views Request body: {"message": "\u4f60\u4f4f\u5728\u54ea\u91cc\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:12:52,886 views User input: 
INFO 2025-05-31 00:12:52,886 views Current session state: None
INFO 2025-05-31 00:12:52,887 views Current user data: None
INFO 2025-05-31 00:12:52,888 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:12:53,285 dialog_manager Using device: cpu
WARNING 2025-05-31 00:12:53,285 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:12:53,285 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:12:53,285 dialog_manager Processing message: 
INFO 2025-05-31 00:12:53,285 dialog_manager Processing input: 
INFO 2025-05-31 00:12:53,285 dialog_manager Using language: en
INFO 2025-05-31 00:12:53,285 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:12:53,303 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:12:53,309 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:53,310 views Updated session state: greeting
INFO 2025-05-31 00:12:53,310 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:12:53,315 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:12:53,316 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:12:53,319 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 471
INFO 2025-05-31 00:13:23,770 views Database connection successful
INFO 2025-05-31 00:13:23,770 views Received chat request at 2025-05-31 00:13:23.770870
DEBUG 2025-05-31 00:13:23,770 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:23,777 views Request body: {"message": "\u4f60\u662f\u7528\u4ec0\u4e48\u7a0b\u5e8f\u5199\u7684\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:23,777 views User input: 
INFO 2025-05-31 00:13:23,778 views Current session state: None
INFO 2025-05-31 00:13:23,778 views Current user data: None
INFO 2025-05-31 00:13:23,780 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:24,226 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:24,226 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:24,226 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:24,226 dialog_manager Processing message: 
INFO 2025-05-31 00:13:24,226 dialog_manager Processing input: 
INFO 2025-05-31 00:13:24,226 dialog_manager Using language: en
INFO 2025-05-31 00:13:24,226 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:24,236 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:24,240 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:24,240 views Updated session state: greeting
INFO 2025-05-31 00:13:24,240 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:24,240 views Generated response: 
INFO 2025-05-31 00:13:24,240 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:24,241 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:24,244 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 440
INFO 2025-05-31 00:13:24,749 views Database connection successful
INFO 2025-05-31 00:13:24,749 views Received chat request at 2025-05-31 00:13:24.749960
DEBUG 2025-05-31 00:13:24,749 views Request headers: {'Content-Length': '80', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:24,749 views Request body: {"message": "\u4f60\u73a9\u6e38\u620f\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:24,755 views User input: 
INFO 2025-05-31 00:13:24,756 views Current session state: None
INFO 2025-05-31 00:13:24,757 views Current user data: None
INFO 2025-05-31 00:13:24,758 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:25,207 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:25,207 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:25,207 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:25,207 dialog_manager Processing message: 
INFO 2025-05-31 00:13:25,207 dialog_manager Processing input: 
INFO 2025-05-31 00:13:25,207 dialog_manager Using language: en
INFO 2025-05-31 00:13:25,207 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:25,207 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:25,219 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:25,219 views Updated session state: greeting
INFO 2025-05-31 00:13:25,219 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:25,219 views Generated response: 
INFO 2025-05-31 00:13:25,220 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:25,220 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:25,223 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 464
INFO 2025-05-31 00:13:25,743 views Database connection successful
INFO 2025-05-31 00:13:25,743 views Received chat request at 2025-05-31 00:13:25.743589
DEBUG 2025-05-31 00:13:25,743 views Request headers: {'Content-Length': '92', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:25,748 views Request body: {"message": "\u4f60\u6709\u5144\u5f1f\u59d0\u59b9\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:25,749 views User input: 
INFO 2025-05-31 00:13:25,749 views Current session state: None
INFO 2025-05-31 00:13:25,749 views Current user data: None
INFO 2025-05-31 00:13:25,751 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:26,425 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:26,425 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:26,426 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:26,426 dialog_manager Processing message: 
INFO 2025-05-31 00:13:26,426 dialog_manager Processing input: 
INFO 2025-05-31 00:13:26,431 dialog_manager Using language: en
INFO 2025-05-31 00:13:26,431 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:26,438 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:26,440 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:26,441 views Updated session state: greeting
INFO 2025-05-31 00:13:26,441 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:26,441 views Generated response: 
INFO 2025-05-31 00:13:26,442 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:26,443 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:26,449 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-31 00:13:26,957 views Database connection successful
INFO 2025-05-31 00:13:26,958 views Received chat request at 2025-05-31 00:13:26.958012
DEBUG 2025-05-31 00:13:26,958 views Request headers: {'Content-Length': '98', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:26,958 views Request body: {"message": "\u4f60\u80fd\u5e2e\u6211\u5199\u4f5c\u4e1a\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:26,958 views User input: 
INFO 2025-05-31 00:13:26,959 views Current session state: None
INFO 2025-05-31 00:13:26,960 views Current user data: None
INFO 2025-05-31 00:13:26,964 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:27,425 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:27,425 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:27,425 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:27,425 dialog_manager Processing message: 
INFO 2025-05-31 00:13:27,425 dialog_manager Processing input: 
INFO 2025-05-31 00:13:27,441 dialog_manager Using language: en
INFO 2025-05-31 00:13:27,441 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:27,446 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:27,450 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:27,451 views Updated session state: greeting
INFO 2025-05-31 00:13:27,451 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:27,451 views Generated response: 
INFO 2025-05-31 00:13:27,452 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:27,452 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:27,456 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 446
INFO 2025-05-31 00:13:27,964 views Database connection successful
INFO 2025-05-31 00:13:27,964 views Received chat request at 2025-05-31 00:13:27.964752
DEBUG 2025-05-31 00:13:27,978 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:27,980 views Request body: {"message": "\u8c01\u662f\u4f60\u7684\u8001\u677f\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:27,981 views User input: 
INFO 2025-05-31 00:13:27,984 views Current session state: None
INFO 2025-05-31 00:13:27,985 views Current user data: None
INFO 2025-05-31 00:13:27,989 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:28,371 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:28,371 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:28,371 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:28,371 dialog_manager Processing message: 
INFO 2025-05-31 00:13:28,371 dialog_manager Processing input: 
INFO 2025-05-31 00:13:28,371 dialog_manager Using language: en
INFO 2025-05-31 00:13:28,371 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:28,371 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:28,390 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:28,390 views Updated session state: greeting
INFO 2025-05-31 00:13:28,390 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:28,390 views Generated response: 
INFO 2025-05-31 00:13:28,390 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:28,391 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:28,394 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 374
INFO 2025-05-31 00:13:28,909 views Database connection successful
INFO 2025-05-31 00:13:28,909 views Received chat request at 2025-05-31 00:13:28.909876
DEBUG 2025-05-31 00:13:28,915 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:28,916 views Request body: {"message": "\u4f60\u89c9\u5f97\u4eba\u7c7b\u4f1a\u88abAI\u53d6\u4ee3\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:28,917 views User input: AI
INFO 2025-05-31 00:13:28,917 views Current session state: None
INFO 2025-05-31 00:13:28,918 views Current user data: None
INFO 2025-05-31 00:13:28,919 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:29,316 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:29,316 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:29,316 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:29,316 dialog_manager Processing message: AI
INFO 2025-05-31 00:13:29,316 dialog_manager Processing input: AI
INFO 2025-05-31 00:13:29,316 dialog_manager Using language: en
INFO 2025-05-31 00:13:29,316 dialog_manager Detecting intent for input: AI
INFO 2025-05-31 00:13:29,316 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:29,330 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:29,330 views Updated session state: greeting
INFO 2025-05-31 00:13:29,331 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:29,336 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:29,336 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:29,339 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 373
INFO 2025-05-31 00:13:29,863 views Database connection successful
INFO 2025-05-31 00:13:29,864 views Received chat request at 2025-05-31 00:13:29.864699
DEBUG 2025-05-31 00:13:29,865 views Request headers: {'Content-Length': '116', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:29,866 views Request body: {"message": "\u9a6c\u6765\u897f\u4e9a\u72ec\u7acb\u65e5\u662f\u54ea\u4e00\u5929\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:29,866 views User input: 
INFO 2025-05-31 00:13:29,867 views Current session state: None
INFO 2025-05-31 00:13:29,867 views Current user data: None
INFO 2025-05-31 00:13:29,870 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:30,258 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:30,258 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:30,258 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:30,258 dialog_manager Processing message: 
INFO 2025-05-31 00:13:30,258 dialog_manager Processing input: 
INFO 2025-05-31 00:13:30,258 dialog_manager Using language: en
INFO 2025-05-31 00:13:30,258 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:30,275 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:30,277 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:30,278 views Updated session state: greeting
INFO 2025-05-31 00:13:30,278 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:30,278 views Generated response: 
INFO 2025-05-31 00:13:30,278 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:30,279 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:30,282 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 428
INFO 2025-05-31 00:13:30,791 views Database connection successful
INFO 2025-05-31 00:13:30,791 views Received chat request at 2025-05-31 00:13:30.791233
DEBUG 2025-05-31 00:13:30,792 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:30,794 views Request body: {"message": "\u4f60\u76f8\u4fe1\u547d\u8fd0\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:30,795 views User input: 
INFO 2025-05-31 00:13:30,795 views Current session state: None
INFO 2025-05-31 00:13:30,795 views Current user data: None
INFO 2025-05-31 00:13:30,796 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:31,244 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:31,245 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:31,245 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:31,245 dialog_manager Processing message: 
INFO 2025-05-31 00:13:31,246 dialog_manager Processing input: 
INFO 2025-05-31 00:13:31,249 dialog_manager Using language: en
INFO 2025-05-31 00:13:31,249 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:31,253 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:31,256 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:31,256 views Updated session state: greeting
INFO 2025-05-31 00:13:31,257 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:31,263 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:31,263 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:31,268 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 383
INFO 2025-05-31 00:13:31,779 views Database connection successful
INFO 2025-05-31 00:13:31,780 views Received chat request at 2025-05-31 00:13:31.780131
DEBUG 2025-05-31 00:13:31,780 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:31,781 views Request body: {"message": "\u4f60\u6709\u6ca1\u6709\u5ba0\u7269\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:31,782 views User input: 
INFO 2025-05-31 00:13:31,783 views Current session state: None
INFO 2025-05-31 00:13:31,783 views Current user data: None
INFO 2025-05-31 00:13:31,787 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:32,199 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:32,200 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:32,200 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:32,201 dialog_manager Processing message: 
INFO 2025-05-31 00:13:32,201 dialog_manager Processing input: 
INFO 2025-05-31 00:13:32,203 dialog_manager Using language: en
INFO 2025-05-31 00:13:32,203 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:32,215 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:32,220 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:32,220 views Updated session state: greeting
INFO 2025-05-31 00:13:32,221 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:32,221 views Generated response: 
INFO 2025-05-31 00:13:32,222 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:32,224 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:32,230 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 362
INFO 2025-05-31 00:13:32,753 views Database connection successful
INFO 2025-05-31 00:13:32,755 views Received chat request at 2025-05-31 00:13:32.755225
DEBUG 2025-05-31 00:13:32,765 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:32,767 views Request body: {"message": "\u4f60\u559c\u6b22\u6d77\u8fb9\u8fd8\u662f\u5c71\u4e0a\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:32,768 views User input: 
INFO 2025-05-31 00:13:32,768 views Current session state: None
INFO 2025-05-31 00:13:32,769 views Current user data: None
INFO 2025-05-31 00:13:32,774 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:33,170 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:33,172 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:33,172 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:33,172 dialog_manager Processing message: 
INFO 2025-05-31 00:13:33,174 dialog_manager Processing input: 
INFO 2025-05-31 00:13:33,174 dialog_manager Using language: en
INFO 2025-05-31 00:13:33,174 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:33,174 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:33,182 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:33,183 views Updated session state: greeting
INFO 2025-05-31 00:13:33,183 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:33,183 views Generated response: 
INFO 2025-05-31 00:13:33,183 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:33,184 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:33,187 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 398
INFO 2025-05-31 00:13:33,695 views Database connection successful
INFO 2025-05-31 00:13:33,695 views Received chat request at 2025-05-31 00:13:33.695672
DEBUG 2025-05-31 00:13:33,696 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:33,697 views Request body: {"message": "\u6211\u89c9\u5f97\u4f60\u5f88\u53ef\u7231", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:33,697 views User input: 
INFO 2025-05-31 00:13:33,699 views Current session state: None
INFO 2025-05-31 00:13:33,699 views Current user data: None
INFO 2025-05-31 00:13:33,701 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:34,107 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:34,107 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:34,107 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:34,107 dialog_manager Processing message: 
INFO 2025-05-31 00:13:34,107 dialog_manager Processing input: 
INFO 2025-05-31 00:13:34,117 dialog_manager Using language: en
INFO 2025-05-31 00:13:34,117 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:34,121 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:34,124 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:34,125 views Updated session state: greeting
INFO 2025-05-31 00:13:34,125 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:34,130 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:34,130 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:34,133 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 370
INFO 2025-05-31 00:13:34,654 views Database connection successful
INFO 2025-05-31 00:13:34,654 views Received chat request at 2025-05-31 00:13:34.654688
DEBUG 2025-05-31 00:13:34,654 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:34,655 views Request body: {"message": "\u4f60\u80fd\u544a\u8bc9\u6211\u4e50\u900f\u53f7\u7801\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:34,655 views User input: 
INFO 2025-05-31 00:13:34,655 views Current session state: None
INFO 2025-05-31 00:13:34,657 views Current user data: None
INFO 2025-05-31 00:13:34,659 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:35,083 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:35,083 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:35,084 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:35,084 dialog_manager Processing message: 
INFO 2025-05-31 00:13:35,084 dialog_manager Processing input: 
INFO 2025-05-31 00:13:35,086 dialog_manager Using language: en
INFO 2025-05-31 00:13:35,086 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:35,090 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:35,094 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:35,094 views Updated session state: greeting
INFO 2025-05-31 00:13:35,094 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:35,099 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:35,100 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:35,105 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 497
INFO 2025-05-31 00:13:35,617 views Database connection successful
INFO 2025-05-31 00:13:35,618 views Received chat request at 2025-05-31 00:13:35.618166
DEBUG 2025-05-31 00:13:35,618 views Request headers: {'Content-Length': '104', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:35,619 views Request body: {"message": "\u4f60\u652f\u4e0d\u652f\u6301\u67d0\u67d0\u653f\u515a\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:35,619 views User input: 
INFO 2025-05-31 00:13:35,620 views Current session state: None
INFO 2025-05-31 00:13:35,620 views Current user data: None
INFO 2025-05-31 00:13:35,622 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:36,372 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:36,374 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:36,374 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:36,374 dialog_manager Processing message: 
INFO 2025-05-31 00:13:36,376 dialog_manager Processing input: 
INFO 2025-05-31 00:13:36,380 dialog_manager Using language: en
INFO 2025-05-31 00:13:36,380 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:36,386 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:36,390 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:36,390 views Updated session state: greeting
INFO 2025-05-31 00:13:36,391 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:36,391 views Generated response: 
INFO 2025-05-31 00:13:36,391 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:36,392 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:36,395 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 377
INFO 2025-05-31 00:13:36,903 views Database connection successful
INFO 2025-05-31 00:13:36,904 views Received chat request at 2025-05-31 00:13:36.904121
DEBUG 2025-05-31 00:13:36,904 views Request headers: {'Content-Length': '98', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:36,905 views Request body: {"message": "\u4f60\u559c\u6b22\u770b\u4ec0\u4e48\u7535\u5f71\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:36,906 views User input: 
INFO 2025-05-31 00:13:36,906 views Current session state: None
INFO 2025-05-31 00:13:36,907 views Current user data: None
INFO 2025-05-31 00:13:36,908 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:37,328 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:37,329 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:37,329 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:37,329 dialog_manager Processing message: 
INFO 2025-05-31 00:13:37,330 dialog_manager Processing input: 
INFO 2025-05-31 00:13:37,332 dialog_manager Using language: en
INFO 2025-05-31 00:13:37,332 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:37,336 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:37,340 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:37,340 views Updated session state: greeting
INFO 2025-05-31 00:13:37,341 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:37,341 views Generated response: 
INFO 2025-05-31 00:13:37,341 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:37,341 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:37,346 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 422
INFO 2025-05-31 00:13:37,857 views Database connection successful
INFO 2025-05-31 00:13:37,858 views Received chat request at 2025-05-31 00:13:37.858405
DEBUG 2025-05-31 00:13:37,859 views Request headers: {'Content-Length': '86', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:37,860 views Request body: {"message": "\u4f60\u53ef\u4ee5\u5531\u6b4c\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:37,861 views User input: 
INFO 2025-05-31 00:13:37,861 views Current session state: None
INFO 2025-05-31 00:13:37,862 views Current user data: None
INFO 2025-05-31 00:13:37,868 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:38,292 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:38,293 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:38,293 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:38,294 dialog_manager Processing message: 
INFO 2025-05-31 00:13:38,294 dialog_manager Processing input: 
INFO 2025-05-31 00:13:38,298 dialog_manager Using language: en
INFO 2025-05-31 00:13:38,299 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:38,303 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:38,308 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:38,308 views Updated session state: greeting
INFO 2025-05-31 00:13:38,308 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:38,309 views Generated response: Wi-Fi
INFO 2025-05-31 00:13:38,309 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:38,309 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:38,314 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 382
INFO 2025-05-31 00:13:38,829 views Database connection successful
INFO 2025-05-31 00:13:38,829 views Received chat request at 2025-05-31 00:13:38.829509
DEBUG 2025-05-31 00:13:38,829 views Request headers: {'Content-Length': '100', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:38,836 views Request body: {"message": "\u4f60\u600e\u4e48\u770bAI\u76d1\u7ba1\u95ee\u9898\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:38,836 views User input: AI
INFO 2025-05-31 00:13:38,836 views Current session state: None
INFO 2025-05-31 00:13:38,837 views Current user data: None
INFO 2025-05-31 00:13:38,838 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:39,239 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:39,240 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:39,240 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:39,240 dialog_manager Processing message: AI
INFO 2025-05-31 00:13:39,241 dialog_manager Processing input: AI
INFO 2025-05-31 00:13:39,243 dialog_manager Using language: en
INFO 2025-05-31 00:13:39,243 dialog_manager Detecting intent for input: AI
INFO 2025-05-31 00:13:39,243 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:39,250 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:39,250 views Updated session state: greeting
INFO 2025-05-31 00:13:39,251 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:39,251 views Generated response: 
INFO 2025-05-31 00:13:39,251 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:39,252 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:39,255 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 458
INFO 2025-05-31 00:13:39,775 views Database connection successful
INFO 2025-05-31 00:13:39,776 views Received chat request at 2025-05-31 00:13:39.776548
DEBUG 2025-05-31 00:13:39,778 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:39,779 views Request body: {"message": "\u4f60\u77e5\u9053\u8c01\u53d1\u660e\u4e86\u7535\u706f\u5417\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:39,782 views User input: 
INFO 2025-05-31 00:13:39,784 views Current session state: None
INFO 2025-05-31 00:13:39,785 views Current user data: None
INFO 2025-05-31 00:13:39,789 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:40,271 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:40,272 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:40,272 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:40,275 dialog_manager Processing message: 
INFO 2025-05-31 00:13:40,276 dialog_manager Processing input: 
INFO 2025-05-31 00:13:40,277 dialog_manager Using language: en
INFO 2025-05-31 00:13:40,277 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:40,287 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:40,289 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:40,291 views Updated session state: greeting
INFO 2025-05-31 00:13:40,291 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:40,297 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:40,297 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:40,302 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 425
INFO 2025-05-31 00:13:40,824 views Database connection successful
INFO 2025-05-31 00:13:40,824 views Received chat request at 2025-05-31 00:13:40.824436
DEBUG 2025-05-31 00:13:40,824 views Request headers: {'Content-Length': '110', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:40,825 views Request body: {"message": "\u4f60\u89c9\u5f97\u54ea\u5bb6\u624b\u673a\u6700\u597d\u7528\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:40,825 views User input: 
INFO 2025-05-31 00:13:40,827 views Current session state: None
INFO 2025-05-31 00:13:40,827 views Current user data: None
INFO 2025-05-31 00:13:40,829 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:41,232 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:41,232 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:41,233 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:41,233 dialog_manager Processing message: 
INFO 2025-05-31 00:13:41,234 dialog_manager Processing input: 
INFO 2025-05-31 00:13:41,235 dialog_manager Using language: en
INFO 2025-05-31 00:13:41,235 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:41,241 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:41,245 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:41,245 views Updated session state: greeting
INFO 2025-05-31 00:13:41,247 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:41,247 views Generated response: 
INFO 2025-05-31 00:13:41,248 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:41,248 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:41,251 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 428
INFO 2025-05-31 00:13:41,769 views Database connection successful
INFO 2025-05-31 00:13:41,769 views Received chat request at 2025-05-31 00:13:41.769375
DEBUG 2025-05-31 00:13:41,770 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:41,771 views Request body: {"message": "\u4f60\u591a\u5927\u4e86\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:41,771 views User input: 
INFO 2025-05-31 00:13:41,771 views Current session state: None
INFO 2025-05-31 00:13:41,772 views Current user data: None
INFO 2025-05-31 00:13:41,774 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:42,227 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:42,227 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:42,228 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:42,228 dialog_manager Processing message: 
INFO 2025-05-31 00:13:42,228 dialog_manager Processing input: 
INFO 2025-05-31 00:13:42,232 dialog_manager Using language: en
INFO 2025-05-31 00:13:42,232 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:42,243 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:42,252 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:42,253 views Updated session state: greeting
INFO 2025-05-31 00:13:42,254 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:42,254 views Generated response: 
INFO 2025-05-31 00:13:42,254 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:42,254 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:42,257 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 416
INFO 2025-05-31 00:13:42,769 views Database connection successful
INFO 2025-05-31 00:13:42,769 views Received chat request at 2025-05-31 00:13:42.769908
DEBUG 2025-05-31 00:13:42,769 views Request headers: {'Content-Length': '80', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:13:42,774 views Request body: {"message": "\u4f60\u4f4f\u5728\u54ea\u91cc\uff1f", "user_id": 1, "session": {}}
INFO 2025-05-31 00:13:42,776 views User input: 
INFO 2025-05-31 00:13:42,777 views Current session state: None
INFO 2025-05-31 00:13:42,777 views Current user data: None
INFO 2025-05-31 00:13:42,779 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:13:43,228 dialog_manager Using device: cpu
WARNING 2025-05-31 00:13:43,228 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:13:43,228 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:13:43,228 dialog_manager Processing message: 
INFO 2025-05-31 00:13:43,228 dialog_manager Processing input: 
INFO 2025-05-31 00:13:43,243 dialog_manager Using language: en
INFO 2025-05-31 00:13:43,244 dialog_manager Detecting intent for input: 
INFO 2025-05-31 00:13:43,252 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:13:43,259 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:43,260 views Updated session state: greeting
INFO 2025-05-31 00:13:43,260 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:13:43,268 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:13:43,268 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:13:43,272 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 471
INFO 2025-05-31 00:15:07,708 views Database connection successful
INFO 2025-05-31 00:15:07,712 views Received chat request at 2025-05-31 00:15:07.712845
DEBUG 2025-05-31 00:15:07,712 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:07,712 views Request body: {"message": "do you have girlfriend?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:07,712 views User input: do you have girlfriend?
INFO 2025-05-31 00:15:07,712 views Current session state: None
INFO 2025-05-31 00:15:07,712 views Current user data: None
INFO 2025-05-31 00:15:07,733 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:08,279 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:08,279 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:08,279 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:08,279 dialog_manager Processing message: do you have girlfriend?
INFO 2025-05-31 00:15:08,279 dialog_manager Processing input: do you have girlfriend?
INFO 2025-05-31 00:15:08,311 dialog_manager Using language: en
INFO 2025-05-31 00:15:08,312 dialog_manager Detecting intent for input: do you have girlfriend?
INFO 2025-05-31 00:15:08,343 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:08,362 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:08,362 views Updated session state: greeting
INFO 2025-05-31 00:15:08,363 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:08,371 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:08,371 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:08,376 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-31 00:15:08,891 views Database connection successful
INFO 2025-05-31 00:15:08,891 views Received chat request at 2025-05-31 00:15:08.891562
DEBUG 2025-05-31 00:15:08,891 views Request headers: {'Content-Length': '76', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:08,907 views Request body: {"message": "what program are you written in?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:08,908 views User input: what program are you written in?
INFO 2025-05-31 00:15:08,909 views Current session state: None
INFO 2025-05-31 00:15:08,911 views Current user data: None
INFO 2025-05-31 00:15:08,917 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:09,382 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:09,384 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:09,384 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:09,384 dialog_manager Processing message: what program are you written in?
INFO 2025-05-31 00:15:09,384 dialog_manager Processing input: what program are you written in?
INFO 2025-05-31 00:15:09,386 dialog_manager Using language: en
INFO 2025-05-31 00:15:09,386 dialog_manager Detecting intent for input: what program are you written in?
INFO 2025-05-31 00:15:09,401 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:09,405 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:09,405 views Updated session state: greeting
INFO 2025-05-31 00:15:09,407 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:09,415 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:09,415 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:09,418 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 370
INFO 2025-05-31 00:15:09,937 views Database connection successful
INFO 2025-05-31 00:15:09,937 views Received chat request at 2025-05-31 00:15:09.937445
DEBUG 2025-05-31 00:15:09,940 views Request headers: {'Content-Length': '62', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:09,940 views Request body: {"message": "do you play games?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:09,941 views User input: do you play games?
INFO 2025-05-31 00:15:09,942 views Current session state: None
INFO 2025-05-31 00:15:09,945 views Current user data: None
INFO 2025-05-31 00:15:09,948 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:11,063 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:11,063 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:11,063 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:11,063 dialog_manager Processing message: do you play games?
INFO 2025-05-31 00:15:11,063 dialog_manager Processing input: do you play games?
INFO 2025-05-31 00:15:11,063 dialog_manager Using language: en
INFO 2025-05-31 00:15:11,063 dialog_manager Detecting intent for input: do you play games?
INFO 2025-05-31 00:15:11,084 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:11,091 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:11,093 views Updated session state: greeting
INFO 2025-05-31 00:15:11,093 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:11,099 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:11,099 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:11,102 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 381
INFO 2025-05-31 00:15:11,614 views Database connection successful
INFO 2025-05-31 00:15:11,614 views Received chat request at 2025-05-31 00:15:11.614172
DEBUG 2025-05-31 00:15:11,614 views Request headers: {'Content-Length': '65', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:11,614 views Request body: {"message": "do you have siblings?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:11,614 views User input: do you have siblings?
INFO 2025-05-31 00:15:11,617 views Current session state: None
INFO 2025-05-31 00:15:11,617 views Current user data: None
INFO 2025-05-31 00:15:11,619 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:12,041 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:12,041 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:12,041 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:12,041 dialog_manager Processing message: do you have siblings?
INFO 2025-05-31 00:15:12,041 dialog_manager Processing input: do you have siblings?
INFO 2025-05-31 00:15:12,056 dialog_manager Using language: en
INFO 2025-05-31 00:15:12,056 dialog_manager Detecting intent for input: do you have siblings?
INFO 2025-05-31 00:15:12,062 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:12,076 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:12,077 views Updated session state: greeting
INFO 2025-05-31 00:15:12,077 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:12,083 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:12,084 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:12,087 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 366
INFO 2025-05-31 00:15:12,602 views Database connection successful
INFO 2025-05-31 00:15:12,602 views Received chat request at 2025-05-31 00:15:12.602484
DEBUG 2025-05-31 00:15:12,603 views Request headers: {'Content-Length': '75', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:12,603 views Request body: {"message": "can you help me write homework?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:12,604 views User input: can you help me write homework?
INFO 2025-05-31 00:15:12,605 views Current session state: None
INFO 2025-05-31 00:15:12,605 views Current user data: None
INFO 2025-05-31 00:15:12,607 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:13,091 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:13,091 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:13,093 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:13,093 dialog_manager Processing message: can you help me write homework?
INFO 2025-05-31 00:15:13,093 dialog_manager Processing input: can you help me write homework?
INFO 2025-05-31 00:15:13,099 dialog_manager Using language: en
INFO 2025-05-31 00:15:13,100 dialog_manager Detecting intent for input: can you help me write homework?
INFO 2025-05-31 00:15:13,105 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:13,112 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:13,112 views Updated session state: greeting
INFO 2025-05-31 00:15:13,113 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:13,119 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:13,120 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:13,124 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 376
INFO 2025-05-31 00:15:13,631 views Database connection successful
INFO 2025-05-31 00:15:13,631 views Received chat request at 2025-05-31 00:15:13.631245
DEBUG 2025-05-31 00:15:13,632 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:13,632 views Request body: {"message": "who is your boss?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:13,632 views User input: who is your boss?
INFO 2025-05-31 00:15:13,632 views Current session state: None
INFO 2025-05-31 00:15:13,633 views Current user data: None
INFO 2025-05-31 00:15:13,634 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:14,033 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:14,033 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:14,034 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:14,034 dialog_manager Processing message: who is your boss?
INFO 2025-05-31 00:15:14,034 dialog_manager Processing input: who is your boss?
INFO 2025-05-31 00:15:14,037 dialog_manager Using language: en
INFO 2025-05-31 00:15:14,037 dialog_manager Detecting intent for input: who is your boss?
INFO 2025-05-31 00:15:14,046 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:14,048 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:14,048 views Updated session state: greeting
INFO 2025-05-31 00:15:14,048 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:14,055 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:14,056 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:14,061 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 367
INFO 2025-05-31 00:15:14,580 views Database connection successful
INFO 2025-05-31 00:15:14,580 views Received chat request at 2025-05-31 00:15:14.580813
DEBUG 2025-05-31 00:15:14,581 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:14,583 views Request body: {"message": "will humans be replaced by AI?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:14,584 views User input: will humans be replaced by AI?
INFO 2025-05-31 00:15:14,584 views Current session state: None
INFO 2025-05-31 00:15:14,586 views Current user data: None
INFO 2025-05-31 00:15:14,593 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:14,985 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:14,985 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:14,985 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:14,985 dialog_manager Processing message: will humans be replaced by AI?
INFO 2025-05-31 00:15:14,985 dialog_manager Processing input: will humans be replaced by AI?
INFO 2025-05-31 00:15:14,991 dialog_manager Using language: en
INFO 2025-05-31 00:15:14,991 dialog_manager Detecting intent for input: will humans be replaced by AI?
INFO 2025-05-31 00:15:15,039 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:15:27,344 dialog_manager Sentiment analysis: Negative (confidence: 0.50)
INFO 2025-05-31 00:15:27,344 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:27,344 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:27,344 views Updated session state: greeting
INFO 2025-05-31 00:15:27,344 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:27,344 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:27,344 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:27,344 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:27,410 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-31 00:15:27,947 views Database connection successful
INFO 2025-05-31 00:15:27,947 views Received chat request at 2025-05-31 00:15:27.947811
DEBUG 2025-05-31 00:15:27,948 views Request headers: {'Content-Length': '78', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:27,949 views Request body: {"message": "when is Malaysia independence day?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:27,950 views User input: when is Malaysia independence day?
INFO 2025-05-31 00:15:27,951 views Current session state: None
INFO 2025-05-31 00:15:27,951 views Current user data: None
INFO 2025-05-31 00:15:27,952 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:28,451 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:28,451 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:28,451 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:28,460 dialog_manager Processing message: when is Malaysia independence day?
INFO 2025-05-31 00:15:28,462 dialog_manager Processing input: when is Malaysia independence day?
INFO 2025-05-31 00:15:28,466 dialog_manager Using language: en
INFO 2025-05-31 00:15:28,466 dialog_manager Detecting intent for input: when is Malaysia independence day?
INFO 2025-05-31 00:15:28,474 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:15:32,695 dialog_manager Sentiment analysis: Neutral (confidence: 0.91)
INFO 2025-05-31 00:15:32,695 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:15:32,695 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:32,695 views Updated session state: greeting
INFO 2025-05-31 00:15:32,695 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:32,695 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:15:32,695 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:32,695 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:32,758 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-05-31 00:15:33,274 views Database connection successful
INFO 2025-05-31 00:15:33,274 views Received chat request at 2025-05-31 00:15:33.274521
DEBUG 2025-05-31 00:15:33,274 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:33,280 views Request body: {"message": "do you believe in fate?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:33,280 views User input: do you believe in fate?
INFO 2025-05-31 00:15:33,281 views Current session state: None
INFO 2025-05-31 00:15:33,281 views Current user data: None
INFO 2025-05-31 00:15:33,283 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:33,695 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:33,697 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:33,697 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:33,697 dialog_manager Processing message: do you believe in fate?
INFO 2025-05-31 00:15:33,697 dialog_manager Processing input: do you believe in fate?
INFO 2025-05-31 00:15:33,716 dialog_manager Using language: en
INFO 2025-05-31 00:15:33,717 dialog_manager Detecting intent for input: do you believe in fate?
INFO 2025-05-31 00:15:33,723 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:15:36,498 dialog_manager Sentiment analysis: Neutral (confidence: 0.86)
INFO 2025-05-31 00:15:36,500 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:36,527 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:36,527 views Updated session state: greeting
INFO 2025-05-31 00:15:36,527 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:36,527 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:36,527 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:36,527 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:36,616 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-31 00:15:37,127 views Database connection successful
INFO 2025-05-31 00:15:37,127 views Received chat request at 2025-05-31 00:15:37.127489
DEBUG 2025-05-31 00:15:37,127 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:37,131 views Request body: {"message": "do you have pets?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:37,131 views User input: do you have pets?
INFO 2025-05-31 00:15:37,132 views Current session state: None
INFO 2025-05-31 00:15:37,132 views Current user data: None
INFO 2025-05-31 00:15:37,134 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:37,550 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:37,558 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:37,558 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:37,558 dialog_manager Processing message: do you have pets?
INFO 2025-05-31 00:15:37,558 dialog_manager Processing input: do you have pets?
INFO 2025-05-31 00:15:37,571 dialog_manager Using language: en
INFO 2025-05-31 00:15:37,571 dialog_manager Detecting intent for input: do you have pets?
INFO 2025-05-31 00:15:37,579 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:37,587 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:37,587 views Updated session state: greeting
INFO 2025-05-31 00:15:37,589 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:37,599 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:37,599 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:37,601 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 364
INFO 2025-05-31 00:15:38,115 views Database connection successful
INFO 2025-05-31 00:15:38,115 views Received chat request at 2025-05-31 00:15:38.115040
DEBUG 2025-05-31 00:15:38,115 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:38,127 views Request body: {"message": "do you prefer sea or mountain?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:38,128 views User input: do you prefer sea or mountain?
INFO 2025-05-31 00:15:38,129 views Current session state: None
INFO 2025-05-31 00:15:38,130 views Current user data: None
INFO 2025-05-31 00:15:38,133 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:38,553 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:38,553 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:38,553 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:38,553 dialog_manager Processing message: do you prefer sea or mountain?
INFO 2025-05-31 00:15:38,553 dialog_manager Processing input: do you prefer sea or mountain?
INFO 2025-05-31 00:15:38,553 dialog_manager Using language: en
INFO 2025-05-31 00:15:38,553 dialog_manager Detecting intent for input: do you prefer sea or mountain?
INFO 2025-05-31 00:15:38,572 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:15:42,700 dialog_manager Sentiment analysis: Neutral (confidence: 0.88)
INFO 2025-05-31 00:15:42,700 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:15:42,700 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:42,700 views Updated session state: greeting
INFO 2025-05-31 00:15:42,700 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:42,709 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 00:15:42,709 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:42,709 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:42,764 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-05-31 00:15:43,282 views Database connection successful
INFO 2025-05-31 00:15:43,282 views Received chat request at 2025-05-31 00:15:43.282889
DEBUG 2025-05-31 00:15:43,282 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:43,292 views Request body: {"message": "you are very cute", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:43,293 views User input: you are very cute
INFO 2025-05-31 00:15:43,294 views Current session state: None
INFO 2025-05-31 00:15:43,295 views Current user data: None
INFO 2025-05-31 00:15:43,299 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:44,299 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:44,300 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:44,300 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:44,300 dialog_manager Processing message: you are very cute
INFO 2025-05-31 00:15:44,301 dialog_manager Processing input: you are very cute
INFO 2025-05-31 00:15:44,311 dialog_manager Using language: en
INFO 2025-05-31 00:15:44,311 dialog_manager Detecting intent for input: you are very cute
INFO 2025-05-31 00:15:44,319 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:44,326 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:44,327 views Updated session state: greeting
INFO 2025-05-31 00:15:44,327 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:44,333 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:44,334 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:44,339 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 328
INFO 2025-05-31 00:15:44,849 views Database connection successful
INFO 2025-05-31 00:15:44,849 views Received chat request at 2025-05-31 00:15:44.849363
DEBUG 2025-05-31 00:15:44,849 views Request headers: {'Content-Length': '76', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:44,861 views Request body: {"message": "can you tell me lottery numbers?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:44,861 views User input: can you tell me lottery numbers?
INFO 2025-05-31 00:15:44,862 views Current session state: None
INFO 2025-05-31 00:15:44,863 views Current user data: None
INFO 2025-05-31 00:15:44,869 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:45,275 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:45,275 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:45,275 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:45,275 dialog_manager Processing message: can you tell me lottery numbers?
INFO 2025-05-31 00:15:45,275 dialog_manager Processing input: can you tell me lottery numbers?
INFO 2025-05-31 00:15:45,275 dialog_manager Using language: en
INFO 2025-05-31 00:15:45,275 dialog_manager Detecting intent for input: can you tell me lottery numbers?
INFO 2025-05-31 00:15:45,293 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:15:49,476 dialog_manager Sentiment analysis: Neutral (confidence: 0.85)
INFO 2025-05-31 00:15:49,476 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:49,483 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:49,483 views Updated session state: greeting
INFO 2025-05-31 00:15:49,483 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:49,484 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:49,484 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:49,484 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:49,539 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-31 00:15:50,050 views Database connection successful
INFO 2025-05-31 00:15:50,050 views Received chat request at 2025-05-31 00:15:50.050223
DEBUG 2025-05-31 00:15:50,051 views Request headers: {'Content-Length': '79', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:50,051 views Request body: {"message": "do you support any political party?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:50,051 views User input: do you support any political party?
INFO 2025-05-31 00:15:50,052 views Current session state: None
INFO 2025-05-31 00:15:50,052 views Current user data: None
INFO 2025-05-31 00:15:50,054 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:50,499 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:50,500 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:50,500 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:50,501 dialog_manager Processing message: do you support any political party?
INFO 2025-05-31 00:15:50,501 dialog_manager Processing input: do you support any political party?
INFO 2025-05-31 00:15:50,514 dialog_manager Using language: en
INFO 2025-05-31 00:15:50,514 dialog_manager Detecting intent for input: do you support any political party?
INFO 2025-05-31 00:15:50,523 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:50,534 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:50,535 views Updated session state: greeting
INFO 2025-05-31 00:15:50,535 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:50,542 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:50,543 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:50,546 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 329
INFO 2025-05-31 00:15:51,055 views Database connection successful
INFO 2025-05-31 00:15:51,055 views Received chat request at 2025-05-31 00:15:51.055896
DEBUG 2025-05-31 00:15:51,056 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:51,057 views Request body: {"message": "what movies do you like?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:51,057 views User input: what movies do you like?
INFO 2025-05-31 00:15:51,059 views Current session state: None
INFO 2025-05-31 00:15:51,059 views Current user data: None
INFO 2025-05-31 00:15:51,063 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:51,488 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:51,488 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:51,489 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:51,489 dialog_manager Processing message: what movies do you like?
INFO 2025-05-31 00:15:51,489 dialog_manager Processing input: what movies do you like?
INFO 2025-05-31 00:15:51,496 dialog_manager Using language: en
INFO 2025-05-31 00:15:51,496 dialog_manager Detecting intent for input: what movies do you like?
INFO 2025-05-31 00:15:51,502 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:51,509 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:51,509 views Updated session state: greeting
INFO 2025-05-31 00:15:51,510 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:51,514 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:51,515 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:51,519 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 392
INFO 2025-05-31 00:15:52,031 views Database connection successful
INFO 2025-05-31 00:15:52,032 views Received chat request at 2025-05-31 00:15:52.032888
DEBUG 2025-05-31 00:15:52,032 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:52,033 views Request body: {"message": "can you sing?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:52,033 views User input: can you sing?
INFO 2025-05-31 00:15:52,033 views Current session state: None
INFO 2025-05-31 00:15:52,035 views Current user data: None
INFO 2025-05-31 00:15:52,036 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:52,511 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:52,511 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:52,511 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:52,511 dialog_manager Processing message: can you sing?
INFO 2025-05-31 00:15:52,511 dialog_manager Processing input: can you sing?
INFO 2025-05-31 00:15:52,523 dialog_manager Using language: en
INFO 2025-05-31 00:15:52,523 dialog_manager Detecting intent for input: can you sing?
INFO 2025-05-31 00:15:52,529 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:52,543 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:52,544 views Updated session state: greeting
INFO 2025-05-31 00:15:52,544 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:52,552 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:52,552 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:52,552 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-31 00:15:53,074 views Database connection successful
INFO 2025-05-31 00:15:53,074 views Received chat request at 2025-05-31 00:15:53.074913
DEBUG 2025-05-31 00:15:53,074 views Request headers: {'Content-Length': '82', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:53,084 views Request body: {"message": "what do you think about AI regulation?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:53,086 views User input: what do you think about AI regulation?
INFO 2025-05-31 00:15:53,086 views Current session state: None
INFO 2025-05-31 00:15:53,086 views Current user data: None
INFO 2025-05-31 00:15:53,090 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:53,521 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:53,521 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:53,524 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:53,525 dialog_manager Processing message: what do you think about AI regulation?
INFO 2025-05-31 00:15:53,525 dialog_manager Processing input: what do you think about AI regulation?
INFO 2025-05-31 00:15:53,525 dialog_manager Using language: en
INFO 2025-05-31 00:15:53,525 dialog_manager Detecting intent for input: what do you think about AI regulation?
INFO 2025-05-31 00:15:53,537 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 00:15:53,537 dialog_manager Detected intent: greeting
INFO 2025-05-31 00:15:53,541 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:53,541 views Updated session state: collecting_feedback_rating
INFO 2025-05-31 00:15:53,541 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:53,547 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:53,547 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:53,550 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 532
INFO 2025-05-31 00:15:54,060 views Database connection successful
INFO 2025-05-31 00:15:54,060 views Received chat request at 2025-05-31 00:15:54.060194
DEBUG 2025-05-31 00:15:54,060 views Request headers: {'Content-Length': '72', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:54,060 views Request body: {"message": "who invented the light bulb?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:54,067 views User input: who invented the light bulb?
INFO 2025-05-31 00:15:54,067 views Current session state: None
INFO 2025-05-31 00:15:54,068 views Current user data: None
INFO 2025-05-31 00:15:54,070 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:54,506 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:54,506 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:54,506 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:54,506 dialog_manager Processing message: who invented the light bulb?
INFO 2025-05-31 00:15:54,506 dialog_manager Processing input: who invented the light bulb?
INFO 2025-05-31 00:15:54,506 dialog_manager Using language: en
INFO 2025-05-31 00:15:54,506 dialog_manager Detecting intent for input: who invented the light bulb?
INFO 2025-05-31 00:15:54,519 dialog_manager Detected intent: unknown
INFO 2025-05-31 00:15:57,732 dialog_manager Sentiment analysis: Neutral (confidence: 0.76)
INFO 2025-05-31 00:15:57,734 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:57,737 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:57,738 views Updated session state: greeting
INFO 2025-05-31 00:15:57,738 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:15:57,739 views Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 00:15:57,739 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:57,741 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:57,797 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 197
INFO 2025-05-31 00:15:58,317 views Database connection successful
INFO 2025-05-31 00:15:58,319 views Received chat request at 2025-05-31 00:15:58.319486
DEBUG 2025-05-31 00:15:58,320 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:58,322 views Request body: {"message": "which phone brand is the best?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:58,324 views User input: which phone brand is the best?
INFO 2025-05-31 00:15:58,325 views Current session state: None
INFO 2025-05-31 00:15:58,325 views Current user data: None
INFO 2025-05-31 00:15:58,327 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:58,759 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:58,759 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:58,761 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:58,761 dialog_manager Processing message: which phone brand is the best?
INFO 2025-05-31 00:15:58,761 dialog_manager Processing input: which phone brand is the best?
INFO 2025-05-31 00:15:58,764 dialog_manager Using language: en
INFO 2025-05-31 00:15:58,765 dialog_manager Detecting intent for input: which phone brand is the best?
INFO 2025-05-31 00:15:58,776 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 00:15:58,777 dialog_manager Detected intent: greeting
INFO 2025-05-31 00:15:58,779 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:58,779 views Updated session state: greeting
INFO 2025-05-31 00:15:58,779 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:58,784 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:58,786 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:58,789 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 396
INFO 2025-05-31 00:15:59,299 views Database connection successful
INFO 2025-05-31 00:15:59,299 views Received chat request at 2025-05-31 00:15:59.299975
DEBUG 2025-05-31 00:15:59,299 views Request headers: {'Content-Length': '60', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:15:59,307 views Request body: {"message": "how old are you?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:15:59,308 views User input: how old are you?
INFO 2025-05-31 00:15:59,309 views Current session state: None
INFO 2025-05-31 00:15:59,310 views Current user data: None
INFO 2025-05-31 00:15:59,315 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:15:59,718 dialog_manager Using device: cpu
WARNING 2025-05-31 00:15:59,718 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:15:59,718 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:15:59,718 dialog_manager Processing message: how old are you?
INFO 2025-05-31 00:15:59,734 dialog_manager Processing input: how old are you?
INFO 2025-05-31 00:15:59,734 dialog_manager Using language: en
INFO 2025-05-31 00:15:59,734 dialog_manager Detecting intent for input: how old are you?
INFO 2025-05-31 00:15:59,745 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:15:59,749 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:59,750 views Updated session state: greeting
INFO 2025-05-31 00:15:59,750 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:15:59,758 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:15:59,759 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:15:59,761 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 321
INFO 2025-05-31 00:16:00,281 views Database connection successful
INFO 2025-05-31 00:16:00,282 views Received chat request at 2025-05-31 00:16:00.282259
DEBUG 2025-05-31 00:16:00,282 views Request headers: {'Content-Length': '62', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:16:00,283 views Request body: {"message": "where do you live?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:16:00,283 views User input: where do you live?
INFO 2025-05-31 00:16:00,283 views Current session state: None
INFO 2025-05-31 00:16:00,284 views Current user data: None
INFO 2025-05-31 00:16:00,285 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:16:00,719 dialog_manager Using device: cpu
WARNING 2025-05-31 00:16:00,719 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:16:00,719 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:16:00,719 dialog_manager Processing message: where do you live?
INFO 2025-05-31 00:16:00,719 dialog_manager Processing input: where do you live?
INFO 2025-05-31 00:16:00,719 dialog_manager Using language: en
INFO 2025-05-31 00:16:00,719 dialog_manager Detecting intent for input: where do you live?
INFO 2025-05-31 00:16:00,734 dialog_manager Detected intent: location
INFO 2025-05-31 00:16:00,737 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:00,737 views Updated session state: greeting
INFO 2025-05-31 00:16:00,738 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:00,742 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:16:00,743 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:16:00,746 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 318
INFO 2025-05-31 00:16:01,254 views Database connection successful
INFO 2025-05-31 00:16:01,254 views Received chat request at 2025-05-31 00:16:01.254873
DEBUG 2025-05-31 00:16:01,265 views Request headers: {'Content-Length': '64', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:16:01,266 views Request body: {"message": "what time is it now?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:16:01,266 views User input: what time is it now?
INFO 2025-05-31 00:16:01,267 views Current session state: None
INFO 2025-05-31 00:16:01,268 views Current user data: None
INFO 2025-05-31 00:16:01,272 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:16:01,678 dialog_manager Using device: cpu
WARNING 2025-05-31 00:16:01,678 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:16:01,678 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:16:01,678 dialog_manager Processing message: what time is it now?
INFO 2025-05-31 00:16:01,678 dialog_manager Processing input: what time is it now?
INFO 2025-05-31 00:16:01,678 dialog_manager Using language: en
INFO 2025-05-31 00:16:01,678 dialog_manager Detecting intent for input: what time is it now?
INFO 2025-05-31 00:16:01,694 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:16:01,701 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:01,701 views Updated session state: greeting
INFO 2025-05-31 00:16:01,701 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:01,705 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:16:01,706 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:16:01,708 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 327
INFO 2025-05-31 00:16:02,215 views Database connection successful
INFO 2025-05-31 00:16:02,215 views Received chat request at 2025-05-31 00:16:02.215576
DEBUG 2025-05-31 00:16:02,215 views Request headers: {'Content-Length': '63', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:16:02,220 views Request body: {"message": "will it rain today?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:16:02,220 views User input: will it rain today?
INFO 2025-05-31 00:16:02,220 views Current session state: None
INFO 2025-05-31 00:16:02,220 views Current user data: None
INFO 2025-05-31 00:16:02,223 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:16:02,636 dialog_manager Using device: cpu
WARNING 2025-05-31 00:16:02,636 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:16:02,636 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:16:02,636 dialog_manager Processing message: will it rain today?
INFO 2025-05-31 00:16:02,636 dialog_manager Processing input: will it rain today?
INFO 2025-05-31 00:16:02,636 dialog_manager Using language: en
INFO 2025-05-31 00:16:02,636 dialog_manager Detecting intent for input: will it rain today?
INFO 2025-05-31 00:16:02,649 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:16:02,655 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:02,656 views Updated session state: greeting
INFO 2025-05-31 00:16:02,656 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:02,660 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:16:02,661 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:16:02,665 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-31 00:16:03,189 views Database connection successful
INFO 2025-05-31 00:16:03,189 views Received chat request at 2025-05-31 00:16:03.189777
DEBUG 2025-05-31 00:16:03,189 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:16:03,197 views Request body: {"message": "tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-31 00:16:03,198 views User input: tell me a joke
INFO 2025-05-31 00:16:03,198 views Current session state: None
INFO 2025-05-31 00:16:03,201 views Current user data: None
INFO 2025-05-31 00:16:03,208 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:16:03,615 dialog_manager Using device: cpu
WARNING 2025-05-31 00:16:03,615 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:16:03,615 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:16:03,615 dialog_manager Processing message: tell me a joke
INFO 2025-05-31 00:16:03,615 dialog_manager Processing input: tell me a joke
INFO 2025-05-31 00:16:03,624 dialog_manager Using language: en
INFO 2025-05-31 00:16:03,624 dialog_manager Detecting intent for input: tell me a joke
INFO 2025-05-31 00:16:03,630 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:16:03,634 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:03,635 views Updated session state: greeting
INFO 2025-05-31 00:16:03,636 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:03,641 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:16:03,641 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:16:03,644 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-31 00:16:04,158 views Database connection successful
INFO 2025-05-31 00:16:04,158 views Received chat request at 2025-05-31 00:16:04.158972
DEBUG 2025-05-31 00:16:04,161 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:16:04,161 views Request body: {"message": "what's the latest news?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:16:04,163 views User input: what's the latest news?
INFO 2025-05-31 00:16:04,164 views Current session state: None
INFO 2025-05-31 00:16:04,168 views Current user data: None
INFO 2025-05-31 00:16:04,171 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:16:04,564 dialog_manager Using device: cpu
WARNING 2025-05-31 00:16:04,564 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:16:04,564 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:16:04,579 dialog_manager Processing message: what's the latest news?
INFO 2025-05-31 00:16:04,579 dialog_manager Processing input: what's the latest news?
INFO 2025-05-31 00:16:04,579 dialog_manager Using language: en
INFO 2025-05-31 00:16:04,579 dialog_manager Detecting intent for input: what's the latest news?
INFO 2025-05-31 00:16:04,588 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:16:04,590 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:04,591 views Updated session state: greeting
INFO 2025-05-31 00:16:04,591 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:16:04,595 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:16:04,595 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:16:04,599 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 375
INFO 2025-05-31 00:16:30,908 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:16:41,095 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:16:51,691 middleware Admin user found: admin
INFO 2025-05-31 00:17:01,364 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:17:03,845 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:17:10,758 middleware Admin user found: admin
INFO 2025-05-31 00:17:22,970 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:17:25,428 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:17:32,831 middleware Admin user found: admin
INFO 2025-05-31 00:17:44,786 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:17:47,368 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:17:55,890 middleware Admin user found: admin
INFO 2025-05-31 00:18:22,142 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:18:24,670 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:18:32,783 middleware Admin user found: admin
INFO 2025-05-31 00:18:54,397 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:18:56,643 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:19:04,598 middleware Admin user found: admin
INFO 2025-05-31 00:19:06,733 views Database connection successful
INFO 2025-05-31 00:19:06,733 views Received chat request at 2025-05-31 00:19:06.733839
DEBUG 2025-05-31 00:19:06,733 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:06,733 views Request body: {"message": "do you have girlfriend?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:06,733 views User input: do you have girlfriend?
INFO 2025-05-31 00:19:06,733 views Current session state: None
INFO 2025-05-31 00:19:06,733 views Current user data: None
INFO 2025-05-31 00:19:06,741 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:07,336 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:07,336 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:07,336 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:07,353 dialog_manager Processing message: do you have girlfriend?
INFO 2025-05-31 00:19:07,353 dialog_manager Processing input: do you have girlfriend?
INFO 2025-05-31 00:19:07,757 dialog_manager Using language: en
INFO 2025-05-31 00:19:07,757 dialog_manager Detecting intent for input: do you have girlfriend?
INFO 2025-05-31 00:19:07,783 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:07,796 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:07,797 views Updated session state: greeting
INFO 2025-05-31 00:19:07,798 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:07,812 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:07,813 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:07,816 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-31 00:19:08,323 views Database connection successful
INFO 2025-05-31 00:19:08,323 views Received chat request at 2025-05-31 00:19:08.323220
DEBUG 2025-05-31 00:19:08,323 views Request headers: {'Content-Length': '76', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:08,323 views Request body: {"message": "what program are you written in?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:08,331 views User input: what program are you written in?
INFO 2025-05-31 00:19:08,331 views Current session state: None
INFO 2025-05-31 00:19:08,331 views Current user data: None
INFO 2025-05-31 00:19:08,333 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:08,757 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:08,757 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:08,757 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:08,757 dialog_manager Processing message: what program are you written in?
INFO 2025-05-31 00:19:08,757 dialog_manager Processing input: what program are you written in?
INFO 2025-05-31 00:19:08,762 dialog_manager Using language: en
INFO 2025-05-31 00:19:08,765 dialog_manager Detecting intent for input: what program are you written in?
INFO 2025-05-31 00:19:08,773 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:08,776 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:08,777 views Updated session state: greeting
INFO 2025-05-31 00:19:08,777 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:08,784 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:08,785 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:08,788 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 370
INFO 2025-05-31 00:19:09,296 views Database connection successful
INFO 2025-05-31 00:19:09,296 views Received chat request at 2025-05-31 00:19:09.296593
DEBUG 2025-05-31 00:19:09,296 views Request headers: {'Content-Length': '62', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:09,296 views Request body: {"message": "do you play games?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:09,296 views User input: do you play games?
INFO 2025-05-31 00:19:09,296 views Current session state: None
INFO 2025-05-31 00:19:09,305 views Current user data: None
INFO 2025-05-31 00:19:09,306 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:09,737 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:09,737 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:09,737 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:09,737 dialog_manager Processing message: do you play games?
INFO 2025-05-31 00:19:09,737 dialog_manager Processing input: do you play games?
INFO 2025-05-31 00:19:09,748 dialog_manager Using language: en
INFO 2025-05-31 00:19:09,749 dialog_manager Detecting intent for input: do you play games?
INFO 2025-05-31 00:19:09,755 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:09,761 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:09,761 views Updated session state: greeting
INFO 2025-05-31 00:19:09,762 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:09,767 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:09,767 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:09,772 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 381
INFO 2025-05-31 00:19:10,289 views Database connection successful
INFO 2025-05-31 00:19:10,289 views Received chat request at 2025-05-31 00:19:10.289272
DEBUG 2025-05-31 00:19:10,289 views Request headers: {'Content-Length': '65', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:10,303 views Request body: {"message": "do you have siblings?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:10,304 views User input: do you have siblings?
INFO 2025-05-31 00:19:10,305 views Current session state: None
INFO 2025-05-31 00:19:10,305 views Current user data: None
INFO 2025-05-31 00:19:10,309 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:10,745 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:10,745 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:10,745 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:10,745 dialog_manager Processing message: do you have siblings?
INFO 2025-05-31 00:19:10,745 dialog_manager Processing input: do you have siblings?
INFO 2025-05-31 00:19:10,745 dialog_manager Using language: en
INFO 2025-05-31 00:19:10,745 dialog_manager Detecting intent for input: do you have siblings?
INFO 2025-05-31 00:19:10,762 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:10,772 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:10,773 views Updated session state: greeting
INFO 2025-05-31 00:19:10,774 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:10,780 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:10,781 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:10,784 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 366
INFO 2025-05-31 00:19:11,296 views Database connection successful
INFO 2025-05-31 00:19:11,296 views Received chat request at 2025-05-31 00:19:11.296436
DEBUG 2025-05-31 00:19:11,296 views Request headers: {'Content-Length': '75', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:11,304 views Request body: {"message": "can you help me write homework?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:11,305 views User input: can you help me write homework?
INFO 2025-05-31 00:19:11,307 views Current session state: None
INFO 2025-05-31 00:19:11,308 views Current user data: None
INFO 2025-05-31 00:19:11,313 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:11,923 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:11,923 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:11,923 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:11,923 dialog_manager Processing message: can you help me write homework?
INFO 2025-05-31 00:19:11,923 dialog_manager Processing input: can you help me write homework?
INFO 2025-05-31 00:19:11,923 dialog_manager Using language: en
INFO 2025-05-31 00:19:11,923 dialog_manager Detecting intent for input: can you help me write homework?
INFO 2025-05-31 00:19:11,940 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:11,944 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:11,944 views Updated session state: greeting
INFO 2025-05-31 00:19:11,946 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:11,950 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:11,951 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:11,955 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 376
INFO 2025-05-31 00:19:12,463 views Database connection successful
INFO 2025-05-31 00:19:12,463 views Received chat request at 2025-05-31 00:19:12.463588
DEBUG 2025-05-31 00:19:12,466 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:12,467 views Request body: {"message": "who is your boss?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:12,467 views User input: who is your boss?
INFO 2025-05-31 00:19:12,467 views Current session state: None
INFO 2025-05-31 00:19:12,468 views Current user data: None
INFO 2025-05-31 00:19:12,470 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:12,877 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:12,877 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:12,877 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:12,877 dialog_manager Processing message: who is your boss?
INFO 2025-05-31 00:19:12,877 dialog_manager Processing input: who is your boss?
INFO 2025-05-31 00:19:12,877 dialog_manager Using language: en
INFO 2025-05-31 00:19:12,877 dialog_manager Detecting intent for input: who is your boss?
INFO 2025-05-31 00:19:12,877 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:12,894 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:12,894 views Updated session state: greeting
INFO 2025-05-31 00:19:12,894 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:12,900 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:12,901 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:12,904 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 367
INFO 2025-05-31 00:19:13,409 views Database connection successful
INFO 2025-05-31 00:19:13,409 views Received chat request at 2025-05-31 00:19:13.409712
DEBUG 2025-05-31 00:19:13,409 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:13,415 views Request body: {"message": "will humans be replaced by AI?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:13,416 views User input: will humans be replaced by AI?
INFO 2025-05-31 00:19:13,416 views Current session state: None
INFO 2025-05-31 00:19:13,417 views Current user data: None
INFO 2025-05-31 00:19:13,418 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:13,875 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:13,877 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:13,878 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:13,878 dialog_manager Processing message: will humans be replaced by AI?
INFO 2025-05-31 00:19:13,878 dialog_manager Processing input: will humans be replaced by AI?
INFO 2025-05-31 00:19:13,878 dialog_manager Using language: en
INFO 2025-05-31 00:19:13,878 dialog_manager Detecting intent for input: will humans be replaced by AI?
INFO 2025-05-31 00:19:13,888 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:13,892 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:13,892 views Updated session state: greeting
INFO 2025-05-31 00:19:13,893 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:13,900 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:13,900 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:13,903 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 382
INFO 2025-05-31 00:19:14,407 views Database connection successful
INFO 2025-05-31 00:19:14,407 views Received chat request at 2025-05-31 00:19:14.407976
DEBUG 2025-05-31 00:19:14,418 views Request headers: {'Content-Length': '78', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:14,419 views Request body: {"message": "when is Malaysia independence day?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:14,420 views User input: when is Malaysia independence day?
INFO 2025-05-31 00:19:14,421 views Current session state: None
INFO 2025-05-31 00:19:14,421 views Current user data: None
INFO 2025-05-31 00:19:14,427 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:14,841 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:14,841 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:14,841 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:14,841 dialog_manager Processing message: when is Malaysia independence day?
INFO 2025-05-31 00:19:14,841 dialog_manager Processing input: when is Malaysia independence day?
INFO 2025-05-31 00:19:14,859 dialog_manager Using language: en
INFO 2025-05-31 00:19:14,860 dialog_manager Detecting intent for input: when is Malaysia independence day?
INFO 2025-05-31 00:19:14,865 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:14,868 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:14,868 views Updated session state: greeting
INFO 2025-05-31 00:19:14,868 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:14,873 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:14,874 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:14,878 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 358
INFO 2025-05-31 00:19:15,393 views Database connection successful
INFO 2025-05-31 00:19:15,393 views Received chat request at 2025-05-31 00:19:15.393256
DEBUG 2025-05-31 00:19:15,398 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:15,399 views Request body: {"message": "do you believe in fate?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:15,400 views User input: do you believe in fate?
INFO 2025-05-31 00:19:15,400 views Current session state: None
INFO 2025-05-31 00:19:15,400 views Current user data: None
INFO 2025-05-31 00:19:15,402 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:15,846 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:15,846 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:15,846 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:15,859 dialog_manager Processing message: do you believe in fate?
INFO 2025-05-31 00:19:15,859 dialog_manager Processing input: do you believe in fate?
INFO 2025-05-31 00:19:15,861 dialog_manager Using language: en
INFO 2025-05-31 00:19:15,861 dialog_manager Detecting intent for input: do you believe in fate?
INFO 2025-05-31 00:19:15,882 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:15,903 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:15,904 views Updated session state: greeting
INFO 2025-05-31 00:19:15,904 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:15,910 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:15,911 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:15,915 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 307
INFO 2025-05-31 00:19:16,420 views Database connection successful
INFO 2025-05-31 00:19:16,420 views Received chat request at 2025-05-31 00:19:16.420711
DEBUG 2025-05-31 00:19:16,420 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:16,420 views Request body: {"message": "do you have pets?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:16,426 views User input: do you have pets?
INFO 2025-05-31 00:19:16,426 views Current session state: None
INFO 2025-05-31 00:19:16,426 views Current user data: None
INFO 2025-05-31 00:19:16,428 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:16,819 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:16,819 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:16,821 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:16,821 dialog_manager Processing message: do you have pets?
INFO 2025-05-31 00:19:16,821 dialog_manager Processing input: do you have pets?
INFO 2025-05-31 00:19:16,821 dialog_manager Using language: en
INFO 2025-05-31 00:19:16,821 dialog_manager Detecting intent for input: do you have pets?
INFO 2025-05-31 00:19:16,835 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:16,846 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:16,846 views Updated session state: greeting
INFO 2025-05-31 00:19:16,847 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:16,852 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:16,854 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:16,858 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 364
INFO 2025-05-31 00:19:17,384 views Database connection successful
INFO 2025-05-31 00:19:17,384 views Received chat request at 2025-05-31 00:19:17.384447
DEBUG 2025-05-31 00:19:17,387 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:17,388 views Request body: {"message": "do you prefer sea or mountain?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:17,389 views User input: do you prefer sea or mountain?
INFO 2025-05-31 00:19:17,389 views Current session state: None
INFO 2025-05-31 00:19:17,392 views Current user data: None
INFO 2025-05-31 00:19:17,395 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:17,805 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:17,805 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:17,805 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:17,805 dialog_manager Processing message: do you prefer sea or mountain?
INFO 2025-05-31 00:19:17,805 dialog_manager Processing input: do you prefer sea or mountain?
INFO 2025-05-31 00:19:17,823 dialog_manager Using language: en
INFO 2025-05-31 00:19:17,823 dialog_manager Detecting intent for input: do you prefer sea or mountain?
INFO 2025-05-31 00:19:17,828 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:17,833 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:17,833 views Updated session state: greeting
INFO 2025-05-31 00:19:17,835 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:17,841 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:17,842 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:17,845 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 427
INFO 2025-05-31 00:19:18,358 views Database connection successful
INFO 2025-05-31 00:19:18,358 views Received chat request at 2025-05-31 00:19:18.358195
DEBUG 2025-05-31 00:19:18,358 views Request headers: {'Content-Length': '61', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:18,369 views Request body: {"message": "you are very cute", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:18,371 views User input: you are very cute
INFO 2025-05-31 00:19:18,374 views Current session state: None
INFO 2025-05-31 00:19:18,376 views Current user data: None
INFO 2025-05-31 00:19:18,380 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:18,788 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:18,788 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:18,788 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:18,788 dialog_manager Processing message: you are very cute
INFO 2025-05-31 00:19:18,788 dialog_manager Processing input: you are very cute
INFO 2025-05-31 00:19:18,788 dialog_manager Using language: en
INFO 2025-05-31 00:19:18,788 dialog_manager Detecting intent for input: you are very cute
INFO 2025-05-31 00:19:18,805 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:18,810 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:18,811 views Updated session state: greeting
INFO 2025-05-31 00:19:18,811 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:18,816 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:18,816 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:18,820 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 328
INFO 2025-05-31 00:19:19,337 views Database connection successful
INFO 2025-05-31 00:19:19,337 views Received chat request at 2025-05-31 00:19:19.337494
DEBUG 2025-05-31 00:19:19,337 views Request headers: {'Content-Length': '76', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:19,351 views Request body: {"message": "can you tell me lottery numbers?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:19,352 views User input: can you tell me lottery numbers?
INFO 2025-05-31 00:19:19,352 views Current session state: None
INFO 2025-05-31 00:19:19,353 views Current user data: None
INFO 2025-05-31 00:19:19,359 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:19,770 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:19,770 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:19,770 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:19,770 dialog_manager Processing message: can you tell me lottery numbers?
INFO 2025-05-31 00:19:19,770 dialog_manager Processing input: can you tell me lottery numbers?
INFO 2025-05-31 00:19:19,770 dialog_manager Using language: en
INFO 2025-05-31 00:19:19,770 dialog_manager Detecting intent for input: can you tell me lottery numbers?
INFO 2025-05-31 00:19:19,791 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:19,799 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:19,799 views Updated session state: greeting
INFO 2025-05-31 00:19:19,800 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:19,805 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:19,806 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:19,810 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 350
INFO 2025-05-31 00:19:20,319 views Database connection successful
INFO 2025-05-31 00:19:20,319 views Received chat request at 2025-05-31 00:19:20.319842
DEBUG 2025-05-31 00:19:20,319 views Request headers: {'Content-Length': '79', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:20,326 views Request body: {"message": "do you support any political party?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:20,327 views User input: do you support any political party?
INFO 2025-05-31 00:19:20,327 views Current session state: None
INFO 2025-05-31 00:19:20,327 views Current user data: None
INFO 2025-05-31 00:19:20,330 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:20,716 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:20,716 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:20,716 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:20,730 dialog_manager Processing message: do you support any political party?
INFO 2025-05-31 00:19:20,730 dialog_manager Processing input: do you support any political party?
INFO 2025-05-31 00:19:20,731 dialog_manager Using language: en
INFO 2025-05-31 00:19:20,731 dialog_manager Detecting intent for input: do you support any political party?
INFO 2025-05-31 00:19:20,745 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:20,755 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:20,756 views Updated session state: greeting
INFO 2025-05-31 00:19:20,756 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:20,761 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:20,761 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:20,765 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 329
INFO 2025-05-31 00:19:21,270 views Database connection successful
INFO 2025-05-31 00:19:21,270 views Received chat request at 2025-05-31 00:19:21.270213
DEBUG 2025-05-31 00:19:21,270 views Request headers: {'Content-Length': '68', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:21,280 views Request body: {"message": "what movies do you like?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:21,281 views User input: what movies do you like?
INFO 2025-05-31 00:19:21,281 views Current session state: None
INFO 2025-05-31 00:19:21,283 views Current user data: None
INFO 2025-05-31 00:19:21,286 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:21,915 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:21,915 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:21,915 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:21,915 dialog_manager Processing message: what movies do you like?
INFO 2025-05-31 00:19:21,915 dialog_manager Processing input: what movies do you like?
INFO 2025-05-31 00:19:21,915 dialog_manager Using language: en
INFO 2025-05-31 00:19:21,915 dialog_manager Detecting intent for input: what movies do you like?
INFO 2025-05-31 00:19:21,933 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:21,941 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:21,941 views Updated session state: greeting
INFO 2025-05-31 00:19:21,942 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:21,946 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:21,948 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:21,952 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 392
INFO 2025-05-31 00:19:22,477 views Database connection successful
INFO 2025-05-31 00:19:22,479 views Received chat request at 2025-05-31 00:19:22.477175
DEBUG 2025-05-31 00:19:22,481 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:22,483 views Request body: {"message": "can you sing?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:22,484 views User input: can you sing?
INFO 2025-05-31 00:19:22,488 views Current session state: None
INFO 2025-05-31 00:19:22,489 views Current user data: None
INFO 2025-05-31 00:19:22,491 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:22,881 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:22,881 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:22,881 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:22,881 dialog_manager Processing message: can you sing?
INFO 2025-05-31 00:19:22,881 dialog_manager Processing input: can you sing?
INFO 2025-05-31 00:19:22,890 dialog_manager Using language: en
INFO 2025-05-31 00:19:22,891 dialog_manager Detecting intent for input: can you sing?
INFO 2025-05-31 00:19:22,896 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:22,903 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:22,904 views Updated session state: greeting
INFO 2025-05-31 00:19:22,904 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:22,909 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:22,910 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:22,913 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-31 00:19:23,426 views Database connection successful
INFO 2025-05-31 00:19:23,426 views Received chat request at 2025-05-31 00:19:23.426846
DEBUG 2025-05-31 00:19:23,426 views Request headers: {'Content-Length': '82', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:23,430 views Request body: {"message": "what do you think about AI regulation?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:23,431 views User input: what do you think about AI regulation?
INFO 2025-05-31 00:19:23,432 views Current session state: None
INFO 2025-05-31 00:19:23,432 views Current user data: None
INFO 2025-05-31 00:19:23,439 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:23,834 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:23,834 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:23,834 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:23,834 dialog_manager Processing message: what do you think about AI regulation?
INFO 2025-05-31 00:19:23,834 dialog_manager Processing input: what do you think about AI regulation?
INFO 2025-05-31 00:19:23,838 dialog_manager Using language: en
INFO 2025-05-31 00:19:23,838 dialog_manager Detecting intent for input: what do you think about AI regulation?
INFO 2025-05-31 00:19:23,843 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 00:19:23,843 dialog_manager Detected intent: greeting
INFO 2025-05-31 00:19:23,848 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:19:23,849 views Updated session state: collecting_feedback_rating
INFO 2025-05-31 00:19:23,849 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>}
INFO 2025-05-31 00:19:23,855 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:23,856 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:23,859 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 532
INFO 2025-05-31 00:19:24,364 views Database connection successful
INFO 2025-05-31 00:19:24,364 views Received chat request at 2025-05-31 00:19:24.364466
DEBUG 2025-05-31 00:19:24,364 views Request headers: {'Content-Length': '72', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:24,372 views Request body: {"message": "who invented the light bulb?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:24,373 views User input: who invented the light bulb?
INFO 2025-05-31 00:19:24,374 views Current session state: None
INFO 2025-05-31 00:19:24,374 views Current user data: None
INFO 2025-05-31 00:19:24,376 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:24,767 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:24,767 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:24,767 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:24,767 dialog_manager Processing message: who invented the light bulb?
INFO 2025-05-31 00:19:24,767 dialog_manager Processing input: who invented the light bulb?
INFO 2025-05-31 00:19:24,781 dialog_manager Using language: en
INFO 2025-05-31 00:19:24,781 dialog_manager Detecting intent for input: who invented the light bulb?
INFO 2025-05-31 00:19:24,781 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:24,790 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:24,791 views Updated session state: greeting
INFO 2025-05-31 00:19:24,791 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:24,796 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:24,797 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:24,801 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 340
INFO 2025-05-31 00:19:25,326 views Database connection successful
INFO 2025-05-31 00:19:25,326 views Received chat request at 2025-05-31 00:19:25.326254
DEBUG 2025-05-31 00:19:25,326 views Request headers: {'Content-Length': '74', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:25,328 views Request body: {"message": "which phone brand is the best?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:25,330 views User input: which phone brand is the best?
INFO 2025-05-31 00:19:25,331 views Current session state: None
INFO 2025-05-31 00:19:25,331 views Current user data: None
INFO 2025-05-31 00:19:25,338 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:25,739 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:25,739 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:25,739 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:25,739 dialog_manager Processing message: which phone brand is the best?
INFO 2025-05-31 00:19:25,739 dialog_manager Processing input: which phone brand is the best?
INFO 2025-05-31 00:19:25,739 dialog_manager Using language: en
INFO 2025-05-31 00:19:25,739 dialog_manager Detecting intent for input: which phone brand is the best?
INFO 2025-05-31 00:19:25,749 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 00:19:25,750 dialog_manager Detected intent: greeting
INFO 2025-05-31 00:19:25,752 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:25,752 views Updated session state: greeting
INFO 2025-05-31 00:19:25,752 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:25,757 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:25,757 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:25,761 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 396
INFO 2025-05-31 00:19:26,270 views Database connection successful
INFO 2025-05-31 00:19:26,270 views Received chat request at 2025-05-31 00:19:26.270215
DEBUG 2025-05-31 00:19:26,270 views Request headers: {'Content-Length': '60', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:26,278 views Request body: {"message": "how old are you?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:26,279 views User input: how old are you?
INFO 2025-05-31 00:19:26,280 views Current session state: None
INFO 2025-05-31 00:19:26,282 views Current user data: None
INFO 2025-05-31 00:19:26,288 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:26,686 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:26,686 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:26,686 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:26,686 dialog_manager Processing message: how old are you?
INFO 2025-05-31 00:19:26,686 dialog_manager Processing input: how old are you?
INFO 2025-05-31 00:19:26,686 dialog_manager Using language: en
INFO 2025-05-31 00:19:26,686 dialog_manager Detecting intent for input: how old are you?
INFO 2025-05-31 00:19:26,691 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:26,702 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:26,703 views Updated session state: greeting
INFO 2025-05-31 00:19:26,703 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:26,707 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:26,707 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:26,712 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 321
INFO 2025-05-31 00:19:27,226 views Database connection successful
INFO 2025-05-31 00:19:27,226 views Received chat request at 2025-05-31 00:19:27.226277
DEBUG 2025-05-31 00:19:27,226 views Request headers: {'Content-Length': '62', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:27,233 views Request body: {"message": "where do you live?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:27,233 views User input: where do you live?
INFO 2025-05-31 00:19:27,234 views Current session state: None
INFO 2025-05-31 00:19:27,234 views Current user data: None
INFO 2025-05-31 00:19:27,235 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:27,627 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:27,627 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:27,627 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:27,627 dialog_manager Processing message: where do you live?
INFO 2025-05-31 00:19:27,627 dialog_manager Processing input: where do you live?
INFO 2025-05-31 00:19:27,642 dialog_manager Using language: en
INFO 2025-05-31 00:19:27,643 dialog_manager Detecting intent for input: where do you live?
INFO 2025-05-31 00:19:27,650 dialog_manager Detected intent: location
INFO 2025-05-31 00:19:27,652 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:27,653 views Updated session state: greeting
INFO 2025-05-31 00:19:27,653 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:27,657 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:27,657 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:27,661 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 318
INFO 2025-05-31 00:19:28,164 views Database connection successful
INFO 2025-05-31 00:19:28,164 views Received chat request at 2025-05-31 00:19:28.164655
DEBUG 2025-05-31 00:19:28,164 views Request headers: {'Content-Length': '64', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:28,171 views Request body: {"message": "what time is it now?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:28,171 views User input: what time is it now?
INFO 2025-05-31 00:19:28,171 views Current session state: None
INFO 2025-05-31 00:19:28,172 views Current user data: None
INFO 2025-05-31 00:19:28,174 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:28,597 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:28,597 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:28,597 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:28,597 dialog_manager Processing message: what time is it now?
INFO 2025-05-31 00:19:28,597 dialog_manager Processing input: what time is it now?
INFO 2025-05-31 00:19:28,597 dialog_manager Using language: en
INFO 2025-05-31 00:19:28,597 dialog_manager Detecting intent for input: what time is it now?
INFO 2025-05-31 00:19:28,597 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:28,608 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:28,608 views Updated session state: greeting
INFO 2025-05-31 00:19:28,608 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:28,613 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:28,614 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:28,618 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 327
INFO 2025-05-31 00:19:29,137 views Database connection successful
INFO 2025-05-31 00:19:29,137 views Received chat request at 2025-05-31 00:19:29.137732
DEBUG 2025-05-31 00:19:29,137 views Request headers: {'Content-Length': '63', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:29,147 views Request body: {"message": "will it rain today?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:29,148 views User input: will it rain today?
INFO 2025-05-31 00:19:29,150 views Current session state: None
INFO 2025-05-31 00:19:29,152 views Current user data: None
INFO 2025-05-31 00:19:29,155 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:29,567 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:29,567 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:29,567 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:29,567 dialog_manager Processing message: will it rain today?
INFO 2025-05-31 00:19:29,567 dialog_manager Processing input: will it rain today?
INFO 2025-05-31 00:19:29,567 dialog_manager Using language: en
INFO 2025-05-31 00:19:29,567 dialog_manager Detecting intent for input: will it rain today?
INFO 2025-05-31 00:19:29,578 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:29,583 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:29,584 views Updated session state: greeting
INFO 2025-05-31 00:19:29,584 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:29,588 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:29,589 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:29,593 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 354
INFO 2025-05-31 00:19:30,104 views Database connection successful
INFO 2025-05-31 00:19:30,104 views Received chat request at 2025-05-31 00:19:30.104774
DEBUG 2025-05-31 00:19:30,117 views Request headers: {'Content-Length': '58', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:30,117 views Request body: {"message": "tell me a joke", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:30,119 views User input: tell me a joke
INFO 2025-05-31 00:19:30,119 views Current session state: None
INFO 2025-05-31 00:19:30,121 views Current user data: None
INFO 2025-05-31 00:19:30,124 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:30,514 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:30,514 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:30,529 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:30,529 dialog_manager Processing message: tell me a joke
INFO 2025-05-31 00:19:30,529 dialog_manager Processing input: tell me a joke
INFO 2025-05-31 00:19:30,529 dialog_manager Using language: en
INFO 2025-05-31 00:19:30,529 dialog_manager Detecting intent for input: tell me a joke
INFO 2025-05-31 00:19:30,541 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:30,545 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:30,546 views Updated session state: greeting
INFO 2025-05-31 00:19:30,547 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:30,550 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:30,550 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:30,555 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 389
INFO 2025-05-31 00:19:31,070 views Database connection successful
INFO 2025-05-31 00:19:31,071 views Received chat request at 2025-05-31 00:19:31.071167
DEBUG 2025-05-31 00:19:31,072 views Request headers: {'Content-Length': '67', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG 2025-05-31 00:19:31,079 views Request body: {"message": "what's the latest news?", "user_id": 1, "session": {}}
INFO 2025-05-31 00:19:31,080 views User input: what's the latest news?
INFO 2025-05-31 00:19:31,081 views Current session state: None
INFO 2025-05-31 00:19:31,082 views Current user data: None
INFO 2025-05-31 00:19:31,086 views Found user by ID: admin (ID: 1)
INFO 2025-05-31 00:19:31,736 dialog_manager Using device: cpu
WARNING 2025-05-31 00:19:31,736 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 00:19:31,736 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 00:19:31,736 dialog_manager Processing message: what's the latest news?
INFO 2025-05-31 00:19:31,736 dialog_manager Processing input: what's the latest news?
INFO 2025-05-31 00:19:31,736 dialog_manager Using language: en
INFO 2025-05-31 00:19:31,736 dialog_manager Detecting intent for input: what's the latest news?
INFO 2025-05-31 00:19:31,736 dialog_manager Detected intent: off_topic
INFO 2025-05-31 00:19:31,750 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:31,751 views Updated session state: greeting
INFO 2025-05-31 00:19:31,751 views Updated user data: {'username': 'admin', 'is_returning_customer': False, 'user_id': 1, 'user': <User: admin>, 'off_topic_count': 1}
INFO 2025-05-31 00:19:31,756 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 00:19:31,758 views Removed User object from session for JSON serialization
INFO 2025-05-31 00:19:31,761 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 375
INFO 2025-05-31 00:20:19,472 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 00:20:21,966 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 00:20:29,964 middleware Admin user found: admin
INFO 2025-05-31 20:35:51,333 dialog_manager Using device: cpu
WARNING 2025-05-31 20:35:51,334 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:35:51,337 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:35:51,338 dialog_manager Detecting intent for input: ksdbvjdbvjbsjbvd
INFO 2025-05-31 20:35:51,338 dialog_manager Invalid input detected: no_vowels
INFO 2025-05-31 20:35:51,338 dialog_manager Processing message: ksdbvjdbvjbsjbvd
INFO 2025-05-31 20:35:51,338 dialog_manager Processing input: ksdbvjdbvjbsjbvd
INFO 2025-05-31 20:35:51,885 dialog_manager Using language: en
INFO 2025-05-31 20:35:51,885 dialog_manager Detecting intent for input: ksdbvjdbvjbsjbvd
INFO 2025-05-31 20:35:51,885 dialog_manager Invalid input detected: no_vowels
INFO 2025-05-31 20:35:51,887 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:18,046 dialog_manager Sentiment analysis: Neutral (confidence: 0.69)
INFO 2025-05-31 20:36:18,103 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:36:18,107 dialog_manager Detecting intent for input: asdfasdf
INFO 2025-05-31 20:36:18,107 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:36:18,107 dialog_manager Processing message: asdfasdf
INFO 2025-05-31 20:36:18,107 dialog_manager Processing input: asdfasdf
INFO 2025-05-31 20:36:18,116 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,116 dialog_manager Detecting intent for input: asdfasdf
INFO 2025-05-31 20:36:18,116 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:36:18,116 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:18,214 dialog_manager Sentiment analysis: Neutral (confidence: 0.57)
INFO 2025-05-31 20:36:18,221 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:36:18,222 dialog_manager Detecting intent for input: 123@@@
INFO 2025-05-31 20:36:18,269 dialog_manager Processing message: 123@@@
INFO 2025-05-31 20:36:18,270 dialog_manager Processing input: 123@@@
INFO 2025-05-31 20:36:18,271 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,271 dialog_manager Detecting intent for input: 123@@@
INFO 2025-05-31 20:36:18,277 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:36:18,358 dialog_manager Sentiment analysis: Neutral (confidence: 0.65)
INFO 2025-05-31 20:36:18,358 dialog_manager Generated response: Could you provide more details so I can assist you better?
ERROR 2025-05-31 20:36:18,358 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:36:18,358 dialog_manager Detecting intent for input: qwertyuiop
INFO 2025-05-31 20:36:18,358 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:36:18,358 dialog_manager Processing message: qwertyuiop
INFO 2025-05-31 20:36:18,358 dialog_manager Processing input: qwertyuiop
INFO 2025-05-31 20:36:18,381 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,384 dialog_manager Detecting intent for input: qwertyuiop
INFO 2025-05-31 20:36:18,384 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:36:18,386 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:18,476 dialog_manager Sentiment analysis: Neutral (confidence: 0.66)
INFO 2025-05-31 20:36:18,476 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:36:18,491 dialog_manager Detecting intent for input: aaaaaaaaaa
INFO 2025-05-31 20:36:18,491 dialog_manager Invalid input detected: repetitive
INFO 2025-05-31 20:36:18,491 dialog_manager Processing message: aaaaaaaaaa
INFO 2025-05-31 20:36:18,491 dialog_manager Processing input: aaaaaaaaaa
INFO 2025-05-31 20:36:18,494 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,495 dialog_manager Detecting intent for input: aaaaaaaaaa
INFO 2025-05-31 20:36:18,495 dialog_manager Invalid input detected: repetitive
INFO 2025-05-31 20:36:18,496 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:18,575 dialog_manager Sentiment analysis: Neutral (confidence: 0.62)
INFO 2025-05-31 20:36:18,575 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:36:18,575 dialog_manager Detecting intent for input: 12345678901234567890
INFO 2025-05-31 20:36:18,575 dialog_manager Invalid input detected: too_many_digits
INFO 2025-05-31 20:36:18,575 dialog_manager Processing message: 12345678901234567890
INFO 2025-05-31 20:36:18,575 dialog_manager Processing input: 12345678901234567890
INFO 2025-05-31 20:36:18,575 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,584 dialog_manager Detecting intent for input: 12345678901234567890
INFO 2025-05-31 20:36:18,584 dialog_manager Invalid input detected: too_many_digits
INFO 2025-05-31 20:36:18,584 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:18,687 dialog_manager Sentiment analysis: Neutral (confidence: 0.69)
ERROR 2025-05-31 20:36:18,693 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:36:18,696 dialog_manager Detecting intent for input: !@#$%^&*()
INFO 2025-05-31 20:36:18,697 dialog_manager Invalid input detected: too_many_special_chars
INFO 2025-05-31 20:36:18,702 dialog_manager Processing message: !@#$%^&*()
INFO 2025-05-31 20:36:18,704 dialog_manager Processing input: !@#$%^&*()
INFO 2025-05-31 20:36:18,708 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,709 dialog_manager Detecting intent for input: !@#$%^&*()
INFO 2025-05-31 20:36:18,709 dialog_manager Invalid input detected: too_many_special_chars
INFO 2025-05-31 20:36:18,709 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:18,840 dialog_manager Sentiment analysis: Negative (confidence: 0.61)
ERROR 2025-05-31 20:36:18,845 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:36:18,847 dialog_manager Detecting intent for input: zxcvbnm
INFO 2025-05-31 20:36:18,857 dialog_manager Processing message: zxcvbnm
INFO 2025-05-31 20:36:18,859 dialog_manager Processing input: zxcvbnm
INFO 2025-05-31 20:36:18,891 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,891 dialog_manager Detecting intent for input: zxcvbnm
INFO 2025-05-31 20:36:18,902 dialog_manager Detected intent: off_topic
INFO 2025-05-31 20:36:18,927 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:18,928 dialog_manager Detecting intent for input: hjklmnbvcxz
INFO 2025-05-31 20:36:18,930 dialog_manager Invalid input detected: no_vowels
INFO 2025-05-31 20:36:18,930 dialog_manager Processing message: hjklmnbvcxz
INFO 2025-05-31 20:36:18,930 dialog_manager Processing input: hjklmnbvcxz
INFO 2025-05-31 20:36:18,949 dialog_manager Using language: en
INFO 2025-05-31 20:36:18,950 dialog_manager Detecting intent for input: hjklmnbvcxz
INFO 2025-05-31 20:36:18,950 dialog_manager Invalid input detected: no_vowels
INFO 2025-05-31 20:36:18,950 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:19,062 dialog_manager Sentiment analysis: Neutral (confidence: 0.72)
INFO 2025-05-31 20:36:19,078 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,081 dialog_manager Detecting intent for input: dfghjklqwerty
INFO 2025-05-31 20:36:19,081 dialog_manager Invalid input detected: excessive_consonants
INFO 2025-05-31 20:36:19,082 dialog_manager Processing message: dfghjklqwerty
INFO 2025-05-31 20:36:19,082 dialog_manager Processing input: dfghjklqwerty
INFO 2025-05-31 20:36:19,096 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,096 dialog_manager Detecting intent for input: dfghjklqwerty
INFO 2025-05-31 20:36:19,097 dialog_manager Invalid input detected: excessive_consonants
INFO 2025-05-31 20:36:19,097 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:19,221 dialog_manager Sentiment analysis: Neutral (confidence: 0.58)
INFO 2025-05-31 20:36:19,237 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,238 dialog_manager Detecting intent for input: 111111111
INFO 2025-05-31 20:36:19,239 dialog_manager Invalid input detected: repetitive
INFO 2025-05-31 20:36:19,239 dialog_manager Processing message: 111111111
INFO 2025-05-31 20:36:19,241 dialog_manager Processing input: 111111111
INFO 2025-05-31 20:36:19,241 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,241 dialog_manager Detecting intent for input: 111111111
INFO 2025-05-31 20:36:19,241 dialog_manager Invalid input detected: repetitive
INFO 2025-05-31 20:36:19,242 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:19,325 dialog_manager Sentiment analysis: Neutral (confidence: 0.63)
ERROR 2025-05-31 20:36:19,325 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:36:19,325 dialog_manager Detecting intent for input: @@@@@@@@
INFO 2025-05-31 20:36:19,325 dialog_manager Invalid input detected: repetitive
INFO 2025-05-31 20:36:19,325 dialog_manager Processing message: @@@@@@@@
INFO 2025-05-31 20:36:19,325 dialog_manager Processing input: @@@@@@@@
INFO 2025-05-31 20:36:19,339 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,340 dialog_manager Detecting intent for input: @@@@@@@@
INFO 2025-05-31 20:36:19,340 dialog_manager Invalid input detected: repetitive
INFO 2025-05-31 20:36:19,340 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:19,428 dialog_manager Sentiment analysis: Neutral (confidence: 0.45)
ERROR 2025-05-31 20:36:19,432 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:36:19,433 dialog_manager Detecting intent for input: bcdfghjklmnp
INFO 2025-05-31 20:36:19,434 dialog_manager Invalid input detected: no_vowels
INFO 2025-05-31 20:36:19,434 dialog_manager Processing message: bcdfghjklmnp
INFO 2025-05-31 20:36:19,435 dialog_manager Processing input: bcdfghjklmnp
INFO 2025-05-31 20:36:19,461 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,462 dialog_manager Detecting intent for input: bcdfghjklmnp
INFO 2025-05-31 20:36:19,462 dialog_manager Invalid input detected: no_vowels
INFO 2025-05-31 20:36:19,463 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:19,535 dialog_manager Sentiment analysis: Neutral (confidence: 0.65)
INFO 2025-05-31 20:36:19,556 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,558 dialog_manager Detecting intent for input: mnbvcxzlkjhgfdsa
INFO 2025-05-31 20:36:19,558 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:36:19,559 dialog_manager Processing message: mnbvcxzlkjhgfdsa
INFO 2025-05-31 20:36:19,559 dialog_manager Processing input: mnbvcxzlkjhgfdsa
INFO 2025-05-31 20:36:19,572 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,573 dialog_manager Detecting intent for input: mnbvcxzlkjhgfdsa
INFO 2025-05-31 20:36:19,574 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:36:19,574 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:36:19,641 dialog_manager Sentiment analysis: Neutral (confidence: 0.69)
INFO 2025-05-31 20:36:19,654 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,655 dialog_manager Detecting intent for input: xyz123!@#
INFO 2025-05-31 20:36:19,663 dialog_manager Processing message: xyz123!@#
INFO 2025-05-31 20:36:19,663 dialog_manager Processing input: xyz123!@#
INFO 2025-05-31 20:36:19,666 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,666 dialog_manager Detecting intent for input: xyz123!@#
INFO 2025-05-31 20:36:19,676 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:36:19,747 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-05-31 20:36:19,749 dialog_manager Generated response: I'm not sure I understand. Could you please clarify?
INFO 2025-05-31 20:36:19,756 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,758 dialog_manager Detecting intent for input: hello
INFO 2025-05-31 20:36:19,763 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 20:36:19,763 dialog_manager Processing message: hello
INFO 2025-05-31 20:36:19,763 dialog_manager Processing input: hello
INFO 2025-05-31 20:36:19,781 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,781 dialog_manager Detecting intent for input: hello
INFO 2025-05-31 20:36:19,793 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 20:36:19,793 dialog_manager Detected intent: greeting
INFO 2025-05-31 20:36:19,860 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-05-31 20:36:19,860 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-05-31 20:36:19,887 dialog_manager Dialog manager process completed - State: greeting, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,888 dialog_manager Detecting intent for input: book a room
INFO 2025-05-31 20:36:19,894 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-31 20:36:19,895 dialog_manager Processing message: book a room
INFO 2025-05-31 20:36:19,895 dialog_manager Processing input: book a room
INFO 2025-05-31 20:36:19,900 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,901 dialog_manager Detecting intent for input: book a room
INFO 2025-05-31 20:36:19,909 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-31 20:36:19,909 dialog_manager Detected intent: booking
INFO 2025-05-31 20:36:19,909 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 20:36:19,914 dialog_manager Extracting dates from: book a room
WARNING 2025-05-31 20:36:19,915 dialog_manager No dates found
INFO 2025-05-31 20:36:19,917 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,921 dialog_manager Detecting intent for input: what time is check-in?
INFO 2025-05-31 20:36:19,926 dialog_manager Booking intent detected
INFO 2025-05-31 20:36:19,926 dialog_manager Processing message: what time is check-in?
INFO 2025-05-31 20:36:19,926 dialog_manager Processing input: what time is check-in?
INFO 2025-05-31 20:36:19,931 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,931 dialog_manager Detecting intent for input: what time is check-in?
INFO 2025-05-31 20:36:19,935 dialog_manager Booking intent detected
INFO 2025-05-31 20:36:19,935 dialog_manager Detected intent: booking
INFO 2025-05-31 20:36:19,938 dialog_manager Extracting dates from: what time is check-in?
WARNING 2025-05-31 20:36:19,939 dialog_manager No dates found
INFO 2025-05-31 20:36:19,942 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,942 dialog_manager Detecting intent for input: cancel my booking
INFO 2025-05-31 20:36:19,942 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-05-31 20:36:19,942 dialog_manager Processing message: cancel my booking
INFO 2025-05-31 20:36:19,942 dialog_manager Processing input: cancel my booking
INFO 2025-05-31 20:36:19,954 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,954 dialog_manager Detecting intent for input: cancel my booking
INFO 2025-05-31 20:36:19,963 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-05-31 20:36:19,964 dialog_manager Detected intent: cancel_booking
INFO 2025-05-31 20:36:19,966 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:36:19,966 dialog_manager Detecting intent for input: I need help
INFO 2025-05-31 20:36:19,975 dialog_manager Processing message: I need help
INFO 2025-05-31 20:36:19,975 dialog_manager Processing input: I need help
INFO 2025-05-31 20:36:19,991 dialog_manager Using language: en
INFO 2025-05-31 20:36:19,991 dialog_manager Detecting intent for input: I need help
INFO 2025-05-31 20:36:19,999 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:36:20,042 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'off_topic_count': 1}
INFO 2025-05-31 20:39:55,477 dialog_manager Using device: cpu
WARNING 2025-05-31 20:39:55,477 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:39:55,477 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:39:55,477 dialog_manager Detecting intent for input: 123@@@
INFO 2025-05-31 20:39:55,477 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:39:55,477 dialog_manager Processing message: 123@@@
INFO 2025-05-31 20:39:55,477 dialog_manager Processing input: 123@@@
INFO 2025-05-31 20:39:55,883 dialog_manager Using language: en
INFO 2025-05-31 20:39:55,883 dialog_manager Detecting intent for input: 123@@@
INFO 2025-05-31 20:39:55,883 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:39:55,883 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:08,581 dialog_manager Sentiment analysis: Neutral (confidence: 0.65)
ERROR 2025-05-31 20:40:08,581 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:40:08,593 dialog_manager Detecting intent for input: xyz123!@#
INFO 2025-05-31 20:40:08,594 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,594 dialog_manager Processing message: xyz123!@#
INFO 2025-05-31 20:40:08,595 dialog_manager Processing input: xyz123!@#
INFO 2025-05-31 20:40:08,603 dialog_manager Using language: en
INFO 2025-05-31 20:40:08,604 dialog_manager Detecting intent for input: xyz123!@#
INFO 2025-05-31 20:40:08,604 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,605 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:08,689 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-05-31 20:40:08,698 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:40:08,699 dialog_manager Detecting intent for input: abc456!!!
INFO 2025-05-31 20:40:08,700 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,701 dialog_manager Processing message: abc456!!!
INFO 2025-05-31 20:40:08,701 dialog_manager Processing input: abc456!!!
INFO 2025-05-31 20:40:08,705 dialog_manager Using language: en
INFO 2025-05-31 20:40:08,705 dialog_manager Detecting intent for input: abc456!!!
INFO 2025-05-31 20:40:08,705 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,705 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:08,770 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-05-31 20:40:08,785 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:40:08,785 dialog_manager Detecting intent for input: 789$$$
INFO 2025-05-31 20:40:08,785 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,785 dialog_manager Processing message: 789$$$
INFO 2025-05-31 20:40:08,785 dialog_manager Processing input: 789$$$
INFO 2025-05-31 20:40:08,800 dialog_manager Using language: en
INFO 2025-05-31 20:40:08,801 dialog_manager Detecting intent for input: 789$$$
INFO 2025-05-31 20:40:08,801 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,802 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:08,871 dialog_manager Sentiment analysis: Neutral (confidence: 0.62)
ERROR 2025-05-31 20:40:08,871 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:40:08,871 dialog_manager Detecting intent for input: xy12#$
INFO 2025-05-31 20:40:08,871 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,871 dialog_manager Processing message: xy12#$
INFO 2025-05-31 20:40:08,871 dialog_manager Processing input: xy12#$
INFO 2025-05-31 20:40:08,871 dialog_manager Using language: en
INFO 2025-05-31 20:40:08,871 dialog_manager Detecting intent for input: xy12#$
INFO 2025-05-31 20:40:08,871 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,878 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:08,939 dialog_manager Sentiment analysis: Neutral (confidence: 0.80)
INFO 2025-05-31 20:40:08,953 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:40:08,953 dialog_manager Detecting intent for input: 456@@
INFO 2025-05-31 20:40:08,953 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,953 dialog_manager Processing message: 456@@
INFO 2025-05-31 20:40:08,953 dialog_manager Processing input: 456@@
INFO 2025-05-31 20:40:08,953 dialog_manager Using language: en
INFO 2025-05-31 20:40:08,953 dialog_manager Detecting intent for input: 456@@
INFO 2025-05-31 20:40:08,953 dialog_manager Invalid input detected: mixed_random_content
INFO 2025-05-31 20:40:08,953 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:09,039 dialog_manager Sentiment analysis: Neutral (confidence: 0.67)
ERROR 2025-05-31 20:40:09,043 dialog_manager Error in process method: No features in text.
INFO 2025-05-31 20:40:09,044 dialog_manager Detecting intent for input: ab123!@
INFO 2025-05-31 20:40:09,044 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:40:09,045 dialog_manager Processing message: ab123!@
INFO 2025-05-31 20:40:09,045 dialog_manager Processing input: ab123!@
INFO 2025-05-31 20:40:09,048 dialog_manager Using language: en
INFO 2025-05-31 20:40:09,049 dialog_manager Detecting intent for input: ab123!@
INFO 2025-05-31 20:40:09,049 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:40:09,050 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:40:09,120 dialog_manager Sentiment analysis: Neutral (confidence: 0.78)
INFO 2025-05-31 20:40:09,135 dialog_manager Dialog manager process completed - State: greeting, User data: {}
INFO 2025-05-31 20:40:09,137 dialog_manager Detecting intent for input: room 123
INFO 2025-05-31 20:40:09,172 dialog_manager Booking intent detected
INFO 2025-05-31 20:40:09,173 dialog_manager Processing message: room 123
INFO 2025-05-31 20:40:09,173 dialog_manager Processing input: room 123
INFO 2025-05-31 20:40:09,175 dialog_manager Using language: en
INFO 2025-05-31 20:40:09,175 dialog_manager Detecting intent for input: room 123
INFO 2025-05-31 20:40:09,192 dialog_manager Booking intent detected
INFO 2025-05-31 20:40:09,193 dialog_manager Detected intent: booking
INFO 2025-05-31 20:40:09,193 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 20:40:09,195 dialog_manager Extracting dates from: room 123
WARNING 2025-05-31 20:40:09,195 dialog_manager No dates found
INFO 2025-05-31 20:40:09,204 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {}
INFO 2025-05-31 20:40:09,205 dialog_manager Detecting intent for input: book room
INFO 2025-05-31 20:40:09,210 dialog_manager Booking intent detected
INFO 2025-05-31 20:40:09,211 dialog_manager Processing message: book room
INFO 2025-05-31 20:40:09,211 dialog_manager Processing input: book room
INFO 2025-05-31 20:40:09,214 dialog_manager Using language: en
INFO 2025-05-31 20:40:09,215 dialog_manager Detecting intent for input: book room
INFO 2025-05-31 20:40:09,224 dialog_manager Booking intent detected
INFO 2025-05-31 20:40:09,226 dialog_manager Detected intent: booking
INFO 2025-05-31 20:40:09,226 dialog_manager Using entire message as name: book room
INFO 2025-05-31 20:40:09,226 dialog_manager Extracting dates from: book room
WARNING 2025-05-31 20:40:09,226 dialog_manager No dates found
INFO 2025-05-31 20:40:09,226 dialog_manager Updated user data: {'guest_name': 'book room'}
INFO 2025-05-31 20:40:09,226 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'guest_name': 'book room'}
INFO 2025-05-31 20:40:09,226 dialog_manager Detecting intent for input: help me
INFO 2025-05-31 20:40:09,240 dialog_manager Processing message: help me
INFO 2025-05-31 20:40:09,240 dialog_manager Processing input: help me
INFO 2025-05-31 20:40:09,240 dialog_manager Using language: en
INFO 2025-05-31 20:40:09,240 dialog_manager Detecting intent for input: help me
INFO 2025-05-31 20:40:09,255 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:40:09,255 dialog_manager Extracting dates from: help me
WARNING 2025-05-31 20:40:09,255 dialog_manager No dates found
INFO 2025-05-31 20:40:09,264 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'guest_name': 'book room'}
INFO 2025-05-31 20:40:09,267 dialog_manager Detecting intent for input: info please
INFO 2025-05-31 20:40:09,274 dialog_manager Processing message: info please
INFO 2025-05-31 20:40:09,274 dialog_manager Processing input: info please
INFO 2025-05-31 20:40:09,274 dialog_manager Using language: en
INFO 2025-05-31 20:40:09,274 dialog_manager Detecting intent for input: info please
INFO 2025-05-31 20:40:09,291 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:40:09,292 dialog_manager Extracting dates from: info please
WARNING 2025-05-31 20:40:09,293 dialog_manager No dates found
INFO 2025-05-31 20:40:09,296 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'guest_name': 'book room'}
INFO 2025-05-31 20:40:59,350 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 20:41:07,300 middleware Admin user found: admin
INFO 2025-05-31 20:41:11,904 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24671
INFO 2025-05-31 20:41:11,982 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-05-31 20:41:11,983 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-05-31 20:41:12,017 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-05-31 20:41:12,919 log Not Found: /favicon.ico
WARNING 2025-05-31 20:41:12,922 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-31 20:41:25,531 basehttp "GET /admin/ HTTP/1.1" 200 13942
WARNING 2025-05-31 20:41:26,598 log Not Found: /favicon.ico
WARNING 2025-05-31 20:41:26,599 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-31 20:43:36,905 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12302
INFO 2025-05-31 20:43:40,238 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 21209
INFO 2025-05-31 20:43:40,313 basehttp "GET /static/admin/img/search.svg HTTP/1.1" 304 0
INFO 2025-05-31 20:43:40,319 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:43,495 basehttp "GET /admin/hotel_booking/booking/15/change/ HTTP/1.1" 200 35988
INFO 2025-05-31 20:43:43,535 basehttp "GET /static/admin/js/inlines.js HTTP/1.1" 304 0
INFO 2025-05-31 20:43:43,541 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:43,562 basehttp "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 304 0
INFO 2025-05-31 20:43:43,849 basehttp "GET /static/admin/img/icon-clock.svg HTTP/1.1" 304 0
INFO 2025-05-31 20:43:46,100 basehttp "GET /admin/hotel_booking/booking/15/delete/ HTTP/1.1" 200 10954
INFO 2025-05-31 20:43:46,982 basehttp "POST /admin/hotel_booking/booking/15/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:43:47,089 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 20743
INFO 2025-05-31 20:43:47,185 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:48,559 basehttp "GET /admin/hotel_booking/booking/14/change/ HTTP/1.1" 200 32836
INFO 2025-05-31 20:43:48,609 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:49,870 basehttp "GET /admin/hotel_booking/booking/14/delete/ HTTP/1.1" 200 10798
INFO 2025-05-31 20:43:50,457 basehttp "POST /admin/hotel_booking/booking/14/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:43:50,536 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 20106
INFO 2025-05-31 20:43:50,595 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:51,668 basehttp "GET /admin/hotel_booking/booking/13/change/ HTTP/1.1" 200 32905
INFO 2025-05-31 20:43:51,711 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:52,812 basehttp "GET /admin/hotel_booking/booking/13/delete/ HTTP/1.1" 200 10828
INFO 2025-05-31 20:43:53,534 basehttp "POST /admin/hotel_booking/booking/13/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:43:53,603 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 19454
INFO 2025-05-31 20:43:53,663 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:54,565 basehttp "GET /admin/hotel_booking/booking/12/change/ HTTP/1.1" 200 32947
INFO 2025-05-31 20:43:54,618 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:56,748 basehttp "GET /admin/hotel_booking/booking/12/delete/ HTTP/1.1" 200 10861
INFO 2025-05-31 20:43:57,592 basehttp "POST /admin/hotel_booking/booking/12/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:43:57,667 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18783
INFO 2025-05-31 20:43:57,706 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:58,424 basehttp "GET /admin/hotel_booking/booking/11/change/ HTTP/1.1" 200 32849
INFO 2025-05-31 20:43:58,462 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:43:59,444 basehttp "GET /admin/hotel_booking/booking/11/delete/ HTTP/1.1" 200 10783
INFO 2025-05-31 20:44:00,328 basehttp "POST /admin/hotel_booking/booking/11/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:44:00,381 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18125
INFO 2025-05-31 20:44:00,438 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:01,809 basehttp "GET /admin/hotel_booking/booking/10/change/ HTTP/1.1" 200 32868
INFO 2025-05-31 20:44:01,839 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:03,000 basehttp "GET /admin/hotel_booking/booking/10/delete/ HTTP/1.1" 200 10801
INFO 2025-05-31 20:44:03,694 basehttp "POST /admin/hotel_booking/booking/10/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:44:03,748 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 17486
INFO 2025-05-31 20:44:03,794 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:05,100 basehttp "GET /admin/hotel_booking/booking/9/change/ HTTP/1.1" 200 32878
INFO 2025-05-31 20:44:05,141 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:07,090 basehttp "GET /admin/hotel_booking/booking/9/delete/ HTTP/1.1" 200 10808
INFO 2025-05-31 20:44:07,872 basehttp "POST /admin/hotel_booking/booking/9/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:44:07,923 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16834
INFO 2025-05-31 20:44:07,994 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:08,892 basehttp "GET /admin/hotel_booking/booking/8/change/ HTTP/1.1" 200 42133
INFO 2025-05-31 20:44:08,927 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:10,974 basehttp "GET /admin/hotel_booking/booking/8/delete/ HTTP/1.1" 200 11120
INFO 2025-05-31 20:44:11,652 basehttp "POST /admin/hotel_booking/booking/8/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:44:11,702 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16189
INFO 2025-05-31 20:44:11,733 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:12,634 basehttp "GET /admin/hotel_booking/booking/4/change/ HTTP/1.1" 200 32886
INFO 2025-05-31 20:44:12,706 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:13,983 basehttp "GET /admin/hotel_booking/booking/4/delete/ HTTP/1.1" 200 10814
INFO 2025-05-31 20:44:14,728 basehttp "POST /admin/hotel_booking/booking/4/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 20:44:14,766 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 13486
INFO 2025-05-31 20:44:14,804 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:15,764 basehttp "GET /admin/hotel_booking/contactmessage/ HTTP/1.1" 200 12867
INFO 2025-05-31 20:44:15,803 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:17,413 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 13128
INFO 2025-05-31 20:44:17,446 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:18,479 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15179
INFO 2025-05-31 20:44:18,517 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:19,631 basehttp "GET /admin/hotel_booking/userprofile/ HTTP/1.1" 200 13300
INFO 2025-05-31 20:44:19,677 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:20,966 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 13303
INFO 2025-05-31 20:44:21,003 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:23,359 basehttp "GET /admin/hotel_booking/userprofile/ HTTP/1.1" 200 13300
INFO 2025-05-31 20:44:23,409 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:26,315 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 13303
INFO 2025-05-31 20:44:26,353 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:44:29,092 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12302
INFO 2025-05-31 20:44:32,278 basehttp "GET /hotel_booking/book/1/ HTTP/1.1" 200 15544
INFO 2025-05-31 20:44:51,247 models Booking saved: 16 for TLS
INFO 2025-05-31 20:44:51,251 basehttp "POST /hotel_booking/book/1/ HTTP/1.1" 302 0
INFO 2025-05-31 20:44:51,267 basehttp "GET /hotel_booking/payment_qr/16/ HTTP/1.1" 200 11087
INFO 2025-05-31 20:44:51,325 basehttp "GET /media/payment/QR%20Bank.jpeg HTTP/1.1" 304 0
INFO 2025-05-31 20:44:56,391 basehttp "GET /hotel_booking/booking_success/16/ HTTP/1.1" 200 11727
INFO 2025-05-31 20:44:59,036 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24671
INFO 2025-05-31 20:45:00,194 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12168
INFO 2025-05-31 20:45:02,472 basehttp "GET /hotel_booking/edit_profile/ HTTP/1.1" 200 12284
INFO 2025-05-31 20:45:09,887 basehttp "POST /hotel_booking/edit_profile/ HTTP/1.1" 302 0
INFO 2025-05-31 20:45:09,903 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12248
INFO 2025-05-31 20:45:10,172 basehttp "GET /media/profile_pictures/Acer_Wallpaper_04_3840x2400.jpg HTTP/1.1" 200 4065253
INFO 2025-05-31 20:45:15,273 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12527
INFO 2025-05-31 20:45:44,764 basehttp "POST /hotel_booking/contact/ HTTP/1.1" 302 0
INFO 2025-05-31 20:45:44,779 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12513
INFO 2025-05-31 20:45:50,354 basehttp "GET /admin/hotel_booking/contactmessage/ HTTP/1.1" 200 15611
INFO 2025-05-31 20:45:50,408 basehttp "GET /static/admin/img/icon-no.svg HTTP/1.1" 304 0
INFO 2025-05-31 20:45:50,416 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:45:50,550 basehttp "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 304 0
INFO 2025-05-31 20:45:51,728 basehttp "GET /admin/hotel_booking/contactmessage/3/change/ HTTP/1.1" 200 14996
INFO 2025-05-31 20:45:51,776 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:45:54,500 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16004
INFO 2025-05-31 20:45:54,536 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:45:56,444 basehttp "GET /admin/hotel_booking/booking/16/change/ HTTP/1.1" 200 32837
INFO 2025-05-31 20:45:56,490 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 20:46:04,646 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16212
INFO 2025-05-31 20:46:07,361 views Database connection successful
INFO 2025-05-31 20:46:07,365 views Received chat request at 2025-05-31 20:46:07.365558
DEBUG 2025-05-31 20:46:07,365 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:46:07,365 views Request body: {"message":"Hello","session":{}}
INFO 2025-05-31 20:46:07,365 views User input: Hello
INFO 2025-05-31 20:46:07,371 views Current session state: None
INFO 2025-05-31 20:46:07,373 views Current user data: None
INFO 2025-05-31 20:46:07,971 dialog_manager Using device: cpu
WARNING 2025-05-31 20:46:07,971 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:46:07,971 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:46:07,971 dialog_manager Processing message: Hello
INFO 2025-05-31 20:46:07,971 dialog_manager Processing input: Hello
INFO 2025-05-31 20:46:08,429 dialog_manager Using language: en
INFO 2025-05-31 20:46:08,429 dialog_manager Detecting intent for input: Hello
INFO 2025-05-31 20:46:08,462 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 20:46:08,462 dialog_manager Detected intent: greeting
INFO 2025-05-31 20:46:22,027 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-05-31 20:46:22,042 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-31 20:46:22,088 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:46:22,088 views Updated session state: greeting
INFO 2025-05-31 20:46:22,089 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:46:22,090 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-05-31 20:46:22,090 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:46:22,091 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:46:22,156 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 187
INFO 2025-05-31 20:46:29,238 views Database connection successful
INFO 2025-05-31 20:46:29,238 views Received chat request at 2025-05-31 20:46:29.238198
DEBUG 2025-05-31 20:46:29,238 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:46:29,238 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:46:29,245 views User input: i want booking room
INFO 2025-05-31 20:46:29,245 views Current session state: greeting
INFO 2025-05-31 20:46:29,245 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5}
INFO 2025-05-31 20:46:29,737 dialog_manager Using device: cpu
WARNING 2025-05-31 20:46:29,737 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:46:29,753 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:46:29,757 dialog_manager Processing message: i want booking room
INFO 2025-05-31 20:46:29,758 dialog_manager Processing input: i want booking room
INFO 2025-05-31 20:46:29,759 dialog_manager Using language: fi
INFO 2025-05-31 20:46:29,759 dialog_manager Detecting intent for input: i want booking room
INFO 2025-05-31 20:46:29,767 dialog_manager Booking intent detected
INFO 2025-05-31 20:46:29,767 dialog_manager Detected intent: booking
INFO 2025-05-31 20:46:29,769 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 20:46:29,774 dialog_manager Extracting dates from: i want booking room
WARNING 2025-05-31 20:46:29,774 dialog_manager No dates found
INFO 2025-05-31 20:46:29,776 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:46:29,776 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:46:29,776 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:46:29,890 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:46:29,890 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:46:29,907 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-31 20:46:37,239 views Database connection successful
INFO 2025-05-31 20:46:37,240 views Received chat request at 2025-05-31 20:46:37.240604
DEBUG 2025-05-31 20:46:37,241 views Request headers: {'Content-Length': '160', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:46:37,242 views Request body: {"message":"Ting Lee Shiang","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:46:37,244 views User input: Ting Lee Shiang
INFO 2025-05-31 20:46:37,245 views Current session state: collecting_booking_info
INFO 2025-05-31 20:46:37,246 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5}
INFO 2025-05-31 20:46:37,674 dialog_manager Using device: cpu
WARNING 2025-05-31 20:46:37,680 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:46:37,681 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:46:37,681 dialog_manager Processing message: Ting Lee Shiang
INFO 2025-05-31 20:46:37,681 dialog_manager Processing input: Ting Lee Shiang
INFO 2025-05-31 20:46:37,681 dialog_manager Using language: fi
INFO 2025-05-31 20:46:37,681 dialog_manager Detecting intent for input: Ting Lee Shiang
INFO 2025-05-31 20:46:37,681 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 20:46:37,681 dialog_manager Detected intent: greeting
INFO 2025-05-31 20:46:37,689 dialog_manager Extracted name: Ting Lee Shiang
INFO 2025-05-31 20:46:37,690 dialog_manager Extracting dates from: Ting Lee Shiang
WARNING 2025-05-31 20:46:37,690 dialog_manager No dates found
INFO 2025-05-31 20:46:37,691 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 20:46:37,691 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 20:46:37,691 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:46:37,692 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 20:46:37,699 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:46:37,699 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:46:37,703 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 296
INFO 2025-05-31 20:46:41,793 views Database connection successful
INFO 2025-05-31 20:46:41,795 views Received chat request at 2025-05-31 20:46:41.795235
DEBUG 2025-05-31 20:46:41,796 views Request headers: {'Content-Length': '187', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:46:41,797 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:46:41,797 views User input: 01158763903
INFO 2025-05-31 20:46:41,797 views Current session state: collecting_booking_info
INFO 2025-05-31 20:46:41,797 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 20:46:42,213 dialog_manager Using device: cpu
WARNING 2025-05-31 20:46:42,213 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:46:42,213 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:46:42,213 dialog_manager Processing message: 01158763903
INFO 2025-05-31 20:46:42,213 dialog_manager Processing input: 01158763903
INFO 2025-05-31 20:46:42,213 dialog_manager Using language: fi
INFO 2025-05-31 20:46:42,213 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-31 20:46:42,213 dialog_manager Invalid input detected: too_many_digits
INFO 2025-05-31 20:46:42,213 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:46:42,213 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-31 20:46:42,213 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 20:46:42,213 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 20:46:42,213 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:46:42,213 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 20:46:42,224 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:46:42,225 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:46:42,232 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 317
INFO 2025-05-31 20:46:50,231 views Database connection successful
INFO 2025-05-31 20:46:50,232 views Received chat request at 2025-05-31 20:46:50.232940
DEBUG 2025-05-31 20:46:50,234 views Request headers: {'Content-Length': '221', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:46:50,237 views Request body: {"message":"tingleeshiang@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:46:50,239 views User input: tingleeshiang@gmail.com
INFO 2025-05-31 20:46:50,239 views Current session state: collecting_booking_info
INFO 2025-05-31 20:46:50,241 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903'}
INFO 2025-05-31 20:46:50,653 dialog_manager Using device: cpu
WARNING 2025-05-31 20:46:50,653 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:46:50,653 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:46:50,653 dialog_manager Processing message: tingleeshiang@gmail.com
INFO 2025-05-31 20:46:50,653 dialog_manager Processing input: tingleeshiang@gmail.com
INFO 2025-05-31 20:46:50,653 dialog_manager Using language: fi
INFO 2025-05-31 20:46:50,653 dialog_manager Detecting intent for input: tingleeshiang@gmail.com
INFO 2025-05-31 20:46:50,677 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 20:46:50,677 dialog_manager Detected intent: greeting
INFO 2025-05-31 20:46:50,679 dialog_manager Extracted standalone email: tingleeshiang@gmail.com
INFO 2025-05-31 20:46:50,679 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'tingleeshiang@gmail.com'}
INFO 2025-05-31 20:46:50,679 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'tingleeshiang@gmail.com'}
INFO 2025-05-31 20:46:50,680 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:46:50,680 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'tingleeshiang@gmail.com'}
INFO 2025-05-31 20:46:50,687 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:46:50,688 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:46:50,690 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 773
INFO 2025-05-31 20:46:58,778 views Database connection successful
INFO 2025-05-31 20:46:58,779 views Received chat request at 2025-05-31 20:46:58.779541
DEBUG 2025-05-31 20:46:58,779 views Request headers: {'Content-Length': '238', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:46:58,780 views Request body: {"message":"deluxe","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang","phone":"01158763903","email":"tingleeshiang@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:46:58,781 views User input: deluxe
INFO 2025-05-31 20:46:58,781 views Current session state: collecting_booking_info
INFO 2025-05-31 20:46:58,782 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com'}
INFO 2025-05-31 20:46:59,251 dialog_manager Using device: cpu
WARNING 2025-05-31 20:46:59,251 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:46:59,251 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:46:59,251 dialog_manager Processing message: deluxe
INFO 2025-05-31 20:46:59,251 dialog_manager Processing input: deluxe
INFO 2025-05-31 20:46:59,251 dialog_manager Using language: fi
INFO 2025-05-31 20:46:59,256 dialog_manager Detecting intent for input: deluxe
INFO 2025-05-31 20:46:59,264 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:46:59,265 dialog_manager Extracting dates from: deluxe
WARNING 2025-05-31 20:46:59,265 dialog_manager No dates found
INFO 2025-05-31 20:46:59,266 dialog_manager Extracted room type: Deluxe
INFO 2025-05-31 20:46:59,266 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:46:59,268 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:46:59,268 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:46:59,268 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:46:59,273 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:46:59,273 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:46:59,273 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 423
INFO 2025-05-31 20:47:11,078 views Database connection successful
INFO 2025-05-31 20:47:11,078 views Received chat request at 2025-05-31 20:47:11.078034
DEBUG 2025-05-31 20:47:11,087 views Request headers: {'Content-Length': '265', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:47:11,088 views Request body: {"message":"next tuesday","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang","phone":"01158763903","email":"tingleeshiang@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:47:11,089 views User input: next tuesday
INFO 2025-05-31 20:47:11,090 views Current session state: collecting_booking_info
INFO 2025-05-31 20:47:11,091 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-05-31 20:47:11,524 dialog_manager Using device: cpu
WARNING 2025-05-31 20:47:11,524 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:47:11,524 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:47:11,524 dialog_manager Processing message: next tuesday
INFO 2025-05-31 20:47:11,524 dialog_manager Processing input: next tuesday
INFO 2025-05-31 20:47:11,524 dialog_manager Using language: fi
INFO 2025-05-31 20:47:11,524 dialog_manager Detecting intent for input: next tuesday
INFO 2025-05-31 20:47:11,540 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:47:11,540 dialog_manager Extracting dates from: next tuesday
INFO 2025-05-31 20:47:11,540 dialog_manager Extracted 'next tuesday' date: 2025-06-03 20:47:11.540045
INFO 2025-05-31 20:47:11,540 dialog_manager Single date result: {'check_in': '2025-06-03', 'check_out': '2025-06-04'}
INFO 2025-05-31 20:47:11,540 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04'}
INFO 2025-05-31 20:47:11,553 models Booking saved: BK-19623 for Ting Lee Shiang
INFO 2025-05-31 20:47:11,553 dialog_manager Booking created successfully: ID=17, Booking_ID=BK-19623
INFO 2025-05-31 20:47:11,555 dialog_manager Booking record created successfully: BK-19623
INFO 2025-05-31 20:47:11,555 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623'}
INFO 2025-05-31 20:47:11,555 views Updated session state: offering_addons
INFO 2025-05-31 20:47:11,556 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623'}
INFO 2025-05-31 20:47:11,556 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-31 20:47:11,556 views Booking confirmation check - State: offering_addons, Booking ID: BK-19623, Previous ID: BK-19623, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:47:11,557 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:47:11,559 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1271
INFO 2025-05-31 20:47:21,978 views Database connection successful
INFO 2025-05-31 20:47:21,978 views Received chat request at 2025-05-31 20:47:21.978280
DEBUG 2025-05-31 20:47:21,978 views Request headers: {'Content-Length': '337', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:47:21,978 views Request body: {"message":"breakfast","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang","phone":"01158763903","email":"tingleeshiang@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-03","check_out_date":"2025-06-04","booking_id":"BK-19623"},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-31 20:47:21,986 views User input: breakfast
INFO 2025-05-31 20:47:21,986 views Current session state: offering_addons
INFO 2025-05-31 20:47:21,988 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623'}
INFO 2025-05-31 20:47:22,433 dialog_manager Using device: cpu
WARNING 2025-05-31 20:47:22,433 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:47:22,433 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:47:22,433 dialog_manager Processing message: breakfast
INFO 2025-05-31 20:47:22,433 dialog_manager Processing input: breakfast
INFO 2025-05-31 20:47:22,433 dialog_manager Using language: fi
INFO 2025-05-31 20:47:22,433 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-31 20:47:22,433 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:47:22,433 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:47:22,433 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-05-31 20:47:22,433 views Updated session state: collecting_breakfast_count
INFO 2025-05-31 20:47:22,433 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-05-31 20:47:22,433 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-05-31 20:47:22,433 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-19623, Previous ID: BK-19623, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:47:22,441 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:47:22,446 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 484
INFO 2025-05-31 20:47:24,578 views Database connection successful
INFO 2025-05-31 20:47:24,578 views Received chat request at 2025-05-31 20:47:24.578503
DEBUG 2025-05-31 20:47:24,584 views Request headers: {'Content-Length': '373', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:47:24,584 views Request body: {"message":"4","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang","phone":"01158763903","email":"tingleeshiang@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-03","check_out_date":"2025-06-04","booking_id":"BK-19623","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"fi"}}
INFO 2025-05-31 20:47:24,584 views User input: 4
INFO 2025-05-31 20:47:24,584 views Current session state: collecting_breakfast_count
INFO 2025-05-31 20:47:24,588 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623', 'addon_selections': ['breakfast']}
INFO 2025-05-31 20:47:25,008 dialog_manager Using device: cpu
WARNING 2025-05-31 20:47:25,008 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:47:25,008 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:47:25,008 dialog_manager Processing message: 4
INFO 2025-05-31 20:47:25,008 dialog_manager Processing input: 4
INFO 2025-05-31 20:47:25,008 dialog_manager Using language: fi
INFO 2025-05-31 20:47:25,008 dialog_manager Detecting intent for input: 4
INFO 2025-05-31 20:47:25,018 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:47:25,018 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 4}
INFO 2025-05-31 20:47:25,020 views Updated session state: confirming_breakfast
INFO 2025-05-31 20:47:25,020 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 4}
INFO 2025-05-31 20:47:25,021 views Generated response: OK, add breakfast for 4 guest(s), a total of RM80.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-05-31 20:47:25,021 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-19623, Previous ID: BK-19623, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:47:25,021 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:47:25,026 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 515
INFO 2025-05-31 20:47:27,560 views Database connection successful
INFO 2025-05-31 20:47:27,560 views Received chat request at 2025-05-31 20:47:27.560473
DEBUG 2025-05-31 20:47:27,560 views Request headers: {'Content-Length': '389', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:47:27,560 views Request body: {"message":"yes","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"guest_name":"Ting Lee Shiang","phone":"01158763903","email":"tingleeshiang@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-03","check_out_date":"2025-06-04","booking_id":"BK-19623","addon_selections":["breakfast"],"breakfast_count":4},"state":"confirming_breakfast","lang":"fi"}}
INFO 2025-05-31 20:47:27,560 views User input: yes
INFO 2025-05-31 20:47:27,560 views Current session state: confirming_breakfast
INFO 2025-05-31 20:47:27,560 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'guest_name': 'Ting Lee Shiang', 'phone': '01158763903', 'email': 'tingleeshiang@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'booking_id': 'BK-19623', 'addon_selections': ['breakfast'], 'breakfast_count': 4}
INFO 2025-05-31 20:47:28,001 dialog_manager Using device: cpu
WARNING 2025-05-31 20:47:28,001 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:47:28,001 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:47:28,001 dialog_manager Processing message: yes
INFO 2025-05-31 20:47:28,004 dialog_manager Processing input: yes
INFO 2025-05-31 20:47:28,004 dialog_manager Using language: fi
INFO 2025-05-31 20:47:28,004 dialog_manager Detecting intent for input: yes
INFO 2025-05-31 20:47:28,006 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:47:28,018 dialog_manager Addon created successfully: Breakfast for 4 people - RM20
INFO 2025-05-31 20:47:28,018 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:47:28,020 views Updated session state: greeting
INFO 2025-05-31 20:47:28,020 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:47:28,020 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-05-31 20:47:28,020 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:47:28,025 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-05-31 20:47:42,246 views Database connection successful
INFO 2025-05-31 20:47:42,246 views Received chat request at 2025-05-31 20:47:42.246598
DEBUG 2025-05-31 20:47:42,247 views Request headers: {'Content-Length': '120', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:47:42,249 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:47:42,250 views User input: booking status check
INFO 2025-05-31 20:47:42,250 views Current session state: greeting
INFO 2025-05-31 20:47:42,251 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 20:47:43,077 dialog_manager Using device: cpu
WARNING 2025-05-31 20:47:43,077 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:47:43,077 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:47:43,077 dialog_manager Processing message: booking status check
INFO 2025-05-31 20:47:43,077 dialog_manager Processing input: booking status check
INFO 2025-05-31 20:47:43,077 dialog_manager Using language: fi
INFO 2025-05-31 20:47:43,077 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-31 20:47:43,077 dialog_manager Booking intent detected
INFO 2025-05-31 20:47:43,077 dialog_manager Detected intent: booking
INFO 2025-05-31 20:47:43,089 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:47:43,090 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-31 20:47:43,090 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:47:43,091 views Generated response: I'd be happy to check your booking status! Do you remember the name, phone number, or booking ID used for the reservation? This will help me find your booking quickly.
INFO 2025-05-31 20:47:43,091 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:47:43,092 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:47:43,095 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 336
INFO 2025-05-31 20:47:49,460 views Database connection successful
INFO 2025-05-31 20:47:49,460 views Received chat request at 2025-05-31 20:47:49.460732
DEBUG 2025-05-31 20:47:49,464 views Request headers: {'Content-Length': '164', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:47:49,464 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_booking_info_for_status","lang":"fi"}}
INFO 2025-05-31 20:47:49,464 views User input: BK-19623
INFO 2025-05-31 20:47:49,464 views Current session state: collecting_booking_info_for_status
INFO 2025-05-31 20:47:49,464 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:47:49,879 dialog_manager Using device: cpu
WARNING 2025-05-31 20:47:49,879 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:47:49,879 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:47:49,879 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:47:49,879 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:47:49,879 dialog_manager Using language: fi
INFO 2025-05-31 20:47:49,879 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:47:49,879 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:47:49,879 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:47:49,890 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 3), 'check_out_date': datetime.date(2025, 6, 4), 'status': 'confirmed'}}
INFO 2025-05-31 20:47:49,890 views Updated session state: greeting
INFO 2025-05-31 20:47:49,891 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 3), 'check_out_date': datetime.date(2025, 6, 4), 'status': 'confirmed'}}
INFO 2025-05-31 20:47:49,896 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:47:49,898 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 893
INFO 2025-05-31 20:48:10,941 views Database connection successful
INFO 2025-05-31 20:48:10,941 views Received chat request at 2025-05-31 20:48:10.941051
DEBUG 2025-05-31 20:48:10,947 views Request headers: {'Content-Length': '331', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:10,947 views Request body: {"message":"can you tell me your hotel information","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-04","status":"confirmed"}},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:48:10,947 views User input: can you tell me your hotel information
INFO 2025-05-31 20:48:10,947 views Current session state: greeting
INFO 2025-05-31 20:48:10,953 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}}
INFO 2025-05-31 20:48:11,362 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:11,362 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:11,362 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:11,362 dialog_manager Processing message: can you tell me your hotel information
INFO 2025-05-31 20:48:11,362 dialog_manager Processing input: can you tell me your hotel information
INFO 2025-05-31 20:48:11,362 dialog_manager Using language: fi
INFO 2025-05-31 20:48:11,362 dialog_manager Detecting intent for input: can you tell me your hotel information
INFO 2025-05-31 20:48:11,375 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:48:11,375 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:48:11,379 views Updated session state: greeting
INFO 2025-05-31 20:48:11,379 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:48:11,387 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:11,388 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:48:11,392 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 602
INFO 2025-05-31 20:48:23,361 views Database connection successful
INFO 2025-05-31 20:48:23,362 views Received chat request at 2025-05-31 20:48:23.362945
DEBUG 2025-05-31 20:48:23,365 views Request headers: {'Content-Length': '334', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:23,366 views Request body: {"message":"extend stay","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-04","status":"confirmed"},"username":"TLS","user_id":5},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:48:23,367 views User input: extend stay
INFO 2025-05-31 20:48:23,368 views Current session state: greeting
INFO 2025-05-31 20:48:23,369 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:48:23,789 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:23,789 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:23,805 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:23,805 dialog_manager Processing message: extend stay
INFO 2025-05-31 20:48:23,805 dialog_manager Processing input: extend stay
INFO 2025-05-31 20:48:23,805 dialog_manager Using language: fi
INFO 2025-05-31 20:48:23,805 dialog_manager Detecting intent for input: extend stay
INFO 2025-05-31 20:48:23,805 dialog_manager Pattern-based intent detected: extend_stay
INFO 2025-05-31 20:48:23,805 dialog_manager Detected intent: extend_stay
INFO 2025-05-31 20:48:23,814 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_extend, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:48:23,814 views Updated session state: collecting_booking_id_for_extend
INFO 2025-05-31 20:48:23,815 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:48:23,816 views Generated response: I'd be happy to help you extend your stay! Please provide your booking ID so I can check your current reservation and available dates.
INFO 2025-05-31 20:48:23,816 views Booking confirmation check - State: collecting_booking_id_for_extend, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:23,817 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:48:23,819 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 509
INFO 2025-05-31 20:48:26,837 views Database connection successful
INFO 2025-05-31 20:48:26,840 views Received chat request at 2025-05-31 20:48:26.840339
DEBUG 2025-05-31 20:48:26,841 views Request headers: {'Content-Length': '355', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:26,843 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-04","status":"confirmed"},"username":"TLS","user_id":5},"state":"collecting_booking_id_for_extend","lang":"fi"}}
INFO 2025-05-31 20:48:26,843 views User input: BK-19623
INFO 2025-05-31 20:48:26,843 views Current session state: collecting_booking_id_for_extend
INFO 2025-05-31 20:48:26,843 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:48:27,242 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:27,242 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:27,242 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:27,242 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:48:27,242 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:48:27,242 dialog_manager Using language: fi
INFO 2025-05-31 20:48:27,242 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:48:27,242 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:48:27,242 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:48:27,259 dialog_manager Dialog manager process completed - State: selecting_extend_date, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'extend_booking_id': 'BK-19623', 'booking_to_extend': {'id': 17, 'booking_id': 'BK-19623', 'room_name': 'Deluxe Room', 'room_price': Decimal('205.00'), 'current_checkout': 'June 04 (Wednesday)', 'current_checkout_date': '2025-06-04'}}
INFO 2025-05-31 20:48:27,260 views Updated session state: selecting_extend_date
INFO 2025-05-31 20:48:27,261 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'extend_booking_id': 'BK-19623', 'booking_to_extend': {'id': 17, 'booking_id': 'BK-19623', 'room_name': 'Deluxe Room', 'room_price': Decimal('205.00'), 'current_checkout': 'June 04 (Wednesday)', 'current_checkout_date': '2025-06-04'}}
INFO 2025-05-31 20:48:27,261 views Generated response: Your current booking is until June 04 (Wednesday). Which day do you want to extend it to? Please provide the new check-out date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 20:48:27,261 views Booking confirmation check - State: selecting_extend_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:27,262 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:48:27,264 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 752
INFO 2025-05-31 20:48:31,055 views Database connection successful
INFO 2025-05-31 20:48:31,055 views Received chat request at 2025-05-31 20:48:31.055719
DEBUG 2025-05-31 20:48:31,055 views Request headers: {'Content-Length': '554', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:31,055 views Request body: {"message":"June 05","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Deluxe Room","check_in_date":"2025-06-03","check_out_date":"2025-06-04","status":"confirmed"},"username":"TLS","user_id":5,"extend_booking_id":"BK-19623","booking_to_extend":{"id":17,"booking_id":"BK-19623","room_name":"Deluxe Room","room_price":"205.00","current_checkout":"June 04 (Wednesday)","current_checkout_date":"2025-06-04"}},"state":"selecting_extend_date","lang":"fi"}}
INFO 2025-05-31 20:48:31,055 views User input: June 05
INFO 2025-05-31 20:48:31,055 views Current session state: selecting_extend_date
INFO 2025-05-31 20:48:31,055 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-03', 'check_out_date': '2025-06-04', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 5, 'extend_booking_id': 'BK-19623', 'booking_to_extend': {'id': 17, 'booking_id': 'BK-19623', 'room_name': 'Deluxe Room', 'room_price': '205.00', 'current_checkout': 'June 04 (Wednesday)', 'current_checkout_date': '2025-06-04'}}
INFO 2025-05-31 20:48:31,480 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:31,480 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:31,480 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:31,480 dialog_manager Processing message: June 05
INFO 2025-05-31 20:48:31,480 dialog_manager Processing input: June 05
INFO 2025-05-31 20:48:31,480 dialog_manager Using language: fi
INFO 2025-05-31 20:48:31,480 dialog_manager Detecting intent for input: June 05
INFO 2025-05-31 20:48:31,486 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:48:31,496 models Booking saved: BK-19623 for Ting Lee Shiang
INFO 2025-05-31 20:48:31,496 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:48:31,498 views Updated session state: greeting
INFO 2025-05-31 20:48:31,498 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:48:31,498 views Generated response: Good news! We have extended your stay to June 05, with an additional fee of RM205.00 (1 night  RM205.00/night). Looking forward to your continued stay!
INFO 2025-05-31 20:48:31,499 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:31,502 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 266
INFO 2025-05-31 20:48:38,514 views Database connection successful
INFO 2025-05-31 20:48:38,515 views Received chat request at 2025-05-31 20:48:38.515935
DEBUG 2025-05-31 20:48:38,518 views Request headers: {'Content-Length': '115', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:38,518 views Request body: {"message":"upgrade booking","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:48:38,518 views User input: upgrade booking
INFO 2025-05-31 20:48:38,518 views Current session state: greeting
INFO 2025-05-31 20:48:38,524 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 20:48:38,914 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:38,914 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:38,914 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:38,914 dialog_manager Processing message: upgrade booking
INFO 2025-05-31 20:48:38,914 dialog_manager Processing input: upgrade booking
INFO 2025-05-31 20:48:38,914 dialog_manager Using language: fi
INFO 2025-05-31 20:48:38,914 dialog_manager Detecting intent for input: upgrade booking
INFO 2025-05-31 20:48:38,935 dialog_manager Detected intent: upgrade_room
INFO 2025-05-31 20:48:38,936 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:48:38,937 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-05-31 20:48:38,937 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:48:38,937 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-05-31 20:48:38,937 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:38,937 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:48:38,937 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 322
INFO 2025-05-31 20:48:41,178 views Database connection successful
INFO 2025-05-31 20:48:41,180 views Received chat request at 2025-05-31 20:48:41.180596
DEBUG 2025-05-31 20:48:41,180 views Request headers: {'Content-Length': '163', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:41,181 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_booking_id_for_upgrade","lang":"fi"}}
INFO 2025-05-31 20:48:41,183 views User input: BK-19623
INFO 2025-05-31 20:48:41,184 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-05-31 20:48:41,184 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:48:41,595 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:41,595 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:41,595 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:41,595 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:48:41,595 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:48:41,595 dialog_manager Using language: fi
INFO 2025-05-31 20:48:41,595 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:48:41,595 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:48:41,595 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:48:41,606 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'upgrade_booking_id': 'BK-19623', 'booking_to_upgrade': {'id': 17, 'booking_id': 'BK-19623', 'current_room': 'Deluxe Room', 'current_price': Decimal('205.00'), 'check_in': 'June 03', 'check_out': 'June 05', 'duration': 2}}
INFO 2025-05-31 20:48:41,606 views Updated session state: selecting_upgrade_room
INFO 2025-05-31 20:48:41,606 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'upgrade_booking_id': 'BK-19623', 'booking_to_upgrade': {'id': 17, 'booking_id': 'BK-19623', 'current_room': 'Deluxe Room', 'current_price': Decimal('205.00'), 'check_in': 'June 03', 'check_out': 'June 05', 'duration': 2}}
INFO 2025-05-31 20:48:41,618 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:41,619 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:48:41,621 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 677
INFO 2025-05-31 20:48:49,422 views Database connection successful
INFO 2025-05-31 20:48:49,426 views Received chat request at 2025-05-31 20:48:49.426061
DEBUG 2025-05-31 20:48:49,426 views Request headers: {'Content-Length': '346', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:48:49,429 views Request body: {"message":"suite","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"upgrade_booking_id":"BK-19623","booking_to_upgrade":{"id":17,"booking_id":"BK-19623","current_room":"Deluxe Room","current_price":"205.00","check_in":"June 03","check_out":"June 05","duration":2}},"state":"selecting_upgrade_room","lang":"fi"}}
INFO 2025-05-31 20:48:49,429 views User input: suite
INFO 2025-05-31 20:48:49,429 views Current session state: selecting_upgrade_room
INFO 2025-05-31 20:48:49,429 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'upgrade_booking_id': 'BK-19623', 'booking_to_upgrade': {'id': 17, 'booking_id': 'BK-19623', 'current_room': 'Deluxe Room', 'current_price': '205.00', 'check_in': 'June 03', 'check_out': 'June 05', 'duration': 2}}
INFO 2025-05-31 20:48:49,855 dialog_manager Using device: cpu
WARNING 2025-05-31 20:48:49,855 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:48:49,855 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:48:49,855 dialog_manager Processing message: suite
INFO 2025-05-31 20:48:49,855 dialog_manager Processing input: suite
INFO 2025-05-31 20:48:49,855 dialog_manager Using language: fi
INFO 2025-05-31 20:48:49,855 dialog_manager Detecting intent for input: suite
INFO 2025-05-31 20:48:49,871 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:48:49,883 models Booking saved: BK-19623 for Ting Lee Shiang
INFO 2025-05-31 20:48:49,883 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:48:49,883 views Updated session state: greeting
INFO 2025-05-31 20:48:49,886 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:48:49,886 views Generated response: Your room type has been successfully upgraded to Suite and the total price has been adjusted. Additional cost: RM432.00 (RM216.00/night  2 nights). We look forward to your more comfortable stay!
INFO 2025-05-31 20:48:49,886 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:48:49,891 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 309
INFO 2025-05-31 20:49:04,935 views Database connection successful
INFO 2025-05-31 20:49:04,935 views Received chat request at 2025-05-31 20:49:04.935398
DEBUG 2025-05-31 20:49:04,935 views Request headers: {'Content-Length': '130', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:49:04,935 views Request body: {"message":"i want change date to check in","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:49:04,940 views User input: i want change date to check in
INFO 2025-05-31 20:49:04,940 views Current session state: greeting
INFO 2025-05-31 20:49:04,940 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 20:49:05,409 dialog_manager Using device: cpu
WARNING 2025-05-31 20:49:05,409 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:49:05,409 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:49:05,409 dialog_manager Processing message: i want change date to check in
INFO 2025-05-31 20:49:05,409 dialog_manager Processing input: i want change date to check in
INFO 2025-05-31 20:49:05,409 dialog_manager Using language: fi
INFO 2025-05-31 20:49:05,409 dialog_manager Detecting intent for input: i want change date to check in
INFO 2025-05-31 20:49:05,409 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-31 20:49:05,409 dialog_manager Detected intent: change_date
INFO 2025-05-31 20:49:05,409 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:49:05,423 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-31 20:49:05,424 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:49:05,425 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-31 20:49:05,425 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:49:05,426 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:49:05,429 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 294
INFO 2025-05-31 20:49:07,679 views Database connection successful
INFO 2025-05-31 20:49:07,679 views Received chat request at 2025-05-31 20:49:07.679761
DEBUG 2025-05-31 20:49:07,683 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:49:07,685 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_booking_id_for_change_date","lang":"fi"}}
INFO 2025-05-31 20:49:07,685 views User input: BK-19623
INFO 2025-05-31 20:49:07,685 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-31 20:49:07,685 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:49:08,109 dialog_manager Using device: cpu
WARNING 2025-05-31 20:49:08,109 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:49:08,109 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:49:08,109 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:49:08,109 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:49:08,109 dialog_manager Using language: fi
INFO 2025-05-31 20:49:08,109 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:49:08,109 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:49:08,109 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:49:08,109 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 20:49:08,109 views Updated session state: collecting_new_check_in_date
INFO 2025-05-31 20:49:08,109 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 20:49:08,121 views Generated response: Your current check-in date is June 03, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 20:49:08,122 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:49:08,126 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:49:08,131 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 620
INFO 2025-05-31 20:49:11,961 views Database connection successful
INFO 2025-05-31 20:49:11,963 views Received chat request at 2025-05-31 20:49:11.963762
DEBUG 2025-05-31 20:49:11,963 views Request headers: {'Content-Length': '440', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:49:11,963 views Request body: {"message":"June 02","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"change_date_booking_id":"BK-19623","booking_to_change":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"}},"state":"collecting_new_check_in_date","lang":"fi"}}
INFO 2025-05-31 20:49:11,963 views User input: June 02
INFO 2025-05-31 20:49:11,971 views Current session state: collecting_new_check_in_date
INFO 2025-05-31 20:49:11,972 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 20:49:12,403 dialog_manager Using device: cpu
WARNING 2025-05-31 20:49:12,403 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:49:12,403 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:49:12,403 dialog_manager Processing message: June 02
INFO 2025-05-31 20:49:12,403 dialog_manager Processing input: June 02
INFO 2025-05-31 20:49:12,403 dialog_manager Using language: fi
INFO 2025-05-31 20:49:12,403 dialog_manager Detecting intent for input: June 02
INFO 2025-05-31 20:49:12,403 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:49:12,413 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:49:12,414 views Updated session state: collecting_new_check_in_date
INFO 2025-05-31 20:49:12,415 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:49:12,415 views Generated response: Sorry, the new check-in date must be at least 3 days from today. Please choose a date that is at least 3 days away.
INFO 2025-05-31 20:49:12,416 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:49:12,416 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:49:12,422 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 580
INFO 2025-05-31 20:49:37,516 views Database connection successful
INFO 2025-05-31 20:49:37,516 views Received chat request at 2025-05-31 20:49:37.516131
DEBUG 2025-05-31 20:49:37,516 views Request headers: {'Content-Length': '440', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:49:37,516 views Request body: {"message":"June 04","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"change_date_booking_id":"BK-19623","booking_to_change":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"}},"state":"collecting_new_check_in_date","lang":"fi"}}
INFO 2025-05-31 20:49:37,516 views User input: June 04
INFO 2025-05-31 20:49:37,516 views Current session state: collecting_new_check_in_date
INFO 2025-05-31 20:49:37,516 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 20:49:37,951 dialog_manager Using device: cpu
WARNING 2025-05-31 20:49:37,954 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:49:37,954 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:49:37,954 dialog_manager Processing message: June 04
INFO 2025-05-31 20:49:37,954 dialog_manager Processing input: June 04
INFO 2025-05-31 20:49:37,954 dialog_manager Using language: fi
INFO 2025-05-31 20:49:37,954 dialog_manager Detecting intent for input: June 04
INFO 2025-05-31 20:49:37,954 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:49:37,954 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'user': <SimpleLazyObject: <User: TLS>>, 'new_checkin_date': '2025-06-04', 'new_checkout_date': '2025-06-06'}
INFO 2025-05-31 20:49:37,962 views Updated session state: confirming_date_change
INFO 2025-05-31 20:49:37,963 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'user': <SimpleLazyObject: <User: TLS>>, 'new_checkin_date': '2025-06-04', 'new_checkout_date': '2025-06-06'}
INFO 2025-05-31 20:49:37,963 views Generated response: Are you sure to change the check-in time to June 04, 2025? Your new check-out date will be June 06, 2025. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-05-31 20:49:37,964 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:49:37,964 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:49:37,967 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 688
INFO 2025-05-31 20:49:45,342 views Database connection successful
INFO 2025-05-31 20:49:45,343 views Received chat request at 2025-05-31 20:49:45.343993
DEBUG 2025-05-31 20:49:45,345 views Request headers: {'Content-Length': '499', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:49:45,347 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"change_date_booking_id":"BK-19623","booking_to_change":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","current_checkin":"June 03, 2025","current_checkout":"June 05, 2025","current_checkin_date":"2025-06-03","current_checkout_date":"2025-06-05"},"new_checkin_date":"2025-06-04","new_checkout_date":"2025-06-06"},"state":"confirming_date_change","lang":"fi"}}
INFO 2025-05-31 20:49:45,348 views User input: confirm
INFO 2025-05-31 20:49:45,349 views Current session state: confirming_date_change
INFO 2025-05-31 20:49:45,353 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'change_date_booking_id': 'BK-19623', 'booking_to_change': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'current_checkin': 'June 03, 2025', 'current_checkout': 'June 05, 2025', 'current_checkin_date': '2025-06-03', 'current_checkout_date': '2025-06-05'}, 'new_checkin_date': '2025-06-04', 'new_checkout_date': '2025-06-06'}
INFO 2025-05-31 20:49:45,763 dialog_manager Using device: cpu
WARNING 2025-05-31 20:49:45,763 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:49:45,763 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:49:45,763 dialog_manager Processing message: confirm
INFO 2025-05-31 20:49:45,763 dialog_manager Processing input: confirm
INFO 2025-05-31 20:49:45,763 dialog_manager Using language: fi
INFO 2025-05-31 20:49:45,763 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 20:49:45,763 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:49:45,780 models Booking saved: BK-19623 for Ting Lee Shiang
INFO 2025-05-31 20:49:45,780 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'date_change_17_2025-06-04': True, 'processing_date_change': False}
INFO 2025-05-31 20:49:45,780 views Updated session state: greeting
INFO 2025-05-31 20:49:45,782 views Updated user data: {'is_returning_customer': True, 'date_change_17_2025-06-04': True, 'processing_date_change': False}
INFO 2025-05-31 20:49:45,782 views Generated response: OK, your check-in date has been successfully changed to June 04, 2025. The booking ID remains unchanged. If you have any other needs, please continue to consult!
INFO 2025-05-31 20:49:45,782 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:49:45,785 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 338
INFO 2025-05-31 20:49:57,422 views Database connection successful
INFO 2025-05-31 20:49:57,422 views Received chat request at 2025-05-31 20:49:57.422949
DEBUG 2025-05-31 20:49:57,422 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:49:57,422 views Request body: {"message":"i want room services","session":{"user_data":{"is_returning_customer":true,"date_change_17_2025-06-04":true,"processing_date_change":false},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:49:57,422 views User input: i want room services
INFO 2025-05-31 20:49:57,422 views Current session state: greeting
INFO 2025-05-31 20:49:57,422 views Current user data: {'is_returning_customer': True, 'date_change_17_2025-06-04': True, 'processing_date_change': False}
INFO 2025-05-31 20:49:57,858 dialog_manager Using device: cpu
WARNING 2025-05-31 20:49:57,858 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:49:57,858 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:49:57,858 dialog_manager Processing message: i want room services
INFO 2025-05-31 20:49:57,858 dialog_manager Processing input: i want room services
INFO 2025-05-31 20:49:57,858 dialog_manager Using language: fi
INFO 2025-05-31 20:49:57,858 dialog_manager Detecting intent for input: i want room services
INFO 2025-05-31 20:49:57,872 dialog_manager Booking intent detected
INFO 2025-05-31 20:49:57,872 dialog_manager Detected intent: booking
INFO 2025-05-31 20:49:57,872 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-31 20:49:57,872 views Updated session state: greeting
INFO 2025-05-31 20:49:57,873 views Updated user data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-31 20:49:57,878 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:49:57,878 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:49:57,884 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 718
INFO 2025-05-31 20:50:13,990 views Database connection successful
INFO 2025-05-31 20:50:13,990 views Received chat request at 2025-05-31 20:50:13.990841
DEBUG 2025-05-31 20:50:13,993 views Request headers: {'Content-Length': '239', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:50:13,993 views Request body: {"message":"housekeeping","session":{"user_data":{"is_returning_customer":false,"date_change_17_2025-06-04":true,"processing_date_change":false,"username":"TLS","user_id":5,"showing_room_service_menu":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:50:13,994 views User input: housekeeping
INFO 2025-05-31 20:50:13,995 views Current session state: greeting
INFO 2025-05-31 20:50:13,996 views Current user data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True}
INFO 2025-05-31 20:50:14,418 dialog_manager Using device: cpu
WARNING 2025-05-31 20:50:14,418 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:50:14,418 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:50:14,418 dialog_manager Processing message: housekeeping
INFO 2025-05-31 20:50:14,418 dialog_manager Processing input: housekeeping
INFO 2025-05-31 20:50:14,418 dialog_manager Using language: fi
INFO 2025-05-31 20:50:14,418 dialog_manager Detecting intent for input: housekeeping
INFO 2025-05-31 20:50:14,418 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:50:14,418 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:50:14,418 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'cleaning'}
INFO 2025-05-31 20:50:14,418 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-31 20:50:14,418 views Updated user data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'cleaning'}
INFO 2025-05-31 20:50:14,418 views Generated response: I'd be happy to arrange room cleaning for you! Please provide your booking ID so I can process your housekeeping request.
INFO 2025-05-31 20:50:14,418 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:50:14,418 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:50:14,427 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 430
INFO 2025-05-31 20:50:17,277 views Database connection successful
INFO 2025-05-31 20:50:17,277 views Received chat request at 2025-05-31 20:50:17.277289
DEBUG 2025-05-31 20:50:17,277 views Request headers: {'Content-Length': '296', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:50:17,277 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"date_change_17_2025-06-04":true,"processing_date_change":false,"username":"TLS","user_id":5,"showing_room_service_menu":true,"room_service_type":"cleaning"},"state":"collecting_booking_id_for_room_service","lang":"fi"}}
INFO 2025-05-31 20:50:17,282 views User input: BK-19623
INFO 2025-05-31 20:50:17,282 views Current session state: collecting_booking_id_for_room_service
INFO 2025-05-31 20:50:17,284 views Current user data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning'}
INFO 2025-05-31 20:50:17,685 dialog_manager Using device: cpu
WARNING 2025-05-31 20:50:17,685 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:50:17,685 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:50:17,685 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:50:17,685 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:50:17,685 dialog_manager Using language: fi
INFO 2025-05-31 20:50:17,685 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:50:17,685 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:50:17,685 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:50:17,685 dialog_manager Dialog manager process completed - State: selecting_cleaning_time, User data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_booking_id': 'BK-19623', 'room_service_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite'}}
INFO 2025-05-31 20:50:17,685 views Updated session state: selecting_cleaning_time
INFO 2025-05-31 20:50:17,685 views Updated user data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_booking_id': 'BK-19623', 'room_service_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite'}}
INFO 2025-05-31 20:50:17,695 views Generated response: OK, we will arrange for the cleaner to clean your room as soon as possible.
When would you like the cleaning service to be performed?
A. Now
B. After 2 pm
C. Tomorrow morning
INFO 2025-05-31 20:50:17,696 views Booking confirmation check - State: selecting_cleaning_time, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:50:17,696 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:50:17,701 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 628
INFO 2025-05-31 20:50:22,957 views Database connection successful
INFO 2025-05-31 20:50:22,961 views Received chat request at 2025-05-31 20:50:22.961383
DEBUG 2025-05-31 20:50:22,963 views Request headers: {'Content-Length': '426', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:50:22,963 views Request body: {"message":"tomorrow","session":{"user_data":{"is_returning_customer":false,"date_change_17_2025-06-04":true,"processing_date_change":false,"username":"TLS","user_id":5,"showing_room_service_menu":true,"room_service_type":"cleaning","room_service_booking_id":"BK-19623","room_service_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite"}},"state":"selecting_cleaning_time","lang":"fi"}}
INFO 2025-05-31 20:50:22,964 views User input: tomorrow
INFO 2025-05-31 20:50:22,964 views Current session state: selecting_cleaning_time
INFO 2025-05-31 20:50:22,965 views Current user data: {'is_returning_customer': False, 'date_change_17_2025-06-04': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'room_service_booking_id': 'BK-19623', 'room_service_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite'}}
INFO 2025-05-31 20:50:23,380 dialog_manager Using device: cpu
WARNING 2025-05-31 20:50:23,380 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:50:23,380 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:50:23,380 dialog_manager Processing message: tomorrow
INFO 2025-05-31 20:50:23,380 dialog_manager Processing input: tomorrow
INFO 2025-05-31 20:50:23,380 dialog_manager Using language: fi
INFO 2025-05-31 20:50:23,380 dialog_manager Detecting intent for input: tomorrow
INFO 2025-05-31 20:50:23,380 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:50:23,380 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:50:23,380 dialog_manager Room service request created: Cleaning request for BK-19623 - Tomorrow Morning
INFO 2025-05-31 20:50:23,380 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:50:23,380 views Updated session state: greeting
INFO 2025-05-31 20:50:23,392 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:50:23,393 views Generated response: Your request has been recorded. We will arrange for the cleaning staff to go to your room "tomorrow morning". Thank you for your use!
INFO 2025-05-31 20:50:23,393 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:50:23,397 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 244
INFO 2025-05-31 20:50:29,424 views Database connection successful
INFO 2025-05-31 20:50:29,425 views Received chat request at 2025-05-31 20:50:29.425804
DEBUG 2025-05-31 20:50:29,425 views Request headers: {'Content-Length': '116', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:50:29,425 views Request body: {"message":"tomorrow morning","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:50:29,425 views User input: tomorrow morning
INFO 2025-05-31 20:50:29,425 views Current session state: greeting
INFO 2025-05-31 20:50:29,425 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 20:50:30,354 dialog_manager Using device: cpu
WARNING 2025-05-31 20:50:30,354 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:50:30,354 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:50:30,354 dialog_manager Processing message: tomorrow morning
INFO 2025-05-31 20:50:30,370 dialog_manager Processing input: tomorrow morning
INFO 2025-05-31 20:50:30,370 dialog_manager Using language: fi
INFO 2025-05-31 20:50:30,370 dialog_manager Detecting intent for input: tomorrow morning
INFO 2025-05-31 20:50:30,370 dialog_manager Detected intent: greeting
INFO 2025-05-31 20:50:33,554 dialog_manager Sentiment analysis: Neutral (confidence: 0.73)
INFO 2025-05-31 20:50:33,554 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-31 20:50:33,554 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:50:33,554 views Updated session state: greeting
INFO 2025-05-31 20:50:33,554 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:50:33,554 views Generated response: I'm not sure I understand.
INFO 2025-05-31 20:50:33,554 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:50:33,554 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:50:33,616 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 169
INFO 2025-05-31 20:50:50,090 views Database connection successful
INFO 2025-05-31 20:50:50,091 views Received chat request at 2025-05-31 20:50:50.091337
DEBUG 2025-05-31 20:50:50,092 views Request headers: {'Content-Length': '143', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:50:50,093 views Request body: {"message":"room services","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:50:50,094 views User input: room services
INFO 2025-05-31 20:50:50,095 views Current session state: greeting
INFO 2025-05-31 20:50:50,096 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:50:50,511 dialog_manager Using device: cpu
WARNING 2025-05-31 20:50:50,511 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:50:50,511 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:50:50,511 dialog_manager Processing message: room services
INFO 2025-05-31 20:50:50,511 dialog_manager Processing input: room services
INFO 2025-05-31 20:50:50,511 dialog_manager Using language: fi
INFO 2025-05-31 20:50:50,511 dialog_manager Detecting intent for input: room services
INFO 2025-05-31 20:50:50,511 dialog_manager Booking intent detected
INFO 2025-05-31 20:50:50,511 dialog_manager Detected intent: booking
INFO 2025-05-31 20:50:50,521 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-31 20:50:50,522 views Updated session state: greeting
INFO 2025-05-31 20:50:50,524 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-31 20:50:50,527 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:50:50,527 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:50:50,531 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 650
INFO 2025-05-31 20:51:02,482 views Database connection successful
INFO 2025-05-31 20:51:02,482 views Received chat request at 2025-05-31 20:51:02.482957
DEBUG 2025-05-31 20:51:02,482 views Request headers: {'Content-Length': '177', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:51:02,482 views Request body: {"message":"Do not disturb","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"showing_room_service_menu":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:51:02,490 views User input: Do not disturb
INFO 2025-05-31 20:51:02,490 views Current session state: greeting
INFO 2025-05-31 20:51:02,492 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True}
INFO 2025-05-31 20:51:02,912 dialog_manager Using device: cpu
WARNING 2025-05-31 20:51:02,912 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:51:02,912 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:51:02,912 dialog_manager Processing message: Do not disturb
INFO 2025-05-31 20:51:02,912 dialog_manager Processing input: Do not disturb
INFO 2025-05-31 20:51:02,912 dialog_manager Using language: fi
INFO 2025-05-31 20:51:02,912 dialog_manager Detecting intent for input: Do not disturb
INFO 2025-05-31 20:51:02,912 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:51:02,912 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'dnd'}
INFO 2025-05-31 20:51:02,912 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-31 20:51:02,925 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'dnd'}
INFO 2025-05-31 20:51:02,925 views Generated response: I'll set up Do Not Disturb for you! Please provide your booking ID so I can update your room status.
INFO 2025-05-31 20:51:02,926 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:51:02,927 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:51:02,930 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 336
INFO 2025-05-31 20:51:06,483 views Database connection successful
INFO 2025-05-31 20:51:06,483 views Received chat request at 2025-05-31 20:51:06.483479
DEBUG 2025-05-31 20:51:06,483 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:51:06,483 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"showing_room_service_menu":true,"room_service_type":"dnd"},"state":"collecting_booking_id_for_room_service","lang":"fi"}}
INFO 2025-05-31 20:51:06,483 views User input: BK-19623
INFO 2025-05-31 20:51:06,492 views Current session state: collecting_booking_id_for_room_service
INFO 2025-05-31 20:51:06,493 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'showing_room_service_menu': True, 'room_service_type': 'dnd'}
INFO 2025-05-31 20:51:06,893 dialog_manager Using device: cpu
WARNING 2025-05-31 20:51:06,893 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:51:06,893 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:51:06,893 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:51:06,893 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:51:06,893 dialog_manager Using language: fi
INFO 2025-05-31 20:51:06,893 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:51:06,893 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:51:06,893 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:51:06,902 dialog_manager Room service request created: DND for BK-19623 - Active
INFO 2025-05-31 20:51:06,902 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:51:06,902 views Updated session state: greeting
INFO 2025-05-31 20:51:06,902 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:51:06,906 views Generated response: The "Do Not Disturb" status has been set for you. We will not disturb you for the time being, including cleaning services.
Please let me know if you need to resume service.
INFO 2025-05-31 20:51:06,906 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:51:06,913 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 284
INFO 2025-05-31 20:51:19,383 views Database connection successful
INFO 2025-05-31 20:51:19,384 views Received chat request at 2025-05-31 20:51:19.384425
DEBUG 2025-05-31 20:51:19,386 views Request headers: {'Content-Length': '127', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:51:19,386 views Request body: {"message":"i want booking another room","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:51:19,386 views User input: i want booking another room
INFO 2025-05-31 20:51:19,386 views Current session state: greeting
INFO 2025-05-31 20:51:19,386 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 20:51:19,783 dialog_manager Using device: cpu
WARNING 2025-05-31 20:51:19,783 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:51:19,783 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:51:19,783 dialog_manager Processing message: i want booking another room
INFO 2025-05-31 20:51:19,783 dialog_manager Processing input: i want booking another room
INFO 2025-05-31 20:51:19,783 dialog_manager Using language: fi
INFO 2025-05-31 20:51:19,783 dialog_manager Detecting intent for input: i want booking another room
INFO 2025-05-31 20:51:19,783 dialog_manager Book another room intent detected
INFO 2025-05-31 20:51:19,783 dialog_manager Detected intent: book_another_room
INFO 2025-05-31 20:51:24,429 dialog_manager Sentiment analysis: Neutral (confidence: 0.73)
INFO 2025-05-31 20:51:24,437 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-31 20:51:24,438 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:51:24,438 views Updated session state: collecting_parent_booking_id
INFO 2025-05-31 20:51:24,438 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:51:24,438 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-31 20:51:24,438 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:51:24,438 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:51:24,523 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 289
INFO 2025-05-31 20:51:27,046 views Database connection successful
INFO 2025-05-31 20:51:27,046 views Received chat request at 2025-05-31 20:51:27.046761
DEBUG 2025-05-31 20:51:27,046 views Request headers: {'Content-Length': '158', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:51:27,046 views Request body: {"message":"BK-19623","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"collecting_parent_booking_id","lang":"fi"}}
INFO 2025-05-31 20:51:27,046 views User input: BK-19623
INFO 2025-05-31 20:51:27,054 views Current session state: collecting_parent_booking_id
INFO 2025-05-31 20:51:27,055 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:51:27,468 dialog_manager Using device: cpu
WARNING 2025-05-31 20:51:27,468 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:51:27,468 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:51:27,468 dialog_manager Processing message: BK-19623
INFO 2025-05-31 20:51:27,468 dialog_manager Processing input: BK-19623
INFO 2025-05-31 20:51:27,468 dialog_manager Using language: fi
INFO 2025-05-31 20:51:27,468 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 20:51:27,468 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:51:27,468 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:51:27,475 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 6, 4), 'check_out_date': datetime.date(2025, 6, 6)}, 'is_additional_booking': True}
INFO 2025-05-31 20:51:27,475 views Updated session state: selecting_additional_room_type
INFO 2025-05-31 20:51:27,475 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 6, 4), 'check_out_date': datetime.date(2025, 6, 6)}, 'is_additional_booking': True}
INFO 2025-05-31 20:51:27,480 views Generated response: Perfect! I'll help you book an additional room to go with Suite.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-31 20:51:27,480 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:51:27,481 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:51:27,484 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 665
INFO 2025-05-31 20:51:32,683 views Database connection successful
INFO 2025-05-31 20:51:32,683 views Received chat request at 2025-05-31 20:51:32.683560
DEBUG 2025-05-31 20:51:32,683 views Request headers: {'Content-Length': '353', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:51:32,689 views Request body: {"message":"deluxe room","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true},"state":"selecting_additional_room_type","lang":"fi"}}
INFO 2025-05-31 20:51:32,689 views User input: deluxe room
INFO 2025-05-31 20:51:32,692 views Current session state: selecting_additional_room_type
INFO 2025-05-31 20:51:32,693 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True}
INFO 2025-05-31 20:51:33,104 dialog_manager Using device: cpu
WARNING 2025-05-31 20:51:33,104 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:51:33,104 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:51:33,104 dialog_manager Processing message: deluxe room
INFO 2025-05-31 20:51:33,104 dialog_manager Processing input: deluxe room
INFO 2025-05-31 20:51:33,104 dialog_manager Using language: fi
INFO 2025-05-31 20:51:33,104 dialog_manager Detecting intent for input: deluxe room
INFO 2025-05-31 20:51:33,104 dialog_manager Booking intent detected
INFO 2025-05-31 20:51:33,104 dialog_manager Detected intent: booking
INFO 2025-05-31 20:51:33,116 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 20:51:33,116 dialog_manager Extracting dates from: deluxe room
WARNING 2025-05-31 20:51:33,117 dialog_manager No dates found
INFO 2025-05-31 20:51:33,117 dialog_manager Extracted room type: Deluxe
INFO 2025-05-31 20:51:33,117 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:51:33,119 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:51:33,119 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:51:33,127 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:51:33,127 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:51:33,129 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 478
INFO 2025-05-31 20:51:51,007 views Database connection successful
INFO 2025-05-31 20:51:51,008 views Received chat request at 2025-05-31 20:51:51.008623
DEBUG 2025-05-31 20:51:51,009 views Request headers: {'Content-Length': '357', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:51:51,010 views Request body: {"message":"B","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:51:51,011 views User input: B
INFO 2025-05-31 20:51:51,011 views Current session state: collecting_booking_info
INFO 2025-05-31 20:51:51,012 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:51:51,430 dialog_manager Using device: cpu
WARNING 2025-05-31 20:51:51,430 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:51:51,430 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:51:51,430 dialog_manager Processing message: B
INFO 2025-05-31 20:51:51,430 dialog_manager Processing input: B
INFO 2025-05-31 20:51:51,430 dialog_manager Using language: fi
INFO 2025-05-31 20:51:51,430 dialog_manager Detecting intent for input: B
INFO 2025-05-31 20:51:51,436 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:51:51,441 dialog_manager Extracting dates from: B
WARNING 2025-05-31 20:51:51,441 dialog_manager No dates found
INFO 2025-05-31 20:51:51,442 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:51:51,442 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:51:51,443 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:51:51,447 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:51:51,447 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:51:51,450 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 478
INFO 2025-05-31 20:52:02,363 views Database connection successful
INFO 2025-05-31 20:52:02,363 views Received chat request at 2025-05-31 20:52:02.363443
DEBUG 2025-05-31 20:52:02,363 views Request headers: {'Content-Length': '359', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:52:02,370 views Request body: {"message":"tls","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:52:02,370 views User input: tls
INFO 2025-05-31 20:52:02,372 views Current session state: collecting_booking_info
INFO 2025-05-31 20:52:02,372 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe'}
INFO 2025-05-31 20:52:02,817 dialog_manager Using device: cpu
WARNING 2025-05-31 20:52:02,817 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:52:02,817 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:52:02,817 dialog_manager Processing message: tls
INFO 2025-05-31 20:52:02,817 dialog_manager Processing input: tls
INFO 2025-05-31 20:52:02,817 dialog_manager Using language: fi
INFO 2025-05-31 20:52:02,817 dialog_manager Detecting intent for input: tls
INFO 2025-05-31 20:52:02,820 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:52:02,820 dialog_manager Extracted name: tls
INFO 2025-05-31 20:52:02,820 dialog_manager Extracting dates from: tls
WARNING 2025-05-31 20:52:02,825 dialog_manager No dates found
INFO 2025-05-31 20:52:02,826 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'tls'}
INFO 2025-05-31 20:52:02,827 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'tls'}
INFO 2025-05-31 20:52:02,827 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:52:02,828 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'tls'}
INFO 2025-05-31 20:52:02,835 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:52:02,835 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:52:02,837 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 500
INFO 2025-05-31 20:52:06,263 views Database connection successful
INFO 2025-05-31 20:52:06,263 views Received chat request at 2025-05-31 20:52:06.263885
DEBUG 2025-05-31 20:52:06,263 views Request headers: {'Content-Length': '386', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:52:06,263 views Request body: {"message":"01158763903","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe","guest_name":"tls"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:52:06,270 views User input: 01158763903
INFO 2025-05-31 20:52:06,270 views Current session state: collecting_booking_info
INFO 2025-05-31 20:52:06,270 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls'}
INFO 2025-05-31 20:52:06,743 dialog_manager Using device: cpu
WARNING 2025-05-31 20:52:06,743 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:52:06,743 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:52:06,743 dialog_manager Processing message: 01158763903
INFO 2025-05-31 20:52:06,743 dialog_manager Processing input: 01158763903
INFO 2025-05-31 20:52:06,743 dialog_manager Using language: fi
INFO 2025-05-31 20:52:06,743 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-31 20:52:06,743 dialog_manager Invalid input detected: too_many_digits
INFO 2025-05-31 20:52:06,743 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:52:06,743 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-31 20:52:06,743 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 20:52:06,743 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 20:52:06,743 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:52:06,743 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 20:52:06,762 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:52:06,763 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:52:06,764 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 521
INFO 2025-05-31 20:52:14,020 views Database connection successful
INFO 2025-05-31 20:52:14,021 views Received chat request at 2025-05-31 20:52:14.021523
DEBUG 2025-05-31 20:52:14,021 views Request headers: {'Content-Length': '416', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:52:14,023 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe","guest_name":"tls","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:52:14,023 views User input: marco9043@gmail.com
INFO 2025-05-31 20:52:14,023 views Current session state: collecting_booking_info
INFO 2025-05-31 20:52:14,024 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903'}
INFO 2025-05-31 20:52:14,425 dialog_manager Using device: cpu
WARNING 2025-05-31 20:52:14,425 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:52:14,425 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:52:14,435 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-05-31 20:52:14,435 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-05-31 20:52:14,435 dialog_manager Using language: fi
INFO 2025-05-31 20:52:14,435 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-05-31 20:52:14,435 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:52:14,435 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-05-31 20:52:14,435 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 20:52:14,445 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 20:52:14,445 views Updated session state: collecting_booking_info
INFO 2025-05-31 20:52:14,446 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 20:52:14,453 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:52:14,454 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:52:14,455 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 600
INFO 2025-05-31 20:52:18,963 views Database connection successful
INFO 2025-05-31 20:52:18,967 views Received chat request at 2025-05-31 20:52:18.967069
DEBUG 2025-05-31 20:52:18,968 views Request headers: {'Content-Length': '438', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:52:18,969 views Request body: {"message":"next monday","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe","guest_name":"tls","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 20:52:18,971 views User input: next monday
INFO 2025-05-31 20:52:18,971 views Current session state: collecting_booking_info
INFO 2025-05-31 20:52:18,972 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 20:52:19,387 dialog_manager Using device: cpu
WARNING 2025-05-31 20:52:19,387 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:52:19,387 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:52:19,387 dialog_manager Processing message: next monday
INFO 2025-05-31 20:52:19,387 dialog_manager Processing input: next monday
INFO 2025-05-31 20:52:19,387 dialog_manager Using language: fi
INFO 2025-05-31 20:52:19,387 dialog_manager Detecting intent for input: next monday
INFO 2025-05-31 20:52:19,387 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:52:19,387 dialog_manager Extracting dates from: next monday
INFO 2025-05-31 20:52:19,397 dialog_manager Extracted 'next monday' date: 2025-06-02 20:52:19.396848
INFO 2025-05-31 20:52:19,397 dialog_manager Single date result: {'check_in': '2025-06-02', 'check_out': '2025-06-03'}
INFO 2025-05-31 20:52:19,401 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03'}
INFO 2025-05-31 20:52:19,407 models Booking saved: BK-80188 for tls
INFO 2025-05-31 20:52:19,407 dialog_manager Booking created successfully: ID=18, Booking_ID=BK-80188
INFO 2025-05-31 20:52:19,408 dialog_manager Booking record created successfully: BK-80188
INFO 2025-05-31 20:52:19,409 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188'}
INFO 2025-05-31 20:52:19,409 views Updated session state: offering_addons
INFO 2025-05-31 20:52:19,409 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188'}
INFO 2025-05-31 20:52:19,409 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-31 20:52:19,410 views Booking confirmation check - State: offering_addons, Booking ID: BK-80188, Previous ID: BK-80188, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:52:19,410 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:52:19,412 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1444
INFO 2025-05-31 20:53:03,118 views Database connection successful
INFO 2025-05-31 20:53:03,118 views Received chat request at 2025-05-31 20:53:03.118562
DEBUG 2025-05-31 20:53:03,118 views Request headers: {'Content-Length': '509', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:53:03,118 views Request body: {"message":"sdbjgbj","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe","guest_name":"tls","phone":"01158763903","email":"marco9043@gmail.com","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-80188"},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-31 20:53:03,118 views User input: sdbjgbj
INFO 2025-05-31 20:53:03,118 views Current session state: offering_addons
INFO 2025-05-31 20:53:03,118 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188'}
INFO 2025-05-31 20:53:03,631 dialog_manager Using device: cpu
WARNING 2025-05-31 20:53:03,631 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:53:03,631 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:53:03,631 dialog_manager Processing message: sdbjgbj
INFO 2025-05-31 20:53:03,631 dialog_manager Processing input: sdbjgbj
INFO 2025-05-31 20:53:03,631 dialog_manager Using language: fi
INFO 2025-05-31 20:53:03,631 dialog_manager Detecting intent for input: sdbjgbj
INFO 2025-05-31 20:53:03,643 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:53:03,646 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': []}
INFO 2025-05-31 20:53:03,649 views Updated session state: offering_addons
INFO 2025-05-31 20:53:03,649 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': []}
INFO 2025-05-31 20:53:03,653 views Booking confirmation check - State: offering_addons, Booking ID: BK-80188, Previous ID: BK-80188, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:53:03,653 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:53:03,659 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 706
INFO 2025-05-31 20:53:06,328 views Database connection successful
INFO 2025-05-31 20:53:06,329 views Received chat request at 2025-05-31 20:53:06.329326
DEBUG 2025-05-31 20:53:06,331 views Request headers: {'Content-Length': '539', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:53:06,335 views Request body: {"message":"sdbajhsbdjfvbsd","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe","guest_name":"tls","phone":"01158763903","email":"marco9043@gmail.com","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-80188","addon_selections":[]},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-31 20:53:06,338 views User input: sdbajhsbdjfvbsd
INFO 2025-05-31 20:53:06,339 views Current session state: offering_addons
INFO 2025-05-31 20:53:06,340 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188', 'addon_selections': []}
INFO 2025-05-31 20:53:07,267 dialog_manager Using device: cpu
WARNING 2025-05-31 20:53:07,268 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:53:07,268 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:53:07,270 dialog_manager Processing message: sdbajhsbdjfvbsd
INFO 2025-05-31 20:53:07,271 dialog_manager Processing input: sdbajhsbdjfvbsd
INFO 2025-05-31 20:53:07,271 dialog_manager Using language: fi
INFO 2025-05-31 20:53:07,273 dialog_manager Detecting intent for input: sdbajhsbdjfvbsd
INFO 2025-05-31 20:53:07,273 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:53:07,273 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:53:07,274 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188', 'addon_selections': [], 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:53:07,280 views Updated session state: offering_addons
INFO 2025-05-31 20:53:07,281 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188', 'addon_selections': [], 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:53:07,291 views Booking confirmation check - State: offering_addons, Booking ID: BK-80188, Previous ID: BK-80188, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:53:07,295 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:53:07,301 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 706
INFO 2025-05-31 20:53:13,349 views Database connection successful
INFO 2025-05-31 20:53:13,350 views Received chat request at 2025-05-31 20:53:13.350201
DEBUG 2025-05-31 20:53:13,351 views Request headers: {'Content-Length': '533', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:53:13,351 views Request body: {"message":"no thanks","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"room_type":"Deluxe","guest_name":"tls","phone":"01158763903","email":"marco9043@gmail.com","check_in_date":"2025-06-02","check_out_date":"2025-06-03","booking_id":"BK-80188","addon_selections":[]},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-31 20:53:13,352 views User input: no thanks
INFO 2025-05-31 20:53:13,352 views Current session state: offering_addons
INFO 2025-05-31 20:53:13,353 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'room_type': 'Deluxe', 'guest_name': 'tls', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'check_in_date': '2025-06-02', 'check_out_date': '2025-06-03', 'booking_id': 'BK-80188', 'addon_selections': []}
INFO 2025-05-31 20:53:14,101 dialog_manager Using device: cpu
WARNING 2025-05-31 20:53:14,102 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:53:14,105 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:53:14,110 dialog_manager Processing message: no thanks
INFO 2025-05-31 20:53:14,111 dialog_manager Processing input: no thanks
INFO 2025-05-31 20:53:14,113 dialog_manager Using language: fi
INFO 2025-05-31 20:53:14,114 dialog_manager Detecting intent for input: no thanks
INFO 2025-05-31 20:53:14,132 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:53:14,132 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:53:14,132 views Updated session state: greeting
INFO 2025-05-31 20:53:14,136 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:53:14,137 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-05-31 20:53:14,140 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:53:14,146 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-05-31 20:53:16,747 views Database connection successful
INFO 2025-05-31 20:53:16,751 views Received chat request at 2025-05-31 20:53:16.751907
DEBUG 2025-05-31 20:53:16,754 views Request headers: {'Content-Length': '109', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:53:16,756 views Request body: {"message":"dsahbfhba","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:53:16,757 views User input: dsahbfhba
INFO 2025-05-31 20:53:16,757 views Current session state: greeting
INFO 2025-05-31 20:53:16,757 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 20:53:17,623 dialog_manager Using device: cpu
WARNING 2025-05-31 20:53:17,623 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:53:17,623 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:53:17,623 dialog_manager Processing message: dsahbfhba
INFO 2025-05-31 20:53:17,623 dialog_manager Processing input: dsahbfhba
INFO 2025-05-31 20:53:17,623 dialog_manager Using language: fi
INFO 2025-05-31 20:53:17,623 dialog_manager Detecting intent for input: dsahbfhba
INFO 2025-05-31 20:53:17,623 dialog_manager Invalid input detected: excessive_consonants
INFO 2025-05-31 20:53:17,623 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:53:23,031 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-05-31 20:53:23,045 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:53:23,045 views Updated session state: greeting
INFO 2025-05-31 20:53:23,045 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:53:23,054 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:53:23,054 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:53:23,175 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 692
INFO 2025-05-31 20:53:48,153 views Database connection successful
INFO 2025-05-31 20:53:48,154 views Received chat request at 2025-05-31 20:53:48.154925
DEBUG 2025-05-31 20:53:48,155 views Request headers: {'Content-Length': '131', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:53:48,155 views Request body: {"message":"1","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:53:48,156 views User input: 1
INFO 2025-05-31 20:53:48,157 views Current session state: greeting
INFO 2025-05-31 20:53:48,157 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:53:48,875 dialog_manager Using device: cpu
WARNING 2025-05-31 20:53:48,875 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:53:48,875 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:53:48,875 dialog_manager Processing message: 1
INFO 2025-05-31 20:53:48,875 dialog_manager Processing input: 1
INFO 2025-05-31 20:53:48,875 dialog_manager Using language: fi
INFO 2025-05-31 20:53:48,875 dialog_manager Detecting intent for input: 1
INFO 2025-05-31 20:53:48,875 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:53:58,736 dialog_manager Sentiment analysis: Neutral (confidence: 0.50)
INFO 2025-05-31 20:53:58,737 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-05-31 20:53:58,737 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:53:58,737 views Updated session state: greeting
INFO 2025-05-31 20:53:58,737 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 20:53:58,737 views Generated response: I'm not sure I understand.
INFO 2025-05-31 20:53:58,737 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:53:58,737 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:53:58,936 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 169
INFO 2025-05-31 20:54:07,597 views Database connection successful
INFO 2025-05-31 20:54:07,598 views Received chat request at 2025-05-31 20:54:07.597673
DEBUG 2025-05-31 20:54:07,599 views Request headers: {'Content-Length': '144', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:54:07,599 views Request body: {"message":"Cancel booking","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 20:54:07,601 views User input: Cancel booking
INFO 2025-05-31 20:54:07,601 views Current session state: greeting
INFO 2025-05-31 20:54:07,601 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5}
INFO 2025-05-31 20:54:08,386 dialog_manager Using device: cpu
WARNING 2025-05-31 20:54:08,387 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:54:08,387 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:54:08,387 dialog_manager Processing message: Cancel booking
INFO 2025-05-31 20:54:08,388 dialog_manager Processing input: Cancel booking
INFO 2025-05-31 20:54:08,388 dialog_manager Using language: fi
INFO 2025-05-31 20:54:08,388 dialog_manager Detecting intent for input: Cancel booking
INFO 2025-05-31 20:54:08,448 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-05-31 20:54:08,448 dialog_manager Detected intent: cancel_booking
INFO 2025-05-31 20:54:08,450 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_cancel, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-05-31 20:54:08,451 views Updated session state: collecting_booking_id_for_cancel
INFO 2025-05-31 20:54:08,451 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-05-31 20:54:08,451 views Generated response: I'd be happy to help you cancel your booking. Please provide your booking ID or booking name, and I will help you check the booking information.
INFO 2025-05-31 20:54:08,452 views Booking confirmation check - State: collecting_booking_id_for_cancel, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:54:08,453 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:54:08,457 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 342
INFO 2025-05-31 20:54:16,125 views Database connection successful
INFO 2025-05-31 20:54:16,127 views Received chat request at 2025-05-31 20:54:16.127798
DEBUG 2025-05-31 20:54:16,127 views Request headers: {'Content-Length': '191', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:54:16,127 views Request body: {"message":"BK-80188","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"pending_cancel_intent":true},"state":"collecting_booking_id_for_cancel","lang":"fi"}}
INFO 2025-05-31 20:54:16,127 views User input: BK-80188
INFO 2025-05-31 20:54:16,127 views Current session state: collecting_booking_id_for_cancel
INFO 2025-05-31 20:54:16,127 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'pending_cancel_intent': True}
INFO 2025-05-31 20:54:16,857 dialog_manager Using device: cpu
WARNING 2025-05-31 20:54:16,857 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:54:16,857 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:54:16,857 dialog_manager Processing message: BK-80188
INFO 2025-05-31 20:54:16,857 dialog_manager Processing input: BK-80188
INFO 2025-05-31 20:54:16,857 dialog_manager Using language: fi
INFO 2025-05-31 20:54:16,857 dialog_manager Detecting intent for input: BK-80188
INFO 2025-05-31 20:54:16,857 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 20:54:16,857 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:54:16,883 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-80188', 'booking_to_cancel': {'id': 18, 'booking_id': 'BK-80188', 'room_name': 'Deluxe Room', 'guest_name': 'tls', 'check_in': 'June 02', 'check_out': 'June 03', 'status': 'confirmed'}}
INFO 2025-05-31 20:54:16,893 views Updated session state: confirming_cancellation
INFO 2025-05-31 20:54:16,907 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-80188', 'booking_to_cancel': {'id': 18, 'booking_id': 'BK-80188', 'room_name': 'Deluxe Room', 'guest_name': 'tls', 'check_in': 'June 02', 'check_out': 'June 03', 'status': 'confirmed'}}
INFO 2025-05-31 20:54:16,915 views Generated response: I found your booking! You have booked a Deluxe Room with check-in dates from June 02 to June 03. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-05-31 20:54:16,921 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:54:16,929 views Removed User object from session for JSON serialization
INFO 2025-05-31 20:54:16,937 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 523
INFO 2025-05-31 20:54:20,284 views Database connection successful
INFO 2025-05-31 20:54:20,285 views Received chat request at 2025-05-31 20:54:20.285866
DEBUG 2025-05-31 20:54:20,286 views Request headers: {'Content-Length': '342', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 20:54:20,286 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":5,"cancel_booking_id":"BK-80188","booking_to_cancel":{"id":18,"booking_id":"BK-80188","room_name":"Deluxe Room","guest_name":"tls","check_in":"June 02","check_out":"June 03","status":"confirmed"}},"state":"confirming_cancellation","lang":"fi"}}
INFO 2025-05-31 20:54:20,288 views User input: yes
INFO 2025-05-31 20:54:20,288 views Current session state: confirming_cancellation
INFO 2025-05-31 20:54:20,288 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 5, 'cancel_booking_id': 'BK-80188', 'booking_to_cancel': {'id': 18, 'booking_id': 'BK-80188', 'room_name': 'Deluxe Room', 'guest_name': 'tls', 'check_in': 'June 02', 'check_out': 'June 03', 'status': 'confirmed'}}
INFO 2025-05-31 20:54:20,963 dialog_manager Using device: cpu
WARNING 2025-05-31 20:54:20,965 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:54:20,966 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:54:20,966 dialog_manager Processing message: yes
INFO 2025-05-31 20:54:20,967 dialog_manager Processing input: yes
INFO 2025-05-31 20:54:20,968 dialog_manager Using language: fi
INFO 2025-05-31 20:54:20,968 dialog_manager Detecting intent for input: yes
INFO 2025-05-31 20:54:20,978 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:54:20,989 models Booking saved: BK-80188 for tls
INFO 2025-05-31 20:54:20,991 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 20:54:20,991 views Updated session state: greeting
INFO 2025-05-31 20:54:20,992 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 20:54:20,992 views Generated response: Your reservation has been successfully canceled, order number BK-80188. I hope to have the opportunity to serve you in the future!
INFO 2025-05-31 20:54:20,993 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 20:54:20,998 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-31 20:54:37,999 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-05-31 20:54:44,097 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 20:54:54,229 middleware Admin user found: admin
INFO 2025-05-31 20:55:27,028 dialog_manager Using device: cpu
WARNING 2025-05-31 20:55:27,030 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:55:27,032 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:55:27,034 dialog_manager Processing input: deluxe room
INFO 2025-05-31 20:55:27,475 dialog_manager Using language: en
INFO 2025-05-31 20:55:27,475 dialog_manager Detecting intent for input: deluxe room
INFO 2025-05-31 20:55:27,500 dialog_manager Booking intent detected
INFO 2025-05-31 20:55:27,501 dialog_manager Detected intent: booking
INFO 2025-05-31 20:55:27,514 dialog_manager Processing input: B
INFO 2025-05-31 20:55:27,518 dialog_manager Using language: en
INFO 2025-05-31 20:55:27,519 dialog_manager Detecting intent for input: B
INFO 2025-05-31 20:55:27,524 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:55:27,530 dialog_manager Processing input: standard
INFO 2025-05-31 20:55:27,538 dialog_manager Using language: en
INFO 2025-05-31 20:55:27,539 dialog_manager Detecting intent for input: standard
INFO 2025-05-31 20:55:27,540 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:55:27,540 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:55:27,543 dialog_manager Processing input: deluxe room
INFO 2025-05-31 20:55:27,553 dialog_manager Using language: en
INFO 2025-05-31 20:55:27,553 dialog_manager Detecting intent for input: deluxe room
INFO 2025-05-31 20:55:27,558 dialog_manager Booking intent detected
INFO 2025-05-31 20:55:27,558 dialog_manager Detected intent: booking
INFO 2025-05-31 20:55:27,562 dialog_manager Processing input: A
INFO 2025-05-31 20:55:27,602 dialog_manager Using language: en
INFO 2025-05-31 20:55:27,603 dialog_manager Detecting intent for input: A
INFO 2025-05-31 20:55:27,607 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:55:27,609 dialog_manager Processing input: confirm
INFO 2025-05-31 20:55:27,635 dialog_manager Using language: en
INFO 2025-05-31 20:55:27,636 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 20:55:27,641 dialog_manager Detected intent: unknown
WARNING 2025-05-31 20:55:27,649 dialog_manager Parent booking not found: 1
INFO 2025-05-31 20:55:27,654 models Booking saved: BK-84305 for John Doe
INFO 2025-05-31 20:55:27,655 dialog_manager Additional booking created successfully: ID=19, Booking_ID=BK-84305
INFO 2025-05-31 20:55:27,655 dialog_manager Linked to parent booking: BK-12345
INFO 2025-05-31 20:55:35,289 dialog_manager Using device: cpu
WARNING 2025-05-31 20:55:35,289 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 20:55:35,293 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 20:55:35,293 dialog_manager Processing input: deluxe room
INFO 2025-05-31 20:55:35,741 dialog_manager Using language: en
INFO 2025-05-31 20:55:35,741 dialog_manager Detecting intent for input: deluxe room
INFO 2025-05-31 20:55:35,748 dialog_manager Booking intent detected
INFO 2025-05-31 20:55:35,748 dialog_manager Detected intent: booking
INFO 2025-05-31 20:55:35,755 dialog_manager Processing input: B
INFO 2025-05-31 20:55:35,759 dialog_manager Using language: en
INFO 2025-05-31 20:55:35,760 dialog_manager Detecting intent for input: B
INFO 2025-05-31 20:55:35,766 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:55:35,769 dialog_manager Processing input: standard
INFO 2025-05-31 20:55:35,777 dialog_manager Using language: en
INFO 2025-05-31 20:55:35,777 dialog_manager Detecting intent for input: standard
INFO 2025-05-31 20:55:35,778 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 20:55:35,778 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 20:55:35,780 dialog_manager Processing input: deluxe room
INFO 2025-05-31 20:55:35,789 dialog_manager Using language: en
INFO 2025-05-31 20:55:35,789 dialog_manager Detecting intent for input: deluxe room
INFO 2025-05-31 20:55:35,795 dialog_manager Booking intent detected
INFO 2025-05-31 20:55:35,796 dialog_manager Detected intent: booking
INFO 2025-05-31 20:55:35,798 dialog_manager Processing input: A
INFO 2025-05-31 20:55:35,839 dialog_manager Using language: en
INFO 2025-05-31 20:55:35,840 dialog_manager Detecting intent for input: A
INFO 2025-05-31 20:55:35,845 dialog_manager Detected intent: unknown
INFO 2025-05-31 20:55:35,845 dialog_manager Processing input: confirm
INFO 2025-05-31 20:55:35,868 dialog_manager Using language: en
INFO 2025-05-31 20:55:35,868 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 20:55:35,875 dialog_manager Detected intent: unknown
WARNING 2025-05-31 20:55:35,880 dialog_manager Parent booking not found: 1
INFO 2025-05-31 20:55:35,888 models Booking saved: BK-59141 for John Doe
INFO 2025-05-31 20:55:35,888 dialog_manager Additional booking created successfully: ID=20, Booking_ID=BK-59141
INFO 2025-05-31 20:55:35,889 dialog_manager Linked to parent booking: BK-12345
INFO 2025-05-31 21:00:02,915 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 21:00:09,730 middleware Admin user found: admin
INFO 2025-05-31 21:03:00,300 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 16212
WARNING 2025-05-31 21:03:01,002 log Not Found: /favicon.ico
WARNING 2025-05-31 21:03:01,016 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-05-31 21:03:34,353 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\project\settings.py changed, reloading.
INFO 2025-05-31 21:03:36,600 autoreload Watching for file changes with StatReloader
INFO 2025-05-31 21:03:44,234 middleware Admin user found: admin
WARNING 2025-05-31 21:06:24,981 log Method Not Allowed (OPTIONS): /hotel_booking/chatbot/api/
WARNING 2025-05-31 21:06:25,108 basehttp "OPTIONS /hotel_booking/chatbot/api/ HTTP/1.1" 405 0
INFO 2025-05-31 21:06:43,925 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18629
INFO 2025-05-31 21:06:44,064 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:06:48,237 basehttp "GET /admin/hotel_booking/booking/20/change/ HTTP/1.1" 200 32872
INFO 2025-05-31 21:06:48,295 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:06:50,010 basehttp "GET /admin/hotel_booking/booking/20/delete/ HTTP/1.1" 200 10822
INFO 2025-05-31 21:06:50,751 basehttp "POST /admin/hotel_booking/booking/20/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 21:06:50,927 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18155
INFO 2025-05-31 21:06:50,964 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:06:52,049 basehttp "GET /admin/hotel_booking/booking/19/change/ HTTP/1.1" 200 32872
INFO 2025-05-31 21:06:52,105 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:06:53,248 basehttp "GET /admin/hotel_booking/booking/19/delete/ HTTP/1.1" 200 10822
INFO 2025-05-31 21:06:54,149 basehttp "POST /admin/hotel_booking/booking/19/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 21:06:54,249 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 17496
INFO 2025-05-31 21:06:54,295 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:06:55,712 basehttp "GET /admin/hotel_booking/booking/18/change/ HTTP/1.1" 200 32877
INFO 2025-05-31 21:06:55,765 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:07:01,563 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 17311
INFO 2025-05-31 21:07:02,881 basehttp "GET /admin/hotel_booking/booking/18/change/ HTTP/1.1" 200 32877
INFO 2025-05-31 21:07:02,955 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:07:03,976 basehttp "GET /admin/hotel_booking/booking/18/delete/ HTTP/1.1" 200 10801
INFO 2025-05-31 21:07:04,683 basehttp "POST /admin/hotel_booking/booking/18/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 21:07:04,756 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16838
INFO 2025-05-31 21:07:04,814 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:07:06,073 basehttp "GET /admin/hotel_booking/booking/17/change/ HTTP/1.1" 200 45310
INFO 2025-05-31 21:07:06,115 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:07:19,292 views Database connection successful
INFO 2025-05-31 21:07:19,294 views Received chat request at 2025-05-31 21:07:19.294040
DEBUG 2025-05-31 21:07:19,295 views Request headers: {'Content-Length': '47', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 21:07:19,295 views Request body: {"message":"booking another room","session":{}}
INFO 2025-05-31 21:07:19,295 views User input: booking another room
INFO 2025-05-31 21:07:19,296 views Current session state: None
INFO 2025-05-31 21:07:19,296 views Current user data: None
INFO 2025-05-31 21:07:19,930 dialog_manager Using device: cpu
WARNING 2025-05-31 21:07:19,931 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:07:19,935 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:07:19,938 dialog_manager Processing message: booking another room
INFO 2025-05-31 21:07:19,938 dialog_manager Processing input: booking another room
INFO 2025-05-31 21:07:20,470 dialog_manager Using language: en
INFO 2025-05-31 21:07:20,471 dialog_manager Detecting intent for input: booking another room
INFO 2025-05-31 21:07:20,513 dialog_manager Book another room intent detected
INFO 2025-05-31 21:07:20,513 dialog_manager Detected intent: book_another_room
INFO 2025-05-31 21:07:36,938 dialog_manager Sentiment analysis: Neutral (confidence: 0.86)
INFO 2025-05-31 21:07:36,938 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-31 21:07:36,944 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:07:36,944 views Updated session state: collecting_parent_booking_id
INFO 2025-05-31 21:07:36,944 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:07:36,944 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-31 21:07:36,944 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:07:36,944 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:07:37,051 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 289
INFO 2025-05-31 21:07:42,916 views Database connection successful
INFO 2025-05-31 21:07:42,916 views Received chat request at 2025-05-31 21:07:42.916129
DEBUG 2025-05-31 21:07:42,916 views Request headers: {'Content-Length': '158', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 21:07:42,916 views Request body: {"message":"BK-19623","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5},"state":"collecting_parent_booking_id","lang":"en"}}
INFO 2025-05-31 21:07:42,918 views User input: BK-19623
INFO 2025-05-31 21:07:42,918 views Current session state: collecting_parent_booking_id
INFO 2025-05-31 21:07:42,918 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5}
INFO 2025-05-31 21:07:43,421 dialog_manager Using device: cpu
WARNING 2025-05-31 21:07:43,421 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:07:43,421 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:07:43,437 dialog_manager Processing message: BK-19623
INFO 2025-05-31 21:07:43,437 dialog_manager Processing input: BK-19623
INFO 2025-05-31 21:07:43,437 dialog_manager Using language: en
INFO 2025-05-31 21:07:43,437 dialog_manager Detecting intent for input: BK-19623
INFO 2025-05-31 21:07:43,440 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:07:43,441 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:07:43,446 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 6, 4), 'check_out_date': datetime.date(2025, 6, 6)}, 'is_additional_booking': True}
INFO 2025-05-31 21:07:43,446 views Updated session state: selecting_additional_room_type
INFO 2025-05-31 21:07:43,446 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': datetime.date(2025, 6, 4), 'check_out_date': datetime.date(2025, 6, 6)}, 'is_additional_booking': True}
INFO 2025-05-31 21:07:43,446 views Generated response: Perfect! I'll help you book an additional room to go with Suite.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-31 21:07:43,446 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:07:43,451 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:07:43,454 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 665
INFO 2025-05-31 21:07:48,770 views Database connection successful
INFO 2025-05-31 21:07:48,770 views Received chat request at 2025-05-31 21:07:48.770335
DEBUG 2025-05-31 21:07:48,770 views Request headers: {'Content-Length': '348', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 21:07:48,770 views Request body: {"message":"deluxe","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true},"state":"selecting_additional_room_type","lang":"en"}}
INFO 2025-05-31 21:07:48,770 views User input: deluxe
INFO 2025-05-31 21:07:48,781 views Current session state: selecting_additional_room_type
INFO 2025-05-31 21:07:48,781 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True}
INFO 2025-05-31 21:07:49,212 dialog_manager Using device: cpu
WARNING 2025-05-31 21:07:49,212 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:07:49,212 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:07:49,212 dialog_manager Processing message: deluxe
INFO 2025-05-31 21:07:49,212 dialog_manager Processing input: deluxe
INFO 2025-05-31 21:07:49,216 dialog_manager Using language: en
INFO 2025-05-31 21:07:49,217 dialog_manager Detecting intent for input: deluxe
INFO 2025-05-31 21:07:49,243 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:07:49,243 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-31 21:07:49,243 views Updated session state: confirming_additional_dates
INFO 2025-05-31 21:07:49,243 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205.0}
INFO 2025-05-31 21:07:49,243 views Generated response: Great! You've selected Deluxe Room (RM205.00/night) for your additional booking.

Your current booking is from 2025-06-04 to 2025-06-06.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-31 21:07:49,243 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:07:49,250 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:07:49,252 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 709
INFO 2025-05-31 21:08:07,845 views Database connection successful
INFO 2025-05-31 21:08:07,845 views Received chat request at 2025-05-31 21:08:07.845436
DEBUG 2025-05-31 21:08:07,848 views Request headers: {'Content-Length': '406', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 21:08:07,848 views Request body: {"message":"no","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"additional_room_type":"Deluxe Room","additional_room_price":205},"state":"confirming_additional_dates","lang":"en"}}
INFO 2025-05-31 21:08:07,850 views User input: no
INFO 2025-05-31 21:08:07,850 views Current session state: confirming_additional_dates
INFO 2025-05-31 21:08:07,851 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205}
INFO 2025-05-31 21:08:08,301 dialog_manager Using device: cpu
WARNING 2025-05-31 21:08:08,301 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:08:08,301 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:08:08,301 dialog_manager Processing message: no
INFO 2025-05-31 21:08:08,301 dialog_manager Processing input: no
INFO 2025-05-31 21:08:08,301 dialog_manager Using language: en
INFO 2025-05-31 21:08:08,301 dialog_manager Detecting intent for input: no
INFO 2025-05-31 21:08:08,301 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:08:08,301 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:08:08,301 views Updated session state: collecting_additional_dates
INFO 2025-05-31 21:08:08,317 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:08:08,317 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-05-31 21:08:08,317 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:08:08,319 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:08:08,322 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 567
INFO 2025-05-31 21:08:21,267 views Database connection successful
INFO 2025-05-31 21:08:21,267 views Received chat request at 2025-05-31 21:08:21.267190
DEBUG 2025-05-31 21:08:21,267 views Request headers: {'Content-Length': '422', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 21:08:21,267 views Request body: {"message":"June 12 to June 14","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"additional_room_type":"Deluxe Room","additional_room_price":205},"state":"collecting_additional_dates","lang":"en"}}
INFO 2025-05-31 21:08:21,267 views User input: June 12 to June 14
INFO 2025-05-31 21:08:21,267 views Current session state: collecting_additional_dates
INFO 2025-05-31 21:08:21,267 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205}
INFO 2025-05-31 21:08:21,690 dialog_manager Using device: cpu
WARNING 2025-05-31 21:08:21,690 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:08:21,690 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:08:21,690 dialog_manager Processing message: June 12 to June 14
INFO 2025-05-31 21:08:21,690 dialog_manager Processing input: June 12 to June 14
INFO 2025-05-31 21:08:21,690 dialog_manager Using language: en
INFO 2025-05-31 21:08:21,690 dialog_manager Detecting intent for input: June 12 to June 14
INFO 2025-05-31 21:08:21,690 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:08:21,690 dialog_manager Extracting dates from: June 12 to June 14
INFO 2025-05-31 21:08:21,700 dialog_manager Extracted month-to-month date: check-in 2025-06-12 00:00:00, check-out 2025-06-14 00:00:00
INFO 2025-05-31 21:08:21,700 dialog_manager Multiple date result: {'check_in': '2025-06-12', 'check_out': '2025-06-14'}
INFO 2025-05-31 21:08:21,701 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 21:08:21,701 views Updated session state: confirming_additional_booking
INFO 2025-05-31 21:08:21,708 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 21:08:21,727 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:08:21,728 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:08:21,730 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1009
INFO 2025-05-31 21:08:30,152 views Database connection successful
INFO 2025-05-31 21:08:30,152 views Received chat request at 2025-05-31 21:08:30.152206
DEBUG 2025-05-31 21:08:30,152 views Request headers: {'Content-Length': '525', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=4hpSUQ6lEN1j2ONfI8NTszF5oV3YBeAV; sessionid=1u4ih0qwjvuweg7s5e54zfm2k8bt8ir8'}
DEBUG 2025-05-31 21:08:30,152 views Request body: {"message":"confirm","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":5,"parent_booking":{"id":17,"booking_id":"BK-19623","guest_name":"Ting Lee Shiang","room_name":"Suite","check_in_date":"2025-06-04","check_out_date":"2025-06-06"},"is_additional_booking":true,"additional_room_type":"Deluxe Room","additional_room_price":205,"additional_check_in_date":"2025-06-12","additional_check_out_date":"2025-06-14","guest_name":"Ting Lee Shiang"},"state":"confirming_additional_booking","lang":"en"}}
INFO 2025-05-31 21:08:30,152 views User input: confirm
INFO 2025-05-31 21:08:30,152 views Current session state: confirming_additional_booking
INFO 2025-05-31 21:08:30,152 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 5, 'parent_booking': {'id': 17, 'booking_id': 'BK-19623', 'guest_name': 'Ting Lee Shiang', 'room_name': 'Suite', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-06'}, 'is_additional_booking': True, 'additional_room_type': 'Deluxe Room', 'additional_room_price': 205, 'additional_check_in_date': '2025-06-12', 'additional_check_out_date': '2025-06-14', 'guest_name': 'Ting Lee Shiang'}
INFO 2025-05-31 21:08:30,584 dialog_manager Using device: cpu
WARNING 2025-05-31 21:08:30,584 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:08:30,584 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:08:30,584 dialog_manager Processing message: confirm
INFO 2025-05-31 21:08:30,584 dialog_manager Processing input: confirm
INFO 2025-05-31 21:08:30,584 dialog_manager Using language: en
INFO 2025-05-31 21:08:30,584 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 21:08:30,584 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:08:30,601 models Booking saved: BK-70323 for Ting Lee Shiang
INFO 2025-05-31 21:08:30,601 dialog_manager Additional booking created successfully: ID=21, Booking_ID=BK-70323
INFO 2025-05-31 21:08:30,601 dialog_manager Linked to parent booking: BK-19623
INFO 2025-05-31 21:08:30,601 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:08:30,601 views Updated session state: greeting
INFO 2025-05-31 21:08:30,601 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:08:30,609 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:08:30,612 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 507
INFO 2025-05-31 21:08:33,320 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-05-31 21:08:33,343 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:08:48,240 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 12177
INFO 2025-05-31 21:09:47,140 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 12399
INFO 2025-05-31 21:10:39,572 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 12468
INFO 2025-05-31 21:10:51,911 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-05-31 21:10:51,925 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24678
INFO 2025-05-31 21:11:00,413 basehttp "GET /hotel_booking/room/3/ HTTP/1.1" 200 11575
INFO 2025-05-31 21:11:04,132 basehttp "GET /hotel_booking/book/3/ HTTP/1.1" 200 15596
INFO 2025-05-31 21:11:15,755 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17167
INFO 2025-05-31 21:11:26,023 views Database connection successful
INFO 2025-05-31 21:11:26,023 views Received chat request at 2025-05-31 21:11:26.023977
DEBUG 2025-05-31 21:11:26,026 views Request headers: {'Content-Length': '49', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:11:26,028 views Request body: {"message":"i want to booking room","session":{}}
INFO 2025-05-31 21:11:26,029 views User input: i want to booking room
INFO 2025-05-31 21:11:26,030 views Current session state: None
INFO 2025-05-31 21:11:26,032 views Current user data: None
INFO 2025-05-31 21:11:26,510 dialog_manager Using device: cpu
WARNING 2025-05-31 21:11:26,510 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:11:26,510 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:11:26,510 dialog_manager Processing message: i want to booking room
INFO 2025-05-31 21:11:26,510 dialog_manager Processing input: i want to booking room
INFO 2025-05-31 21:11:26,527 dialog_manager Using language: en
INFO 2025-05-31 21:11:26,527 dialog_manager Detecting intent for input: i want to booking room
INFO 2025-05-31 21:11:26,536 dialog_manager Pattern-based intent detected: booking
INFO 2025-05-31 21:11:26,545 dialog_manager Detected intent: booking
INFO 2025-05-31 21:11:26,545 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 21:11:26,549 dialog_manager Extracting dates from: i want to booking room
WARNING 2025-05-31 21:11:26,550 dialog_manager No dates found
INFO 2025-05-31 21:11:26,558 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:11:26,558 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:11:26,558 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:11:26,566 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:11:26,566 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:11:26,571 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 257
INFO 2025-05-31 21:11:34,828 views Database connection successful
INFO 2025-05-31 21:11:34,828 views Received chat request at 2025-05-31 21:11:34.828749
DEBUG 2025-05-31 21:11:34,828 views Request headers: {'Content-Length': '158', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:11:34,832 views Request body: {"message":"nelson","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-31 21:11:34,833 views User input: nelson
INFO 2025-05-31 21:11:34,834 views Current session state: collecting_booking_info
INFO 2025-05-31 21:11:34,835 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6}
INFO 2025-05-31 21:11:35,250 dialog_manager Using device: cpu
WARNING 2025-05-31 21:11:35,250 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:11:35,250 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:11:35,250 dialog_manager Processing message: nelson
INFO 2025-05-31 21:11:35,250 dialog_manager Processing input: nelson
INFO 2025-05-31 21:11:35,250 dialog_manager Using language: af
INFO 2025-05-31 21:11:35,250 dialog_manager Detecting intent for input: nelson
INFO 2025-05-31 21:11:35,250 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:11:35,262 dialog_manager Extracted name: nelson
INFO 2025-05-31 21:11:35,263 dialog_manager Extracting dates from: nelson
WARNING 2025-05-31 21:11:35,265 dialog_manager No dates found
INFO 2025-05-31 21:11:35,266 dialog_manager Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'guest_name': 'nelson'}
INFO 2025-05-31 21:11:35,266 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'guest_name': 'nelson'}
INFO 2025-05-31 21:11:35,267 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:11:35,268 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'guest_name': 'nelson'}
INFO 2025-05-31 21:11:35,275 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:11:35,277 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:11:35,279 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 285
INFO 2025-05-31 21:11:45,356 views Database connection successful
INFO 2025-05-31 21:11:45,357 views Received chat request at 2025-05-31 21:11:45.357439
DEBUG 2025-05-31 21:11:45,358 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:11:45,360 views Request body: {"message":"0128776697","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-31 21:11:45,361 views User input: 0128776697
INFO 2025-05-31 21:11:45,362 views Current session state: collecting_booking_info
INFO 2025-05-31 21:11:45,363 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson'}
INFO 2025-05-31 21:11:45,773 dialog_manager Using device: cpu
WARNING 2025-05-31 21:11:45,773 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:11:45,773 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:11:45,773 dialog_manager Processing message: 0128776697
INFO 2025-05-31 21:11:45,773 dialog_manager Processing input: 0128776697
INFO 2025-05-31 21:11:45,773 dialog_manager Using language: af
INFO 2025-05-31 21:11:45,773 dialog_manager Detecting intent for input: 0128776697
INFO 2025-05-31 21:11:45,773 dialog_manager Invalid input detected: too_many_digits
INFO 2025-05-31 21:11:45,773 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:11:45,773 dialog_manager Extracted standalone phone: 0128776697
INFO 2025-05-31 21:11:45,773 dialog_manager Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'user': <SimpleLazyObject: <User: nelson1030>>, 'phone': '0128776697'}
INFO 2025-05-31 21:11:45,773 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'user': <SimpleLazyObject: <User: nelson1030>>, 'phone': '0128776697'}
INFO 2025-05-31 21:11:45,773 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:11:45,773 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'user': <SimpleLazyObject: <User: nelson1030>>, 'phone': '0128776697'}
INFO 2025-05-31 21:11:45,792 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:11:45,793 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:11:45,795 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 305
INFO 2025-05-31 21:12:03,326 views Database connection successful
INFO 2025-05-31 21:12:03,327 views Received chat request at 2025-05-31 21:12:03.327708
DEBUG 2025-05-31 21:12:03,328 views Request headers: {'Content-Length': '219', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:12:03,330 views Request body: {"message":"nelsonting01ps@gmail.com","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson","phone":"0128776697"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-31 21:12:03,330 views User input: nelsonting01ps@gmail.com
INFO 2025-05-31 21:12:03,330 views Current session state: collecting_booking_info
INFO 2025-05-31 21:12:03,330 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697'}
INFO 2025-05-31 21:12:03,754 dialog_manager Using device: cpu
WARNING 2025-05-31 21:12:03,756 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:12:03,757 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:12:03,758 dialog_manager Processing message: nelsonting01ps@gmail.com
INFO 2025-05-31 21:12:03,758 dialog_manager Processing input: nelsonting01ps@gmail.com
INFO 2025-05-31 21:12:03,758 dialog_manager Using language: af
INFO 2025-05-31 21:12:03,764 dialog_manager Detecting intent for input: nelsonting01ps@gmail.com
INFO 2025-05-31 21:12:03,769 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:12:03,769 dialog_manager Extracted standalone email: nelsonting01ps@gmail.com
INFO 2025-05-31 21:12:03,772 dialog_manager Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'user': <SimpleLazyObject: <User: nelson1030>>, 'email': 'nelsonting01ps@gmail.com'}
INFO 2025-05-31 21:12:03,772 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'user': <SimpleLazyObject: <User: nelson1030>>, 'email': 'nelsonting01ps@gmail.com'}
INFO 2025-05-31 21:12:03,773 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:12:03,773 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'user': <SimpleLazyObject: <User: nelson1030>>, 'email': 'nelsonting01ps@gmail.com'}
INFO 2025-05-31 21:12:03,781 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:12:03,781 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:12:03,784 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 762
INFO 2025-05-31 21:12:20,002 views Database connection successful
INFO 2025-05-31 21:12:20,004 views Received chat request at 2025-05-31 21:12:20.004497
DEBUG 2025-05-31 21:12:20,004 views Request headers: {'Content-Length': '245', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:12:20,006 views Request body: {"message":"Executive Suite","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01ps@gmail.com"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-31 21:12:20,006 views User input: Executive Suite
INFO 2025-05-31 21:12:20,006 views Current session state: collecting_booking_info
INFO 2025-05-31 21:12:20,012 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com'}
INFO 2025-05-31 21:12:20,432 dialog_manager Using device: cpu
WARNING 2025-05-31 21:12:20,432 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:12:20,433 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:12:20,434 dialog_manager Processing message: Executive Suite
INFO 2025-05-31 21:12:20,435 dialog_manager Processing input: Executive Suite
INFO 2025-05-31 21:12:20,435 dialog_manager Using language: af
INFO 2025-05-31 21:12:20,435 dialog_manager Detecting intent for input: Executive Suite
INFO 2025-05-31 21:12:20,447 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:12:20,448 dialog_manager Extracting dates from: Executive Suite
WARNING 2025-05-31 21:12:20,448 dialog_manager No dates found
INFO 2025-05-31 21:12:20,449 dialog_manager Extracted room type: Suite
INFO 2025-05-31 21:12:20,449 dialog_manager Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'user': <SimpleLazyObject: <User: nelson1030>>, 'room_type': 'Suite'}
INFO 2025-05-31 21:12:20,449 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'user': <SimpleLazyObject: <User: nelson1030>>, 'room_type': 'Suite'}
INFO 2025-05-31 21:12:20,450 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:12:20,450 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'user': <SimpleLazyObject: <User: nelson1030>>, 'room_type': 'Suite'}
INFO 2025-05-31 21:12:20,455 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:12:20,455 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:12:20,458 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 411
INFO 2025-05-31 21:12:32,565 views Database connection successful
INFO 2025-05-31 21:12:32,567 views Received chat request at 2025-05-31 21:12:32.567477
DEBUG 2025-05-31 21:12:32,569 views Request headers: {'Content-Length': '260', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:12:32,570 views Request body: {"message":"12/12/2026","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01ps@gmail.com","room_type":"Suite"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-31 21:12:32,570 views User input: 12/12/2026
INFO 2025-05-31 21:12:32,572 views Current session state: collecting_booking_info
INFO 2025-05-31 21:12:32,573 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite'}
INFO 2025-05-31 21:12:33,010 dialog_manager Using device: cpu
WARNING 2025-05-31 21:12:33,010 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:12:33,010 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:12:33,010 dialog_manager Processing message: 12/12/2026
INFO 2025-05-31 21:12:33,010 dialog_manager Processing input: 12/12/2026
INFO 2025-05-31 21:12:33,010 dialog_manager Using language: af
INFO 2025-05-31 21:12:33,010 dialog_manager Detecting intent for input: 12/12/2026
INFO 2025-05-31 21:12:33,010 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-05-31 21:12:33,010 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:12:33,010 dialog_manager Extracting dates from: 12/12/2026
INFO 2025-05-31 21:12:33,010 dialog_manager Extracted single date: {'check_in': '2026-12-12', 'check_out': '2026-12-13'}
INFO 2025-05-31 21:12:33,015 dialog_manager Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: nelson1030>>, 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13'}
INFO 2025-05-31 21:12:33,024 models Booking saved: BK-13132 for nelson
INFO 2025-05-31 21:12:33,024 dialog_manager Booking created successfully: ID=22, Booking_ID=BK-13132
INFO 2025-05-31 21:12:33,028 dialog_manager Booking record created successfully: BK-13132
INFO 2025-05-31 21:12:33,028 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: nelson1030>>, 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132'}
INFO 2025-05-31 21:12:33,028 views Updated session state: offering_addons
INFO 2025-05-31 21:12:33,029 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: nelson1030>>, 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132'}
INFO 2025-05-31 21:12:33,029 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-31 21:12:33,029 views Booking confirmation check - State: offering_addons, Booking ID: BK-13132, Previous ID: BK-13132, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:12:33,029 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:12:33,032 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1258
INFO 2025-05-31 21:13:37,856 views Database connection successful
INFO 2025-05-31 21:13:37,857 views Received chat request at 2025-05-31 21:13:37.857645
DEBUG 2025-05-31 21:13:37,858 views Request headers: {'Content-Length': '334', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:13:37,859 views Request body: {"message":"breakfast","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01ps@gmail.com","room_type":"Suite","check_in_date":"2026-12-12","check_out_date":"2026-12-13","booking_id":"BK-13132"},"state":"offering_addons","lang":"af"}}
INFO 2025-05-31 21:13:37,862 views User input: breakfast
INFO 2025-05-31 21:13:37,864 views Current session state: offering_addons
INFO 2025-05-31 21:13:37,864 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132'}
INFO 2025-05-31 21:13:38,282 dialog_manager Using device: cpu
WARNING 2025-05-31 21:13:38,282 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:13:38,282 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:13:38,282 dialog_manager Processing message: breakfast
INFO 2025-05-31 21:13:38,282 dialog_manager Processing input: breakfast
INFO 2025-05-31 21:13:38,282 dialog_manager Using language: af
INFO 2025-05-31 21:13:38,282 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-31 21:13:38,282 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:13:38,282 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:13:38,282 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132', 'user': <SimpleLazyObject: <User: nelson1030>>, 'addon_selections': ['breakfast']}
INFO 2025-05-31 21:13:38,282 views Updated session state: collecting_breakfast_count
INFO 2025-05-31 21:13:38,282 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132', 'user': <SimpleLazyObject: <User: nelson1030>>, 'addon_selections': ['breakfast']}
INFO 2025-05-31 21:13:38,282 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-05-31 21:13:38,282 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-13132, Previous ID: BK-13132, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:13:38,290 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:13:38,291 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 481
INFO 2025-05-31 21:13:48,440 views Database connection successful
INFO 2025-05-31 21:13:48,440 views Received chat request at 2025-05-31 21:13:48.440451
DEBUG 2025-05-31 21:13:48,440 views Request headers: {'Content-Length': '370', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:13:48,440 views Request body: {"message":"1","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01ps@gmail.com","room_type":"Suite","check_in_date":"2026-12-12","check_out_date":"2026-12-13","booking_id":"BK-13132","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"af"}}
INFO 2025-05-31 21:13:48,447 views User input: 1
INFO 2025-05-31 21:13:48,447 views Current session state: collecting_breakfast_count
INFO 2025-05-31 21:13:48,447 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132', 'addon_selections': ['breakfast']}
INFO 2025-05-31 21:13:48,885 dialog_manager Using device: cpu
WARNING 2025-05-31 21:13:48,885 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:13:48,885 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:13:48,885 dialog_manager Processing message: 1
INFO 2025-05-31 21:13:48,885 dialog_manager Processing input: 1
INFO 2025-05-31 21:13:48,885 dialog_manager Using language: af
INFO 2025-05-31 21:13:48,885 dialog_manager Detecting intent for input: 1
INFO 2025-05-31 21:13:48,895 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:13:48,897 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: nelson1030>>, 'breakfast_count': 1}
INFO 2025-05-31 21:13:48,898 views Updated session state: confirming_breakfast
INFO 2025-05-31 21:13:48,898 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: nelson1030>>, 'breakfast_count': 1}
INFO 2025-05-31 21:13:48,899 views Generated response: OK, add breakfast for 1 guest(s), a total of RM20.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-05-31 21:13:48,899 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-13132, Previous ID: BK-13132, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:13:48,900 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:13:48,902 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 512
INFO 2025-05-31 21:13:53,372 views Database connection successful
INFO 2025-05-31 21:13:53,372 views Received chat request at 2025-05-31 21:13:53.372772
DEBUG 2025-05-31 21:13:53,372 views Request headers: {'Content-Length': '384', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:13:53,372 views Request body: {"message":"a","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01ps@gmail.com","room_type":"Suite","check_in_date":"2026-12-12","check_out_date":"2026-12-13","booking_id":"BK-13132","addon_selections":["breakfast"],"breakfast_count":1},"state":"confirming_breakfast","lang":"af"}}
INFO 2025-05-31 21:13:53,372 views User input: a
INFO 2025-05-31 21:13:53,372 views Current session state: confirming_breakfast
INFO 2025-05-31 21:13:53,372 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01ps@gmail.com', 'room_type': 'Suite', 'check_in_date': '2026-12-12', 'check_out_date': '2026-12-13', 'booking_id': 'BK-13132', 'addon_selections': ['breakfast'], 'breakfast_count': 1}
INFO 2025-05-31 21:13:55,040 dialog_manager Using device: cpu
WARNING 2025-05-31 21:13:55,040 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:13:55,040 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:13:55,044 dialog_manager Processing message: a
INFO 2025-05-31 21:13:55,044 dialog_manager Processing input: a
INFO 2025-05-31 21:13:55,044 dialog_manager Using language: af
INFO 2025-05-31 21:13:55,044 dialog_manager Detecting intent for input: a
INFO 2025-05-31 21:13:55,050 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:13:55,058 dialog_manager Addon created successfully: Breakfast for 1 people - RM20
INFO 2025-05-31 21:13:55,058 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:13:55,058 views Updated session state: greeting
INFO 2025-05-31 21:13:55,058 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:13:55,060 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-05-31 21:13:55,060 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:13:55,064 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-05-31 21:14:35,118 views Database connection successful
INFO 2025-05-31 21:14:35,118 views Received chat request at 2025-05-31 21:14:35.118472
DEBUG 2025-05-31 21:14:35,118 views Request headers: {'Content-Length': '111', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:14:35,122 views Request body: {"message":"change date","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-05-31 21:14:35,122 views User input: change date
INFO 2025-05-31 21:14:35,122 views Current session state: greeting
INFO 2025-05-31 21:14:35,126 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:14:35,549 dialog_manager Using device: cpu
WARNING 2025-05-31 21:14:35,549 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:14:35,549 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:14:35,549 dialog_manager Processing message: change date
INFO 2025-05-31 21:14:35,549 dialog_manager Processing input: change date
INFO 2025-05-31 21:14:35,549 dialog_manager Using language: af
INFO 2025-05-31 21:14:35,549 dialog_manager Detecting intent for input: change date
INFO 2025-05-31 21:14:35,549 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-31 21:14:35,549 dialog_manager Detected intent: change_date
INFO 2025-05-31 21:14:35,549 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:14:35,564 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-31 21:14:35,565 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:14:35,566 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-31 21:14:35,567 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:14:35,568 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:14:35,573 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 301
INFO 2025-05-31 21:14:47,780 views Database connection successful
INFO 2025-05-31 21:14:47,780 views Received chat request at 2025-05-31 21:14:47.780014
DEBUG 2025-05-31 21:14:47,780 views Request headers: {'Content-Length': '174', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:14:47,780 views Request body: {"message":"BK-13132","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6},"state":"collecting_booking_id_for_change_date","lang":"af"}}
INFO 2025-05-31 21:14:47,780 views User input: BK-13132
INFO 2025-05-31 21:14:47,780 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-31 21:14:47,780 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6}
INFO 2025-05-31 21:14:48,205 dialog_manager Using device: cpu
WARNING 2025-05-31 21:14:48,205 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:14:48,205 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:14:48,205 dialog_manager Processing message: BK-13132
INFO 2025-05-31 21:14:48,205 dialog_manager Processing input: BK-13132
INFO 2025-05-31 21:14:48,205 dialog_manager Using language: af
INFO 2025-05-31 21:14:48,205 dialog_manager Detecting intent for input: BK-13132
INFO 2025-05-31 21:14:48,205 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:14:48,205 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:14:48,205 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}}
INFO 2025-05-31 21:14:48,205 views Updated session state: collecting_new_check_in_date
INFO 2025-05-31 21:14:48,205 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}}
INFO 2025-05-31 21:14:48,214 views Generated response: Your current check-in date is December 12, 2026. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 21:14:48,214 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:14:48,215 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:14:48,217 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 630
INFO 2025-05-31 21:15:50,865 views Database connection successful
INFO 2025-05-31 21:15:50,865 views Received chat request at 2025-05-31 21:15:50.865102
DEBUG 2025-05-31 21:15:50,865 views Request headers: {'Content-Length': '458', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:15:50,872 views Request body: {"message":"check in 15/12/2026","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6,"change_date_booking_id":"BK-13132","booking_to_change":{"id":22,"booking_id":"BK-13132","guest_name":"nelson","room_name":"Suite","current_checkin":"December 12, 2026","current_checkout":"December 13, 2026","current_checkin_date":"2026-12-12","current_checkout_date":"2026-12-13"}},"state":"collecting_new_check_in_date","lang":"af"}}
INFO 2025-05-31 21:15:50,874 views User input: check in 15/12/2026
INFO 2025-05-31 21:15:50,875 views Current session state: collecting_new_check_in_date
INFO 2025-05-31 21:15:50,875 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}}
INFO 2025-05-31 21:15:51,300 dialog_manager Using device: cpu
WARNING 2025-05-31 21:15:51,300 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:15:51,300 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:15:51,300 dialog_manager Processing message: check in 15/12/2026
INFO 2025-05-31 21:15:51,300 dialog_manager Processing input: check in 15/12/2026
INFO 2025-05-31 21:15:51,300 dialog_manager Using language: af
INFO 2025-05-31 21:15:51,300 dialog_manager Detecting intent for input: check in 15/12/2026
INFO 2025-05-31 21:15:51,300 dialog_manager Booking intent detected
INFO 2025-05-31 21:15:51,300 dialog_manager Detected intent: booking
INFO 2025-05-31 21:15:51,300 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 21:15:51,316 dialog_manager Extracting dates from: check in 15/12/2026
INFO 2025-05-31 21:15:51,316 dialog_manager Extracted DD/MM/YYYY date: 2026-12-15 00:00:00
INFO 2025-05-31 21:15:51,317 dialog_manager Single date result: {'check_in': '2026-12-15', 'check_out': '2026-12-16'}
INFO 2025-05-31 21:15:51,318 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'user': <SimpleLazyObject: <User: nelson1030>>, 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-16'}
INFO 2025-05-31 21:15:51,319 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:15:51,319 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'user': <SimpleLazyObject: <User: nelson1030>>, 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-16'}
INFO 2025-05-31 21:15:51,329 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:15:51,329 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:15:51,332 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 621
INFO 2025-05-31 21:16:03,282 views Database connection successful
INFO 2025-05-31 21:16:03,283 views Received chat request at 2025-05-31 21:16:03.283404
DEBUG 2025-05-31 21:16:03,284 views Request headers: {'Content-Length': '503', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:16:03,285 views Request body: {"message":"15/12/2026","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6,"change_date_booking_id":"BK-13132","booking_to_change":{"id":22,"booking_id":"BK-13132","guest_name":"nelson","room_name":"Suite","current_checkin":"December 12, 2026","current_checkout":"December 13, 2026","current_checkin_date":"2026-12-12","current_checkout_date":"2026-12-13"},"check_in_date":"2026-12-15","check_out_date":"2026-12-16"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-05-31 21:16:03,286 views User input: 15/12/2026
INFO 2025-05-31 21:16:03,286 views Current session state: collecting_booking_info
INFO 2025-05-31 21:16:03,287 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-16'}
INFO 2025-05-31 21:16:03,703 dialog_manager Using device: cpu
WARNING 2025-05-31 21:16:03,703 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:16:03,703 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:16:03,703 dialog_manager Processing message: 15/12/2026
INFO 2025-05-31 21:16:03,703 dialog_manager Processing input: 15/12/2026
INFO 2025-05-31 21:16:03,703 dialog_manager Using language: af
INFO 2025-05-31 21:16:03,703 dialog_manager Detecting intent for input: 15/12/2026
INFO 2025-05-31 21:16:03,703 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-05-31 21:16:03,703 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:16:03,703 dialog_manager Extracting dates from: 15/12/2026
INFO 2025-05-31 21:16:03,703 dialog_manager Extracted single date: {'check_in': '2026-12-15', 'check_out': '2026-12-16'}
INFO 2025-05-31 21:16:03,703 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-16', 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:03,703 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-16', 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:03,703 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:16:03,703 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-16', 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:03,713 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:16:03,714 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:16:03,715 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 621
INFO 2025-05-31 21:16:10,911 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17167
INFO 2025-05-31 21:16:24,456 views Database connection successful
INFO 2025-05-31 21:16:24,459 views Received chat request at 2025-05-31 21:16:24.459624
DEBUG 2025-05-31 21:16:24,460 views Request headers: {'Content-Length': '50', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:16:24,461 views Request body: {"message":"change date to check in","session":{}}
INFO 2025-05-31 21:16:24,462 views User input: change date to check in
INFO 2025-05-31 21:16:24,462 views Current session state: None
INFO 2025-05-31 21:16:24,463 views Current user data: None
INFO 2025-05-31 21:16:24,859 dialog_manager Using device: cpu
WARNING 2025-05-31 21:16:24,859 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:16:24,859 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:16:24,859 dialog_manager Processing message: change date to check in
INFO 2025-05-31 21:16:24,859 dialog_manager Processing input: change date to check in
INFO 2025-05-31 21:16:24,871 dialog_manager Using language: en
INFO 2025-05-31 21:16:24,873 dialog_manager Detecting intent for input: change date to check in
INFO 2025-05-31 21:16:24,880 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-31 21:16:24,880 dialog_manager Detected intent: change_date
INFO 2025-05-31 21:16:24,896 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:24,896 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-31 21:16:24,897 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:24,897 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-31 21:16:24,898 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:16:24,898 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:16:24,901 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 301
INFO 2025-05-31 21:16:26,562 views Database connection successful
INFO 2025-05-31 21:16:26,562 views Received chat request at 2025-05-31 21:16:26.562956
DEBUG 2025-05-31 21:16:26,562 views Request headers: {'Content-Length': '174', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:16:26,562 views Request body: {"message":"BK-13132","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6},"state":"collecting_booking_id_for_change_date","lang":"en"}}
INFO 2025-05-31 21:16:26,562 views User input: BK-13132
INFO 2025-05-31 21:16:26,562 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-31 21:16:26,562 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6}
INFO 2025-05-31 21:16:26,978 dialog_manager Using device: cpu
WARNING 2025-05-31 21:16:26,978 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:16:26,978 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:16:26,978 dialog_manager Processing message: BK-13132
INFO 2025-05-31 21:16:26,978 dialog_manager Processing input: BK-13132
INFO 2025-05-31 21:16:26,978 dialog_manager Using language: en
INFO 2025-05-31 21:16:26,978 dialog_manager Detecting intent for input: BK-13132
INFO 2025-05-31 21:16:26,978 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:16:26,978 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:16:26,978 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}}
INFO 2025-05-31 21:16:26,978 views Updated session state: collecting_new_check_in_date
INFO 2025-05-31 21:16:26,978 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}}
INFO 2025-05-31 21:16:26,978 views Generated response: Your current check-in date is December 12, 2026. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 21:16:26,987 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:16:26,988 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:16:26,992 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 630
INFO 2025-05-31 21:16:31,716 views Database connection successful
INFO 2025-05-31 21:16:31,716 views Received chat request at 2025-05-31 21:16:31.716773
DEBUG 2025-05-31 21:16:31,720 views Request headers: {'Content-Length': '449', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:16:31,721 views Request body: {"message":"15/12/2026","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"change_date_booking_id":"BK-13132","booking_to_change":{"id":22,"booking_id":"BK-13132","guest_name":"nelson","room_name":"Suite","current_checkin":"December 12, 2026","current_checkout":"December 13, 2026","current_checkin_date":"2026-12-12","current_checkout_date":"2026-12-13"}},"state":"collecting_new_check_in_date","lang":"en"}}
INFO 2025-05-31 21:16:31,722 views User input: 15/12/2026
INFO 2025-05-31 21:16:31,722 views Current session state: collecting_new_check_in_date
INFO 2025-05-31 21:16:31,723 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}}
INFO 2025-05-31 21:16:32,138 dialog_manager Using device: cpu
WARNING 2025-05-31 21:16:32,138 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:16:32,138 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:16:32,138 dialog_manager Processing message: 15/12/2026
INFO 2025-05-31 21:16:32,138 dialog_manager Processing input: 15/12/2026
INFO 2025-05-31 21:16:32,138 dialog_manager Using language: en
INFO 2025-05-31 21:16:32,138 dialog_manager Detecting intent for input: 15/12/2026
INFO 2025-05-31 21:16:32,138 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-05-31 21:16:32,138 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:16:32,138 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'user': <SimpleLazyObject: <User: nelson1030>>, 'new_checkin_date': '2026-12-15', 'new_checkout_date': '2026-12-16'}
INFO 2025-05-31 21:16:32,138 views Updated session state: confirming_date_change
INFO 2025-05-31 21:16:32,138 views Updated user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'user': <SimpleLazyObject: <User: nelson1030>>, 'new_checkin_date': '2026-12-15', 'new_checkout_date': '2026-12-16'}
INFO 2025-05-31 21:16:32,138 views Generated response: Are you sure to change the check-in time to December 15, 2026? Your new check-out date will be December 16, 2026. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-05-31 21:16:32,138 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:16:32,138 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:16:32,146 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 702
INFO 2025-05-31 21:16:39,942 views Database connection successful
INFO 2025-05-31 21:16:39,942 views Received chat request at 2025-05-31 21:16:39.942053
DEBUG 2025-05-31 21:16:39,947 views Request headers: {'Content-Length': '505', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:16:39,950 views Request body: {"message":"confirm","session":{"user_data":{"username":"nelson1030","is_returning_customer":false,"user_id":6,"change_date_booking_id":"BK-13132","booking_to_change":{"id":22,"booking_id":"BK-13132","guest_name":"nelson","room_name":"Suite","current_checkin":"December 12, 2026","current_checkout":"December 13, 2026","current_checkin_date":"2026-12-12","current_checkout_date":"2026-12-13"},"new_checkin_date":"2026-12-15","new_checkout_date":"2026-12-16"},"state":"confirming_date_change","lang":"en"}}
INFO 2025-05-31 21:16:39,952 views User input: confirm
INFO 2025-05-31 21:16:39,953 views Current session state: confirming_date_change
INFO 2025-05-31 21:16:39,954 views Current user data: {'username': 'nelson1030', 'is_returning_customer': False, 'user_id': 6, 'change_date_booking_id': 'BK-13132', 'booking_to_change': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'current_checkin': 'December 12, 2026', 'current_checkout': 'December 13, 2026', 'current_checkin_date': '2026-12-12', 'current_checkout_date': '2026-12-13'}, 'new_checkin_date': '2026-12-15', 'new_checkout_date': '2026-12-16'}
INFO 2025-05-31 21:16:40,380 dialog_manager Using device: cpu
WARNING 2025-05-31 21:16:40,380 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:16:40,380 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:16:40,380 dialog_manager Processing message: confirm
INFO 2025-05-31 21:16:40,380 dialog_manager Processing input: confirm
INFO 2025-05-31 21:16:40,380 dialog_manager Using language: en
INFO 2025-05-31 21:16:40,380 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 21:16:40,380 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:16:40,400 models Booking saved: BK-13132 for nelson
INFO 2025-05-31 21:16:40,400 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'date_change_22_2026-12-15': True, 'processing_date_change': False}
INFO 2025-05-31 21:16:40,401 views Updated session state: greeting
INFO 2025-05-31 21:16:40,401 views Updated user data: {'is_returning_customer': True, 'date_change_22_2026-12-15': True, 'processing_date_change': False}
INFO 2025-05-31 21:16:40,401 views Generated response: OK, your check-in date has been successfully changed to December 15, 2026. The booking ID remains unchanged. If you have any other needs, please continue to consult!
INFO 2025-05-31 21:16:40,401 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:16:40,403 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 342
INFO 2025-05-31 21:16:52,636 views Database connection successful
INFO 2025-05-31 21:16:52,636 views Received chat request at 2025-05-31 21:16:52.636209
DEBUG 2025-05-31 21:16:52,636 views Request headers: {'Content-Length': '170', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:16:52,636 views Request body: {"message":"extand","session":{"user_data":{"is_returning_customer":true,"date_change_22_2026-12-15":true,"processing_date_change":false},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:16:52,636 views User input: extand
INFO 2025-05-31 21:16:52,636 views Current session state: greeting
INFO 2025-05-31 21:16:52,636 views Current user data: {'is_returning_customer': True, 'date_change_22_2026-12-15': True, 'processing_date_change': False}
INFO 2025-05-31 21:16:53,036 dialog_manager Using device: cpu
WARNING 2025-05-31 21:16:53,036 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:16:53,036 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:16:53,036 dialog_manager Processing message: extand
INFO 2025-05-31 21:16:53,036 dialog_manager Processing input: extand
INFO 2025-05-31 21:16:53,036 dialog_manager Using language: en
INFO 2025-05-31 21:16:53,051 dialog_manager Detecting intent for input: extand
INFO 2025-05-31 21:16:53,054 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:16:58,648 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-05-31 21:16:58,648 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 21:16:58,648 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:58,648 views Updated session state: greeting
INFO 2025-05-31 21:16:58,648 views Updated user data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:16:58,648 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-05-31 21:16:58,648 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:16:58,648 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:16:58,721 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 276
INFO 2025-05-31 21:17:07,702 views Database connection successful
INFO 2025-05-31 21:17:07,702 views Received chat request at 2025-05-31 21:17:07.702232
DEBUG 2025-05-31 21:17:07,708 views Request headers: {'Content-Length': '207', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:17:07,709 views Request body: {"message":"extend","session":{"user_data":{"is_returning_customer":false,"date_change_22_2026-12-15":true,"processing_date_change":false,"username":"nelson1030","user_id":6},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:17:07,710 views User input: extend
INFO 2025-05-31 21:17:07,711 views Current session state: greeting
INFO 2025-05-31 21:17:07,712 views Current user data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6}
INFO 2025-05-31 21:17:08,139 dialog_manager Using device: cpu
WARNING 2025-05-31 21:17:08,140 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:17:08,140 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:17:08,140 dialog_manager Processing message: extend
INFO 2025-05-31 21:17:08,140 dialog_manager Processing input: extend
INFO 2025-05-31 21:17:08,140 dialog_manager Using language: en
INFO 2025-05-31 21:17:08,140 dialog_manager Detecting intent for input: extend
INFO 2025-05-31 21:17:08,140 dialog_manager Pattern-based intent detected: extend_stay
INFO 2025-05-31 21:17:08,140 dialog_manager Detected intent: extend_stay
INFO 2025-05-31 21:17:08,149 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_extend, User data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:17:08,150 views Updated session state: collecting_booking_id_for_extend
INFO 2025-05-31 21:17:08,150 views Updated user data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:17:08,151 views Generated response: I'd be happy to help you extend your stay! Please provide your booking ID so I can check your current reservation and available dates.
INFO 2025-05-31 21:17:08,151 views Booking confirmation check - State: collecting_booking_id_for_extend, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:17:08,151 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:17:08,155 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 376
INFO 2025-05-31 21:17:12,240 views Database connection successful
INFO 2025-05-31 21:17:12,240 views Received chat request at 2025-05-31 21:17:12.240083
DEBUG 2025-05-31 21:17:12,240 views Request headers: {'Content-Length': '233', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:17:12,244 views Request body: {"message":"BK-13132","session":{"user_data":{"is_returning_customer":false,"date_change_22_2026-12-15":true,"processing_date_change":false,"username":"nelson1030","user_id":6},"state":"collecting_booking_id_for_extend","lang":"en"}}
INFO 2025-05-31 21:17:12,244 views User input: BK-13132
INFO 2025-05-31 21:17:12,244 views Current session state: collecting_booking_id_for_extend
INFO 2025-05-31 21:17:12,244 views Current user data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6}
INFO 2025-05-31 21:17:12,660 dialog_manager Using device: cpu
WARNING 2025-05-31 21:17:12,660 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:17:12,660 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:17:12,660 dialog_manager Processing message: BK-13132
INFO 2025-05-31 21:17:12,660 dialog_manager Processing input: BK-13132
INFO 2025-05-31 21:17:12,660 dialog_manager Using language: en
INFO 2025-05-31 21:17:12,660 dialog_manager Detecting intent for input: BK-13132
INFO 2025-05-31 21:17:12,660 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:17:12,660 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:17:12,660 dialog_manager Dialog manager process completed - State: selecting_extend_date, User data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'extend_booking_id': 'BK-13132', 'booking_to_extend': {'id': 22, 'booking_id': 'BK-13132', 'room_name': 'Suite', 'room_price': Decimal('421.00'), 'current_checkout': 'December 16 (Wednesday)', 'current_checkout_date': '2026-12-16'}}
INFO 2025-05-31 21:17:12,660 views Updated session state: selecting_extend_date
INFO 2025-05-31 21:17:12,667 views Updated user data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'extend_booking_id': 'BK-13132', 'booking_to_extend': {'id': 22, 'booking_id': 'BK-13132', 'room_name': 'Suite', 'room_price': Decimal('421.00'), 'current_checkout': 'December 16 (Wednesday)', 'current_checkout_date': '2026-12-16'}}
INFO 2025-05-31 21:17:12,667 views Generated response: Your current booking is until December 16 (Wednesday). Which day do you want to extend it to? Please provide the new check-out date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 21:17:12,667 views Booking confirmation check - State: selecting_extend_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:17:12,668 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:17:12,672 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 621
INFO 2025-05-31 21:17:28,462 views Database connection successful
INFO 2025-05-31 21:17:28,462 views Received chat request at 2025-05-31 21:17:28.462697
DEBUG 2025-05-31 21:17:28,462 views Request headers: {'Content-Length': '433', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:17:28,462 views Request body: {"message":"18/12/2026","session":{"user_data":{"is_returning_customer":false,"date_change_22_2026-12-15":true,"processing_date_change":false,"username":"nelson1030","user_id":6,"extend_booking_id":"BK-13132","booking_to_extend":{"id":22,"booking_id":"BK-13132","room_name":"Suite","room_price":"421.00","current_checkout":"December 16 (Wednesday)","current_checkout_date":"2026-12-16"}},"state":"selecting_extend_date","lang":"en"}}
INFO 2025-05-31 21:17:28,462 views User input: 18/12/2026
INFO 2025-05-31 21:17:28,467 views Current session state: selecting_extend_date
INFO 2025-05-31 21:17:28,467 views Current user data: {'is_returning_customer': False, 'date_change_22_2026-12-15': True, 'processing_date_change': False, 'username': 'nelson1030', 'user_id': 6, 'extend_booking_id': 'BK-13132', 'booking_to_extend': {'id': 22, 'booking_id': 'BK-13132', 'room_name': 'Suite', 'room_price': '421.00', 'current_checkout': 'December 16 (Wednesday)', 'current_checkout_date': '2026-12-16'}}
INFO 2025-05-31 21:17:28,875 dialog_manager Using device: cpu
WARNING 2025-05-31 21:17:28,875 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:17:28,875 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:17:28,875 dialog_manager Processing message: 18/12/2026
INFO 2025-05-31 21:17:28,875 dialog_manager Processing input: 18/12/2026
INFO 2025-05-31 21:17:28,875 dialog_manager Using language: en
INFO 2025-05-31 21:17:28,875 dialog_manager Detecting intent for input: 18/12/2026
INFO 2025-05-31 21:17:28,875 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-05-31 21:17:28,875 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:17:28,875 models Booking saved: BK-13132 for nelson
INFO 2025-05-31 21:17:28,875 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:17:28,887 views Updated session state: greeting
INFO 2025-05-31 21:17:28,888 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:17:28,888 views Generated response: Good news! We have extended your stay to December 18, with an additional fee of RM421.00421.00 (2 nights  RM421.00/night). Looking forward to your continued stay!
INFO 2025-05-31 21:17:28,890 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:17:28,895 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 277
INFO 2025-05-31 21:19:00,670 views Database connection successful
INFO 2025-05-31 21:19:00,670 views Received chat request at 2025-05-31 21:19:00.670914
DEBUG 2025-05-31 21:19:00,670 views Request headers: {'Content-Length': '117', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:19:00,670 views Request body: {"message":"hotel information","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:19:00,670 views User input: hotel information
INFO 2025-05-31 21:19:00,670 views Current session state: greeting
INFO 2025-05-31 21:19:00,670 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:19:01,097 dialog_manager Using device: cpu
WARNING 2025-05-31 21:19:01,097 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:19:01,097 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:19:01,097 dialog_manager Processing message: hotel information
INFO 2025-05-31 21:19:01,097 dialog_manager Processing input: hotel information
INFO 2025-05-31 21:19:01,097 dialog_manager Using language: en
INFO 2025-05-31 21:19:01,097 dialog_manager Detecting intent for input: hotel information
INFO 2025-05-31 21:19:01,115 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:19:01,116 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:19:01,116 views Updated session state: greeting
INFO 2025-05-31 21:19:01,117 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:19:01,122 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:19:01,122 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:19:01,123 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 401
INFO 2025-05-31 21:19:29,512 views Database connection successful
INFO 2025-05-31 21:19:29,513 views Received chat request at 2025-05-31 21:19:29.513192
DEBUG 2025-05-31 21:19:29,514 views Request headers: {'Content-Length': '145', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:19:29,515 views Request body: {"message":"feedback","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:19:29,516 views User input: feedback
INFO 2025-05-31 21:19:29,517 views Current session state: greeting
INFO 2025-05-31 21:19:29,518 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6}
INFO 2025-05-31 21:19:29,924 dialog_manager Using device: cpu
WARNING 2025-05-31 21:19:29,924 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:19:29,924 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:19:29,924 dialog_manager Processing message: feedback
INFO 2025-05-31 21:19:29,924 dialog_manager Processing input: feedback
INFO 2025-05-31 21:19:29,924 dialog_manager Using language: en
INFO 2025-05-31 21:19:29,924 dialog_manager Detecting intent for input: feedback
INFO 2025-05-31 21:19:29,924 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:19:29,924 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:19:29,939 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:19:29,939 views Updated session state: collecting_feedback_rating
INFO 2025-05-31 21:19:29,940 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:19:29,945 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:19:29,945 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:19:29,950 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 537
INFO 2025-05-31 21:19:35,741 views Database connection successful
INFO 2025-05-31 21:19:35,743 views Received chat request at 2025-05-31 21:19:35.743824
DEBUG 2025-05-31 21:19:35,745 views Request headers: {'Content-Length': '156', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:19:35,747 views Request body: {"message":"5","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6},"state":"collecting_feedback_rating","lang":"en"}}
INFO 2025-05-31 21:19:35,747 views User input: 5
INFO 2025-05-31 21:19:35,747 views Current session state: collecting_feedback_rating
INFO 2025-05-31 21:19:35,747 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6}
INFO 2025-05-31 21:19:36,169 dialog_manager Using device: cpu
WARNING 2025-05-31 21:19:36,169 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:19:36,169 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:19:36,169 dialog_manager Processing message: 5
INFO 2025-05-31 21:19:36,169 dialog_manager Processing input: 5
INFO 2025-05-31 21:19:36,169 dialog_manager Using language: en
INFO 2025-05-31 21:19:36,169 dialog_manager Detecting intent for input: 5
INFO 2025-05-31 21:19:36,182 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:19:36,185 dialog_manager Dialog manager process completed - State: collecting_feedback_comment, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'feedback_rating': 5}
INFO 2025-05-31 21:19:36,186 views Updated session state: collecting_feedback_comment
INFO 2025-05-31 21:19:36,187 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'feedback_rating': 5}
INFO 2025-05-31 21:19:36,190 views Booking confirmation check - State: collecting_feedback_comment, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:19:36,196 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:19:36,199 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 399
INFO 2025-05-31 21:19:50,326 views Database connection successful
INFO 2025-05-31 21:19:50,326 views Received chat request at 2025-05-31 21:19:50.326080
DEBUG 2025-05-31 21:19:50,326 views Request headers: {'Content-Length': '180', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:19:50,326 views Request body: {"message":"skip","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6,"feedback_rating":5},"state":"collecting_feedback_comment","lang":"en"}}
INFO 2025-05-31 21:19:50,326 views User input: skip
INFO 2025-05-31 21:19:50,326 views Current session state: collecting_feedback_comment
INFO 2025-05-31 21:19:50,333 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'feedback_rating': 5}
INFO 2025-05-31 21:19:50,755 dialog_manager Using device: cpu
WARNING 2025-05-31 21:19:50,757 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:19:50,757 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:19:50,757 dialog_manager Processing message: skip
INFO 2025-05-31 21:19:50,757 dialog_manager Processing input: skip
INFO 2025-05-31 21:19:50,757 dialog_manager Using language: en
INFO 2025-05-31 21:19:50,757 dialog_manager Detecting intent for input: skip
INFO 2025-05-31 21:19:50,763 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:19:50,763 dialog_manager Customer feedback received: {'rating': 5, 'comment': 'skip', 'timestamp': datetime.datetime(2025, 5, 31, 13, 19, 50, 763656, tzinfo=datetime.timezone.utc)}
INFO 2025-05-31 21:19:50,763 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:19:50,765 views Updated session state: greeting
INFO 2025-05-31 21:19:50,765 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:19:50,773 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:19:50,775 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 379
INFO 2025-05-31 21:20:09,425 views Database connection successful
INFO 2025-05-31 21:20:09,425 views Received chat request at 2025-05-31 21:20:09.425445
DEBUG 2025-05-31 21:20:09,425 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:20:09,425 views Request body: {"message":"room service","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:20:09,425 views User input: room service
INFO 2025-05-31 21:20:09,425 views Current session state: greeting
INFO 2025-05-31 21:20:09,438 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:20:09,857 dialog_manager Using device: cpu
WARNING 2025-05-31 21:20:09,857 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:20:09,857 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:20:09,857 dialog_manager Processing message: room service
INFO 2025-05-31 21:20:09,857 dialog_manager Processing input: room service
INFO 2025-05-31 21:20:09,857 dialog_manager Using language: en
INFO 2025-05-31 21:20:09,857 dialog_manager Detecting intent for input: room service
INFO 2025-05-31 21:20:09,864 dialog_manager Booking intent detected
INFO 2025-05-31 21:20:09,864 dialog_manager Detected intent: booking
INFO 2025-05-31 21:20:09,864 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'showing_room_service_menu': True}
INFO 2025-05-31 21:20:09,866 views Updated session state: greeting
INFO 2025-05-31 21:20:09,867 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'showing_room_service_menu': True}
INFO 2025-05-31 21:20:09,878 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:20:09,879 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:20:09,881 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 657
INFO 2025-05-31 21:20:26,860 views Database connection successful
INFO 2025-05-31 21:20:26,860 views Received chat request at 2025-05-31 21:20:26.860446
DEBUG 2025-05-31 21:20:26,860 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:20:26,860 views Request body: {"message":"Do Not Disturb","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6,"showing_room_service_menu":true},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:20:26,860 views User input: Do Not Disturb
INFO 2025-05-31 21:20:26,860 views Current session state: greeting
INFO 2025-05-31 21:20:26,860 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'showing_room_service_menu': True}
INFO 2025-05-31 21:20:27,743 dialog_manager Using device: cpu
WARNING 2025-05-31 21:20:27,743 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:20:27,743 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:20:27,743 dialog_manager Processing message: Do Not Disturb
INFO 2025-05-31 21:20:27,743 dialog_manager Processing input: Do Not Disturb
INFO 2025-05-31 21:20:27,743 dialog_manager Using language: en
INFO 2025-05-31 21:20:27,743 dialog_manager Detecting intent for input: Do Not Disturb
INFO 2025-05-31 21:20:27,759 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:20:27,759 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: nelson1030>>, 'room_service_type': 'dnd'}
INFO 2025-05-31 21:20:27,765 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-31 21:20:27,766 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: nelson1030>>, 'room_service_type': 'dnd'}
INFO 2025-05-31 21:20:27,766 views Generated response: I'll set up Do Not Disturb for you! Please provide your booking ID so I can update your room status.
INFO 2025-05-31 21:20:27,766 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:20:27,766 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:20:27,769 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 343
INFO 2025-05-31 21:20:40,100 views Database connection successful
INFO 2025-05-31 21:20:40,100 views Received chat request at 2025-05-31 21:20:40.100941
DEBUG 2025-05-31 21:20:40,100 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:20:40,100 views Request body: {"message":"BK-13132","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6,"showing_room_service_menu":true,"room_service_type":"dnd"},"state":"collecting_booking_id_for_room_service","lang":"en"}}
INFO 2025-05-31 21:20:40,115 views User input: BK-13132
INFO 2025-05-31 21:20:40,116 views Current session state: collecting_booking_id_for_room_service
INFO 2025-05-31 21:20:40,116 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'showing_room_service_menu': True, 'room_service_type': 'dnd'}
INFO 2025-05-31 21:20:40,533 dialog_manager Using device: cpu
WARNING 2025-05-31 21:20:40,533 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:20:40,533 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:20:40,533 dialog_manager Processing message: BK-13132
INFO 2025-05-31 21:20:40,533 dialog_manager Processing input: BK-13132
INFO 2025-05-31 21:20:40,533 dialog_manager Using language: en
INFO 2025-05-31 21:20:40,533 dialog_manager Detecting intent for input: BK-13132
INFO 2025-05-31 21:20:40,533 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:20:40,533 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:20:40,549 dialog_manager Room service request created: DND for BK-13132 - Active
INFO 2025-05-31 21:20:40,550 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:20:40,551 views Updated session state: greeting
INFO 2025-05-31 21:20:40,551 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:20:40,552 views Generated response: The "Do Not Disturb" status has been set for you. We will not disturb you for the time being, including cleaning services.
Please let me know if you need to resume service.
INFO 2025-05-31 21:20:40,552 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:20:40,554 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 284
INFO 2025-05-31 21:21:27,307 views Database connection successful
INFO 2025-05-31 21:21:27,311 views Received chat request at 2025-05-31 21:21:27.311366
DEBUG 2025-05-31 21:21:27,312 views Request headers: {'Content-Length': '114', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:21:27,313 views Request body: {"message":"booking status","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:21:27,314 views User input: booking status
INFO 2025-05-31 21:21:27,315 views Current session state: greeting
INFO 2025-05-31 21:21:27,315 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:21:27,726 dialog_manager Using device: cpu
WARNING 2025-05-31 21:21:27,727 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:21:27,727 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:21:27,727 dialog_manager Processing message: booking status
INFO 2025-05-31 21:21:27,727 dialog_manager Processing input: booking status
INFO 2025-05-31 21:21:27,727 dialog_manager Using language: en
INFO 2025-05-31 21:21:27,727 dialog_manager Detecting intent for input: booking status
INFO 2025-05-31 21:21:27,727 dialog_manager Booking intent detected
INFO 2025-05-31 21:21:27,727 dialog_manager Detected intent: booking
INFO 2025-05-31 21:21:27,737 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:21:27,737 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-31 21:21:27,740 views Updated user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>}
INFO 2025-05-31 21:21:27,740 views Generated response: I'd be happy to check your booking status! Do you remember the name, phone number, or booking ID used for the reservation? This will help me find your booking quickly.
INFO 2025-05-31 21:21:27,740 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:21:27,740 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:21:27,746 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 343
INFO 2025-05-31 21:21:32,144 views Database connection successful
INFO 2025-05-31 21:21:32,144 views Received chat request at 2025-05-31 21:21:32.144044
DEBUG 2025-05-31 21:21:32,144 views Request headers: {'Content-Length': '171', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:21:32,144 views Request body: {"message":"BK-13132","session":{"user_data":{"is_returning_customer":false,"username":"nelson1030","user_id":6},"state":"collecting_booking_info_for_status","lang":"en"}}
INFO 2025-05-31 21:21:32,144 views User input: BK-13132
INFO 2025-05-31 21:21:32,144 views Current session state: collecting_booking_info_for_status
INFO 2025-05-31 21:21:32,144 views Current user data: {'is_returning_customer': False, 'username': 'nelson1030', 'user_id': 6}
INFO 2025-05-31 21:21:32,540 dialog_manager Using device: cpu
WARNING 2025-05-31 21:21:32,540 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:21:32,540 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:21:32,540 dialog_manager Processing message: BK-13132
INFO 2025-05-31 21:21:32,540 dialog_manager Processing input: BK-13132
INFO 2025-05-31 21:21:32,540 dialog_manager Using language: en
INFO 2025-05-31 21:21:32,540 dialog_manager Detecting intent for input: BK-13132
INFO 2025-05-31 21:21:32,540 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:21:32,540 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:21:32,559 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': datetime.date(2026, 12, 15), 'check_out_date': datetime.date(2026, 12, 18), 'status': 'confirmed'}}
INFO 2025-05-31 21:21:32,559 views Updated session state: greeting
INFO 2025-05-31 21:21:32,560 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': datetime.date(2026, 12, 15), 'check_out_date': datetime.date(2026, 12, 18), 'status': 'confirmed'}}
INFO 2025-05-31 21:21:32,566 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:21:32,569 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 876
INFO 2025-05-31 21:22:05,264 views Database connection successful
INFO 2025-05-31 21:22:05,264 views Received chat request at 2025-05-31 21:22:05.264684
DEBUG 2025-05-31 21:22:05,264 views Request headers: {'Content-Length': '292', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:22:05,264 views Request body: {"message":"cancel booking","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":22,"booking_id":"BK-13132","guest_name":"nelson","room_name":"Suite","check_in_date":"2026-12-15","check_out_date":"2026-12-18","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-05-31 21:22:05,264 views User input: cancel booking
INFO 2025-05-31 21:22:05,264 views Current session state: greeting
INFO 2025-05-31 21:22:05,264 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-18', 'status': 'confirmed'}}
INFO 2025-05-31 21:22:05,705 dialog_manager Using device: cpu
WARNING 2025-05-31 21:22:05,707 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:22:05,707 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:22:05,707 dialog_manager Processing message: cancel booking
INFO 2025-05-31 21:22:05,707 dialog_manager Processing input: cancel booking
INFO 2025-05-31 21:22:05,707 dialog_manager Using language: en
INFO 2025-05-31 21:22:05,707 dialog_manager Detecting intent for input: cancel booking
INFO 2025-05-31 21:22:05,719 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-05-31 21:22:05,719 dialog_manager Detected intent: cancel_booking
INFO 2025-05-31 21:22:05,722 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-18', 'status': 'confirmed'}, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'cancel_booking_id': 'BK-13132', 'booking_to_cancel': {'id': 22, 'booking_id': 'BK-13132', 'room_name': 'Suite', 'guest_name': 'nelson', 'check_in': 'December 15', 'check_out': 'December 18', 'status': 'confirmed'}}
INFO 2025-05-31 21:22:05,722 views Updated session state: confirming_cancellation
INFO 2025-05-31 21:22:05,722 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-18', 'status': 'confirmed'}, 'username': 'nelson1030', 'user_id': 6, 'user': <SimpleLazyObject: <User: nelson1030>>, 'cancel_booking_id': 'BK-13132', 'booking_to_cancel': {'id': 22, 'booking_id': 'BK-13132', 'room_name': 'Suite', 'guest_name': 'nelson', 'check_in': 'December 15', 'check_out': 'December 18', 'status': 'confirmed'}}
INFO 2025-05-31 21:22:05,724 views Generated response: I found your booking! You have booked a Suite with check-in dates from December 15 to December 18. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-05-31 21:22:05,724 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:22:05,725 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:22:05,727 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 730
INFO 2025-05-31 21:22:08,345 views Database connection successful
INFO 2025-05-31 21:22:08,346 views Received chat request at 2025-05-31 21:22:08.346562
DEBUG 2025-05-31 21:22:08,346 views Request headers: {'Content-Length': '532', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zEEKAjEMRuGrxKyzqIoH8BQiw1Bq5rcinQZsI3h7C65czP59b5o4xmezGle0ljJYghxOwldzeqQ36AZUKpYzFjLv1Fx1pHcv5bNjYZ5l63FWNa-d9IXUB_-jdEFRW0EVZdh9OIbfbv4CrL4xyQ:1uLLz9:ogbLV86jzPeN_GTTW_wOoPyxwyUe6CR_q1U4DQeGQkc; csrftoken=l6SvmcHNwt635fP2HVWpqTE8tqYIpaMJ; sessionid=e4n01vt8njwmlr2p3nptgns40p1vsj9n'}
DEBUG 2025-05-31 21:22:08,347 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":22,"booking_id":"BK-13132","guest_name":"nelson","room_name":"Suite","check_in_date":"2026-12-15","check_out_date":"2026-12-18","status":"confirmed"},"username":"nelson1030","user_id":6,"cancel_booking_id":"BK-13132","booking_to_cancel":{"id":22,"booking_id":"BK-13132","room_name":"Suite","guest_name":"nelson","check_in":"December 15","check_out":"December 18","status":"confirmed"}},"state":"confirming_cancellation","lang":"en"}}
INFO 2025-05-31 21:22:08,347 views User input: yes
INFO 2025-05-31 21:22:08,347 views Current session state: confirming_cancellation
INFO 2025-05-31 21:22:08,348 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 22, 'booking_id': 'BK-13132', 'guest_name': 'nelson', 'room_name': 'Suite', 'check_in_date': '2026-12-15', 'check_out_date': '2026-12-18', 'status': 'confirmed'}, 'username': 'nelson1030', 'user_id': 6, 'cancel_booking_id': 'BK-13132', 'booking_to_cancel': {'id': 22, 'booking_id': 'BK-13132', 'room_name': 'Suite', 'guest_name': 'nelson', 'check_in': 'December 15', 'check_out': 'December 18', 'status': 'confirmed'}}
INFO 2025-05-31 21:22:08,760 dialog_manager Using device: cpu
WARNING 2025-05-31 21:22:08,760 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:22:08,760 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:22:08,760 dialog_manager Processing message: yes
INFO 2025-05-31 21:22:08,760 dialog_manager Processing input: yes
INFO 2025-05-31 21:22:08,760 dialog_manager Using language: en
INFO 2025-05-31 21:22:08,760 dialog_manager Detecting intent for input: yes
INFO 2025-05-31 21:22:08,760 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:22:08,781 models Booking saved: BK-13132 for nelson
INFO 2025-05-31 21:22:08,781 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:22:08,781 views Updated session state: greeting
INFO 2025-05-31 21:22:08,784 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:22:08,784 views Generated response: Your reservation has been successfully canceled, order number BK-13132. I hope to have the opportunity to serve you in the future!
INFO 2025-05-31 21:22:08,784 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:22:08,787 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-31 21:22:38,025 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12183
INFO 2025-05-31 21:22:43,023 basehttp "GET /hotel_booking/edit_profile/ HTTP/1.1" 200 12308
INFO 2025-05-31 21:22:49,170 basehttp "POST /hotel_booking/edit_profile/ HTTP/1.1" 302 0
INFO 2025-05-31 21:22:49,183 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12271
INFO 2025-05-31 21:22:49,317 basehttp "GET /media/profile_pictures/Acer_Wallpaper_05_3840x2400_tNMcvSo.jpg HTTP/1.1" 200 3024233
INFO 2025-05-31 21:22:55,895 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 16065
INFO 2025-05-31 21:22:55,957 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:22:58,048 basehttp "GET /admin/auth/user/6/change/ HTTP/1.1" 200 26903
INFO 2025-05-31 21:22:58,070 basehttp "GET /static/admin/js/SelectBox.js HTTP/1.1" 304 0
INFO 2025-05-31 21:22:58,070 basehttp "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 304 0
INFO 2025-05-31 21:22:58,070 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:22:58,346 basehttp "GET /static/admin/img/selector-icons.svg HTTP/1.1" 304 0
INFO 2025-05-31 21:23:17,261 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24678
INFO 2025-05-31 21:23:40,286 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 13263
INFO 2025-05-31 21:23:48,820 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-05-31 21:23:48,829 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:23:55,814 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10707
INFO 2025-05-31 21:24:28,514 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 12177
INFO 2025-05-31 21:27:25,604 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16737
INFO 2025-05-31 21:29:36,484 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-05-31 21:33:19,909 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:33:21,363 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-05-31 21:33:29,797 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:34:41,455 basehttp "GET /admin/ HTTP/1.1" 200 13976
INFO 2025-05-31 21:35:07,407 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-05-31 21:36:27,204 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:36:46,068 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-05-31 21:37:01,170 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:37:18,834 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-05-31 21:37:42,788 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16700
INFO 2025-05-31 21:37:49,817 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 16065
INFO 2025-05-31 21:37:49,886 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:37:51,282 basehttp "GET /admin/auth/user/5/change/ HTTP/1.1" 200 26865
INFO 2025-05-31 21:37:51,336 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:37:53,664 basehttp "GET /admin/auth/user/5/delete/ HTTP/1.1" 200 10825
INFO 2025-05-31 21:37:54,700 basehttp "POST /admin/auth/user/5/delete/ HTTP/1.1" 302 0
INFO 2025-05-31 21:37:54,773 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 15749
INFO 2025-05-31 21:37:54,811 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:37:59,091 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-05-31 21:38:12,052 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-05-31 21:38:36,219 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-05-31 21:38:36,227 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24671
INFO 2025-05-31 21:38:44,721 basehttp "GET /hotel_booking/room/1/ HTTP/1.1" 200 11531
INFO 2025-05-31 21:38:47,153 basehttp "GET /hotel_booking/book/1/ HTTP/1.1" 200 15544
INFO 2025-05-31 21:40:00,241 models Booking saved: 23 for Ting Lee Shiang
INFO 2025-05-31 21:40:00,242 basehttp "POST /hotel_booking/book/1/ HTTP/1.1" 302 0
INFO 2025-05-31 21:40:00,265 basehttp "GET /hotel_booking/payment_qr/23/ HTTP/1.1" 200 11087
INFO 2025-05-31 21:40:05,355 basehttp "GET /hotel_booking/booking_success/23/ HTTP/1.1" 200 11739
INFO 2025-05-31 21:40:10,226 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12168
INFO 2025-05-31 21:40:19,157 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17160
INFO 2025-05-31 21:41:00,347 views Database connection successful
INFO 2025-05-31 21:41:00,347 views Received chat request at 2025-05-31 21:41:00.347754
DEBUG 2025-05-31 21:41:00,350 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:41:00,350 views Request body: {"message":"Hello","session":{}}
INFO 2025-05-31 21:41:00,350 views User input: Hello
INFO 2025-05-31 21:41:00,358 views Current session state: None
INFO 2025-05-31 21:41:00,358 views Current user data: None
INFO 2025-05-31 21:41:02,315 dialog_manager Using device: cpu
WARNING 2025-05-31 21:41:02,321 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:41:02,321 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:41:02,321 dialog_manager Processing message: Hello
INFO 2025-05-31 21:41:02,326 dialog_manager Processing input: Hello
INFO 2025-05-31 21:41:02,490 dialog_manager Using language: en
INFO 2025-05-31 21:41:02,490 dialog_manager Detecting intent for input: Hello
INFO 2025-05-31 21:41:02,556 dialog_manager Pattern-based intent detected: greeting
INFO 2025-05-31 21:41:02,556 dialog_manager Detected intent: greeting
INFO 2025-05-31 21:41:08,697 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-05-31 21:41:08,697 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-05-31 21:41:08,776 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:41:08,776 views Updated session state: greeting
INFO 2025-05-31 21:41:08,776 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:41:08,785 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-05-31 21:41:08,785 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:41:08,785 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:41:08,908 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 199
INFO 2025-05-31 21:41:16,478 views Database connection successful
INFO 2025-05-31 21:41:16,481 views Received chat request at 2025-05-31 21:41:16.481637
DEBUG 2025-05-31 21:41:16,483 views Request headers: {'Content-Length': '151', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:41:16,484 views Request body: {"message":"i want booking a room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:41:16,484 views User input: i want booking a room
INFO 2025-05-31 21:41:16,486 views Current session state: greeting
INFO 2025-05-31 21:41:16,486 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-05-31 21:41:17,449 dialog_manager Using device: cpu
WARNING 2025-05-31 21:41:17,449 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:41:17,449 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:41:17,449 dialog_manager Processing message: i want booking a room
INFO 2025-05-31 21:41:17,449 dialog_manager Processing input: i want booking a room
INFO 2025-05-31 21:41:17,449 dialog_manager Using language: fi
INFO 2025-05-31 21:41:17,449 dialog_manager Detecting intent for input: i want booking a room
INFO 2025-05-31 21:41:17,478 dialog_manager Booking intent detected
INFO 2025-05-31 21:41:17,480 dialog_manager Detected intent: booking
INFO 2025-05-31 21:41:17,480 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 21:41:17,485 dialog_manager Extracting dates from: i want booking a room
WARNING 2025-05-31 21:41:17,486 dialog_manager No dates found
INFO 2025-05-31 21:41:17,486 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:41:17,486 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:41:17,486 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:41:17,530 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:41:17,532 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:41:17,536 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-31 21:41:48,098 views Database connection successful
INFO 2025-05-31 21:41:48,100 views Received chat request at 2025-05-31 21:41:48.100238
DEBUG 2025-05-31 21:41:48,100 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:41:48,103 views Request body: {"message":"Ting","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 21:41:48,103 views User input: Ting
INFO 2025-05-31 21:41:48,103 views Current session state: collecting_booking_info
INFO 2025-05-31 21:41:48,103 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-05-31 21:41:49,138 dialog_manager Using device: cpu
WARNING 2025-05-31 21:41:49,138 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:41:49,138 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:41:49,138 dialog_manager Processing message: Ting
INFO 2025-05-31 21:41:49,151 dialog_manager Processing input: Ting
INFO 2025-05-31 21:41:49,151 dialog_manager Using language: fi
INFO 2025-05-31 21:41:49,151 dialog_manager Detecting intent for input: Ting
INFO 2025-05-31 21:41:49,168 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:41:49,170 dialog_manager Extracted name: Ting
INFO 2025-05-31 21:41:49,171 dialog_manager Extracting dates from: Ting
WARNING 2025-05-31 21:41:49,171 dialog_manager No dates found
INFO 2025-05-31 21:41:49,171 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'Ting'}
INFO 2025-05-31 21:41:49,171 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'Ting'}
INFO 2025-05-31 21:41:49,171 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:41:49,171 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'Ting'}
INFO 2025-05-31 21:41:49,187 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:41:49,190 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:41:49,193 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 274
INFO 2025-05-31 21:41:53,790 views Database connection successful
INFO 2025-05-31 21:41:53,790 views Received chat request at 2025-05-31 21:41:53.790621
DEBUG 2025-05-31 21:41:53,797 views Request headers: {'Content-Length': '176', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:41:53,799 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 21:41:53,799 views User input: 01158763903
INFO 2025-05-31 21:41:53,799 views Current session state: collecting_booking_info
INFO 2025-05-31 21:41:53,799 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting'}
INFO 2025-05-31 21:41:54,814 dialog_manager Using device: cpu
WARNING 2025-05-31 21:41:54,814 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:41:54,814 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:41:54,814 dialog_manager Processing message: 01158763903
INFO 2025-05-31 21:41:54,814 dialog_manager Processing input: 01158763903
INFO 2025-05-31 21:41:54,814 dialog_manager Using language: fi
INFO 2025-05-31 21:41:54,814 dialog_manager Detecting intent for input: 01158763903
INFO 2025-05-31 21:41:54,814 dialog_manager Invalid input detected: too_many_digits
INFO 2025-05-31 21:41:54,814 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:41:54,822 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-05-31 21:41:54,823 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 21:41:54,825 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 21:41:54,826 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:41:54,828 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-05-31 21:41:54,840 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:41:54,840 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:41:54,851 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 295
INFO 2025-05-31 21:42:01,230 views Database connection successful
INFO 2025-05-31 21:42:01,230 views Received chat request at 2025-05-31 21:42:01.230034
DEBUG 2025-05-31 21:42:01,237 views Request headers: {'Content-Length': '206', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:01,238 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 21:42:01,238 views User input: marco9043@gmail.com
INFO 2025-05-31 21:42:01,238 views Current session state: collecting_booking_info
INFO 2025-05-31 21:42:01,241 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903'}
INFO 2025-05-31 21:42:02,434 dialog_manager Using device: cpu
WARNING 2025-05-31 21:42:02,434 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:42:02,434 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:42:02,441 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-05-31 21:42:02,442 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-05-31 21:42:02,443 dialog_manager Using language: fi
INFO 2025-05-31 21:42:02,444 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-05-31 21:42:02,459 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:42:02,461 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-05-31 21:42:02,461 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 21:42:02,461 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 21:42:02,461 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:42:02,461 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 21:42:02,481 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:42:02,481 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:42:02,488 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 747
INFO 2025-05-31 21:42:11,399 views Database connection successful
INFO 2025-05-31 21:42:11,399 views Received chat request at 2025-05-31 21:42:11.399545
DEBUG 2025-05-31 21:42:11,415 views Request headers: {'Content-Length': '225', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:11,416 views Request body: {"message":"standard","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 21:42:11,417 views User input: standard
INFO 2025-05-31 21:42:11,417 views Current session state: collecting_booking_info
INFO 2025-05-31 21:42:11,417 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-05-31 21:42:12,442 dialog_manager Using device: cpu
WARNING 2025-05-31 21:42:12,449 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:42:12,450 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:42:12,452 dialog_manager Processing message: standard
INFO 2025-05-31 21:42:12,452 dialog_manager Processing input: standard
INFO 2025-05-31 21:42:12,452 dialog_manager Using language: fi
INFO 2025-05-31 21:42:12,457 dialog_manager Detecting intent for input: standard
INFO 2025-05-31 21:42:12,458 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:42:12,459 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:42:12,461 dialog_manager Extracting dates from: standard
WARNING 2025-05-31 21:42:12,461 dialog_manager No dates found
INFO 2025-05-31 21:42:12,464 dialog_manager Extracted room type: Standard
INFO 2025-05-31 21:42:12,465 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Standard'}
INFO 2025-05-31 21:42:12,466 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Standard'}
INFO 2025-05-31 21:42:12,468 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:42:12,470 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Standard'}
INFO 2025-05-31 21:42:12,490 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:42:12,490 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:42:12,505 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 399
INFO 2025-05-31 21:42:19,254 views Database connection successful
INFO 2025-05-31 21:42:19,254 views Received chat request at 2025-05-31 21:42:19.254825
DEBUG 2025-05-31 21:42:19,254 views Request headers: {'Content-Length': '254', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:19,259 views Request body: {"message":"next wednesday","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 21:42:19,260 views User input: next wednesday
INFO 2025-05-31 21:42:19,261 views Current session state: collecting_booking_info
INFO 2025-05-31 21:42:19,262 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard'}
INFO 2025-05-31 21:42:20,235 dialog_manager Using device: cpu
WARNING 2025-05-31 21:42:20,235 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:42:20,235 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:42:20,240 dialog_manager Processing message: next wednesday
INFO 2025-05-31 21:42:20,243 dialog_manager Processing input: next wednesday
INFO 2025-05-31 21:42:20,244 dialog_manager Using language: fi
INFO 2025-05-31 21:42:20,244 dialog_manager Detecting intent for input: next wednesday
INFO 2025-05-31 21:42:20,264 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:42:20,264 dialog_manager Extracting dates from: next wednesday
INFO 2025-05-31 21:42:20,264 dialog_manager Extracted 'next wednesday' date: 2025-06-04 21:42:20.264860
INFO 2025-05-31 21:42:20,273 dialog_manager Single date result: {'check_in': '2025-06-04', 'check_out': '2025-06-05'}
INFO 2025-05-31 21:42:20,273 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05'}
INFO 2025-05-31 21:42:20,290 models Booking saved: BK-10096 for Ting
INFO 2025-05-31 21:42:20,293 dialog_manager Booking created successfully: ID=24, Booking_ID=BK-10096
INFO 2025-05-31 21:42:20,293 dialog_manager Booking record created successfully: BK-10096
INFO 2025-05-31 21:42:20,294 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096'}
INFO 2025-05-31 21:42:20,295 views Updated session state: offering_addons
INFO 2025-05-31 21:42:20,297 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096'}
INFO 2025-05-31 21:42:20,297 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-05-31 21:42:20,297 views Booking confirmation check - State: offering_addons, Booking ID: BK-10096, Previous ID: BK-10096, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:42:20,299 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:42:20,301 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1245
INFO 2025-05-31 21:42:36,242 views Database connection successful
INFO 2025-05-31 21:42:36,251 views Received chat request at 2025-05-31 21:42:36.251893
DEBUG 2025-05-31 21:42:36,252 views Request headers: {'Content-Length': '324', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:36,252 views Request body: {"message":"breakfast","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Standard","check_in_date":"2025-06-04","check_out_date":"2025-06-05","booking_id":"BK-10096"},"state":"offering_addons","lang":"fi"}}
INFO 2025-05-31 21:42:36,253 views User input: breakfast
INFO 2025-05-31 21:42:36,253 views Current session state: offering_addons
INFO 2025-05-31 21:42:36,253 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096'}
INFO 2025-05-31 21:42:37,196 dialog_manager Using device: cpu
WARNING 2025-05-31 21:42:37,196 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:42:37,196 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:42:37,213 dialog_manager Processing message: breakfast
INFO 2025-05-31 21:42:37,213 dialog_manager Processing input: breakfast
INFO 2025-05-31 21:42:37,213 dialog_manager Using language: fi
INFO 2025-05-31 21:42:37,216 dialog_manager Detecting intent for input: breakfast
INFO 2025-05-31 21:42:37,217 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:42:37,218 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:42:37,219 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-05-31 21:42:37,221 views Updated session state: collecting_breakfast_count
INFO 2025-05-31 21:42:37,221 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-05-31 21:42:37,221 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-05-31 21:42:37,221 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-10096, Previous ID: BK-10096, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:42:37,221 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:42:37,231 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 471
INFO 2025-05-31 21:42:40,563 views Database connection successful
INFO 2025-05-31 21:42:40,570 views Received chat request at 2025-05-31 21:42:40.570015
DEBUG 2025-05-31 21:42:40,570 views Request headers: {'Content-Length': '360', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:40,570 views Request body: {"message":"3","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Standard","check_in_date":"2025-06-04","check_out_date":"2025-06-05","booking_id":"BK-10096","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"fi"}}
INFO 2025-05-31 21:42:40,570 views User input: 3
INFO 2025-05-31 21:42:40,570 views Current session state: collecting_breakfast_count
INFO 2025-05-31 21:42:40,576 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096', 'addon_selections': ['breakfast']}
INFO 2025-05-31 21:42:41,558 dialog_manager Using device: cpu
WARNING 2025-05-31 21:42:41,558 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:42:41,558 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:42:41,558 dialog_manager Processing message: 3
INFO 2025-05-31 21:42:41,558 dialog_manager Processing input: 3
INFO 2025-05-31 21:42:41,558 dialog_manager Using language: fi
INFO 2025-05-31 21:42:41,565 dialog_manager Detecting intent for input: 3
INFO 2025-05-31 21:42:41,577 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:42:41,585 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 3}
INFO 2025-05-31 21:42:41,585 views Updated session state: confirming_breakfast
INFO 2025-05-31 21:42:41,585 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 3}
INFO 2025-05-31 21:42:41,588 views Generated response: OK, add breakfast for 3 guest(s), a total of RM60.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-05-31 21:42:41,590 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-10096, Previous ID: BK-10096, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:42:41,592 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:42:41,601 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 502
INFO 2025-05-31 21:42:44,314 views Database connection successful
INFO 2025-05-31 21:42:44,314 views Received chat request at 2025-05-31 21:42:44.314493
DEBUG 2025-05-31 21:42:44,314 views Request headers: {'Content-Length': '376', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:44,314 views Request body: {"message":"yes","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"Ting","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Standard","check_in_date":"2025-06-04","check_out_date":"2025-06-05","booking_id":"BK-10096","addon_selections":["breakfast"],"breakfast_count":3},"state":"confirming_breakfast","lang":"fi"}}
INFO 2025-05-31 21:42:44,314 views User input: yes
INFO 2025-05-31 21:42:44,314 views Current session state: confirming_breakfast
INFO 2025-05-31 21:42:44,322 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'Ting', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-05', 'booking_id': 'BK-10096', 'addon_selections': ['breakfast'], 'breakfast_count': 3}
INFO 2025-05-31 21:42:45,431 dialog_manager Using device: cpu
WARNING 2025-05-31 21:42:45,433 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:42:45,433 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:42:45,438 dialog_manager Processing message: yes
INFO 2025-05-31 21:42:45,438 dialog_manager Processing input: yes
INFO 2025-05-31 21:42:45,440 dialog_manager Using language: fi
INFO 2025-05-31 21:42:45,440 dialog_manager Detecting intent for input: yes
INFO 2025-05-31 21:42:45,455 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:42:45,471 dialog_manager Addon created successfully: Breakfast for 3 people - RM20
INFO 2025-05-31 21:42:45,474 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:42:45,475 views Updated session state: greeting
INFO 2025-05-31 21:42:45,475 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:42:45,475 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-05-31 21:42:45,475 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:42:45,482 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-05-31 21:42:57,153 views Database connection successful
INFO 2025-05-31 21:42:57,153 views Received chat request at 2025-05-31 21:42:57.153686
DEBUG 2025-05-31 21:42:57,153 views Request headers: {'Content-Length': '106', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:42:57,155 views Request body: {"message":"extend","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:42:57,155 views User input: extend
INFO 2025-05-31 21:42:57,155 views Current session state: greeting
INFO 2025-05-31 21:42:57,155 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:43:02,708 dialog_manager Using device: cpu
WARNING 2025-05-31 21:43:02,708 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:43:02,708 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:43:02,708 dialog_manager Processing message: extend
INFO 2025-05-31 21:43:02,708 dialog_manager Processing input: extend
INFO 2025-05-31 21:43:02,708 dialog_manager Using language: fi
INFO 2025-05-31 21:43:02,708 dialog_manager Detecting intent for input: extend
INFO 2025-05-31 21:43:02,733 dialog_manager Pattern-based intent detected: extend_stay
INFO 2025-05-31 21:43:02,735 dialog_manager Detected intent: extend_stay
INFO 2025-05-31 21:43:02,736 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_extend, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:43:02,736 views Updated session state: collecting_booking_id_for_extend
INFO 2025-05-31 21:43:02,736 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:43:02,736 views Generated response: I'd be happy to help you extend your stay! Please provide your booking ID so I can check your current reservation and available dates.
INFO 2025-05-31 21:43:02,741 views Booking confirmation check - State: collecting_booking_id_for_extend, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:43:02,741 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:43:02,745 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 301
INFO 2025-05-31 21:43:32,091 views Database connection successful
INFO 2025-05-31 21:43:32,091 views Received chat request at 2025-05-31 21:43:32.091933
DEBUG 2025-05-31 21:43:32,091 views Request headers: {'Content-Length': '162', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:43:32,094 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7},"state":"collecting_booking_id_for_extend","lang":"fi"}}
INFO 2025-05-31 21:43:32,094 views User input: BK-10096
INFO 2025-05-31 21:43:32,094 views Current session state: collecting_booking_id_for_extend
INFO 2025-05-31 21:43:32,097 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:43:33,149 dialog_manager Using device: cpu
WARNING 2025-05-31 21:43:33,149 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:43:33,149 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:43:33,149 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:43:33,149 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:43:33,149 dialog_manager Using language: fi
INFO 2025-05-31 21:43:33,158 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:43:33,159 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:43:33,160 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:43:33,169 dialog_manager Dialog manager process completed - State: selecting_extend_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'extend_booking_id': 'BK-10096', 'booking_to_extend': {'id': 24, 'booking_id': 'BK-10096', 'room_name': 'Standard Room', 'room_price': Decimal('132.00'), 'current_checkout': 'June 05 (Thursday)', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 21:43:33,169 views Updated session state: selecting_extend_date
INFO 2025-05-31 21:43:33,169 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'extend_booking_id': 'BK-10096', 'booking_to_extend': {'id': 24, 'booking_id': 'BK-10096', 'room_name': 'Standard Room', 'room_price': Decimal('132.00'), 'current_checkout': 'June 05 (Thursday)', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 21:43:33,169 views Generated response: Your current booking is until June 05 (Thursday). Which day do you want to extend it to? Please provide the new check-out date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 21:43:33,173 views Booking confirmation check - State: selecting_extend_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:43:33,175 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:43:33,175 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 544
INFO 2025-05-31 21:43:41,467 views Database connection successful
INFO 2025-05-31 21:43:41,467 views Received chat request at 2025-05-31 21:43:41.467175
DEBUG 2025-05-31 21:43:41,467 views Request headers: {'Content-Length': '362', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:43:41,467 views Request body: {"message":"June 07","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"extend_booking_id":"BK-10096","booking_to_extend":{"id":24,"booking_id":"BK-10096","room_name":"Standard Room","room_price":"132.00","current_checkout":"June 05 (Thursday)","current_checkout_date":"2025-06-05"}},"state":"selecting_extend_date","lang":"fi"}}
INFO 2025-05-31 21:43:41,472 views User input: June 07
INFO 2025-05-31 21:43:41,472 views Current session state: selecting_extend_date
INFO 2025-05-31 21:43:41,472 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'extend_booking_id': 'BK-10096', 'booking_to_extend': {'id': 24, 'booking_id': 'BK-10096', 'room_name': 'Standard Room', 'room_price': '132.00', 'current_checkout': 'June 05 (Thursday)', 'current_checkout_date': '2025-06-05'}}
INFO 2025-05-31 21:43:42,376 dialog_manager Using device: cpu
WARNING 2025-05-31 21:43:42,376 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:43:42,376 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:43:42,383 dialog_manager Processing message: June 07
INFO 2025-05-31 21:43:42,383 dialog_manager Processing input: June 07
INFO 2025-05-31 21:43:42,383 dialog_manager Using language: fi
INFO 2025-05-31 21:43:42,383 dialog_manager Detecting intent for input: June 07
INFO 2025-05-31 21:43:42,399 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:43:42,412 models Booking saved: BK-10096 for Ting
INFO 2025-05-31 21:43:42,416 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:43:42,418 views Updated session state: greeting
INFO 2025-05-31 21:43:42,419 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:43:42,419 views Generated response: Good news! We have extended your stay to June 07, with an additional fee of RM132.00132.00 (2 nights  RM132.00/night). Looking forward to your continued stay!
INFO 2025-05-31 21:43:42,421 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:43:42,425 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 273
INFO 2025-05-31 21:43:58,796 views Database connection successful
INFO 2025-05-31 21:43:58,796 views Received chat request at 2025-05-31 21:43:58.796575
DEBUG 2025-05-31 21:43:58,800 views Request headers: {'Content-Length': '121', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:43:58,803 views Request body: {"message":"booking stautus check","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:43:58,803 views User input: booking stautus check
INFO 2025-05-31 21:43:58,803 views Current session state: greeting
INFO 2025-05-31 21:43:58,803 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:43:59,727 dialog_manager Using device: cpu
WARNING 2025-05-31 21:43:59,727 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:43:59,727 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:43:59,727 dialog_manager Processing message: booking stautus check
INFO 2025-05-31 21:43:59,727 dialog_manager Processing input: booking stautus check
INFO 2025-05-31 21:43:59,727 dialog_manager Using language: fi
INFO 2025-05-31 21:43:59,727 dialog_manager Detecting intent for input: booking stautus check
INFO 2025-05-31 21:43:59,750 dialog_manager Booking intent detected
INFO 2025-05-31 21:43:59,750 dialog_manager Detected intent: booking
INFO 2025-05-31 21:43:59,754 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-05-31 21:43:59,754 dialog_manager Extracting dates from: booking stautus check
WARNING 2025-05-31 21:43:59,754 dialog_manager No dates found
INFO 2025-05-31 21:43:59,754 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:43:59,757 views Updated session state: collecting_booking_info
INFO 2025-05-31 21:43:59,758 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:43:59,769 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:43:59,769 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:43:59,780 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-05-31 21:44:17,751 views Database connection successful
INFO 2025-05-31 21:44:17,751 views Received chat request at 2025-05-31 21:44:17.751256
DEBUG 2025-05-31 21:44:17,754 views Request headers: {'Content-Length': '165', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:44:17,754 views Request body: {"message":"booking status check","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-05-31 21:44:17,754 views User input: booking status check
INFO 2025-05-31 21:44:17,754 views Current session state: collecting_booking_info
INFO 2025-05-31 21:44:17,754 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:44:18,680 dialog_manager Using device: cpu
WARNING 2025-05-31 21:44:18,680 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:44:18,680 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:44:18,694 dialog_manager Processing message: booking status check
INFO 2025-05-31 21:44:18,695 dialog_manager Processing input: booking status check
INFO 2025-05-31 21:44:18,695 dialog_manager Using language: fi
INFO 2025-05-31 21:44:18,696 dialog_manager Detecting intent for input: booking status check
INFO 2025-05-31 21:44:18,714 dialog_manager Booking intent detected
INFO 2025-05-31 21:44:18,714 dialog_manager Detected intent: booking
INFO 2025-05-31 21:44:18,714 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:44:18,717 views Updated session state: collecting_booking_info_for_status
INFO 2025-05-31 21:44:18,717 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:44:18,717 views Generated response: I'd be happy to check your booking status! Do you remember the name, phone number, or booking ID used for the reservation? This will help me find your booking quickly.
INFO 2025-05-31 21:44:18,717 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:44:18,717 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:44:18,722 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 336
INFO 2025-05-31 21:44:24,377 views Database connection successful
INFO 2025-05-31 21:44:24,391 views Received chat request at 2025-05-31 21:44:24.391027
DEBUG 2025-05-31 21:44:24,392 views Request headers: {'Content-Length': '164', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:44:24,392 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7},"state":"collecting_booking_info_for_status","lang":"fi"}}
INFO 2025-05-31 21:44:24,392 views User input: BK-10096
INFO 2025-05-31 21:44:24,392 views Current session state: collecting_booking_info_for_status
INFO 2025-05-31 21:44:24,392 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:44:25,315 dialog_manager Using device: cpu
WARNING 2025-05-31 21:44:25,315 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:44:25,315 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:44:25,323 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:44:25,324 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:44:25,324 dialog_manager Using language: fi
INFO 2025-05-31 21:44:25,326 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:44:25,327 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:44:25,329 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:44:25,339 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 4), 'check_out_date': datetime.date(2025, 6, 7), 'status': 'confirmed'}}
INFO 2025-05-31 21:44:25,342 views Updated session state: greeting
INFO 2025-05-31 21:44:25,343 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 4), 'check_out_date': datetime.date(2025, 6, 7), 'status': 'confirmed'}}
INFO 2025-05-31 21:44:25,358 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:44:25,364 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 875
INFO 2025-05-31 21:44:34,736 views Database connection successful
INFO 2025-05-31 21:44:34,736 views Received chat request at 2025-05-31 21:44:34.736422
DEBUG 2025-05-31 21:44:34,736 views Request headers: {'Content-Length': '301', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:44:34,736 views Request body: {"message":"hotel information","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Standard Room","check_in_date":"2025-06-04","check_out_date":"2025-06-07","status":"confirmed"}},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:44:34,736 views User input: hotel information
INFO 2025-05-31 21:44:34,742 views Current session state: greeting
INFO 2025-05-31 21:44:34,742 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}}
INFO 2025-05-31 21:44:35,699 dialog_manager Using device: cpu
WARNING 2025-05-31 21:44:35,699 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:44:35,699 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:44:35,699 dialog_manager Processing message: hotel information
INFO 2025-05-31 21:44:35,699 dialog_manager Processing input: hotel information
INFO 2025-05-31 21:44:35,699 dialog_manager Using language: fi
INFO 2025-05-31 21:44:35,699 dialog_manager Detecting intent for input: hotel information
INFO 2025-05-31 21:44:35,716 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:44:35,716 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:44:35,726 views Updated session state: greeting
INFO 2025-05-31 21:44:35,726 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:44:35,742 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:44:35,742 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:44:35,753 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 593
INFO 2025-05-31 21:44:47,176 views Database connection successful
INFO 2025-05-31 21:44:47,176 views Received chat request at 2025-05-31 21:44:47.176873
DEBUG 2025-05-31 21:44:47,176 views Request headers: {'Content-Length': '321', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:44:47,176 views Request body: {"message":"upgrade","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Standard Room","check_in_date":"2025-06-04","check_out_date":"2025-06-07","status":"confirmed"},"username":"TLS","user_id":7},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:44:47,182 views User input: upgrade
INFO 2025-05-31 21:44:47,183 views Current session state: greeting
INFO 2025-05-31 21:44:47,183 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:44:48,100 dialog_manager Using device: cpu
WARNING 2025-05-31 21:44:48,100 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:44:48,100 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:44:48,104 dialog_manager Processing message: upgrade
INFO 2025-05-31 21:44:48,104 dialog_manager Processing input: upgrade
INFO 2025-05-31 21:44:48,104 dialog_manager Using language: fi
INFO 2025-05-31 21:44:48,104 dialog_manager Detecting intent for input: upgrade
INFO 2025-05-31 21:44:48,118 dialog_manager Detected intent: upgrade_room
INFO 2025-05-31 21:44:48,124 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'upgrade_booking_id': 'BK-10096', 'booking_to_upgrade': {'id': 24, 'booking_id': 'BK-10096', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 04', 'check_out': 'June 07', 'duration': 3}}
INFO 2025-05-31 21:44:48,124 views Updated session state: selecting_upgrade_room
INFO 2025-05-31 21:44:48,132 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'upgrade_booking_id': 'BK-10096', 'booking_to_upgrade': {'id': 24, 'booking_id': 'BK-10096', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 04', 'check_out': 'June 07', 'duration': 3}}
INFO 2025-05-31 21:44:48,147 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:44:48,149 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:44:48,149 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 948
INFO 2025-05-31 21:44:56,850 views Database connection successful
INFO 2025-05-31 21:44:56,850 views Received chat request at 2025-05-31 21:44:56.850770
DEBUG 2025-05-31 21:44:56,850 views Request headers: {'Content-Length': '533', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:44:56,850 views Request body: {"message":"deluxe","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Standard Room","check_in_date":"2025-06-04","check_out_date":"2025-06-07","status":"confirmed"},"username":"TLS","user_id":7,"upgrade_booking_id":"BK-10096","booking_to_upgrade":{"id":24,"booking_id":"BK-10096","current_room":"Standard Room","current_price":"132.00","check_in":"June 04","check_out":"June 07","duration":3}},"state":"selecting_upgrade_room","lang":"fi"}}
INFO 2025-05-31 21:44:56,850 views User input: deluxe
INFO 2025-05-31 21:44:56,850 views Current session state: selecting_upgrade_room
INFO 2025-05-31 21:44:56,850 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Standard Room', 'check_in_date': '2025-06-04', 'check_out_date': '2025-06-07', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'upgrade_booking_id': 'BK-10096', 'booking_to_upgrade': {'id': 24, 'booking_id': 'BK-10096', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 04', 'check_out': 'June 07', 'duration': 3}}
INFO 2025-05-31 21:44:57,824 dialog_manager Using device: cpu
WARNING 2025-05-31 21:44:57,824 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:44:57,824 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:44:57,824 dialog_manager Processing message: deluxe
INFO 2025-05-31 21:44:57,824 dialog_manager Processing input: deluxe
INFO 2025-05-31 21:44:57,824 dialog_manager Using language: fi
INFO 2025-05-31 21:44:57,829 dialog_manager Detecting intent for input: deluxe
INFO 2025-05-31 21:44:57,839 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:44:57,859 models Booking saved: BK-10096 for Ting
INFO 2025-05-31 21:44:57,862 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:44:57,864 views Updated session state: greeting
INFO 2025-05-31 21:44:57,864 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:44:57,864 views Generated response: Your room type has been successfully upgraded to Deluxe Room and the total price has been adjusted. Additional cost: RM219.00 (RM73.00/night  3 nights). We look forward to your more comfortable stay!
INFO 2025-05-31 21:44:57,864 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:44:57,868 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 314
INFO 2025-05-31 21:45:07,727 views Database connection successful
INFO 2025-05-31 21:45:07,731 views Received chat request at 2025-05-31 21:45:07.731068
DEBUG 2025-05-31 21:45:07,732 views Request headers: {'Content-Length': '108', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:07,732 views Request body: {"message":"feedback","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:45:07,732 views User input: feedback
INFO 2025-05-31 21:45:07,732 views Current session state: greeting
INFO 2025-05-31 21:45:07,736 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:45:08,793 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:08,793 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:08,793 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:08,793 dialog_manager Processing message: feedback
INFO 2025-05-31 21:45:08,793 dialog_manager Processing input: feedback
INFO 2025-05-31 21:45:08,793 dialog_manager Using language: fi
INFO 2025-05-31 21:45:08,793 dialog_manager Detecting intent for input: feedback
INFO 2025-05-31 21:45:08,793 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:45:08,801 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:45:08,802 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:45:08,802 views Updated session state: collecting_feedback_rating
INFO 2025-05-31 21:45:08,804 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:45:08,820 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:08,822 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:45:08,826 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 530
INFO 2025-05-31 21:45:11,650 views Database connection successful
INFO 2025-05-31 21:45:11,659 views Received chat request at 2025-05-31 21:45:11.659402
DEBUG 2025-05-31 21:45:11,660 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:11,661 views Request body: {"message":"4","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7},"state":"collecting_feedback_rating","lang":"fi"}}
INFO 2025-05-31 21:45:11,661 views User input: 4
INFO 2025-05-31 21:45:11,661 views Current session state: collecting_feedback_rating
INFO 2025-05-31 21:45:11,661 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:45:12,595 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:12,596 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:12,596 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:12,596 dialog_manager Processing message: 4
INFO 2025-05-31 21:45:12,596 dialog_manager Processing input: 4
INFO 2025-05-31 21:45:12,596 dialog_manager Using language: fi
INFO 2025-05-31 21:45:12,601 dialog_manager Detecting intent for input: 4
INFO 2025-05-31 21:45:12,607 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:45:12,619 dialog_manager Dialog manager process completed - State: collecting_feedback_comment, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'feedback_rating': 4}
INFO 2025-05-31 21:45:12,620 views Updated session state: collecting_feedback_comment
INFO 2025-05-31 21:45:12,620 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'feedback_rating': 4}
INFO 2025-05-31 21:45:12,633 views Booking confirmation check - State: collecting_feedback_comment, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:12,634 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:45:12,638 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 392
INFO 2025-05-31 21:45:15,826 views Database connection successful
INFO 2025-05-31 21:45:15,826 views Received chat request at 2025-05-31 21:45:15.826017
DEBUG 2025-05-31 21:45:15,826 views Request headers: {'Content-Length': '171', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:15,841 views Request body: {"message":"no","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"feedback_rating":4},"state":"collecting_feedback_comment","lang":"fi"}}
INFO 2025-05-31 21:45:15,841 views User input: no
INFO 2025-05-31 21:45:15,841 views Current session state: collecting_feedback_comment
INFO 2025-05-31 21:45:15,846 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'feedback_rating': 4}
INFO 2025-05-31 21:45:16,759 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:16,759 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:16,759 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:16,759 dialog_manager Processing message: no
INFO 2025-05-31 21:45:16,759 dialog_manager Processing input: no
INFO 2025-05-31 21:45:16,763 dialog_manager Using language: fi
INFO 2025-05-31 21:45:16,763 dialog_manager Detecting intent for input: no
INFO 2025-05-31 21:45:16,776 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:45:16,780 dialog_manager Customer feedback received: {'rating': 4, 'comment': 'no', 'timestamp': datetime.datetime(2025, 5, 31, 13, 45, 16, 780997, tzinfo=datetime.timezone.utc)}
INFO 2025-05-31 21:45:16,783 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:45:16,783 views Updated session state: greeting
INFO 2025-05-31 21:45:16,784 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:45:16,799 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:16,805 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 379
INFO 2025-05-31 21:45:23,372 views Database connection successful
INFO 2025-05-31 21:45:23,377 views Received chat request at 2025-05-31 21:45:23.377088
DEBUG 2025-05-31 21:45:23,377 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:23,377 views Request body: {"message":"room service","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:45:23,377 views User input: room service
INFO 2025-05-31 21:45:23,377 views Current session state: greeting
INFO 2025-05-31 21:45:23,377 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:45:24,362 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:24,362 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:24,362 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:24,362 dialog_manager Processing message: room service
INFO 2025-05-31 21:45:24,362 dialog_manager Processing input: room service
INFO 2025-05-31 21:45:24,362 dialog_manager Using language: fi
INFO 2025-05-31 21:45:24,362 dialog_manager Detecting intent for input: room service
INFO 2025-05-31 21:45:24,379 dialog_manager Booking intent detected
INFO 2025-05-31 21:45:24,379 dialog_manager Detected intent: booking
INFO 2025-05-31 21:45:24,388 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-31 21:45:24,389 views Updated session state: greeting
INFO 2025-05-31 21:45:24,389 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'showing_room_service_menu': True}
INFO 2025-05-31 21:45:24,410 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:24,411 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:45:24,417 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 650
INFO 2025-05-31 21:45:33,429 views Database connection successful
INFO 2025-05-31 21:45:33,429 views Received chat request at 2025-05-31 21:45:33.429650
DEBUG 2025-05-31 21:45:33,429 views Request headers: {'Content-Length': '175', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:33,429 views Request body: {"message":"housekeeping","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"showing_room_service_menu":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:45:33,433 views User input: housekeeping
INFO 2025-05-31 21:45:33,434 views Current session state: greeting
INFO 2025-05-31 21:45:33,434 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True}
INFO 2025-05-31 21:45:34,584 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:34,584 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:34,584 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:34,584 dialog_manager Processing message: housekeeping
INFO 2025-05-31 21:45:34,584 dialog_manager Processing input: housekeeping
INFO 2025-05-31 21:45:34,584 dialog_manager Using language: fi
INFO 2025-05-31 21:45:34,597 dialog_manager Detecting intent for input: housekeeping
INFO 2025-05-31 21:45:34,599 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:45:34,600 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:45:34,601 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'cleaning'}
INFO 2025-05-31 21:45:34,603 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-31 21:45:34,603 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'cleaning'}
INFO 2025-05-31 21:45:34,604 views Generated response: I'd be happy to arrange room cleaning for you! Please provide your booking ID so I can process your housekeeping request.
INFO 2025-05-31 21:45:34,605 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:34,605 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:45:34,609 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 362
INFO 2025-05-31 21:45:37,926 views Database connection successful
INFO 2025-05-31 21:45:37,926 views Received chat request at 2025-05-31 21:45:37.926875
DEBUG 2025-05-31 21:45:37,931 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:37,931 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"showing_room_service_menu":true,"room_service_type":"cleaning"},"state":"collecting_booking_id_for_room_service","lang":"fi"}}
INFO 2025-05-31 21:45:37,931 views User input: BK-10096
INFO 2025-05-31 21:45:37,931 views Current session state: collecting_booking_id_for_room_service
INFO 2025-05-31 21:45:37,935 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True, 'room_service_type': 'cleaning'}
INFO 2025-05-31 21:45:38,884 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:38,884 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:38,884 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:38,884 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:45:38,884 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:45:38,884 dialog_manager Using language: fi
INFO 2025-05-31 21:45:38,884 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:45:38,884 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:45:38,884 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:45:38,898 dialog_manager Dialog manager process completed - State: selecting_cleaning_time, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_booking_id': 'BK-10096', 'room_service_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room'}}
INFO 2025-05-31 21:45:38,898 views Updated session state: selecting_cleaning_time
INFO 2025-05-31 21:45:38,898 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_booking_id': 'BK-10096', 'room_service_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room'}}
INFO 2025-05-31 21:45:38,902 views Generated response: OK, we will arrange for the cleaner to clean your room as soon as possible.
When would you like the cleaning service to be performed?
A. Now
B. After 2 pm
C. Tomorrow morning
INFO 2025-05-31 21:45:38,902 views Booking confirmation check - State: selecting_cleaning_time, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:38,902 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:45:38,905 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 555
INFO 2025-05-31 21:45:49,042 views Database connection successful
INFO 2025-05-31 21:45:49,043 views Received chat request at 2025-05-31 21:45:49.043522
DEBUG 2025-05-31 21:45:49,043 views Request headers: {'Content-Length': '357', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:45:49,043 views Request body: {"message":"tomorrow","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"showing_room_service_menu":true,"room_service_type":"cleaning","room_service_booking_id":"BK-10096","room_service_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Deluxe Room"}},"state":"selecting_cleaning_time","lang":"fi"}}
INFO 2025-05-31 21:45:49,043 views User input: tomorrow
INFO 2025-05-31 21:45:49,043 views Current session state: selecting_cleaning_time
INFO 2025-05-31 21:45:49,048 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'showing_room_service_menu': True, 'room_service_type': 'cleaning', 'room_service_booking_id': 'BK-10096', 'room_service_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room'}}
INFO 2025-05-31 21:45:50,021 dialog_manager Using device: cpu
WARNING 2025-05-31 21:45:50,021 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:45:50,021 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:45:50,021 dialog_manager Processing message: tomorrow
INFO 2025-05-31 21:45:50,021 dialog_manager Processing input: tomorrow
INFO 2025-05-31 21:45:50,021 dialog_manager Using language: fi
INFO 2025-05-31 21:45:50,021 dialog_manager Detecting intent for input: tomorrow
INFO 2025-05-31 21:45:50,021 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:45:50,031 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:45:50,042 dialog_manager Room service request created: Cleaning request for BK-10096 - Tomorrow Morning
INFO 2025-05-31 21:45:50,048 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:45:50,048 views Updated session state: greeting
INFO 2025-05-31 21:45:50,049 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:45:50,049 views Generated response: Your request has been recorded. We will arrange for the cleaning staff to go to your room "tomorrow morning". Thank you for your use!
INFO 2025-05-31 21:45:50,049 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:45:50,060 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 244
INFO 2025-05-31 21:46:02,401 views Database connection successful
INFO 2025-05-31 21:46:02,401 views Received chat request at 2025-05-31 21:46:02.401096
DEBUG 2025-05-31 21:46:02,401 views Request headers: {'Content-Length': '114', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:02,404 views Request body: {"message":"do not disturb","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:46:02,404 views User input: do not disturb
INFO 2025-05-31 21:46:02,404 views Current session state: greeting
INFO 2025-05-31 21:46:02,404 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:46:03,525 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:03,525 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:03,525 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:03,525 dialog_manager Processing message: do not disturb
INFO 2025-05-31 21:46:03,525 dialog_manager Processing input: do not disturb
INFO 2025-05-31 21:46:03,525 dialog_manager Using language: fi
INFO 2025-05-31 21:46:03,525 dialog_manager Detecting intent for input: do not disturb
INFO 2025-05-31 21:46:03,545 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:46:03,545 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_room_service, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'dnd'}
INFO 2025-05-31 21:46:03,554 views Updated session state: collecting_booking_id_for_room_service
INFO 2025-05-31 21:46:03,554 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'room_service_type': 'dnd'}
INFO 2025-05-31 21:46:03,554 views Generated response: I'll set up Do Not Disturb for you! Please provide your booking ID so I can update your room status.
INFO 2025-05-31 21:46:03,554 views Booking confirmation check - State: collecting_booking_id_for_room_service, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:46:03,554 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:46:03,561 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 301
INFO 2025-05-31 21:46:06,948 views Database connection successful
INFO 2025-05-31 21:46:06,948 views Received chat request at 2025-05-31 21:46:06.948696
DEBUG 2025-05-31 21:46:06,948 views Request headers: {'Content-Length': '194', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:06,956 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"room_service_type":"dnd"},"state":"collecting_booking_id_for_room_service","lang":"fi"}}
INFO 2025-05-31 21:46:06,957 views User input: BK-10096
INFO 2025-05-31 21:46:06,959 views Current session state: collecting_booking_id_for_room_service
INFO 2025-05-31 21:46:06,960 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'room_service_type': 'dnd'}
INFO 2025-05-31 21:46:07,914 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:07,914 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:07,914 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:07,914 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:46:07,914 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:46:07,914 dialog_manager Using language: fi
INFO 2025-05-31 21:46:07,921 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:46:07,923 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:46:07,924 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:46:07,942 dialog_manager Room service request created: DND for BK-10096 - Active
INFO 2025-05-31 21:46:07,942 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:46:07,947 views Updated session state: greeting
INFO 2025-05-31 21:46:07,948 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:46:07,948 views Generated response: The "Do Not Disturb" status has been set for you. We will not disturb you for the time being, including cleaning services.
Please let me know if you need to resume service.
INFO 2025-05-31 21:46:07,948 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:46:07,955 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 284
INFO 2025-05-31 21:46:22,348 views Database connection successful
INFO 2025-05-31 21:46:22,348 views Received chat request at 2025-05-31 21:46:22.348698
DEBUG 2025-05-31 21:46:22,348 views Request headers: {'Content-Length': '123', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:22,348 views Request body: {"message":"change date to check in","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:46:22,348 views User input: change date to check in
INFO 2025-05-31 21:46:22,348 views Current session state: greeting
INFO 2025-05-31 21:46:22,348 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:46:24,076 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:24,076 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:24,076 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:24,076 dialog_manager Processing message: change date to check in
INFO 2025-05-31 21:46:24,085 dialog_manager Processing input: change date to check in
INFO 2025-05-31 21:46:24,085 dialog_manager Using language: fi
INFO 2025-05-31 21:46:24,085 dialog_manager Detecting intent for input: change date to check in
INFO 2025-05-31 21:46:24,101 dialog_manager Pattern-based intent detected: change_date
INFO 2025-05-31 21:46:24,101 dialog_manager Detected intent: change_date
INFO 2025-05-31 21:46:24,103 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_change_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:46:24,103 views Updated session state: collecting_booking_id_for_change_date
INFO 2025-05-31 21:46:24,105 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:46:24,106 views Generated response: I'd be happy to help you change your check-in date! Please provide your booking ID so that I can help you change the date.
INFO 2025-05-31 21:46:24,106 views Booking confirmation check - State: collecting_booking_id_for_change_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:46:24,109 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:46:24,112 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 294
INFO 2025-05-31 21:46:26,836 views Database connection successful
INFO 2025-05-31 21:46:26,838 views Received chat request at 2025-05-31 21:46:26.838139
DEBUG 2025-05-31 21:46:26,842 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:26,842 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7},"state":"collecting_booking_id_for_change_date","lang":"fi"}}
INFO 2025-05-31 21:46:26,844 views User input: BK-10096
INFO 2025-05-31 21:46:26,846 views Current session state: collecting_booking_id_for_change_date
INFO 2025-05-31 21:46:26,847 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:46:27,765 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:27,765 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:27,765 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:27,771 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:46:27,773 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:46:27,773 dialog_manager Using language: fi
INFO 2025-05-31 21:46:27,774 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:46:27,774 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:46:27,776 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:46:27,780 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'change_date_booking_id': 'BK-10096', 'booking_to_change': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'current_checkin': 'June 04, 2025', 'current_checkout': 'June 07, 2025', 'current_checkin_date': '2025-06-04', 'current_checkout_date': '2025-06-07'}}
INFO 2025-05-31 21:46:27,780 views Updated session state: collecting_new_check_in_date
INFO 2025-05-31 21:46:27,785 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'change_date_booking_id': 'BK-10096', 'booking_to_change': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'current_checkin': 'June 04, 2025', 'current_checkout': 'June 07, 2025', 'current_checkin_date': '2025-06-04', 'current_checkout_date': '2025-06-07'}}
INFO 2025-05-31 21:46:27,786 views Generated response: Your current check-in date is June 04, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-05-31 21:46:27,786 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:46:27,786 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:46:27,793 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 615
INFO 2025-05-31 21:46:35,712 views Database connection successful
INFO 2025-05-31 21:46:35,715 views Received chat request at 2025-05-31 21:46:35.715809
DEBUG 2025-05-31 21:46:35,717 views Request headers: {'Content-Length': '435', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:35,717 views Request body: {"message":"June 06","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"change_date_booking_id":"BK-10096","booking_to_change":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Deluxe Room","current_checkin":"June 04, 2025","current_checkout":"June 07, 2025","current_checkin_date":"2025-06-04","current_checkout_date":"2025-06-07"}},"state":"collecting_new_check_in_date","lang":"fi"}}
INFO 2025-05-31 21:46:35,719 views User input: June 06
INFO 2025-05-31 21:46:35,719 views Current session state: collecting_new_check_in_date
INFO 2025-05-31 21:46:35,721 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'change_date_booking_id': 'BK-10096', 'booking_to_change': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'current_checkin': 'June 04, 2025', 'current_checkout': 'June 07, 2025', 'current_checkin_date': '2025-06-04', 'current_checkout_date': '2025-06-07'}}
INFO 2025-05-31 21:46:36,673 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:36,673 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:36,673 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:36,673 dialog_manager Processing message: June 06
INFO 2025-05-31 21:46:36,673 dialog_manager Processing input: June 06
INFO 2025-05-31 21:46:36,681 dialog_manager Using language: fi
INFO 2025-05-31 21:46:36,681 dialog_manager Detecting intent for input: June 06
INFO 2025-05-31 21:46:36,692 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:46:36,699 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'change_date_booking_id': 'BK-10096', 'booking_to_change': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'current_checkin': 'June 04, 2025', 'current_checkout': 'June 07, 2025', 'current_checkin_date': '2025-06-04', 'current_checkout_date': '2025-06-07'}, 'user': <SimpleLazyObject: <User: TLS>>, 'new_checkin_date': '2025-06-06', 'new_checkout_date': '2025-06-09'}
INFO 2025-05-31 21:46:36,700 views Updated session state: confirming_date_change
INFO 2025-05-31 21:46:36,700 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'change_date_booking_id': 'BK-10096', 'booking_to_change': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'current_checkin': 'June 04, 2025', 'current_checkout': 'June 07, 2025', 'current_checkin_date': '2025-06-04', 'current_checkout_date': '2025-06-07'}, 'user': <SimpleLazyObject: <User: TLS>>, 'new_checkin_date': '2025-06-06', 'new_checkout_date': '2025-06-09'}
INFO 2025-05-31 21:46:36,700 views Generated response: Are you sure to change the check-in time to June 06, 2025? Your new check-out date will be June 09, 2025. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-05-31 21:46:36,704 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:46:36,704 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:46:36,704 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 683
INFO 2025-05-31 21:46:41,374 views Database connection successful
INFO 2025-05-31 21:46:41,374 views Received chat request at 2025-05-31 21:46:41.374587
DEBUG 2025-05-31 21:46:41,378 views Request headers: {'Content-Length': '494', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:41,379 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"change_date_booking_id":"BK-10096","booking_to_change":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Deluxe Room","current_checkin":"June 04, 2025","current_checkout":"June 07, 2025","current_checkin_date":"2025-06-04","current_checkout_date":"2025-06-07"},"new_checkin_date":"2025-06-06","new_checkout_date":"2025-06-09"},"state":"confirming_date_change","lang":"fi"}}
INFO 2025-05-31 21:46:41,382 views User input: confirm
INFO 2025-05-31 21:46:41,382 views Current session state: confirming_date_change
INFO 2025-05-31 21:46:41,382 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'change_date_booking_id': 'BK-10096', 'booking_to_change': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'current_checkin': 'June 04, 2025', 'current_checkout': 'June 07, 2025', 'current_checkin_date': '2025-06-04', 'current_checkout_date': '2025-06-07'}, 'new_checkin_date': '2025-06-06', 'new_checkout_date': '2025-06-09'}
INFO 2025-05-31 21:46:42,311 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:42,311 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:42,311 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:42,311 dialog_manager Processing message: confirm
INFO 2025-05-31 21:46:42,311 dialog_manager Processing input: confirm
INFO 2025-05-31 21:46:42,311 dialog_manager Using language: fi
INFO 2025-05-31 21:46:42,311 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 21:46:42,332 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:46:42,346 models Booking saved: BK-10096 for Ting
INFO 2025-05-31 21:46:42,346 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'date_change_24_2025-06-06': True, 'processing_date_change': False}
INFO 2025-05-31 21:46:42,355 views Updated session state: greeting
INFO 2025-05-31 21:46:42,355 views Updated user data: {'is_returning_customer': True, 'date_change_24_2025-06-06': True, 'processing_date_change': False}
INFO 2025-05-31 21:46:42,355 views Generated response: OK, your check-in date has been successfully changed to June 06, 2025. The booking ID remains unchanged. If you have any other needs, please continue to consult!
INFO 2025-05-31 21:46:42,355 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:46:42,363 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 338
INFO 2025-05-31 21:46:54,349 views Database connection successful
INFO 2025-05-31 21:46:54,358 views Received chat request at 2025-05-31 21:46:54.358166
DEBUG 2025-05-31 21:46:54,358 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:46:54,358 views Request body: {"message":"booking another room","session":{"user_data":{"is_returning_customer":true,"date_change_24_2025-06-06":true,"processing_date_change":false},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:46:54,358 views User input: booking another room
INFO 2025-05-31 21:46:54,358 views Current session state: greeting
INFO 2025-05-31 21:46:54,358 views Current user data: {'is_returning_customer': True, 'date_change_24_2025-06-06': True, 'processing_date_change': False}
INFO 2025-05-31 21:46:55,282 dialog_manager Using device: cpu
WARNING 2025-05-31 21:46:55,282 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:46:55,282 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:46:55,282 dialog_manager Processing message: booking another room
INFO 2025-05-31 21:46:55,282 dialog_manager Processing input: booking another room
INFO 2025-05-31 21:46:55,282 dialog_manager Using language: fi
INFO 2025-05-31 21:46:55,282 dialog_manager Detecting intent for input: booking another room
INFO 2025-05-31 21:46:55,304 dialog_manager Book another room intent detected
INFO 2025-05-31 21:46:55,304 dialog_manager Detected intent: book_another_room
INFO 2025-05-31 21:47:01,244 dialog_manager Sentiment analysis: Neutral (confidence: 0.86)
INFO 2025-05-31 21:47:01,245 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-31 21:47:01,245 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:47:01,245 views Updated session state: collecting_parent_booking_id
INFO 2025-05-31 21:47:01,245 views Updated user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-05-31 21:47:01,247 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-05-31 21:47:01,247 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:01,249 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:47:01,389 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 357
INFO 2025-05-31 21:47:09,173 views Database connection successful
INFO 2025-05-31 21:47:09,174 views Received chat request at 2025-05-31 21:47:09.174706
DEBUG 2025-05-31 21:47:09,174 views Request headers: {'Content-Length': '222', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:47:09,174 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"date_change_24_2025-06-06":true,"processing_date_change":false,"username":"TLS","user_id":7},"state":"collecting_parent_booking_id","lang":"fi"}}
INFO 2025-05-31 21:47:09,178 views User input: BK-10096
INFO 2025-05-31 21:47:09,179 views Current session state: collecting_parent_booking_id
INFO 2025-05-31 21:47:09,179 views Current user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-05-31 21:47:10,138 dialog_manager Using device: cpu
WARNING 2025-05-31 21:47:10,138 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:47:10,138 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:47:10,138 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:47:10,138 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:47:10,138 dialog_manager Using language: fi
INFO 2025-05-31 21:47:10,138 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:47:10,138 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:47:10,148 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:47:10,160 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 6), 'check_out_date': datetime.date(2025, 6, 9)}, 'is_additional_booking': True}
INFO 2025-05-31 21:47:10,160 views Updated session state: selecting_additional_room_type
INFO 2025-05-31 21:47:10,162 views Updated user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 6), 'check_out_date': datetime.date(2025, 6, 9)}, 'is_additional_booking': True}
INFO 2025-05-31 21:47:10,163 views Generated response: Perfect! I'll help you book an additional room to go with Deluxe Room.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-05-31 21:47:10,163 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:10,163 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:47:10,163 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 734
INFO 2025-05-31 21:47:18,281 views Database connection successful
INFO 2025-05-31 21:47:18,281 views Received chat request at 2025-05-31 21:47:18.281097
DEBUG 2025-05-31 21:47:18,281 views Request headers: {'Content-Length': '409', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:47:18,281 views Request body: {"message":"standard","session":{"user_data":{"is_returning_customer":false,"date_change_24_2025-06-06":true,"processing_date_change":false,"username":"TLS","user_id":7,"parent_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Deluxe Room","check_in_date":"2025-06-06","check_out_date":"2025-06-09"},"is_additional_booking":true},"state":"selecting_additional_room_type","lang":"fi"}}
INFO 2025-05-31 21:47:18,281 views User input: standard
INFO 2025-05-31 21:47:18,281 views Current session state: selecting_additional_room_type
INFO 2025-05-31 21:47:18,281 views Current user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True}
INFO 2025-05-31 21:47:19,224 dialog_manager Using device: cpu
WARNING 2025-05-31 21:47:19,230 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:47:19,230 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:47:19,230 dialog_manager Processing message: standard
INFO 2025-05-31 21:47:19,230 dialog_manager Processing input: standard
INFO 2025-05-31 21:47:19,230 dialog_manager Using language: fi
INFO 2025-05-31 21:47:19,230 dialog_manager Detecting intent for input: standard
INFO 2025-05-31 21:47:19,230 dialog_manager Invalid input detected: random_pattern
INFO 2025-05-31 21:47:19,230 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:47:19,239 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_room_type': 'Standard Room', 'additional_room_price': 132.0}
INFO 2025-05-31 21:47:19,241 views Updated session state: confirming_additional_dates
INFO 2025-05-31 21:47:19,242 views Updated user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_room_type': 'Standard Room', 'additional_room_price': 132.0}
INFO 2025-05-31 21:47:19,243 views Generated response: Great! You've selected Standard Room (RM132.00/night) for your additional booking.

Your current booking is from 2025-06-06 to 2025-06-09.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-05-31 21:47:19,244 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:19,244 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:47:19,252 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 776
INFO 2025-05-31 21:47:26,129 views Database connection successful
INFO 2025-05-31 21:47:26,129 views Received chat request at 2025-05-31 21:47:26.129769
DEBUG 2025-05-31 21:47:26,129 views Request headers: {'Content-Length': '468', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:47:26,129 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"date_change_24_2025-06-06":true,"processing_date_change":false,"username":"TLS","user_id":7,"parent_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Deluxe Room","check_in_date":"2025-06-06","check_out_date":"2025-06-09"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132},"state":"confirming_additional_dates","lang":"fi"}}
INFO 2025-05-31 21:47:26,134 views User input: yes
INFO 2025-05-31 21:47:26,134 views Current session state: confirming_additional_dates
INFO 2025-05-31 21:47:26,136 views Current user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132}
INFO 2025-05-31 21:47:27,090 dialog_manager Using device: cpu
WARNING 2025-05-31 21:47:27,090 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:47:27,090 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:47:27,090 dialog_manager Processing message: yes
INFO 2025-05-31 21:47:27,090 dialog_manager Processing input: yes
INFO 2025-05-31 21:47:27,090 dialog_manager Using language: fi
INFO 2025-05-31 21:47:27,090 dialog_manager Detecting intent for input: yes
INFO 2025-05-31 21:47:27,118 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:47:27,118 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_check_in_date': '2025-06-06', 'additional_check_out_date': '2025-06-09', 'guest_name': 'Ting'}
INFO 2025-05-31 21:47:27,118 views Updated session state: confirming_additional_booking
INFO 2025-05-31 21:47:27,118 views Updated user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'user': <SimpleLazyObject: <User: TLS>>, 'additional_check_in_date': '2025-06-06', 'additional_check_out_date': '2025-06-09', 'guest_name': 'Ting'}
INFO 2025-05-31 21:47:27,138 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:27,143 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:47:27,151 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1060
INFO 2025-05-31 21:47:33,256 views Database connection successful
INFO 2025-05-31 21:47:33,256 views Received chat request at 2025-05-31 21:47:33.256101
DEBUG 2025-05-31 21:47:33,261 views Request headers: {'Content-Length': '575', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:47:33,261 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"date_change_24_2025-06-06":true,"processing_date_change":false,"username":"TLS","user_id":7,"parent_booking":{"id":24,"booking_id":"BK-10096","guest_name":"Ting","room_name":"Deluxe Room","check_in_date":"2025-06-06","check_out_date":"2025-06-09"},"is_additional_booking":true,"additional_room_type":"Standard Room","additional_room_price":132,"additional_check_in_date":"2025-06-06","additional_check_out_date":"2025-06-09","guest_name":"Ting"},"state":"confirming_additional_booking","lang":"fi"}}
INFO 2025-05-31 21:47:33,261 views User input: confirm
INFO 2025-05-31 21:47:33,261 views Current session state: confirming_additional_booking
INFO 2025-05-31 21:47:33,265 views Current user data: {'is_returning_customer': False, 'date_change_24_2025-06-06': True, 'processing_date_change': False, 'username': 'TLS', 'user_id': 7, 'parent_booking': {'id': 24, 'booking_id': 'BK-10096', 'guest_name': 'Ting', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-09'}, 'is_additional_booking': True, 'additional_room_type': 'Standard Room', 'additional_room_price': 132, 'additional_check_in_date': '2025-06-06', 'additional_check_out_date': '2025-06-09', 'guest_name': 'Ting'}
INFO 2025-05-31 21:47:34,185 dialog_manager Using device: cpu
WARNING 2025-05-31 21:47:34,185 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:47:34,185 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:47:34,185 dialog_manager Processing message: confirm
INFO 2025-05-31 21:47:34,185 dialog_manager Processing input: confirm
INFO 2025-05-31 21:47:34,185 dialog_manager Using language: fi
INFO 2025-05-31 21:47:34,185 dialog_manager Detecting intent for input: confirm
INFO 2025-05-31 21:47:34,207 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:47:34,218 models Booking saved: BK-43271 for Ting
INFO 2025-05-31 21:47:34,218 dialog_manager Additional booking created successfully: ID=25, Booking_ID=BK-43271
INFO 2025-05-31 21:47:34,218 dialog_manager Linked to parent booking: BK-10096
INFO 2025-05-31 21:47:34,223 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:47:34,225 views Updated session state: greeting
INFO 2025-05-31 21:47:34,226 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:47:34,235 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:34,245 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 507
INFO 2025-05-31 21:47:48,611 views Database connection successful
INFO 2025-05-31 21:47:48,611 views Received chat request at 2025-05-31 21:47:48.611968
DEBUG 2025-05-31 21:47:48,611 views Request headers: {'Content-Length': '114', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:47:48,611 views Request body: {"message":"cancel booking","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-05-31 21:47:48,611 views User input: cancel booking
INFO 2025-05-31 21:47:48,611 views Current session state: greeting
INFO 2025-05-31 21:47:48,611 views Current user data: {'is_returning_customer': True}
INFO 2025-05-31 21:47:49,605 dialog_manager Using device: cpu
WARNING 2025-05-31 21:47:49,605 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:47:49,617 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:47:49,617 dialog_manager Processing message: cancel booking
INFO 2025-05-31 21:47:49,617 dialog_manager Processing input: cancel booking
INFO 2025-05-31 21:47:49,620 dialog_manager Using language: fi
INFO 2025-05-31 21:47:49,621 dialog_manager Detecting intent for input: cancel booking
INFO 2025-05-31 21:47:49,633 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-05-31 21:47:49,633 dialog_manager Detected intent: cancel_booking
INFO 2025-05-31 21:47:49,638 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_cancel, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-05-31 21:47:49,638 views Updated session state: collecting_booking_id_for_cancel
INFO 2025-05-31 21:47:49,640 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-05-31 21:47:49,641 views Generated response: I'd be happy to help you cancel your booking. Please provide your booking ID or booking name, and I will help you check the booking information.
INFO 2025-05-31 21:47:49,641 views Booking confirmation check - State: collecting_booking_id_for_cancel, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:49,644 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:47:49,647 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 342
INFO 2025-05-31 21:47:52,375 views Database connection successful
INFO 2025-05-31 21:47:52,375 views Received chat request at 2025-05-31 21:47:52.375263
DEBUG 2025-05-31 21:47:52,381 views Request headers: {'Content-Length': '191', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:47:52,381 views Request body: {"message":"BK-10096","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"pending_cancel_intent":true},"state":"collecting_booking_id_for_cancel","lang":"fi"}}
INFO 2025-05-31 21:47:52,381 views User input: BK-10096
INFO 2025-05-31 21:47:52,386 views Current session state: collecting_booking_id_for_cancel
INFO 2025-05-31 21:47:52,387 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'pending_cancel_intent': True}
INFO 2025-05-31 21:47:53,518 dialog_manager Using device: cpu
WARNING 2025-05-31 21:47:53,528 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:47:53,528 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:47:53,528 dialog_manager Processing message: BK-10096
INFO 2025-05-31 21:47:53,528 dialog_manager Processing input: BK-10096
INFO 2025-05-31 21:47:53,528 dialog_manager Using language: fi
INFO 2025-05-31 21:47:53,528 dialog_manager Detecting intent for input: BK-10096
INFO 2025-05-31 21:47:53,528 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-05-31 21:47:53,533 dialog_manager Detected intent: invalid_input
INFO 2025-05-31 21:47:53,540 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-10096', 'booking_to_cancel': {'id': 24, 'booking_id': 'BK-10096', 'room_name': 'Deluxe Room', 'guest_name': 'Ting', 'check_in': 'June 06', 'check_out': 'June 09', 'status': 'confirmed'}}
INFO 2025-05-31 21:47:53,543 views Updated session state: confirming_cancellation
INFO 2025-05-31 21:47:53,543 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-10096', 'booking_to_cancel': {'id': 24, 'booking_id': 'BK-10096', 'room_name': 'Deluxe Room', 'guest_name': 'Ting', 'check_in': 'June 06', 'check_out': 'June 09', 'status': 'confirmed'}}
INFO 2025-05-31 21:47:53,545 views Generated response: I found your booking! You have booked a Deluxe Room with check-in dates from June 06 to June 09. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-05-31 21:47:53,545 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:47:53,545 views Removed User object from session for JSON serialization
INFO 2025-05-31 21:47:53,551 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 524
INFO 2025-05-31 21:48:02,228 views Database connection successful
INFO 2025-05-31 21:48:02,228 views Received chat request at 2025-05-31 21:48:02.228540
DEBUG 2025-05-31 21:48:02,232 views Request headers: {'Content-Length': '343', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlhmNycn5pXolCclFqYglQO4pWhfDUnOT83FSFEJ9giDmxAE2vL2k:1uLMQ0:dgHjpZz9Dl4MuJdjxcsqq6UEAgKWXAShAH1p01gTHJU; csrftoken=Af6Vdv3LHLhu3W8tcpeR9yy9OVhmZ2AW; sessionid=dlm762rjzuy4gay53wo9399ayq9ypdei'}
DEBUG 2025-05-31 21:48:02,233 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"cancel_booking_id":"BK-10096","booking_to_cancel":{"id":24,"booking_id":"BK-10096","room_name":"Deluxe Room","guest_name":"Ting","check_in":"June 06","check_out":"June 09","status":"confirmed"}},"state":"confirming_cancellation","lang":"fi"}}
INFO 2025-05-31 21:48:02,233 views User input: yes
INFO 2025-05-31 21:48:02,233 views Current session state: confirming_cancellation
INFO 2025-05-31 21:48:02,233 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'cancel_booking_id': 'BK-10096', 'booking_to_cancel': {'id': 24, 'booking_id': 'BK-10096', 'room_name': 'Deluxe Room', 'guest_name': 'Ting', 'check_in': 'June 06', 'check_out': 'June 09', 'status': 'confirmed'}}
INFO 2025-05-31 21:48:03,257 dialog_manager Using device: cpu
WARNING 2025-05-31 21:48:03,257 dialog_manager Using basic NLP functionality only
INFO 2025-05-31 21:48:03,257 dialog_manager DialogManager initialized successfully
INFO 2025-05-31 21:48:03,259 dialog_manager Processing message: yes
INFO 2025-05-31 21:48:03,260 dialog_manager Processing input: yes
INFO 2025-05-31 21:48:03,260 dialog_manager Using language: fi
INFO 2025-05-31 21:48:03,261 dialog_manager Detecting intent for input: yes
INFO 2025-05-31 21:48:03,278 dialog_manager Detected intent: unknown
INFO 2025-05-31 21:48:03,284 models Booking saved: BK-10096 for Ting
INFO 2025-05-31 21:48:03,284 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-05-31 21:48:03,293 views Updated session state: greeting
INFO 2025-05-31 21:48:03,293 views Updated user data: {'is_returning_customer': True}
INFO 2025-05-31 21:48:03,295 views Generated response: Your reservation has been successfully canceled, order number BK-10096. I hope to have the opportunity to serve you in the future!
INFO 2025-05-31 21:48:03,297 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-05-31 21:48:03,301 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-05-31 21:48:06,825 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13002
INFO 2025-05-31 21:48:11,854 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12302
INFO 2025-05-31 21:48:16,746 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 16065
INFO 2025-05-31 21:48:16,901 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:48:19,550 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 19941
INFO 2025-05-31 21:48:19,593 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:48:21,546 basehttp "GET /admin/hotel_booking/contactmessage/ HTTP/1.1" 200 15611
INFO 2025-05-31 21:48:21,578 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:48:23,336 basehttp "GET /admin/hotel_booking/roomservicerequest/ HTTP/1.1" 200 17753
INFO 2025-05-31 21:48:23,377 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:48:25,092 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15179
INFO 2025-05-31 21:48:25,133 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-05-31 21:48:26,331 basehttp "GET /admin/hotel_booking/userprofile/ HTTP/1.1" 200 13659
INFO 2025-05-31 21:48:26,365 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:10:23,192 autoreload Watching for file changes with StatReloader
INFO 2025-06-03 20:10:52,358 middleware Admin user found: admin
INFO 2025-06-03 20:11:53,505 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24671
INFO 2025-06-03 20:11:53,552 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-03 20:11:53,554 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-03 20:11:53,564 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-06-03 20:11:54,265 log Not Found: /favicon.ico
WARNING 2025-06-03 20:11:54,267 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-03 20:11:56,218 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-03 20:11:56,225 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:12:07,493 basehttp "GET /admin/ HTTP/1.1" 200 13939
INFO 2025-06-03 20:12:07,606 basehttp "GET /static/admin/css/dark_mode.css HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,608 basehttp "GET /static/admin/css/base.css HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,609 basehttp "GET /static/admin/js/theme.js HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,617 basehttp "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,618 basehttp "GET /static/admin/css/dashboard.css HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,621 basehttp "GET /static/admin/css/responsive.css HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,628 basehttp "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,648 basehttp "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,648 basehttp "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 304 0
INFO 2025-06-03 20:12:07,654 basehttp "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 304 0
WARNING 2025-06-03 20:12:08,398 log Not Found: /favicon.ico
WARNING 2025-06-03 20:12:08,399 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-03 20:13:44,161 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10707
INFO 2025-06-03 20:13:57,323 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-03 20:13:57,341 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24671
INFO 2025-06-03 20:13:58,735 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17160
INFO 2025-06-03 20:14:01,260 views Database connection successful
INFO 2025-06-03 20:14:01,260 views Received chat request at 2025-06-03 20:14:01.260674
DEBUG 2025-06-03 20:14:01,267 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:14:01,267 views Request body: {"message":"Hello","session":{}}
INFO 2025-06-03 20:14:01,270 views User input: Hello
INFO 2025-06-03 20:14:01,270 views Current session state: None
INFO 2025-06-03 20:14:01,270 views Current user data: None
INFO 2025-06-03 20:14:02,344 dialog_manager Using device: cpu
WARNING 2025-06-03 20:14:02,344 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:14:02,356 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:14:02,358 dialog_manager Processing message: Hello
INFO 2025-06-03 20:14:02,358 dialog_manager Processing input: Hello
INFO 2025-06-03 20:14:02,795 dialog_manager Using language: en
INFO 2025-06-03 20:14:02,796 dialog_manager Detecting intent for input: Hello
INFO 2025-06-03 20:14:02,830 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-03 20:14:02,830 dialog_manager Detected intent: greeting
INFO 2025-06-03 20:14:29,085 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-06-03 20:14:29,088 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-03 20:14:29,122 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-03 20:14:29,122 views Updated session state: greeting
INFO 2025-06-03 20:14:29,122 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-03 20:14:29,122 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-03 20:14:29,122 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:14:29,137 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:14:29,253 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 187
INFO 2025-06-03 20:14:36,861 views Database connection successful
INFO 2025-06-03 20:14:36,863 views Received chat request at 2025-06-03 20:14:36.863901
DEBUG 2025-06-03 20:14:36,863 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:14:36,864 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"greeting","lang":"fi"}}
INFO 2025-06-03 20:14:36,864 views User input: i want booking room
INFO 2025-06-03 20:14:36,864 views Current session state: greeting
INFO 2025-06-03 20:14:36,864 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-03 20:14:37,401 dialog_manager Using device: cpu
WARNING 2025-06-03 20:14:37,401 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:14:37,409 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:14:37,411 dialog_manager Processing message: i want booking room
INFO 2025-06-03 20:14:37,411 dialog_manager Processing input: i want booking room
INFO 2025-06-03 20:14:37,411 dialog_manager Using language: fi
INFO 2025-06-03 20:14:37,412 dialog_manager Detecting intent for input: i want booking room
INFO 2025-06-03 20:14:37,442 dialog_manager Booking intent detected
INFO 2025-06-03 20:14:37,442 dialog_manager Detected intent: booking
INFO 2025-06-03 20:14:37,442 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-03 20:14:37,447 dialog_manager Extracting dates from: i want booking room
WARNING 2025-06-03 20:14:37,451 dialog_manager No dates found
INFO 2025-06-03 20:14:37,451 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-03 20:14:37,451 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:14:37,451 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-03 20:14:37,521 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:14:37,521 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:14:37,521 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-06-03 20:14:45,389 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 19941
INFO 2025-06-03 20:14:45,415 basehttp "GET /static/admin/css/changelists.css HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,416 basehttp "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,423 basehttp "GET /static/admin/js/core.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,424 basehttp "GET /static/admin/js/actions.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,425 basehttp "GET /static/admin/js/urlify.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,430 basehttp "GET /static/admin/js/jquery.init.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,430 basehttp "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,432 basehttp "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,433 basehttp "GET /static/admin/js/prepopulate.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,437 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:45,443 basehttp "GET /static/admin/js/filters.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,488 basehttp "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 304 0
INFO 2025-06-03 20:14:45,489 basehttp "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 304 0
INFO 2025-06-03 20:14:46,729 basehttp "GET /admin/hotel_booking/booking/25/change/ HTTP/1.1" 200 32918
INFO 2025-06-03 20:14:46,751 basehttp "GET /static/admin/css/forms.css HTTP/1.1" 304 0
INFO 2025-06-03 20:14:46,758 basehttp "GET /static/admin/js/calendar.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:46,762 basehttp "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:46,762 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:46,763 basehttp "GET /static/admin/css/widgets.css HTTP/1.1" 304 0
INFO 2025-06-03 20:14:46,763 basehttp "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:46,787 basehttp "GET /static/admin/js/change_form.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:47,073 basehttp "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 304 0
INFO 2025-06-03 20:14:48,700 basehttp "GET /admin/hotel_booking/booking/25/delete/ HTTP/1.1" 200 10810
INFO 2025-06-03 20:14:48,719 basehttp "GET /static/admin/js/cancel.js HTTP/1.1" 304 0
INFO 2025-06-03 20:14:49,489 basehttp "POST /admin/hotel_booking/booking/25/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:14:49,520 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 19474
INFO 2025-06-03 20:14:49,539 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:49,555 basehttp "GET /static/admin/img/icon-yes.svg HTTP/1.1" 304 0
INFO 2025-06-03 20:14:51,136 basehttp "GET /admin/hotel_booking/booking/24/change/ HTTP/1.1" 200 45326
INFO 2025-06-03 20:14:51,156 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:53,096 basehttp "GET /admin/hotel_booking/booking/24/delete/ HTTP/1.1" 200 11287
INFO 2025-06-03 20:14:54,022 basehttp "POST /admin/hotel_booking/booking/24/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:14:54,060 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18820
INFO 2025-06-03 20:14:54,081 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:55,049 basehttp "GET /admin/hotel_booking/booking/23/change/ HTTP/1.1" 200 32925
INFO 2025-06-03 20:14:55,070 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:56,095 basehttp "GET /admin/hotel_booking/booking/23/delete/ HTTP/1.1" 200 10834
INFO 2025-06-03 20:14:56,914 basehttp "POST /admin/hotel_booking/booking/23/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:14:56,931 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18164
INFO 2025-06-03 20:14:56,960 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:57,914 basehttp "GET /admin/hotel_booking/booking/22/change/ HTTP/1.1" 200 40693
INFO 2025-06-03 20:14:57,947 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:14:59,381 basehttp "GET /admin/hotel_booking/booking/22/delete/ HTTP/1.1" 200 11129
INFO 2025-06-03 20:15:00,118 basehttp "POST /admin/hotel_booking/booking/22/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:15:00,144 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 17503
INFO 2025-06-03 20:15:00,164 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:01,495 basehttp "GET /admin/hotel_booking/booking/21/change/ HTTP/1.1" 200 32960
INFO 2025-06-03 20:15:01,518 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:02,549 basehttp "GET /admin/hotel_booking/booking/21/delete/ HTTP/1.1" 200 10837
INFO 2025-06-03 20:15:03,253 basehttp "POST /admin/hotel_booking/booking/21/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:15:03,279 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16850
INFO 2025-06-03 20:15:03,305 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:04,200 basehttp "GET /admin/hotel_booking/booking/17/change/ HTTP/1.1" 200 45351
INFO 2025-06-03 20:15:04,218 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:05,894 basehttp "GET /admin/hotel_booking/booking/17/delete/ HTTP/1.1" 200 11302
INFO 2025-06-03 20:15:07,041 basehttp "POST /admin/hotel_booking/booking/17/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:15:07,073 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16188
INFO 2025-06-03 20:15:07,097 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:08,231 basehttp "GET /admin/hotel_booking/booking/16/change/ HTTP/1.1" 200 32878
INFO 2025-06-03 20:15:08,258 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:09,284 basehttp "GET /admin/hotel_booking/booking/16/delete/ HTTP/1.1" 200 10798
INFO 2025-06-03 20:15:09,990 basehttp "POST /admin/hotel_booking/booking/16/delete/ HTTP/1.1" 302 0
INFO 2025-06-03 20:15:10,010 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 13480
INFO 2025-06-03 20:15:10,032 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:15:19,318 views Database connection successful
INFO 2025-06-03 20:15:19,319 views Received chat request at 2025-06-03 20:15:19.319637
DEBUG 2025-06-03 20:15:19,321 views Request headers: {'Content-Length': '148', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:15:19,321 views Request body: {"message":"TLS","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:15:19,323 views User input: TLS
INFO 2025-06-03 20:15:19,323 views Current session state: collecting_booking_info
INFO 2025-06-03 20:15:19,325 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-03 20:15:19,813 dialog_manager Using device: cpu
WARNING 2025-06-03 20:15:19,822 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:15:19,822 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:15:19,822 dialog_manager Processing message: TLS
INFO 2025-06-03 20:15:19,822 dialog_manager Processing input: TLS
INFO 2025-06-03 20:15:19,822 dialog_manager Using language: fi
INFO 2025-06-03 20:15:19,822 dialog_manager Detecting intent for input: TLS
INFO 2025-06-03 20:15:19,835 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:15:19,838 dialog_manager Extracted name: TLS
INFO 2025-06-03 20:15:19,840 dialog_manager Extracting dates from: TLS
WARNING 2025-06-03 20:15:19,840 dialog_manager No dates found
INFO 2025-06-03 20:15:19,841 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-06-03 20:15:19,841 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-06-03 20:15:19,842 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:15:19,842 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-06-03 20:15:19,850 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:15:19,851 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:15:19,853 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 272
INFO 2025-06-03 20:15:26,356 views Database connection successful
INFO 2025-06-03 20:15:26,356 views Received chat request at 2025-06-03 20:15:26.356848
DEBUG 2025-06-03 20:15:26,359 views Request headers: {'Content-Length': '175', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:15:26,361 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:15:26,362 views User input: 01158763903
INFO 2025-06-03 20:15:26,363 views Current session state: collecting_booking_info
INFO 2025-06-03 20:15:26,364 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS'}
INFO 2025-06-03 20:15:26,840 dialog_manager Using device: cpu
WARNING 2025-06-03 20:15:26,840 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:15:26,840 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:15:26,840 dialog_manager Processing message: 01158763903
INFO 2025-06-03 20:15:26,840 dialog_manager Processing input: 01158763903
INFO 2025-06-03 20:15:26,840 dialog_manager Using language: fi
INFO 2025-06-03 20:15:26,840 dialog_manager Detecting intent for input: 01158763903
INFO 2025-06-03 20:15:26,840 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-03 20:15:26,840 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:15:26,856 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-06-03 20:15:26,856 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-03 20:15:26,856 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-03 20:15:26,856 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:15:26,856 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-03 20:15:26,865 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:15:26,865 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:15:26,867 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 293
INFO 2025-06-03 20:15:36,061 views Database connection successful
INFO 2025-06-03 20:15:36,061 views Received chat request at 2025-06-03 20:15:36.061790
DEBUG 2025-06-03 20:15:36,061 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:15:36,065 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:15:36,065 views User input: marco9043@gmail.com
INFO 2025-06-03 20:15:36,066 views Current session state: collecting_booking_info
INFO 2025-06-03 20:15:36,067 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-06-03 20:15:36,482 dialog_manager Using device: cpu
WARNING 2025-06-03 20:15:36,482 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:15:36,482 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:15:36,496 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-06-03 20:15:36,496 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-06-03 20:15:36,496 dialog_manager Using language: fi
INFO 2025-06-03 20:15:36,498 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-06-03 20:15:36,501 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:15:36,501 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-06-03 20:15:36,501 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-06-03 20:15:36,504 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-06-03 20:15:36,505 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:15:36,506 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-06-03 20:15:36,511 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:15:36,511 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:15:36,519 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 745
INFO 2025-06-03 20:15:43,434 views Database connection successful
INFO 2025-06-03 20:15:43,435 views Received chat request at 2025-06-03 20:15:43.435413
DEBUG 2025-06-03 20:15:43,435 views Request headers: {'Content-Length': '224', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:15:43,438 views Request body: {"message":"standard","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:15:43,438 views User input: standard
INFO 2025-06-03 20:15:43,440 views Current session state: collecting_booking_info
INFO 2025-06-03 20:15:43,440 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-06-03 20:15:43,869 dialog_manager Using device: cpu
WARNING 2025-06-03 20:15:43,869 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:15:43,869 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:15:43,869 dialog_manager Processing message: standard
INFO 2025-06-03 20:15:43,869 dialog_manager Processing input: standard
INFO 2025-06-03 20:15:43,869 dialog_manager Using language: fi
INFO 2025-06-03 20:15:43,869 dialog_manager Detecting intent for input: standard
INFO 2025-06-03 20:15:43,869 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-03 20:15:43,869 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:15:43,869 dialog_manager Extracting dates from: standard
WARNING 2025-06-03 20:15:43,878 dialog_manager No dates found
INFO 2025-06-03 20:15:43,878 dialog_manager Extracted room type: Standard
INFO 2025-06-03 20:15:43,879 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:15:43,880 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:15:43,880 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:15:43,881 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:15:43,888 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:15:43,889 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:15:43,893 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 397
INFO 2025-06-03 20:15:50,650 views Database connection successful
INFO 2025-06-03 20:15:50,650 views Received chat request at 2025-06-03 20:15:50.650260
DEBUG 2025-06-03 20:15:50,650 views Request headers: {'Content-Length': '251', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJx1zLEKgCAQANBfuW6-IYL-oq0gQkTMLqPUG8ygvy9obn88pdCYPUsykXO2npFqalrCSQps9mKYmRME8Z4XkHJCLs69dC0h3BUSoqa_Y-TgJL6FdQfB0PWf1w8YmSX7:1uMQWj:2ZnY0LuyBwhVkWb3I326FMQTah0Oz-JJw3PLKUzFvfI; csrftoken=ulbh2a4mLYnriq4pplRPg8R3DnW2VSC8; sessionid=b1wttkb199rwgef2ykqequqzcmgrx6z6'}
DEBUG 2025-06-03 20:15:50,653 views Request body: {"message":"next tuesday","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:15:50,654 views User input: next tuesday
INFO 2025-06-03 20:15:50,654 views Current session state: collecting_booking_info
INFO 2025-06-03 20:15:50,654 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-03 20:15:52,396 dialog_manager Using device: cpu
WARNING 2025-06-03 20:15:52,396 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:15:52,396 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:15:52,398 dialog_manager Processing message: next tuesday
INFO 2025-06-03 20:15:52,398 dialog_manager Processing input: next tuesday
INFO 2025-06-03 20:15:52,398 dialog_manager Using language: fi
INFO 2025-06-03 20:15:52,398 dialog_manager Detecting intent for input: next tuesday
INFO 2025-06-03 20:15:52,411 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:15:52,411 dialog_manager Extracting dates from: next tuesday
INFO 2025-06-03 20:15:52,415 dialog_manager Extracted 'next tuesday' date: 2025-06-10 20:15:52.411057
INFO 2025-06-03 20:15:52,415 dialog_manager Single date result: {'check_in': '2025-06-10', 'check_out': '2025-06-11'}
INFO 2025-06-03 20:15:52,415 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-10', 'check_out_date': '2025-06-11'}
INFO 2025-06-03 20:15:52,421 models Booking saved: BK-90336 for TLS
INFO 2025-06-03 20:15:52,421 dialog_manager Booking created successfully: ID=26, Booking_ID=BK-90336
INFO 2025-06-03 20:15:52,427 dialog_manager Booking record created successfully: BK-90336
INFO 2025-06-03 20:15:52,428 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-10', 'check_out_date': '2025-06-11', 'booking_id': 'BK-90336'}
INFO 2025-06-03 20:15:52,429 views Updated session state: offering_addons
INFO 2025-06-03 20:15:52,429 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-10', 'check_out_date': '2025-06-11', 'booking_id': 'BK-90336'}
INFO 2025-06-03 20:15:52,429 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-03 20:15:52,431 views Booking confirmation check - State: offering_addons, Booking ID: BK-90336, Previous ID: BK-90336, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:15:52,431 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:15:52,435 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1243
INFO 2025-06-03 20:15:52,445 basehttp "GET /media/payment/QR%20Bank.jpeg HTTP/1.1" 304 0
INFO 2025-06-03 20:17:10,191 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-03 20:17:10,212 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:17:11,749 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 20:21:01,364 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:22:02,571 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 20:22:55,311 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16761
INFO 2025-06-03 20:24:33,079 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:24:43,752 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 20:25:24,423 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-03 20:25:24,432 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24680
INFO 2025-06-03 20:25:35,888 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17169
INFO 2025-06-03 20:25:44,063 views Database connection successful
INFO 2025-06-03 20:25:44,066 views Received chat request at 2025-06-03 20:25:44.066737
DEBUG 2025-06-03 20:25:44,066 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:25:44,068 views Request body: {"message":"hello","session":{}}
INFO 2025-06-03 20:25:44,068 views User input: hello
INFO 2025-06-03 20:25:44,068 views Current session state: None
INFO 2025-06-03 20:25:44,068 views Current user data: None
INFO 2025-06-03 20:25:44,792 dialog_manager Using device: cpu
WARNING 2025-06-03 20:25:44,792 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:25:44,792 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:25:44,792 dialog_manager Processing message: hello
INFO 2025-06-03 20:25:44,792 dialog_manager Processing input: hello
INFO 2025-06-03 20:25:44,840 dialog_manager Using language: en
INFO 2025-06-03 20:25:44,840 dialog_manager Detecting intent for input: hello
INFO 2025-06-03 20:25:44,849 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-03 20:25:44,849 dialog_manager Detected intent: greeting
INFO 2025-06-03 20:25:50,118 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-06-03 20:25:50,118 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-03 20:25:50,143 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>}
INFO 2025-06-03 20:25:50,143 views Updated session state: greeting
INFO 2025-06-03 20:25:50,143 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>}
INFO 2025-06-03 20:25:50,143 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-03 20:25:50,150 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:25:50,151 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:25:50,218 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 196
INFO 2025-06-03 20:26:12,261 views Database connection successful
INFO 2025-06-03 20:26:12,261 views Received chat request at 2025-06-03 20:26:12.261309
DEBUG 2025-06-03 20:26:12,261 views Request headers: {'Content-Length': '160', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:26:12,261 views Request body: {"message":"i want booking a room","session":{"user_data":{"username":"LINGBINGSENG","is_returning_customer":false,"user_id":8},"state":"greeting","lang":"fi"}}
INFO 2025-06-03 20:26:12,261 views User input: i want booking a room
INFO 2025-06-03 20:26:12,261 views Current session state: greeting
INFO 2025-06-03 20:26:12,261 views Current user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8}
INFO 2025-06-03 20:26:12,834 dialog_manager Using device: cpu
WARNING 2025-06-03 20:26:12,834 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:26:12,835 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:26:12,835 dialog_manager Processing message: i want booking a room
INFO 2025-06-03 20:26:12,835 dialog_manager Processing input: i want booking a room
INFO 2025-06-03 20:26:12,835 dialog_manager Using language: fi
INFO 2025-06-03 20:26:12,835 dialog_manager Detecting intent for input: i want booking a room
INFO 2025-06-03 20:26:12,851 dialog_manager Booking intent detected
INFO 2025-06-03 20:26:12,852 dialog_manager Detected intent: booking
INFO 2025-06-03 20:26:12,852 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-03 20:26:12,854 dialog_manager Extracting dates from: i want booking a room
WARNING 2025-06-03 20:26:12,854 dialog_manager No dates found
INFO 2025-06-03 20:26:12,855 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>}
INFO 2025-06-03 20:26:12,856 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:26:12,857 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>}
INFO 2025-06-03 20:26:12,881 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:26:12,881 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:26:12,881 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 259
INFO 2025-06-03 20:26:21,307 views Database connection successful
INFO 2025-06-03 20:26:21,307 views Received chat request at 2025-06-03 20:26:21.307626
DEBUG 2025-06-03 20:26:21,307 views Request headers: {'Content-Length': '157', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:26:21,310 views Request body: {"message":"LBS","session":{"user_data":{"username":"LINGBINGSENG","is_returning_customer":false,"user_id":8},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:26:21,310 views User input: LBS
INFO 2025-06-03 20:26:21,310 views Current session state: collecting_booking_info
INFO 2025-06-03 20:26:21,310 views Current user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8}
INFO 2025-06-03 20:26:21,888 dialog_manager Using device: cpu
WARNING 2025-06-03 20:26:21,888 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:26:21,888 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:26:21,888 dialog_manager Processing message: LBS
INFO 2025-06-03 20:26:21,888 dialog_manager Processing input: LBS
INFO 2025-06-03 20:26:21,888 dialog_manager Using language: fi
INFO 2025-06-03 20:26:21,888 dialog_manager Detecting intent for input: LBS
INFO 2025-06-03 20:26:21,892 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:26:21,900 dialog_manager Extracted name: LBS
INFO 2025-06-03 20:26:21,902 dialog_manager Extracting dates from: LBS
WARNING 2025-06-03 20:26:21,903 dialog_manager No dates found
INFO 2025-06-03 20:26:21,904 dialog_manager Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'guest_name': 'LBS'}
INFO 2025-06-03 20:26:21,905 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'guest_name': 'LBS'}
INFO 2025-06-03 20:26:21,907 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:26:21,908 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'guest_name': 'LBS'}
INFO 2025-06-03 20:26:21,912 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:26:21,916 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:26:21,922 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 281
INFO 2025-06-03 20:26:31,227 views Database connection successful
INFO 2025-06-03 20:26:31,227 views Received chat request at 2025-06-03 20:26:31.227602
DEBUG 2025-06-03 20:26:31,230 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:26:31,230 views Request body: {"message":"01116472393","session":{"user_data":{"username":"LINGBINGSENG","is_returning_customer":false,"user_id":8,"guest_name":"LBS"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:26:31,230 views User input: 01116472393
INFO 2025-06-03 20:26:31,230 views Current session state: collecting_booking_info
INFO 2025-06-03 20:26:31,230 views Current user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS'}
INFO 2025-06-03 20:26:31,826 dialog_manager Using device: cpu
WARNING 2025-06-03 20:26:31,826 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:26:31,826 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:26:31,826 dialog_manager Processing message: 01116472393
INFO 2025-06-03 20:26:31,826 dialog_manager Processing input: 01116472393
INFO 2025-06-03 20:26:31,826 dialog_manager Using language: fi
INFO 2025-06-03 20:26:31,826 dialog_manager Detecting intent for input: 01116472393
INFO 2025-06-03 20:26:31,826 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-03 20:26:31,826 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:26:31,826 dialog_manager Extracted standalone phone: 01116472393
INFO 2025-06-03 20:26:31,826 dialog_manager Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'phone': '01116472393'}
INFO 2025-06-03 20:26:31,833 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'phone': '01116472393'}
INFO 2025-06-03 20:26:31,833 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:26:31,834 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'phone': '01116472393'}
INFO 2025-06-03 20:26:31,845 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:26:31,845 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:26:31,845 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 302
INFO 2025-06-03 20:26:42,183 views Database connection successful
INFO 2025-06-03 20:26:42,183 views Received chat request at 2025-06-03 20:26:42.183802
DEBUG 2025-06-03 20:26:42,183 views Request headers: {'Content-Length': '217', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:26:42,183 views Request body: {"message":"lingbingseng@gmail.com","session":{"user_data":{"username":"LINGBINGSENG","is_returning_customer":false,"user_id":8,"guest_name":"LBS","phone":"01116472393"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:26:42,183 views User input: lingbingseng@gmail.com
INFO 2025-06-03 20:26:42,183 views Current session state: collecting_booking_info
INFO 2025-06-03 20:26:42,183 views Current user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393'}
INFO 2025-06-03 20:26:42,757 dialog_manager Using device: cpu
WARNING 2025-06-03 20:26:42,760 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:26:42,760 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:26:42,766 dialog_manager Processing message: lingbingseng@gmail.com
INFO 2025-06-03 20:26:42,766 dialog_manager Processing input: lingbingseng@gmail.com
INFO 2025-06-03 20:26:42,766 dialog_manager Using language: fi
INFO 2025-06-03 20:26:42,766 dialog_manager Detecting intent for input: lingbingseng@gmail.com
INFO 2025-06-03 20:26:42,779 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:26:42,782 dialog_manager Extracted standalone email: lingbingseng@gmail.com
INFO 2025-06-03 20:26:42,782 dialog_manager Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'email': 'lingbingseng@gmail.com'}
INFO 2025-06-03 20:26:42,782 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'email': 'lingbingseng@gmail.com'}
INFO 2025-06-03 20:26:42,785 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:26:42,785 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'email': 'lingbingseng@gmail.com'}
INFO 2025-06-03 20:26:42,793 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:26:42,793 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:26:42,799 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 757
INFO 2025-06-03 20:26:57,121 views Database connection successful
INFO 2025-06-03 20:26:57,121 views Received chat request at 2025-06-03 20:26:57.121186
DEBUG 2025-06-03 20:26:57,121 views Request headers: {'Content-Length': '241', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:26:57,121 views Request body: {"message":"standard room","session":{"user_data":{"username":"LINGBINGSENG","is_returning_customer":false,"user_id":8,"guest_name":"LBS","phone":"01116472393","email":"lingbingseng@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:26:57,121 views User input: standard room
INFO 2025-06-03 20:26:57,121 views Current session state: collecting_booking_info
INFO 2025-06-03 20:26:57,121 views Current user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com'}
INFO 2025-06-03 20:26:57,687 dialog_manager Using device: cpu
WARNING 2025-06-03 20:26:57,687 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:26:57,687 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:26:57,687 dialog_manager Processing message: standard room
INFO 2025-06-03 20:26:57,687 dialog_manager Processing input: standard room
INFO 2025-06-03 20:26:57,687 dialog_manager Using language: fi
INFO 2025-06-03 20:26:57,687 dialog_manager Detecting intent for input: standard room
INFO 2025-06-03 20:26:57,705 dialog_manager Booking intent detected
INFO 2025-06-03 20:26:57,705 dialog_manager Detected intent: booking
INFO 2025-06-03 20:26:57,705 dialog_manager Extracting dates from: standard room
WARNING 2025-06-03 20:26:57,711 dialog_manager No dates found
INFO 2025-06-03 20:26:57,711 dialog_manager Extracted room type: Standard
INFO 2025-06-03 20:26:57,713 dialog_manager Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:26:57,714 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:26:57,714 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:26:57,714 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:26:57,725 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:26:57,725 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:26:57,731 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 409
INFO 2025-06-03 20:27:11,046 views Database connection successful
INFO 2025-06-03 20:27:11,046 views Received chat request at 2025-06-03 20:27:11.046442
DEBUG 2025-06-03 20:27:11,046 views Request headers: {'Content-Length': '265', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVzx1iYCwA66JXWw:1uMQho:jrxtyaO5bOHyvgy8noz_4QAV4LIJTZffWrkVOsoeakM; csrftoken=6AJpJ6xqamuiA6ADA7oqeWd8FcsXt0nX; sessionid=g8y78u0rsh58jxegc5e4exlgy4icpx1u'}
DEBUG 2025-06-03 20:27:11,046 views Request body: {"message":"next wednesday","session":{"user_data":{"username":"LINGBINGSENG","is_returning_customer":false,"user_id":8,"guest_name":"LBS","phone":"01116472393","email":"lingbingseng@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:27:11,046 views User input: next wednesday
INFO 2025-06-03 20:27:11,046 views Current session state: collecting_booking_info
INFO 2025-06-03 20:27:11,046 views Current user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-03 20:27:11,635 dialog_manager Using device: cpu
WARNING 2025-06-03 20:27:11,642 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:27:11,643 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:27:11,643 dialog_manager Processing message: next wednesday
INFO 2025-06-03 20:27:11,646 dialog_manager Processing input: next wednesday
INFO 2025-06-03 20:27:11,646 dialog_manager Using language: fi
INFO 2025-06-03 20:27:11,647 dialog_manager Detecting intent for input: next wednesday
INFO 2025-06-03 20:27:11,655 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:27:11,655 dialog_manager Extracting dates from: next wednesday
INFO 2025-06-03 20:27:11,658 dialog_manager Extracted 'next wednesday' date: 2025-06-11 20:27:11.658941
INFO 2025-06-03 20:27:11,661 dialog_manager Single date result: {'check_in': '2025-06-11', 'check_out': '2025-06-12'}
INFO 2025-06-03 20:27:11,662 dialog_manager Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'check_in_date': '2025-06-11', 'check_out_date': '2025-06-12'}
INFO 2025-06-03 20:27:11,674 models Booking saved: BK-61492 for LBS
INFO 2025-06-03 20:27:11,674 dialog_manager Booking created successfully: ID=27, Booking_ID=BK-61492
INFO 2025-06-03 20:27:11,674 dialog_manager Booking record created successfully: BK-61492
INFO 2025-06-03 20:27:11,674 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'check_in_date': '2025-06-11', 'check_out_date': '2025-06-12', 'booking_id': 'BK-61492'}
INFO 2025-06-03 20:27:11,674 views Updated session state: offering_addons
INFO 2025-06-03 20:27:11,678 views Updated user data: {'username': 'LINGBINGSENG', 'is_returning_customer': False, 'user_id': 8, 'guest_name': 'LBS', 'phone': '01116472393', 'email': 'lingbingseng@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: LINGBINGSENG>>, 'check_in_date': '2025-06-11', 'check_out_date': '2025-06-12', 'booking_id': 'BK-61492'}
INFO 2025-06-03 20:27:11,678 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-03 20:27:11,680 views Booking confirmation check - State: offering_addons, Booking ID: BK-61492, Previous ID: BK-61492, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:27:11,680 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:27:11,682 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1258
INFO 2025-06-03 20:30:57,504 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-03 20:30:57,509 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:36:27,414 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 16660
INFO 2025-06-03 20:36:27,499 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-03 20:36:34,137 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 20:37:58,923 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-03 20:37:58,950 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24676
INFO 2025-06-03 20:38:00,807 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17165
INFO 2025-06-03 20:38:24,990 views Database connection successful
INFO 2025-06-03 20:38:24,992 views Received chat request at 2025-06-03 20:38:24.992559
DEBUG 2025-06-03 20:38:24,995 views Request headers: {'Content-Length': '56', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:38:24,996 views Request body: {"message":"hello, i world to book a room","session":{}}
INFO 2025-06-03 20:38:24,998 views User input: hello, i world to book a room
INFO 2025-06-03 20:38:25,002 views Current session state: None
INFO 2025-06-03 20:38:25,002 views Current user data: None
INFO 2025-06-03 20:38:26,590 dialog_manager Using device: cpu
WARNING 2025-06-03 20:38:26,592 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:38:26,594 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:38:26,594 dialog_manager Processing message: hello, i world to book a room
INFO 2025-06-03 20:38:26,594 dialog_manager Processing input: hello, i world to book a room
INFO 2025-06-03 20:38:26,677 dialog_manager Using language: en
INFO 2025-06-03 20:38:26,677 dialog_manager Detecting intent for input: hello, i world to book a room
INFO 2025-06-03 20:38:26,744 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-03 20:38:26,757 dialog_manager Detected intent: greeting
INFO 2025-06-03 20:38:31,958 dialog_manager Sentiment analysis: Neutral (confidence: 0.80)
INFO 2025-06-03 20:38:31,958 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-03 20:38:31,989 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>}
INFO 2025-06-03 20:38:31,989 views Updated session state: greeting
INFO 2025-06-03 20:38:31,989 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>}
INFO 2025-06-03 20:38:31,989 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-03 20:38:31,989 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:38:31,989 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:38:32,165 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 204
INFO 2025-06-03 20:38:43,030 views Database connection successful
INFO 2025-06-03 20:38:43,033 views Received chat request at 2025-06-03 20:38:43.033801
DEBUG 2025-06-03 20:38:43,033 views Request headers: {'Content-Length': '157', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:38:43,033 views Request body: {"message":"i world to book a room","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9},"state":"greeting","lang":"en"}}
INFO 2025-06-03 20:38:43,033 views User input: i world to book a room
INFO 2025-06-03 20:38:43,049 views Current session state: greeting
INFO 2025-06-03 20:38:43,049 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9}
INFO 2025-06-03 20:38:44,280 dialog_manager Using device: cpu
WARNING 2025-06-03 20:38:44,280 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:38:44,293 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:38:44,296 dialog_manager Processing message: i world to book a room
INFO 2025-06-03 20:38:44,296 dialog_manager Processing input: i world to book a room
INFO 2025-06-03 20:38:44,296 dialog_manager Using language: en
INFO 2025-06-03 20:38:44,309 dialog_manager Detecting intent for input: i world to book a room
INFO 2025-06-03 20:38:44,330 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-03 20:38:44,330 dialog_manager Detected intent: booking
INFO 2025-06-03 20:38:44,341 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-03 20:38:44,346 dialog_manager Extracting dates from: i world to book a room
WARNING 2025-06-03 20:38:44,346 dialog_manager No dates found
INFO 2025-06-03 20:38:44,346 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>}
INFO 2025-06-03 20:38:44,357 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:38:44,357 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>}
INFO 2025-06-03 20:38:44,397 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:38:44,397 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:38:44,405 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 255
INFO 2025-06-03 20:38:52,556 views Database connection successful
INFO 2025-06-03 20:38:52,558 views Received chat request at 2025-06-03 20:38:52.558376
DEBUG 2025-06-03 20:38:52,560 views Request headers: {'Content-Length': '154', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:38:52,562 views Request body: {"message":"Jack","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-03 20:38:52,564 views User input: Jack
INFO 2025-06-03 20:38:52,564 views Current session state: collecting_booking_info
INFO 2025-06-03 20:38:52,570 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9}
INFO 2025-06-03 20:38:53,782 dialog_manager Using device: cpu
WARNING 2025-06-03 20:38:53,798 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:38:53,798 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:38:53,798 dialog_manager Processing message: Jack
INFO 2025-06-03 20:38:53,798 dialog_manager Processing input: Jack
INFO 2025-06-03 20:38:53,798 dialog_manager Using language: en
INFO 2025-06-03 20:38:53,814 dialog_manager Detecting intent for input: Jack
INFO 2025-06-03 20:38:53,845 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:38:53,845 dialog_manager Extracted name: Jack
INFO 2025-06-03 20:38:53,861 dialog_manager Extracting dates from: Jack
WARNING 2025-06-03 20:38:53,861 dialog_manager No dates found
INFO 2025-06-03 20:38:53,861 dialog_manager Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>, 'guest_name': 'Jack'}
INFO 2025-06-03 20:38:53,877 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>, 'guest_name': 'Jack'}
INFO 2025-06-03 20:38:53,877 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:38:53,877 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'user': <SimpleLazyObject: <User: JackLing>>, 'guest_name': 'Jack'}
INFO 2025-06-03 20:38:53,909 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:38:53,909 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:38:53,909 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 279
INFO 2025-06-03 20:39:01,884 views Database connection successful
INFO 2025-06-03 20:39:01,885 views Received chat request at 2025-06-03 20:39:01.885874
DEBUG 2025-06-03 20:39:01,885 views Request headers: {'Content-Length': '181', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:39:01,890 views Request body: {"message":"01135598865","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-03 20:39:01,890 views User input: 01135598865
INFO 2025-06-03 20:39:01,890 views Current session state: collecting_booking_info
INFO 2025-06-03 20:39:01,890 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack'}
INFO 2025-06-03 20:39:03,280 dialog_manager Using device: cpu
WARNING 2025-06-03 20:39:03,290 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:39:03,290 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:39:03,290 dialog_manager Processing message: 01135598865
INFO 2025-06-03 20:39:03,297 dialog_manager Processing input: 01135598865
INFO 2025-06-03 20:39:03,297 dialog_manager Using language: en
INFO 2025-06-03 20:39:03,297 dialog_manager Detecting intent for input: 01135598865
INFO 2025-06-03 20:39:03,297 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-03 20:39:03,297 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:39:03,306 dialog_manager Extracted standalone phone: 01135598865
INFO 2025-06-03 20:39:03,313 dialog_manager Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'user': <SimpleLazyObject: <User: JackLing>>, 'phone': '01135598865'}
INFO 2025-06-03 20:39:03,314 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'user': <SimpleLazyObject: <User: JackLing>>, 'phone': '01135598865'}
INFO 2025-06-03 20:39:03,314 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:39:03,314 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'user': <SimpleLazyObject: <User: JackLing>>, 'phone': '01135598865'}
INFO 2025-06-03 20:39:03,347 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:39:03,347 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:39:03,347 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 300
INFO 2025-06-03 20:39:24,069 views Database connection successful
INFO 2025-06-03 20:39:24,069 views Received chat request at 2025-06-03 20:39:24.069507
DEBUG 2025-06-03 20:39:24,069 views Request headers: {'Content-Length': '219', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:39:24,069 views Request body: {"message":"lingzhengquan7079@gmail.com","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack","phone":"01135598865"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-03 20:39:24,069 views User input: lingzhengquan7079@gmail.com
INFO 2025-06-03 20:39:24,080 views Current session state: collecting_booking_info
INFO 2025-06-03 20:39:24,083 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865'}
INFO 2025-06-03 20:39:25,358 dialog_manager Using device: cpu
WARNING 2025-06-03 20:39:25,362 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:39:25,362 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:39:25,379 dialog_manager Processing message: lingzhengquan7079@gmail.com
INFO 2025-06-03 20:39:25,379 dialog_manager Processing input: lingzhengquan7079@gmail.com
INFO 2025-06-03 20:39:25,379 dialog_manager Using language: en
INFO 2025-06-03 20:39:25,390 dialog_manager Detecting intent for input: lingzhengquan7079@gmail.com
INFO 2025-06-03 20:39:25,422 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:39:25,422 dialog_manager Extracted standalone email: lingzhengquan7079@gmail.com
INFO 2025-06-03 20:39:25,422 dialog_manager Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'user': <SimpleLazyObject: <User: JackLing>>, 'email': 'lingzhengquan7079@gmail.com'}
INFO 2025-06-03 20:39:25,422 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'user': <SimpleLazyObject: <User: JackLing>>, 'email': 'lingzhengquan7079@gmail.com'}
INFO 2025-06-03 20:39:25,429 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:39:25,429 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'user': <SimpleLazyObject: <User: JackLing>>, 'email': 'lingzhengquan7079@gmail.com'}
INFO 2025-06-03 20:39:25,446 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:39:25,446 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:39:25,472 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 760
INFO 2025-06-03 20:39:45,814 views Database connection successful
INFO 2025-06-03 20:39:45,814 views Received chat request at 2025-06-03 20:39:45.814431
DEBUG 2025-06-03 20:39:45,814 views Request headers: {'Content-Length': '245', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:39:45,814 views Request body: {"message":"Executive suite","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack","phone":"01135598865","email":"lingzhengquan7079@gmail.com"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-03 20:39:45,823 views User input: Executive suite
INFO 2025-06-03 20:39:45,823 views Current session state: collecting_booking_info
INFO 2025-06-03 20:39:45,829 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com'}
INFO 2025-06-03 20:39:47,061 dialog_manager Using device: cpu
WARNING 2025-06-03 20:39:47,061 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:39:47,077 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:39:47,091 dialog_manager Processing message: Executive suite
INFO 2025-06-03 20:39:47,094 dialog_manager Processing input: Executive suite
INFO 2025-06-03 20:39:47,094 dialog_manager Using language: en
INFO 2025-06-03 20:39:47,106 dialog_manager Detecting intent for input: Executive suite
INFO 2025-06-03 20:39:47,145 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:39:47,145 dialog_manager Extracting dates from: Executive suite
WARNING 2025-06-03 20:39:47,155 dialog_manager No dates found
INFO 2025-06-03 20:39:47,160 dialog_manager Extracted room type: Suite
INFO 2025-06-03 20:39:47,161 dialog_manager Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'user': <SimpleLazyObject: <User: JackLing>>, 'room_type': 'Suite'}
INFO 2025-06-03 20:39:47,161 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'user': <SimpleLazyObject: <User: JackLing>>, 'room_type': 'Suite'}
INFO 2025-06-03 20:39:47,171 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:39:47,171 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'user': <SimpleLazyObject: <User: JackLing>>, 'room_type': 'Suite'}
INFO 2025-06-03 20:39:47,194 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:39:47,194 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:39:47,194 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 409
INFO 2025-06-03 20:40:17,084 views Database connection successful
INFO 2025-06-03 20:40:17,086 views Received chat request at 2025-06-03 20:40:17.086189
DEBUG 2025-06-03 20:40:17,088 views Request headers: {'Content-Length': '260', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:40:17,089 views Request body: {"message":"10/10/2025","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack","phone":"01135598865","email":"lingzhengquan7079@gmail.com","room_type":"Suite"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-03 20:40:17,091 views User input: 10/10/2025
INFO 2025-06-03 20:40:17,091 views Current session state: collecting_booking_info
INFO 2025-06-03 20:40:17,091 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite'}
INFO 2025-06-03 20:40:18,319 dialog_manager Using device: cpu
WARNING 2025-06-03 20:40:18,319 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:40:18,319 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:40:18,335 dialog_manager Processing message: 10/10/2025
INFO 2025-06-03 20:40:18,349 dialog_manager Processing input: 10/10/2025
INFO 2025-06-03 20:40:18,352 dialog_manager Using language: en
INFO 2025-06-03 20:40:18,352 dialog_manager Detecting intent for input: 10/10/2025
INFO 2025-06-03 20:40:18,352 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-06-03 20:40:18,352 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:40:18,352 dialog_manager Extracting dates from: 10/10/2025
INFO 2025-06-03 20:40:18,365 dialog_manager Extracted single date: {'check_in': '2025-10-10', 'check_out': '2025-10-11'}
INFO 2025-06-03 20:40:18,369 dialog_manager Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: JackLing>>, 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11'}
INFO 2025-06-03 20:40:18,385 models Booking saved: BK-31932 for Jack
INFO 2025-06-03 20:40:18,397 dialog_manager Booking created successfully: ID=28, Booking_ID=BK-31932
INFO 2025-06-03 20:40:18,397 dialog_manager Booking record created successfully: BK-31932
INFO 2025-06-03 20:40:18,397 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: JackLing>>, 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932'}
INFO 2025-06-03 20:40:18,402 views Updated session state: offering_addons
INFO 2025-06-03 20:40:18,402 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: JackLing>>, 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932'}
INFO 2025-06-03 20:40:18,413 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-03 20:40:18,418 views Booking confirmation check - State: offering_addons, Booking ID: BK-31932, Previous ID: BK-31932, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:40:18,418 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:40:18,418 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1260
INFO 2025-06-03 20:43:16,511 views Database connection successful
INFO 2025-06-03 20:43:16,511 views Received chat request at 2025-06-03 20:43:16.511985
DEBUG 2025-06-03 20:43:16,521 views Request headers: {'Content-Length': '339', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:43:16,523 views Request body: {"message":"cancel booking","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack","phone":"01135598865","email":"lingzhengquan7079@gmail.com","room_type":"Suite","check_in_date":"2025-10-10","check_out_date":"2025-10-11","booking_id":"BK-31932"},"state":"offering_addons","lang":"en"}}
INFO 2025-06-03 20:43:16,525 views User input: cancel booking
INFO 2025-06-03 20:43:16,525 views Current session state: offering_addons
INFO 2025-06-03 20:43:16,525 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932'}
INFO 2025-06-03 20:43:17,782 dialog_manager Using device: cpu
WARNING 2025-06-03 20:43:17,787 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:43:17,787 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:43:17,798 dialog_manager Processing message: cancel booking
INFO 2025-06-03 20:43:17,804 dialog_manager Processing input: cancel booking
INFO 2025-06-03 20:43:17,804 dialog_manager Using language: en
INFO 2025-06-03 20:43:17,804 dialog_manager Detecting intent for input: cancel booking
INFO 2025-06-03 20:43:17,830 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-06-03 20:43:17,830 dialog_manager Detected intent: cancel_booking
INFO 2025-06-03 20:43:17,848 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_cancel, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932', 'user': <SimpleLazyObject: <User: JackLing>>, 'pending_cancel_intent': True}
INFO 2025-06-03 20:43:17,848 views Updated session state: collecting_booking_id_for_cancel
INFO 2025-06-03 20:43:17,850 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932', 'user': <SimpleLazyObject: <User: JackLing>>, 'pending_cancel_intent': True}
INFO 2025-06-03 20:43:17,852 views Generated response: I'd be happy to help you cancel your booking. Please provide your booking ID or booking name, and I will help you check the booking information.
INFO 2025-06-03 20:43:17,852 views Booking confirmation check - State: collecting_booking_id_for_cancel, Booking ID: BK-31932, Previous ID: BK-31932, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:43:17,854 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:43:17,854 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 544
INFO 2025-06-03 20:43:36,673 views Database connection successful
INFO 2025-06-03 20:43:36,673 views Received chat request at 2025-06-03 20:43:36.673809
DEBUG 2025-06-03 20:43:36,673 views Request headers: {'Content-Length': '379', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:43:36,685 views Request body: {"message":"BK-31932","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack","phone":"01135598865","email":"lingzhengquan7079@gmail.com","room_type":"Suite","check_in_date":"2025-10-10","check_out_date":"2025-10-11","booking_id":"BK-31932","pending_cancel_intent":true},"state":"collecting_booking_id_for_cancel","lang":"en"}}
INFO 2025-06-03 20:43:36,685 views User input: BK-31932
INFO 2025-06-03 20:43:36,689 views Current session state: collecting_booking_id_for_cancel
INFO 2025-06-03 20:43:36,692 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932', 'pending_cancel_intent': True}
INFO 2025-06-03 20:43:37,987 dialog_manager Using device: cpu
WARNING 2025-06-03 20:43:38,002 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:43:38,004 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:43:38,021 dialog_manager Processing message: BK-31932
INFO 2025-06-03 20:43:38,021 dialog_manager Processing input: BK-31932
INFO 2025-06-03 20:43:38,021 dialog_manager Using language: en
INFO 2025-06-03 20:43:38,033 dialog_manager Detecting intent for input: BK-31932
INFO 2025-06-03 20:43:38,033 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-03 20:43:38,037 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:43:38,065 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932', 'user': <SimpleLazyObject: <User: JackLing>>, 'cancel_booking_id': 'BK-31932', 'booking_to_cancel': {'id': 28, 'booking_id': 'BK-31932', 'room_name': 'Suite', 'guest_name': 'Jack', 'check_in': 'October 10', 'check_out': 'October 11', 'status': 'confirmed'}}
INFO 2025-06-03 20:43:38,071 views Updated session state: confirming_cancellation
INFO 2025-06-03 20:43:38,071 views Updated user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932', 'user': <SimpleLazyObject: <User: JackLing>>, 'cancel_booking_id': 'BK-31932', 'booking_to_cancel': {'id': 28, 'booking_id': 'BK-31932', 'room_name': 'Suite', 'guest_name': 'Jack', 'check_in': 'October 10', 'check_out': 'October 11', 'status': 'confirmed'}}
INFO 2025-06-03 20:43:38,071 views Generated response: I found your booking! You have booked a Suite with check-in dates from October 10 to October 11. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-06-03 20:43:38,087 views Booking confirmation check - State: confirming_cancellation, Booking ID: BK-31932, Previous ID: BK-31932, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:43:38,097 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:43:38,104 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 726
INFO 2025-06-03 20:43:44,692 views Database connection successful
INFO 2025-06-03 20:43:44,692 views Received chat request at 2025-06-03 20:43:44.692436
DEBUG 2025-06-03 20:43:44,692 views Request headers: {'Content-Length': '531', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpEMNiAWEziEc:1uMQty:VnF1xn8YMaQ5WCWsiY8dLwI0gdJJmX9NAvqP-WaIJxU; csrftoken=SsLtv0K8JtU17QA4B2pyovlOAFk7FF5T; sessionid=n8yph2v7ul6uav4ico2y181l7xphufwn'}
DEBUG 2025-06-03 20:43:44,692 views Request body: {"message":"yes","session":{"user_data":{"username":"JackLing","is_returning_customer":false,"user_id":9,"guest_name":"Jack","phone":"01135598865","email":"lingzhengquan7079@gmail.com","room_type":"Suite","check_in_date":"2025-10-10","check_out_date":"2025-10-11","booking_id":"BK-31932","cancel_booking_id":"BK-31932","booking_to_cancel":{"id":28,"booking_id":"BK-31932","room_name":"Suite","guest_name":"Jack","check_in":"October 10","check_out":"October 11","status":"confirmed"}},"state":"confirming_cancellation","lang":"en"}}
INFO 2025-06-03 20:43:44,701 views User input: yes
INFO 2025-06-03 20:43:44,701 views Current session state: confirming_cancellation
INFO 2025-06-03 20:43:44,701 views Current user data: {'username': 'JackLing', 'is_returning_customer': False, 'user_id': 9, 'guest_name': 'Jack', 'phone': '01135598865', 'email': 'lingzhengquan7079@gmail.com', 'room_type': 'Suite', 'check_in_date': '2025-10-10', 'check_out_date': '2025-10-11', 'booking_id': 'BK-31932', 'cancel_booking_id': 'BK-31932', 'booking_to_cancel': {'id': 28, 'booking_id': 'BK-31932', 'room_name': 'Suite', 'guest_name': 'Jack', 'check_in': 'October 10', 'check_out': 'October 11', 'status': 'confirmed'}}
INFO 2025-06-03 20:43:50,149 dialog_manager Using device: cpu
WARNING 2025-06-03 20:43:50,149 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:43:50,155 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:43:50,161 dialog_manager Processing message: yes
INFO 2025-06-03 20:43:50,161 dialog_manager Processing input: yes
INFO 2025-06-03 20:43:50,161 dialog_manager Using language: en
INFO 2025-06-03 20:43:50,178 dialog_manager Detecting intent for input: yes
INFO 2025-06-03 20:43:50,201 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:43:50,211 models Booking saved: BK-31932 for Jack
INFO 2025-06-03 20:43:50,211 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-03 20:43:50,211 views Updated session state: greeting
INFO 2025-06-03 20:43:50,211 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-03 20:43:50,223 views Generated response: Your reservation has been successfully canceled, order number BK-31932. I hope to have the opportunity to serve you in the future!
INFO 2025-06-03 20:43:50,223 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:43:50,228 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-06-03 20:45:19,802 basehttp "POST /admin/logout/ HTTP/1.1" 200 3579
INFO 2025-06-03 20:45:22,140 middleware Admin user admin logged in for admin panel
INFO 2025-06-03 20:45:22,174 basehttp "GET /admin/ HTTP/1.1" 200 13939
INFO 2025-06-03 20:45:36,578 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-03 20:45:36,595 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:45:39,825 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10707
INFO 2025-06-03 20:46:36,678 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 20:48:31,368 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-03 20:48:31,401 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24678
INFO 2025-06-03 20:48:35,033 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17167
INFO 2025-06-03 20:48:38,965 views Database connection successful
INFO 2025-06-03 20:48:38,965 views Received chat request at 2025-06-03 20:48:38.965800
DEBUG 2025-06-03 20:48:38,965 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:48:38,965 views Request body: {"message":"hello","session":{}}
INFO 2025-06-03 20:48:38,978 views User input: hello
INFO 2025-06-03 20:48:38,978 views Current session state: None
INFO 2025-06-03 20:48:38,978 views Current user data: None
INFO 2025-06-03 20:48:40,594 dialog_manager Using device: cpu
WARNING 2025-06-03 20:48:40,594 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:48:40,594 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:48:40,609 dialog_manager Processing message: hello
INFO 2025-06-03 20:48:40,609 dialog_manager Processing input: hello
INFO 2025-06-03 20:48:40,660 dialog_manager Using language: en
INFO 2025-06-03 20:48:40,660 dialog_manager Detecting intent for input: hello
INFO 2025-06-03 20:48:40,711 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-03 20:48:40,719 dialog_manager Detected intent: greeting
INFO 2025-06-03 20:48:46,420 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-06-03 20:48:46,422 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-03 20:48:46,493 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>}
INFO 2025-06-03 20:48:46,497 views Updated session state: greeting
INFO 2025-06-03 20:48:46,497 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>}
INFO 2025-06-03 20:48:46,497 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-03 20:48:46,501 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:48:46,506 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:48:46,671 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 195
INFO 2025-06-03 20:48:59,627 views Database connection successful
INFO 2025-06-03 20:48:59,627 views Received chat request at 2025-06-03 20:48:59.627432
DEBUG 2025-06-03 20:48:59,627 views Request headers: {'Content-Length': '150', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:48:59,627 views Request body: {"message":"booking room","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10},"state":"greeting","lang":"fi"}}
INFO 2025-06-03 20:48:59,643 views User input: booking room
INFO 2025-06-03 20:48:59,644 views Current session state: greeting
INFO 2025-06-03 20:48:59,646 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10}
INFO 2025-06-03 20:49:00,853 dialog_manager Using device: cpu
WARNING 2025-06-03 20:49:00,853 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:49:00,859 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:49:00,869 dialog_manager Processing message: booking room
INFO 2025-06-03 20:49:00,869 dialog_manager Processing input: booking room
INFO 2025-06-03 20:49:00,876 dialog_manager Using language: fi
INFO 2025-06-03 20:49:00,876 dialog_manager Detecting intent for input: booking room
INFO 2025-06-03 20:49:00,916 dialog_manager Booking intent detected
INFO 2025-06-03 20:49:00,916 dialog_manager Detected intent: booking
INFO 2025-06-03 20:49:00,926 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-03 20:49:00,942 dialog_manager Extracting dates from: booking room
WARNING 2025-06-03 20:49:00,942 dialog_manager No dates found
INFO 2025-06-03 20:49:00,942 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>}
INFO 2025-06-03 20:49:00,942 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:49:00,959 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>}
INFO 2025-06-03 20:49:01,009 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:49:01,016 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:49:01,020 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 258
INFO 2025-06-03 20:49:04,552 views Database connection successful
INFO 2025-06-03 20:49:04,552 views Received chat request at 2025-06-03 20:49:04.552685
DEBUG 2025-06-03 20:49:04,552 views Request headers: {'Content-Length': '159', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:49:04,568 views Request body: {"message":"nelson","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:49:04,568 views User input: nelson
INFO 2025-06-03 20:49:04,573 views Current session state: collecting_booking_info
INFO 2025-06-03 20:49:04,576 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10}
INFO 2025-06-03 20:49:05,827 dialog_manager Using device: cpu
WARNING 2025-06-03 20:49:05,843 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:49:05,843 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:49:05,843 dialog_manager Processing message: nelson
INFO 2025-06-03 20:49:05,843 dialog_manager Processing input: nelson
INFO 2025-06-03 20:49:05,843 dialog_manager Using language: fi
INFO 2025-06-03 20:49:05,859 dialog_manager Detecting intent for input: nelson
INFO 2025-06-03 20:49:05,875 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:49:05,891 dialog_manager Extracted name: nelson
INFO 2025-06-03 20:49:05,891 dialog_manager Extracting dates from: nelson
WARNING 2025-06-03 20:49:05,891 dialog_manager No dates found
INFO 2025-06-03 20:49:05,891 dialog_manager Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>, 'guest_name': 'nelson'}
INFO 2025-06-03 20:49:05,891 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>, 'guest_name': 'nelson'}
INFO 2025-06-03 20:49:05,891 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:49:05,891 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>, 'guest_name': 'nelson'}
INFO 2025-06-03 20:49:05,923 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:49:05,923 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:49:05,927 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 286
INFO 2025-06-03 20:49:11,404 views Database connection successful
INFO 2025-06-03 20:49:11,404 views Received chat request at 2025-06-03 20:49:11.404863
DEBUG 2025-06-03 20:49:11,404 views Request headers: {'Content-Length': '185', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:49:11,404 views Request body: {"message":"0128776697","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10,"guest_name":"nelson"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:49:11,418 views User input: 0128776697
INFO 2025-06-03 20:49:11,418 views Current session state: collecting_booking_info
INFO 2025-06-03 20:49:11,418 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson'}
INFO 2025-06-03 20:49:12,693 dialog_manager Using device: cpu
WARNING 2025-06-03 20:49:12,695 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:49:12,700 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:49:12,708 dialog_manager Processing message: 0128776697
INFO 2025-06-03 20:49:12,716 dialog_manager Processing input: 0128776697
INFO 2025-06-03 20:49:12,717 dialog_manager Using language: fi
INFO 2025-06-03 20:49:12,717 dialog_manager Detecting intent for input: 0128776697
INFO 2025-06-03 20:49:12,717 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-03 20:49:12,717 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:49:12,717 dialog_manager Extracted standalone phone: 0128776697
INFO 2025-06-03 20:49:12,717 dialog_manager Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'user': <SimpleLazyObject: <User: nelson0927>>, 'phone': '0128776697'}
INFO 2025-06-03 20:49:12,717 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'user': <SimpleLazyObject: <User: nelson0927>>, 'phone': '0128776697'}
INFO 2025-06-03 20:49:12,732 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:49:12,733 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'user': <SimpleLazyObject: <User: nelson0927>>, 'phone': '0128776697'}
INFO 2025-06-03 20:49:12,750 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:49:12,750 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:49:12,767 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 306
INFO 2025-06-03 20:49:25,569 views Database connection successful
INFO 2025-06-03 20:49:25,569 views Received chat request at 2025-06-03 20:49:25.569430
DEBUG 2025-06-03 20:49:25,569 views Request headers: {'Content-Length': '218', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:49:25,577 views Request body: {"message":"nelsonting01@gmail.com","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10,"guest_name":"nelson","phone":"0128776697"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:49:25,577 views User input: nelsonting01@gmail.com
INFO 2025-06-03 20:49:25,577 views Current session state: collecting_booking_info
INFO 2025-06-03 20:49:25,577 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697'}
INFO 2025-06-03 20:49:26,856 dialog_manager Using device: cpu
WARNING 2025-06-03 20:49:26,856 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:49:26,856 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:49:26,865 dialog_manager Processing message: nelsonting01@gmail.com
INFO 2025-06-03 20:49:26,872 dialog_manager Processing input: nelsonting01@gmail.com
INFO 2025-06-03 20:49:26,873 dialog_manager Using language: fi
INFO 2025-06-03 20:49:26,873 dialog_manager Detecting intent for input: nelsonting01@gmail.com
INFO 2025-06-03 20:49:26,897 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:49:26,905 dialog_manager Extracted standalone email: nelsonting01@gmail.com
INFO 2025-06-03 20:49:26,905 dialog_manager Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'user': <SimpleLazyObject: <User: nelson0927>>, 'email': 'nelsonting01@gmail.com'}
INFO 2025-06-03 20:49:26,905 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'user': <SimpleLazyObject: <User: nelson0927>>, 'email': 'nelsonting01@gmail.com'}
INFO 2025-06-03 20:49:26,905 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:49:26,905 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'user': <SimpleLazyObject: <User: nelson0927>>, 'email': 'nelsonting01@gmail.com'}
INFO 2025-06-03 20:49:26,939 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:49:26,942 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:49:26,953 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 761
INFO 2025-06-03 20:52:16,667 views Database connection successful
INFO 2025-06-03 20:52:16,669 views Received chat request at 2025-06-03 20:52:16.669756
DEBUG 2025-06-03 20:52:16,669 views Request headers: {'Content-Length': '242', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:52:16,669 views Request body: {"message":"Standard Room","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:52:16,669 views User input: Standard Room
INFO 2025-06-03 20:52:16,669 views Current session state: collecting_booking_info
INFO 2025-06-03 20:52:16,682 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com'}
INFO 2025-06-03 20:52:17,956 dialog_manager Using device: cpu
WARNING 2025-06-03 20:52:17,964 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:52:17,973 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:52:17,981 dialog_manager Processing message: Standard Room
INFO 2025-06-03 20:52:17,981 dialog_manager Processing input: Standard Room
INFO 2025-06-03 20:52:17,981 dialog_manager Using language: fi
INFO 2025-06-03 20:52:17,981 dialog_manager Detecting intent for input: Standard Room
INFO 2025-06-03 20:52:18,014 dialog_manager Booking intent detected
INFO 2025-06-03 20:52:18,014 dialog_manager Detected intent: booking
INFO 2025-06-03 20:52:18,014 dialog_manager Extracting dates from: Standard Room
WARNING 2025-06-03 20:52:18,014 dialog_manager No dates found
INFO 2025-06-03 20:52:18,014 dialog_manager Extracted room type: Standard
INFO 2025-06-03 20:52:18,014 dialog_manager Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'user': <SimpleLazyObject: <User: nelson0927>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:52:18,029 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'user': <SimpleLazyObject: <User: nelson0927>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:52:18,030 views Updated session state: collecting_booking_info
INFO 2025-06-03 20:52:18,030 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'user': <SimpleLazyObject: <User: nelson0927>>, 'room_type': 'Standard'}
INFO 2025-06-03 20:52:18,049 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:52:18,049 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:52:18,064 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 413
INFO 2025-06-03 20:52:29,479 views Database connection successful
INFO 2025-06-03 20:52:29,479 views Received chat request at 2025-06-03 20:52:29.479512
DEBUG 2025-06-03 20:52:29,479 views Request headers: {'Content-Length': '262', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:52:29,485 views Request body: {"message":"25/12/2025","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-03 20:52:29,489 views User input: 25/12/2025
INFO 2025-06-03 20:52:29,489 views Current session state: collecting_booking_info
INFO 2025-06-03 20:52:29,492 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-03 20:52:30,737 dialog_manager Using device: cpu
WARNING 2025-06-03 20:52:30,737 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:52:30,737 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:52:30,748 dialog_manager Processing message: 25/12/2025
INFO 2025-06-03 20:52:30,748 dialog_manager Processing input: 25/12/2025
INFO 2025-06-03 20:52:30,748 dialog_manager Using language: fi
INFO 2025-06-03 20:52:30,754 dialog_manager Detecting intent for input: 25/12/2025
INFO 2025-06-03 20:52:30,754 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-06-03 20:52:30,754 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:52:30,754 dialog_manager Extracting dates from: 25/12/2025
INFO 2025-06-03 20:52:30,764 dialog_manager Extracted single date: {'check_in': '2025-12-25', 'check_out': '2025-12-26'}
INFO 2025-06-03 20:52:30,764 dialog_manager Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: nelson0927>>, 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26'}
INFO 2025-06-03 20:52:30,804 models Booking saved: BK-46851 for nelson
INFO 2025-06-03 20:52:30,804 dialog_manager Booking created successfully: ID=29, Booking_ID=BK-46851
INFO 2025-06-03 20:52:30,804 dialog_manager Booking record created successfully: BK-46851
INFO 2025-06-03 20:52:30,804 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: nelson0927>>, 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26', 'booking_id': 'BK-46851'}
INFO 2025-06-03 20:52:30,804 views Updated session state: offering_addons
INFO 2025-06-03 20:52:30,804 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: nelson0927>>, 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26', 'booking_id': 'BK-46851'}
INFO 2025-06-03 20:52:30,820 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-03 20:52:30,820 views Booking confirmation check - State: offering_addons, Booking ID: BK-46851, Previous ID: BK-46851, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:52:30,820 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:52:30,820 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1261
INFO 2025-06-03 20:53:49,056 views Database connection successful
INFO 2025-06-03 20:53:49,056 views Received chat request at 2025-06-03 20:53:49.056005
DEBUG 2025-06-03 20:53:49,056 views Request headers: {'Content-Length': '339', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:53:49,065 views Request body: {"message":"upgrade room","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01@gmail.com","room_type":"Standard","check_in_date":"2025-12-25","check_out_date":"2025-12-26","booking_id":"BK-46851"},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-03 20:53:49,065 views User input: upgrade room
INFO 2025-06-03 20:53:49,074 views Current session state: offering_addons
INFO 2025-06-03 20:53:49,076 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26', 'booking_id': 'BK-46851'}
INFO 2025-06-03 20:53:50,322 dialog_manager Using device: cpu
WARNING 2025-06-03 20:53:50,322 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:53:50,322 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:53:50,338 dialog_manager Processing message: upgrade room
INFO 2025-06-03 20:53:50,338 dialog_manager Processing input: upgrade room
INFO 2025-06-03 20:53:50,350 dialog_manager Using language: fi
INFO 2025-06-03 20:53:50,355 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-03 20:53:50,382 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-03 20:53:50,382 dialog_manager Detected intent: upgrade_room
INFO 2025-06-03 20:53:50,382 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26', 'booking_id': 'BK-46851', 'user': <SimpleLazyObject: <User: nelson0927>>, 'addon_selections': []}
INFO 2025-06-03 20:53:50,382 views Updated session state: offering_addons
INFO 2025-06-03 20:53:50,382 views Updated user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26', 'booking_id': 'BK-46851', 'user': <SimpleLazyObject: <User: nelson0927>>, 'addon_selections': []}
INFO 2025-06-03 20:53:50,405 views Booking confirmation check - State: offering_addons, Booking ID: BK-46851, Previous ID: BK-46851, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:53:50,405 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:53:50,413 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 516
INFO 2025-06-03 20:54:03,795 views Database connection successful
INFO 2025-06-03 20:54:03,795 views Received chat request at 2025-06-03 20:54:03.795929
DEBUG 2025-06-03 20:54:03,795 views Request headers: {'Content-Length': '358', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:54:03,795 views Request body: {"message":"no thanks","session":{"user_data":{"username":"nelson0927","is_returning_customer":false,"user_id":10,"guest_name":"nelson","phone":"0128776697","email":"nelsonting01@gmail.com","room_type":"Standard","check_in_date":"2025-12-25","check_out_date":"2025-12-26","booking_id":"BK-46851","addon_selections":[]},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-03 20:54:03,804 views User input: no thanks
INFO 2025-06-03 20:54:03,804 views Current session state: offering_addons
INFO 2025-06-03 20:54:03,810 views Current user data: {'username': 'nelson0927', 'is_returning_customer': False, 'user_id': 10, 'guest_name': 'nelson', 'phone': '0128776697', 'email': 'nelsonting01@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-12-25', 'check_out_date': '2025-12-26', 'booking_id': 'BK-46851', 'addon_selections': []}
INFO 2025-06-03 20:54:05,068 dialog_manager Using device: cpu
WARNING 2025-06-03 20:54:05,077 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:54:05,077 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:54:05,077 dialog_manager Processing message: no thanks
INFO 2025-06-03 20:54:05,093 dialog_manager Processing input: no thanks
INFO 2025-06-03 20:54:05,093 dialog_manager Using language: fi
INFO 2025-06-03 20:54:05,107 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-03 20:54:05,139 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:54:05,143 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-03 20:54:05,143 views Updated session state: greeting
INFO 2025-06-03 20:54:05,143 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-03 20:54:05,143 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-03 20:54:05,143 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:54:05,155 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-03 20:54:13,091 views Database connection successful
INFO 2025-06-03 20:54:13,091 views Received chat request at 2025-06-03 20:54:13.091437
DEBUG 2025-06-03 20:54:13,105 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:54:13,108 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-06-03 20:54:13,108 views User input: upgrade room
INFO 2025-06-03 20:54:13,120 views Current session state: greeting
INFO 2025-06-03 20:54:13,120 views Current user data: {'is_returning_customer': True}
INFO 2025-06-03 20:54:14,352 dialog_manager Using device: cpu
WARNING 2025-06-03 20:54:14,365 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:54:14,365 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:54:14,365 dialog_manager Processing message: upgrade room
INFO 2025-06-03 20:54:14,368 dialog_manager Processing input: upgrade room
INFO 2025-06-03 20:54:14,380 dialog_manager Using language: fi
INFO 2025-06-03 20:54:14,385 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-03 20:54:14,412 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-03 20:54:14,418 dialog_manager Detected intent: upgrade_room
INFO 2025-06-03 20:54:14,435 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'username': 'nelson0927', 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>}
INFO 2025-06-03 20:54:14,435 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-03 20:54:14,435 views Updated user data: {'is_returning_customer': False, 'username': 'nelson0927', 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>}
INFO 2025-06-03 20:54:14,444 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-03 20:54:14,452 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:54:14,452 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:54:14,461 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 330
INFO 2025-06-03 20:54:34,922 views Database connection successful
INFO 2025-06-03 20:54:34,922 views Received chat request at 2025-06-03 20:54:34.922066
DEBUG 2025-06-03 20:54:34,922 views Request headers: {'Content-Length': '171', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:54:34,922 views Request body: {"message":"BK-46851","session":{"user_data":{"is_returning_customer":false,"username":"nelson0927","user_id":10},"state":"collecting_booking_id_for_upgrade","lang":"fi"}}
INFO 2025-06-03 20:54:34,922 views User input: BK-46851
INFO 2025-06-03 20:54:34,922 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-03 20:54:34,922 views Current user data: {'is_returning_customer': False, 'username': 'nelson0927', 'user_id': 10}
INFO 2025-06-03 20:54:36,163 dialog_manager Using device: cpu
WARNING 2025-06-03 20:54:36,163 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:54:36,167 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:54:36,168 dialog_manager Processing message: BK-46851
INFO 2025-06-03 20:54:36,168 dialog_manager Processing input: BK-46851
INFO 2025-06-03 20:54:36,170 dialog_manager Using language: fi
INFO 2025-06-03 20:54:36,170 dialog_manager Detecting intent for input: BK-46851
INFO 2025-06-03 20:54:36,170 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-03 20:54:36,172 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 20:54:36,210 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'username': 'nelson0927', 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>, 'upgrade_booking_id': 'BK-46851', 'booking_to_upgrade': {'id': 29, 'booking_id': 'BK-46851', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'December 25', 'check_out': 'December 26', 'duration': 1}}
INFO 2025-06-03 20:54:36,210 views Updated session state: selecting_upgrade_room
INFO 2025-06-03 20:54:36,210 views Updated user data: {'is_returning_customer': False, 'username': 'nelson0927', 'user_id': 10, 'user': <SimpleLazyObject: <User: nelson0927>>, 'upgrade_booking_id': 'BK-46851', 'booking_to_upgrade': {'id': 29, 'booking_id': 'BK-46851', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'December 25', 'check_out': 'December 26', 'duration': 1}}
INFO 2025-06-03 20:54:36,238 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:54:36,250 views Removed User object from session for JSON serialization
INFO 2025-06-03 20:54:36,253 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 772
INFO 2025-06-03 20:54:50,896 views Database connection successful
INFO 2025-06-03 20:54:50,901 views Received chat request at 2025-06-03 20:54:50.901926
DEBUG 2025-06-03 20:54:50,907 views Request headers: {'Content-Length': '364', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'emYgSDZ403NzI0FmYluvRsrJXVYvhO3j', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJyLjlaKj88qzs-Lz00tLk5MT1XSMdAxMtVRiswvVchILEtVSEpNzVPIyU9PT01RyC8tUSguTU4GKk0rzcmpVFTSUVKK1cFlRnhqTnJ-LtCIxORsHYUQn2AC6qlhp2Nycn5pXolCclFqYglQO4pWBZiLfDz93J2AONjVz33QOMoLGEw-mXnpg8ZBeak5QL0GlkbmEONiAQJRuZE:1uMR4B:1rz3Z52P_hxt3geBs0Yr9UUbYMip06YpZamAvUQTAvw; csrftoken=emYgSDZ403NzI0FmYluvRsrJXVYvhO3j; sessionid=xjn7ld4eefst632liumlv7ztromc0dvn'}
DEBUG 2025-06-03 20:54:50,910 views Request body: {"message":"Suite","session":{"user_data":{"is_returning_customer":false,"username":"nelson0927","user_id":10,"upgrade_booking_id":"BK-46851","booking_to_upgrade":{"id":29,"booking_id":"BK-46851","current_room":"Standard Room","current_price":"132.00","check_in":"December 25","check_out":"December 26","duration":1}},"state":"selecting_upgrade_room","lang":"fi"}}
INFO 2025-06-03 20:54:50,910 views User input: Suite
INFO 2025-06-03 20:54:50,910 views Current session state: selecting_upgrade_room
INFO 2025-06-03 20:54:50,910 views Current user data: {'is_returning_customer': False, 'username': 'nelson0927', 'user_id': 10, 'upgrade_booking_id': 'BK-46851', 'booking_to_upgrade': {'id': 29, 'booking_id': 'BK-46851', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'December 25', 'check_out': 'December 26', 'duration': 1}}
INFO 2025-06-03 20:54:52,237 dialog_manager Using device: cpu
WARNING 2025-06-03 20:54:52,254 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 20:54:52,254 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 20:54:52,254 dialog_manager Processing message: Suite
INFO 2025-06-03 20:54:52,268 dialog_manager Processing input: Suite
INFO 2025-06-03 20:54:52,271 dialog_manager Using language: fi
INFO 2025-06-03 20:54:52,271 dialog_manager Detecting intent for input: Suite
INFO 2025-06-03 20:54:52,304 dialog_manager Detected intent: unknown
INFO 2025-06-03 20:54:52,337 models Booking saved: BK-46851 for nelson
INFO 2025-06-03 20:54:52,337 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-03 20:54:52,337 views Updated session state: greeting
INFO 2025-06-03 20:54:52,337 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-03 20:54:52,337 views Generated response: Your room type has been successfully upgraded to Suite and the total price has been adjusted. Additional cost: RM289.00 (RM289.00/night  1 nights). We look forward to your more comfortable stay!
INFO 2025-06-03 20:54:52,349 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 20:54:52,354 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 309
INFO 2025-06-03 20:59:36,270 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-03 20:59:36,386 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 20:59:39,537 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 21:03:11,413 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 21:03:31,894 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 21:04:23,283 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-03 21:04:33,437 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16490
INFO 2025-06-03 21:04:59,872 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-03 21:04:59,897 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24680
INFO 2025-06-03 21:05:04,255 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17169
INFO 2025-06-03 21:05:17,301 views Database connection successful
INFO 2025-06-03 21:05:17,301 views Received chat request at 2025-06-03 21:05:17.301063
DEBUG 2025-06-03 21:05:17,303 views Request headers: {'Content-Length': '57', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:05:17,305 views Request body: {"message":"I want to booking a delux room","session":{}}
INFO 2025-06-03 21:05:17,305 views User input: I want to booking a delux room
INFO 2025-06-03 21:05:17,307 views Current session state: None
INFO 2025-06-03 21:05:17,307 views Current user data: None
INFO 2025-06-03 21:05:18,052 dialog_manager Using device: cpu
WARNING 2025-06-03 21:05:18,052 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:05:18,057 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:05:18,057 dialog_manager Processing message: I want to booking a delux room
INFO 2025-06-03 21:05:18,057 dialog_manager Processing input: I want to booking a delux room
INFO 2025-06-03 21:05:18,133 dialog_manager Using language: en
INFO 2025-06-03 21:05:18,133 dialog_manager Detecting intent for input: I want to booking a delux room
INFO 2025-06-03 21:05:18,167 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-03 21:05:18,167 dialog_manager Detected intent: booking
INFO 2025-06-03 21:05:18,167 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-03 21:05:18,167 dialog_manager Extracting dates from: I want to booking a delux room
WARNING 2025-06-03 21:05:18,171 dialog_manager No dates found
INFO 2025-06-03 21:05:18,175 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:05:18,183 views Updated session state: collecting_booking_info
INFO 2025-06-03 21:05:18,183 views Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:05:18,196 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:05:18,198 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:05:18,201 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 260
INFO 2025-06-03 21:05:36,013 views Database connection successful
INFO 2025-06-03 21:05:36,013 views Received chat request at 2025-06-03 21:05:36.013165
DEBUG 2025-06-03 21:05:36,013 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:05:36,013 views Request body: {"message":"chienshoajun","session":{"user_data":{"username":"chienshoajun","is_returning_customer":false,"user_id":11},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-03 21:05:36,013 views User input: chienshoajun
INFO 2025-06-03 21:05:36,013 views Current session state: collecting_booking_info
INFO 2025-06-03 21:05:36,013 views Current user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11}
INFO 2025-06-03 21:05:36,586 dialog_manager Using device: cpu
WARNING 2025-06-03 21:05:36,586 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:05:36,586 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:05:36,591 dialog_manager Processing message: chienshoajun
INFO 2025-06-03 21:05:36,592 dialog_manager Processing input: chienshoajun
INFO 2025-06-03 21:05:36,592 dialog_manager Using language: af
INFO 2025-06-03 21:05:36,592 dialog_manager Detecting intent for input: chienshoajun
INFO 2025-06-03 21:05:36,592 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-03 21:05:36,592 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:05:36,592 dialog_manager Extracted name: chienshoajun
INFO 2025-06-03 21:05:36,596 dialog_manager Extracting dates from: chienshoajun
WARNING 2025-06-03 21:05:36,596 dialog_manager No dates found
INFO 2025-06-03 21:05:36,596 dialog_manager Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>, 'guest_name': 'chienshoajun'}
INFO 2025-06-03 21:05:36,596 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>, 'guest_name': 'chienshoajun'}
INFO 2025-06-03 21:05:36,596 views Updated session state: collecting_booking_info
INFO 2025-06-03 21:05:36,599 views Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>, 'guest_name': 'chienshoajun'}
INFO 2025-06-03 21:05:36,615 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:05:36,617 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:05:36,618 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 300
INFO 2025-06-03 21:05:47,833 views Database connection successful
INFO 2025-06-03 21:05:47,833 views Received chat request at 2025-06-03 21:05:47.833590
DEBUG 2025-06-03 21:05:47,833 views Request headers: {'Content-Length': '194', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:05:47,833 views Request body: {"message":"01158818601","session":{"user_data":{"username":"chienshoajun","is_returning_customer":false,"user_id":11,"guest_name":"chienshoajun"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-03 21:05:47,844 views User input: 01158818601
INFO 2025-06-03 21:05:47,844 views Current session state: collecting_booking_info
INFO 2025-06-03 21:05:47,847 views Current user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun'}
INFO 2025-06-03 21:05:48,460 dialog_manager Using device: cpu
WARNING 2025-06-03 21:05:48,461 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:05:48,461 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:05:48,461 dialog_manager Processing message: 01158818601
INFO 2025-06-03 21:05:48,461 dialog_manager Processing input: 01158818601
INFO 2025-06-03 21:05:48,461 dialog_manager Using language: af
INFO 2025-06-03 21:05:48,461 dialog_manager Detecting intent for input: 01158818601
INFO 2025-06-03 21:05:48,461 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-03 21:05:48,461 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:05:48,467 dialog_manager Extracted standalone phone: 01158818601
INFO 2025-06-03 21:05:48,469 dialog_manager Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'phone': '01158818601'}
INFO 2025-06-03 21:05:48,469 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'phone': '01158818601'}
INFO 2025-06-03 21:05:48,469 views Updated session state: collecting_booking_info
INFO 2025-06-03 21:05:48,469 views Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'phone': '01158818601'}
INFO 2025-06-03 21:05:48,484 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:05:48,486 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:05:48,487 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 321
INFO 2025-06-03 21:05:59,080 views Database connection successful
INFO 2025-06-03 21:05:59,080 views Received chat request at 2025-06-03 21:05:59.080175
DEBUG 2025-06-03 21:05:59,080 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:05:59,080 views Request body: {"message":"chienshoajun@gmail.com","session":{"user_data":{"username":"chienshoajun","is_returning_customer":false,"user_id":11,"guest_name":"chienshoajun","phone":"01158818601"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-03 21:05:59,080 views User input: chienshoajun@gmail.com
INFO 2025-06-03 21:05:59,080 views Current session state: collecting_booking_info
INFO 2025-06-03 21:05:59,080 views Current user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601'}
INFO 2025-06-03 21:05:59,709 dialog_manager Using device: cpu
WARNING 2025-06-03 21:05:59,709 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:05:59,709 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:05:59,714 dialog_manager Processing message: chienshoajun@gmail.com
INFO 2025-06-03 21:05:59,714 dialog_manager Processing input: chienshoajun@gmail.com
INFO 2025-06-03 21:05:59,714 dialog_manager Using language: af
INFO 2025-06-03 21:05:59,714 dialog_manager Detecting intent for input: chienshoajun@gmail.com
INFO 2025-06-03 21:05:59,722 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-03 21:05:59,722 dialog_manager Detected intent: greeting
INFO 2025-06-03 21:05:59,727 dialog_manager Extracted standalone email: chienshoajun@gmail.com
INFO 2025-06-03 21:05:59,727 dialog_manager Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'email': 'chienshoajun@gmail.com'}
INFO 2025-06-03 21:05:59,727 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'email': 'chienshoajun@gmail.com'}
INFO 2025-06-03 21:05:59,727 views Updated session state: collecting_booking_info
INFO 2025-06-03 21:05:59,727 views Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'email': 'chienshoajun@gmail.com'}
INFO 2025-06-03 21:05:59,736 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:05:59,736 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:05:59,742 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 776
INFO 2025-06-03 21:06:15,654 views Database connection successful
INFO 2025-06-03 21:06:15,654 views Received chat request at 2025-06-03 21:06:15.654589
DEBUG 2025-06-03 21:06:15,654 views Request headers: {'Content-Length': '249', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:06:15,654 views Request body: {"message":"deluxe room","session":{"user_data":{"username":"chienshoajun","is_returning_customer":false,"user_id":11,"guest_name":"chienshoajun","phone":"01158818601","email":"chienshoajun@gmail.com"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-03 21:06:15,659 views User input: deluxe room
INFO 2025-06-03 21:06:15,660 views Current session state: collecting_booking_info
INFO 2025-06-03 21:06:15,660 views Current user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com'}
INFO 2025-06-03 21:06:16,241 dialog_manager Using device: cpu
WARNING 2025-06-03 21:06:16,242 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:06:16,242 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:06:16,242 dialog_manager Processing message: deluxe room
INFO 2025-06-03 21:06:16,249 dialog_manager Processing input: deluxe room
INFO 2025-06-03 21:06:16,251 dialog_manager Using language: af
INFO 2025-06-03 21:06:16,252 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-03 21:06:16,259 dialog_manager Booking intent detected
INFO 2025-06-03 21:06:16,264 dialog_manager Detected intent: booking
INFO 2025-06-03 21:06:16,265 dialog_manager Extracting dates from: deluxe room
WARNING 2025-06-03 21:06:16,267 dialog_manager No dates found
INFO 2025-06-03 21:06:16,267 dialog_manager Extracted room type: Deluxe
INFO 2025-06-03 21:06:16,267 dialog_manager Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'room_type': 'Deluxe'}
INFO 2025-06-03 21:06:16,269 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'room_type': 'Deluxe'}
INFO 2025-06-03 21:06:16,269 views Updated session state: collecting_booking_info
INFO 2025-06-03 21:06:16,269 views Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'room_type': 'Deluxe'}
INFO 2025-06-03 21:06:16,279 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:06:16,279 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:06:16,284 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 426
INFO 2025-06-03 21:06:36,369 views Database connection successful
INFO 2025-06-03 21:06:36,369 views Received chat request at 2025-06-03 21:06:36.369450
DEBUG 2025-06-03 21:06:36,369 views Request headers: {'Content-Length': '269', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:06:36,375 views Request body: {"message":"06/06/2025","session":{"user_data":{"username":"chienshoajun","is_returning_customer":false,"user_id":11,"guest_name":"chienshoajun","phone":"01158818601","email":"chienshoajun@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-03 21:06:36,375 views User input: 06/06/2025
INFO 2025-06-03 21:06:36,375 views Current session state: collecting_booking_info
INFO 2025-06-03 21:06:36,378 views Current user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-06-03 21:06:40,872 dialog_manager Using device: cpu
WARNING 2025-06-03 21:06:40,872 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:06:40,872 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:06:40,872 dialog_manager Processing message: 06/06/2025
INFO 2025-06-03 21:06:40,872 dialog_manager Processing input: 06/06/2025
INFO 2025-06-03 21:06:40,886 dialog_manager Using language: af
INFO 2025-06-03 21:06:40,886 dialog_manager Detecting intent for input: 06/06/2025
INFO 2025-06-03 21:06:40,886 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-06-03 21:06:40,886 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:06:40,886 dialog_manager Extracting dates from: 06/06/2025
INFO 2025-06-03 21:06:40,889 dialog_manager Extracted single date: {'check_in': '2025-06-06', 'check_out': '2025-06-07'}
INFO 2025-06-03 21:06:40,890 dialog_manager Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-07'}
INFO 2025-06-03 21:06:40,898 models Booking saved: BK-77414 for chienshoajun
INFO 2025-06-03 21:06:40,898 dialog_manager Booking created successfully: ID=30, Booking_ID=BK-77414
INFO 2025-06-03 21:06:40,900 dialog_manager Booking record created successfully: BK-77414
INFO 2025-06-03 21:06:40,900 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-07', 'booking_id': 'BK-77414'}
INFO 2025-06-03 21:06:40,900 views Updated session state: offering_addons
INFO 2025-06-03 21:06:40,901 views Updated user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: chienshoajun>>, 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-07', 'booking_id': 'BK-77414'}
INFO 2025-06-03 21:06:40,901 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-03 21:06:40,901 views Booking confirmation check - State: offering_addons, Booking ID: BK-77414, Previous ID: BK-77414, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:06:40,901 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:06:40,907 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1273
INFO 2025-06-03 21:07:08,822 views Database connection successful
INFO 2025-06-03 21:07:08,825 views Received chat request at 2025-06-03 21:07:08.825700
DEBUG 2025-06-03 21:07:08,825 views Request headers: {'Content-Length': '343', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:07:08,825 views Request body: {"message":"no thanks","session":{"user_data":{"username":"chienshoajun","is_returning_customer":false,"user_id":11,"guest_name":"chienshoajun","phone":"01158818601","email":"chienshoajun@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-06","check_out_date":"2025-06-07","booking_id":"BK-77414"},"state":"offering_addons","lang":"af"}}
INFO 2025-06-03 21:07:08,825 views User input: no thanks
INFO 2025-06-03 21:07:08,825 views Current session state: offering_addons
INFO 2025-06-03 21:07:08,833 views Current user data: {'username': 'chienshoajun', 'is_returning_customer': False, 'user_id': 11, 'guest_name': 'chienshoajun', 'phone': '01158818601', 'email': 'chienshoajun@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-06', 'check_out_date': '2025-06-07', 'booking_id': 'BK-77414'}
INFO 2025-06-03 21:07:09,419 dialog_manager Using device: cpu
WARNING 2025-06-03 21:07:09,419 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:07:09,419 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:07:09,423 dialog_manager Processing message: no thanks
INFO 2025-06-03 21:07:09,423 dialog_manager Processing input: no thanks
INFO 2025-06-03 21:07:09,423 dialog_manager Using language: af
INFO 2025-06-03 21:07:09,426 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-03 21:07:09,440 dialog_manager Detected intent: unknown
INFO 2025-06-03 21:07:09,440 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-03 21:07:09,441 views Updated session state: greeting
INFO 2025-06-03 21:07:09,441 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-03 21:07:09,441 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-03 21:07:09,441 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:07:09,444 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-03 21:07:18,474 views Database connection successful
INFO 2025-06-03 21:07:18,474 views Received chat request at 2025-06-03 21:07:18.474667
DEBUG 2025-06-03 21:07:18,475 views Request headers: {'Content-Length': '125', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:07:18,475 views Request body: {"message":"I want to extend the date","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:07:18,475 views User input: I want to extend the date
INFO 2025-06-03 21:07:18,475 views Current session state: greeting
INFO 2025-06-03 21:07:18,475 views Current user data: {'is_returning_customer': True}
INFO 2025-06-03 21:07:19,041 dialog_manager Using device: cpu
WARNING 2025-06-03 21:07:19,041 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:07:19,051 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:07:19,051 dialog_manager Processing message: I want to extend the date
INFO 2025-06-03 21:07:19,051 dialog_manager Processing input: I want to extend the date
INFO 2025-06-03 21:07:19,051 dialog_manager Using language: af
INFO 2025-06-03 21:07:19,051 dialog_manager Detecting intent for input: I want to extend the date
INFO 2025-06-03 21:07:19,057 dialog_manager Pattern-based intent detected: extend_stay
INFO 2025-06-03 21:07:19,057 dialog_manager Detected intent: extend_stay
INFO 2025-06-03 21:07:19,064 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_extend, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:07:19,066 views Updated session state: collecting_booking_id_for_extend
INFO 2025-06-03 21:07:19,066 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:07:19,067 views Generated response: I'd be happy to help you extend your stay! Please provide your booking ID so I can check your current reservation and available dates.
INFO 2025-06-03 21:07:19,067 views Booking confirmation check - State: collecting_booking_id_for_extend, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:07:19,067 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:07:19,069 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 311
INFO 2025-06-03 21:07:29,537 views Database connection successful
INFO 2025-06-03 21:07:29,537 views Received chat request at 2025-06-03 21:07:29.537816
DEBUG 2025-06-03 21:07:29,537 views Request headers: {'Content-Length': '172', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:07:29,537 views Request body: {"message":"BK-77414","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11},"state":"collecting_booking_id_for_extend","lang":"af"}}
INFO 2025-06-03 21:07:29,537 views User input: BK-77414
INFO 2025-06-03 21:07:29,537 views Current session state: collecting_booking_id_for_extend
INFO 2025-06-03 21:07:29,549 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11}
INFO 2025-06-03 21:07:30,165 dialog_manager Using device: cpu
WARNING 2025-06-03 21:07:30,175 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:07:30,175 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:07:30,175 dialog_manager Processing message: BK-77414
INFO 2025-06-03 21:07:30,175 dialog_manager Processing input: BK-77414
INFO 2025-06-03 21:07:30,175 dialog_manager Using language: af
INFO 2025-06-03 21:07:30,175 dialog_manager Detecting intent for input: BK-77414
INFO 2025-06-03 21:07:30,175 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-03 21:07:30,175 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:07:30,181 dialog_manager Dialog manager process completed - State: selecting_extend_date, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>, 'extend_booking_id': 'BK-77414', 'booking_to_extend': {'id': 30, 'booking_id': 'BK-77414', 'room_name': 'Deluxe Room', 'room_price': Decimal('205.00'), 'current_checkout': 'June 07 (Saturday)', 'current_checkout_date': '2025-06-07'}}
INFO 2025-06-03 21:07:30,182 views Updated session state: selecting_extend_date
INFO 2025-06-03 21:07:30,182 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>, 'extend_booking_id': 'BK-77414', 'booking_to_extend': {'id': 30, 'booking_id': 'BK-77414', 'room_name': 'Deluxe Room', 'room_price': Decimal('205.00'), 'current_checkout': 'June 07 (Saturday)', 'current_checkout_date': '2025-06-07'}}
INFO 2025-06-03 21:07:30,183 views Generated response: Your current booking is until June 07 (Saturday). Which day do you want to extend it to? Please provide the new check-out date (e.g., 'June 15' or '15/06/2025').
INFO 2025-06-03 21:07:30,183 views Booking confirmation check - State: selecting_extend_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:07:30,185 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:07:30,188 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 552
INFO 2025-06-03 21:07:43,295 views Database connection successful
INFO 2025-06-03 21:07:43,295 views Received chat request at 2025-06-03 21:07:43.295367
DEBUG 2025-06-03 21:07:43,295 views Request headers: {'Content-Length': '373', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:07:43,295 views Request body: {"message":"08/06/2025","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11,"extend_booking_id":"BK-77414","booking_to_extend":{"id":30,"booking_id":"BK-77414","room_name":"Deluxe Room","room_price":"205.00","current_checkout":"June 07 (Saturday)","current_checkout_date":"2025-06-07"}},"state":"selecting_extend_date","lang":"af"}}
INFO 2025-06-03 21:07:43,295 views User input: 08/06/2025
INFO 2025-06-03 21:07:43,295 views Current session state: selecting_extend_date
INFO 2025-06-03 21:07:43,301 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'extend_booking_id': 'BK-77414', 'booking_to_extend': {'id': 30, 'booking_id': 'BK-77414', 'room_name': 'Deluxe Room', 'room_price': '205.00', 'current_checkout': 'June 07 (Saturday)', 'current_checkout_date': '2025-06-07'}}
INFO 2025-06-03 21:07:43,870 dialog_manager Using device: cpu
WARNING 2025-06-03 21:07:43,870 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:07:43,870 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:07:43,870 dialog_manager Processing message: 08/06/2025
INFO 2025-06-03 21:07:43,870 dialog_manager Processing input: 08/06/2025
INFO 2025-06-03 21:07:43,870 dialog_manager Using language: af
INFO 2025-06-03 21:07:43,870 dialog_manager Detecting intent for input: 08/06/2025
INFO 2025-06-03 21:07:43,870 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-06-03 21:07:43,870 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:07:43,887 models Booking saved: BK-77414 for chienshoajun
INFO 2025-06-03 21:07:43,887 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-03 21:07:43,889 views Updated session state: greeting
INFO 2025-06-03 21:07:43,889 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-03 21:07:43,889 views Generated response: Good news! We have extended your stay to June 08, with an additional fee of RM205.00 (1 night  RM205.00/night). Looking forward to your continued stay!
INFO 2025-06-03 21:07:43,889 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:07:43,889 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 266
INFO 2025-06-03 21:07:55,819 views Database connection successful
INFO 2025-06-03 21:07:55,819 views Received chat request at 2025-06-03 21:07:55.819207
DEBUG 2025-06-03 21:07:55,819 views Request headers: {'Content-Length': '106', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:07:55,819 views Request body: {"message":"thanks","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:07:55,819 views User input: thanks
INFO 2025-06-03 21:07:55,827 views Current session state: greeting
INFO 2025-06-03 21:07:55,829 views Current user data: {'is_returning_customer': True}
INFO 2025-06-03 21:07:56,441 dialog_manager Using device: cpu
WARNING 2025-06-03 21:07:56,441 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:07:56,442 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:07:56,443 dialog_manager Processing message: thanks
INFO 2025-06-03 21:07:56,444 dialog_manager Processing input: thanks
INFO 2025-06-03 21:07:56,444 dialog_manager Using language: af
INFO 2025-06-03 21:07:56,444 dialog_manager Detecting intent for input: thanks
INFO 2025-06-03 21:07:56,456 dialog_manager Detected intent: unknown
INFO 2025-06-03 21:08:02,751 dialog_manager Sentiment analysis: Neutral (confidence: 0.58)
INFO 2025-06-03 21:08:02,755 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-06-03 21:08:02,755 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:08:02,755 views Updated session state: greeting
INFO 2025-06-03 21:08:02,755 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:08:02,755 views Generated response: I'm not sure I understand.
INFO 2025-06-03 21:08:02,755 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:08:02,755 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:08:02,868 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 179
INFO 2025-06-03 21:08:21,145 views Database connection successful
INFO 2025-06-03 21:08:21,145 views Received chat request at 2025-06-03 21:08:21.145420
DEBUG 2025-06-03 21:08:21,145 views Request headers: {'Content-Length': '148', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:08:21,145 views Request body: {"message":"fuck you","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:08:21,145 views User input: fuck you
INFO 2025-06-03 21:08:21,145 views Current session state: greeting
INFO 2025-06-03 21:08:21,145 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11}
INFO 2025-06-03 21:08:21,765 dialog_manager Using device: cpu
WARNING 2025-06-03 21:08:21,765 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:08:21,765 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:08:21,765 dialog_manager Processing message: fuck you
INFO 2025-06-03 21:08:21,765 dialog_manager Processing input: fuck you
INFO 2025-06-03 21:08:21,772 dialog_manager Using language: af
INFO 2025-06-03 21:08:21,773 dialog_manager Detecting intent for input: fuck you
INFO 2025-06-03 21:08:21,784 dialog_manager Detected intent: unknown
INFO 2025-06-03 21:08:25,137 dialog_manager Sentiment analysis: Negative (confidence: 0.94)
INFO 2025-06-03 21:08:25,151 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:08:25,153 views Updated session state: greeting
INFO 2025-06-03 21:08:25,153 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:08:25,153 views Generated response: I'm not sure I understand.
INFO 2025-06-03 21:08:25,153 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:08:25,153 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:08:25,222 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 299
INFO 2025-06-03 21:08:35,698 views Database connection successful
INFO 2025-06-03 21:08:35,702 views Received chat request at 2025-06-03 21:08:35.702486
DEBUG 2025-06-03 21:08:35,702 views Request headers: {'Content-Length': '151', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:08:35,705 views Request body: {"message":"gvhvgyvfuyt","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:08:35,705 views User input: gvhvgyvfuyt
INFO 2025-06-03 21:08:35,705 views Current session state: greeting
INFO 2025-06-03 21:08:35,705 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11}
INFO 2025-06-03 21:08:36,261 dialog_manager Using device: cpu
WARNING 2025-06-03 21:08:36,261 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:08:36,261 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:08:36,261 dialog_manager Processing message: gvhvgyvfuyt
INFO 2025-06-03 21:08:36,261 dialog_manager Processing input: gvhvgyvfuyt
INFO 2025-06-03 21:08:36,261 dialog_manager Using language: af
INFO 2025-06-03 21:08:36,261 dialog_manager Detecting intent for input: gvhvgyvfuyt
INFO 2025-06-03 21:08:36,273 dialog_manager Invalid input detected: excessive_consonants
INFO 2025-06-03 21:08:36,273 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:08:39,313 dialog_manager Sentiment analysis: Neutral (confidence: 0.65)
INFO 2025-06-03 21:08:39,327 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:08:39,327 views Updated session state: greeting
INFO 2025-06-03 21:08:39,329 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:08:39,335 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:08:39,335 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:08:39,406 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 702
INFO 2025-06-03 21:08:59,701 views Database connection successful
INFO 2025-06-03 21:08:59,701 views Received chat request at 2025-06-03 21:08:59.701025
DEBUG 2025-06-03 21:08:59,701 views Request headers: {'Content-Length': '145', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:08:59,705 views Request body: {"message":"aaaaa","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:08:59,706 views User input: aaaaa
INFO 2025-06-03 21:08:59,707 views Current session state: greeting
INFO 2025-06-03 21:08:59,707 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11}
INFO 2025-06-03 21:09:00,290 dialog_manager Using device: cpu
WARNING 2025-06-03 21:09:00,290 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:09:00,290 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:09:00,292 dialog_manager Processing message: aaaaa
INFO 2025-06-03 21:09:00,292 dialog_manager Processing input: aaaaa
INFO 2025-06-03 21:09:00,292 dialog_manager Using language: af
INFO 2025-06-03 21:09:00,292 dialog_manager Detecting intent for input: aaaaa
INFO 2025-06-03 21:09:00,292 dialog_manager Invalid input detected: repetitive
INFO 2025-06-03 21:09:00,292 dialog_manager Detected intent: invalid_input
INFO 2025-06-03 21:09:03,310 dialog_manager Sentiment analysis: Neutral (confidence: 0.58)
INFO 2025-06-03 21:09:03,317 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:09:03,318 views Updated session state: greeting
INFO 2025-06-03 21:09:03,319 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:09:03,328 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:09:03,328 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:09:03,405 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 702
INFO 2025-06-03 21:09:13,294 views Database connection successful
INFO 2025-06-03 21:09:13,294 views Received chat request at 2025-06-03 21:09:13.294875
DEBUG 2025-06-03 21:09:13,301 views Request headers: {'Content-Length': '141', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:09:13,303 views Request body: {"message":"1","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:09:13,303 views User input: 1
INFO 2025-06-03 21:09:13,303 views Current session state: greeting
INFO 2025-06-03 21:09:13,303 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11}
INFO 2025-06-03 21:09:13,884 dialog_manager Using device: cpu
WARNING 2025-06-03 21:09:13,884 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:09:13,884 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:09:13,884 dialog_manager Processing message: 1
INFO 2025-06-03 21:09:13,884 dialog_manager Processing input: 1
INFO 2025-06-03 21:09:13,884 dialog_manager Using language: af
INFO 2025-06-03 21:09:13,888 dialog_manager Detecting intent for input: 1
INFO 2025-06-03 21:09:13,897 dialog_manager Detected intent: unknown
INFO 2025-06-03 21:09:17,344 dialog_manager Sentiment analysis: Neutral (confidence: 0.50)
INFO 2025-06-03 21:09:17,344 dialog_manager Generated response: I'm not sure I understand.
INFO 2025-06-03 21:09:17,344 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:09:17,344 views Updated session state: greeting
INFO 2025-06-03 21:09:17,344 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:09:17,344 views Generated response: I'm not sure I understand.
INFO 2025-06-03 21:09:17,344 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:09:17,357 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:09:17,425 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 179
INFO 2025-06-03 21:09:31,080 views Database connection successful
INFO 2025-06-03 21:09:31,085 views Received chat request at 2025-06-03 21:09:31.085112
DEBUG 2025-06-03 21:09:31,085 views Request headers: {'Content-Length': '151', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'b384BwgUW1zGwvPrLprHTaYHbS5RDuZE', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0', 'Sec-Ch-Ua': '"Chromium";v="136", "Microsoft Edge";v="136", "Not.A/Brand";v="99"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'messages=.eJzNkDELwjAQhf_KmTlDKYg4KkhRSpcKIqWUeJ5pa3oHphH89wbEwUFcHDrc9t73Pq6qVNP0XrgZyHtjSelEp3OtjhKgNXeCExGDE2vpDBJG8AExRi_BucdMaaVq_Y1xIIcyRITBq4Z9Xv7I_2NzhSiBR8AbmTHWP6rwNsq3RbaOV26KbDJSu_imvGM7GSEmF7vJMl1MRgnbjti3YvrAL2D9BNT17Hk:1uMRK7:6aegEF-dv0qrrCsJGxAx7sEZNoRVfNbEdentpW0oxbw; csrftoken=b384BwgUW1zGwvPrLprHTaYHbS5RDuZE; sessionid=nnltptfqsa8lztvznnvksiy3crpcomgx'}
DEBUG 2025-06-03 21:09:31,087 views Request body: {"message":"Book a room","session":{"user_data":{"is_returning_customer":false,"username":"chienshoajun","user_id":11},"state":"greeting","lang":"af"}}
INFO 2025-06-03 21:09:31,089 views User input: Book a room
INFO 2025-06-03 21:09:31,089 views Current session state: greeting
INFO 2025-06-03 21:09:31,091 views Current user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11}
INFO 2025-06-03 21:09:31,685 dialog_manager Using device: cpu
WARNING 2025-06-03 21:09:31,691 dialog_manager Using basic NLP functionality only
INFO 2025-06-03 21:09:31,691 dialog_manager DialogManager initialized successfully
INFO 2025-06-03 21:09:31,691 dialog_manager Processing message: Book a room
INFO 2025-06-03 21:09:31,691 dialog_manager Processing input: Book a room
INFO 2025-06-03 21:09:31,691 dialog_manager Using language: af
INFO 2025-06-03 21:09:31,691 dialog_manager Detecting intent for input: Book a room
INFO 2025-06-03 21:09:31,702 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-03 21:09:31,708 dialog_manager Detected intent: booking
INFO 2025-06-03 21:09:31,708 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-03 21:09:31,708 dialog_manager Extracting dates from: Book a room
WARNING 2025-06-03 21:09:31,708 dialog_manager No dates found
INFO 2025-06-03 21:09:31,708 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:09:31,708 views Updated session state: collecting_booking_info
INFO 2025-06-03 21:09:31,708 views Updated user data: {'is_returning_customer': False, 'username': 'chienshoajun', 'user_id': 11, 'user': <SimpleLazyObject: <User: chienshoajun>>}
INFO 2025-06-03 21:09:31,715 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-03 21:09:31,715 views Removed User object from session for JSON serialization
INFO 2025-06-03 21:09:31,724 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 260
INFO 2025-06-03 21:10:06,830 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24680
INFO 2025-06-03 21:10:08,787 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12189
INFO 2025-06-03 21:10:28,052 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24680
INFO 2025-06-04 15:22:20,514 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-06-04 15:22:36,281 autoreload Watching for file changes with StatReloader
INFO 2025-06-04 15:23:07,123 middleware Admin user found: admin
INFO 2025-06-04 15:23:51,460 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-06-04 15:23:55,133 autoreload Watching for file changes with StatReloader
INFO 2025-06-04 15:24:03,915 middleware Admin user found: admin
INFO 2025-06-04 15:24:22,427 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-06-04 15:24:24,854 autoreload Watching for file changes with StatReloader
INFO 2025-06-04 15:24:32,649 middleware Admin user found: admin
INFO 2025-06-04 15:37:33,857 basehttp - Broken pipe from ('127.0.0.1', 63671)
INFO 2025-06-04 15:37:33,862 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24680
INFO 2025-06-04 15:37:33,965 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-04 15:37:33,966 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-04 15:37:33,999 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
INFO 2025-06-04 15:37:43,874 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-04 15:37:43,881 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24513
INFO 2025-06-04 15:43:42,212 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-06-04 15:43:45,702 autoreload Watching for file changes with StatReloader
INFO 2025-06-04 15:43:53,421 middleware Admin user found: admin
INFO 2025-06-04 15:44:18,403 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\views.py changed, reloading.
INFO 2025-06-04 15:44:20,678 autoreload Watching for file changes with StatReloader
INFO 2025-06-04 15:44:26,168 middleware Admin user found: admin
INFO 2025-06-04 15:45:15,490 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\project\settings.py changed, reloading.
INFO 2025-06-04 15:45:16,912 autoreload Watching for file changes with StatReloader
INFO 2025-06-04 15:45:23,383 middleware Admin user found: admin
INFO 2025-06-04 15:47:20,727 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24367
INFO 2025-06-04 15:47:22,597 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-04 15:47:30,282 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-04 15:47:30,307 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24795
INFO 2025-06-04 15:47:32,426 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12296
INFO 2025-06-04 15:47:34,320 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-04 15:47:34,336 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24367
INFO 2025-06-04 15:47:35,311 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-04 15:48:21,906 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16539
INFO 2025-06-04 15:48:36,818 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-04 15:48:36,828 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24798
INFO 2025-06-04 15:48:39,159 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-04 15:48:40,417 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12429
INFO 2025-06-04 15:48:41,051 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 17329
INFO 2025-06-04 15:49:32,822 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24798
INFO 2025-06-04 15:54:50,006 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25368
INFO 2025-06-04 15:54:56,464 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-04 15:54:56,488 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25238
INFO 2025-06-04 15:55:02,186 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-04 15:55:08,846 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-04 15:55:08,859 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25646
INFO 2025-06-04 15:55:14,754 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12241
INFO 2025-06-04 15:55:15,810 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12426
INFO 2025-06-04 15:55:16,544 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-04 15:55:18,266 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12296
INFO 2025-06-04 15:55:19,725 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25365
INFO 2025-06-09 20:33:54,557 autoreload Watching for file changes with StatReloader
INFO 2025-06-09 20:34:17,536 middleware Admin user found: admin
INFO 2025-06-09 20:51:04,890 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25365
INFO 2025-06-09 20:51:04,930 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25365
INFO 2025-06-09 20:51:04,973 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:04,975 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:05,000 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-06-09 20:51:05,249 log Not Found: /favicon.ico
WARNING 2025-06-09 20:51:05,249 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-09 20:51:11,971 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-09 20:51:11,987 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25238
INFO 2025-06-09 20:51:24,582 basehttp "GET /admin/ HTTP/1.1" 200 13939
INFO 2025-06-09 20:51:24,653 basehttp "GET /static/admin/css/dark_mode.css HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,654 basehttp "GET /static/admin/css/base.css HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,660 basehttp "GET /static/admin/js/theme.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,678 basehttp "GET /static/admin/css/nav_sidebar.css HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,682 basehttp "GET /static/admin/css/dashboard.css HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,684 basehttp "GET /static/admin/css/responsive.css HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,707 basehttp "GET /static/admin/js/nav_sidebar.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,742 basehttp "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,756 basehttp "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:24,756 basehttp "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 304 0
WARNING 2025-06-09 20:51:25,421 log Not Found: /favicon.ico
WARNING 2025-06-09 20:51:25,422 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-09 20:51:26,348 basehttp "GET /admin/ HTTP/1.1" 200 13939
INFO 2025-06-09 20:51:28,085 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 18466
INFO 2025-06-09 20:51:28,115 basehttp "GET /static/admin/css/changelists.css HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,115 basehttp "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,125 basehttp "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,125 basehttp "GET /static/admin/js/actions.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,136 basehttp "GET /static/admin/js/core.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,144 basehttp "GET /static/admin/js/jquery.init.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,145 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 20:51:28,145 basehttp "GET /static/admin/js/urlify.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,147 basehttp "GET /static/admin/js/prepopulate.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,151 basehttp "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,159 basehttp "GET /static/admin/img/search.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,160 basehttp "GET /static/admin/img/icon-no.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,171 basehttp "GET /static/admin/js/filters.js HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,175 basehttp "GET /static/admin/img/icon-yes.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,196 basehttp "GET /static/admin/img/icon-viewlink.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,196 basehttp "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:28,197 basehttp "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 304 0
INFO 2025-06-09 20:51:32,283 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 18602
INFO 2025-06-09 20:51:32,318 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 20:51:39,995 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-09 20:51:40,931 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-09 20:51:42,073 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11813
INFO 2025-06-09 20:51:42,814 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 11998
INFO 2025-06-09 20:51:43,848 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-09 20:51:44,600 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 11998
INFO 2025-06-09 20:51:46,536 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11813
INFO 2025-06-09 20:51:47,332 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-09 20:58:34,935 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24937
INFO 2025-06-09 21:15:32,270 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24937
INFO 2025-06-09 21:15:43,200 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-09 21:15:54,238 basehttp "POST /hotel_booking/login/ HTTP/1.1" 200 10573
INFO 2025-06-09 21:16:03,618 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-09 21:16:03,637 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25895
INFO 2025-06-09 21:16:09,085 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-09 21:16:13,630 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25365
INFO 2025-06-09 21:16:17,534 basehttp "GET /hotel_booking/room/1/ HTTP/1.1" 200 11655
INFO 2025-06-09 21:16:22,258 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-09 21:18:08,941 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-09 21:18:11,557 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-09 21:18:11,564 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25238
INFO 2025-06-09 21:18:43,497 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-09 21:18:45,218 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-09 21:18:56,537 basehttp "POST /hotel_booking/login/ HTTP/1.1" 200 10573
INFO 2025-06-09 21:19:02,099 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-09 21:19:02,110 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25895
INFO 2025-06-09 21:19:03,326 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-09 21:19:06,619 views Database connection successful
INFO 2025-06-09 21:19:06,619 views Received chat request at 2025-06-09 21:19:06.619732
DEBUG 2025-06-09 21:19:06,619 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:19:06,628 views Request body: {"message":"Hello","session":{}}
INFO 2025-06-09 21:19:06,628 views User input: Hello
INFO 2025-06-09 21:19:06,628 views Current session state: None
INFO 2025-06-09 21:19:06,628 views Current user data: None
INFO 2025-06-09 21:19:08,226 dialog_manager Using device: cpu
WARNING 2025-06-09 21:19:08,226 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:19:08,236 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:19:08,244 dialog_manager Processing message: Hello
INFO 2025-06-09 21:19:08,246 dialog_manager Processing input: Hello
INFO 2025-06-09 21:19:09,228 dialog_manager Using language: en
INFO 2025-06-09 21:19:09,228 dialog_manager Detecting intent for input: Hello
INFO 2025-06-09 21:19:09,266 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-09 21:19:09,266 dialog_manager Detected intent: greeting
INFO 2025-06-09 21:19:38,968 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-06-09 21:19:38,968 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-09 21:19:39,035 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:19:39,035 views Updated session state: greeting
INFO 2025-06-09 21:19:39,035 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:19:39,035 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-09 21:19:39,035 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:19:39,035 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:19:39,121 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 187
INFO 2025-06-09 21:19:46,915 views Database connection successful
INFO 2025-06-09 21:19:46,915 views Received chat request at 2025-06-09 21:19:46.915588
DEBUG 2025-06-09 21:19:46,915 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:19:46,915 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"greeting","lang":"fi"}}
INFO 2025-06-09 21:19:46,915 views User input: i want booking room
INFO 2025-06-09 21:19:46,915 views Current session state: greeting
INFO 2025-06-09 21:19:46,915 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-09 21:19:47,623 dialog_manager Using device: cpu
WARNING 2025-06-09 21:19:47,623 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:19:47,628 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:19:47,628 dialog_manager Processing message: i want booking room
INFO 2025-06-09 21:19:47,628 dialog_manager Processing input: i want booking room
INFO 2025-06-09 21:19:47,632 dialog_manager Using language: fi
INFO 2025-06-09 21:19:47,632 dialog_manager Detecting intent for input: i want booking room
INFO 2025-06-09 21:19:47,646 dialog_manager Booking intent detected
INFO 2025-06-09 21:19:47,646 dialog_manager Detected intent: booking
INFO 2025-06-09 21:19:47,647 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 21:19:47,651 dialog_manager Extracting dates from: i want booking room
WARNING 2025-06-09 21:19:47,651 dialog_manager No dates found
INFO 2025-06-09 21:19:47,651 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:19:47,651 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:19:47,651 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:19:47,715 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:19:47,715 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:19:47,715 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-06-09 21:19:53,355 views Database connection successful
INFO 2025-06-09 21:19:53,355 views Received chat request at 2025-06-09 21:19:53.355974
DEBUG 2025-06-09 21:19:53,361 views Request headers: {'Content-Length': '148', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:19:53,361 views Request body: {"message":"TLS","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-09 21:19:53,364 views User input: TLS
INFO 2025-06-09 21:19:53,364 views Current session state: collecting_booking_info
INFO 2025-06-09 21:19:53,366 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-09 21:19:53,955 dialog_manager Using device: cpu
WARNING 2025-06-09 21:19:53,955 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:19:53,955 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:19:53,955 dialog_manager Processing message: TLS
INFO 2025-06-09 21:19:53,955 dialog_manager Processing input: TLS
INFO 2025-06-09 21:19:53,955 dialog_manager Using language: fi
INFO 2025-06-09 21:19:53,955 dialog_manager Detecting intent for input: TLS
INFO 2025-06-09 21:19:53,972 dialog_manager Detected intent: unknown
INFO 2025-06-09 21:19:53,972 dialog_manager Extracted name: TLS
INFO 2025-06-09 21:19:53,977 dialog_manager Extracting dates from: TLS
WARNING 2025-06-09 21:19:53,977 dialog_manager No dates found
INFO 2025-06-09 21:19:53,977 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-06-09 21:19:53,982 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-06-09 21:19:53,982 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:19:53,983 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'TLS'}
INFO 2025-06-09 21:19:53,996 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:19:53,996 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:19:53,998 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 272
INFO 2025-06-09 21:20:04,485 views Database connection successful
INFO 2025-06-09 21:20:04,485 views Received chat request at 2025-06-09 21:20:04.485672
DEBUG 2025-06-09 21:20:04,485 views Request headers: {'Content-Length': '175', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:20:04,485 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-09 21:20:04,485 views User input: 01158763903
INFO 2025-06-09 21:20:04,485 views Current session state: collecting_booking_info
INFO 2025-06-09 21:20:04,485 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS'}
INFO 2025-06-09 21:20:05,047 dialog_manager Using device: cpu
WARNING 2025-06-09 21:20:05,047 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:20:05,047 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:20:05,047 dialog_manager Processing message: 01158763903
INFO 2025-06-09 21:20:05,047 dialog_manager Processing input: 01158763903
INFO 2025-06-09 21:20:05,047 dialog_manager Using language: fi
INFO 2025-06-09 21:20:05,047 dialog_manager Detecting intent for input: 01158763903
INFO 2025-06-09 21:20:05,047 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-09 21:20:05,047 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 21:20:05,047 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-06-09 21:20:05,047 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-09 21:20:05,047 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-09 21:20:05,057 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:20:05,057 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-09 21:20:05,077 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:20:05,077 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:20:05,081 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 293
INFO 2025-06-09 21:20:22,831 views Database connection successful
INFO 2025-06-09 21:20:22,831 views Received chat request at 2025-06-09 21:20:22.831678
DEBUG 2025-06-09 21:20:22,831 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:20:22,831 views Request body: {"message":"marco9043@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-09 21:20:22,836 views User input: marco9043@gmail.com
INFO 2025-06-09 21:20:22,836 views Current session state: collecting_booking_info
INFO 2025-06-09 21:20:22,836 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903'}
INFO 2025-06-09 21:20:23,431 dialog_manager Using device: cpu
WARNING 2025-06-09 21:20:23,433 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:20:23,433 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:20:23,433 dialog_manager Processing message: marco9043@gmail.com
INFO 2025-06-09 21:20:23,433 dialog_manager Processing input: marco9043@gmail.com
INFO 2025-06-09 21:20:23,433 dialog_manager Using language: fi
INFO 2025-06-09 21:20:23,433 dialog_manager Detecting intent for input: marco9043@gmail.com
INFO 2025-06-09 21:20:23,439 dialog_manager Detected intent: unknown
INFO 2025-06-09 21:20:23,445 dialog_manager Extracted standalone email: marco9043@gmail.com
INFO 2025-06-09 21:20:23,446 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-06-09 21:20:23,446 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-06-09 21:20:23,448 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:20:23,448 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'marco9043@gmail.com'}
INFO 2025-06-09 21:20:23,454 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:20:23,454 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:20:23,461 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 745
INFO 2025-06-09 21:20:42,606 views Database connection successful
INFO 2025-06-09 21:20:42,606 views Received chat request at 2025-06-09 21:20:42.606898
DEBUG 2025-06-09 21:20:42,606 views Request headers: {'Content-Length': '222', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:20:42,606 views Request body: {"message":"deluxe","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-09 21:20:42,606 views User input: deluxe
INFO 2025-06-09 21:20:42,606 views Current session state: collecting_booking_info
INFO 2025-06-09 21:20:42,606 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com'}
INFO 2025-06-09 21:20:43,164 dialog_manager Using device: cpu
WARNING 2025-06-09 21:20:43,164 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:20:43,164 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:20:43,164 dialog_manager Processing message: deluxe
INFO 2025-06-09 21:20:43,173 dialog_manager Processing input: deluxe
INFO 2025-06-09 21:20:43,173 dialog_manager Using language: fi
INFO 2025-06-09 21:20:43,173 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-09 21:20:43,182 dialog_manager Detected intent: unknown
INFO 2025-06-09 21:20:43,184 dialog_manager Extracting dates from: deluxe
WARNING 2025-06-09 21:20:43,186 dialog_manager No dates found
INFO 2025-06-09 21:20:43,186 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 21:20:43,186 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 21:20:43,186 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 21:20:43,186 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:20:43,186 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 21:20:43,201 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:20:43,201 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:20:43,201 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 395
INFO 2025-06-09 21:20:53,591 views Database connection successful
INFO 2025-06-09 21:20:53,591 views Received chat request at 2025-06-09 21:20:53.591955
DEBUG 2025-06-09 21:20:53,591 views Request headers: {'Content-Length': '249', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:20:53,591 views Request body: {"message":"next tuesday","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-09 21:20:53,591 views User input: next tuesday
INFO 2025-06-09 21:20:53,591 views Current session state: collecting_booking_info
INFO 2025-06-09 21:20:53,602 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-06-09 21:20:54,173 dialog_manager Using device: cpu
WARNING 2025-06-09 21:20:54,173 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:20:54,173 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:20:54,180 dialog_manager Processing message: next tuesday
INFO 2025-06-09 21:20:54,180 dialog_manager Processing input: next tuesday
INFO 2025-06-09 21:20:54,180 dialog_manager Using language: fi
INFO 2025-06-09 21:20:54,180 dialog_manager Detecting intent for input: next tuesday
INFO 2025-06-09 21:20:54,191 dialog_manager Detected intent: unknown
INFO 2025-06-09 21:20:54,191 dialog_manager Extracting dates from: next tuesday
INFO 2025-06-09 21:20:54,191 dialog_manager Extracted 'next tuesday' date: 2025-06-17 21:20:54.191040
INFO 2025-06-09 21:20:54,191 dialog_manager Single date result: {'check_in': '2025-06-17', 'check_out': '2025-06-18'}
INFO 2025-06-09 21:20:54,191 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}
INFO 2025-06-09 21:20:54,203 models Booking saved: BK-75681 for TLS
INFO 2025-06-09 21:20:54,203 dialog_manager Booking created successfully: ID=31, Booking_ID=BK-75681
INFO 2025-06-09 21:20:54,203 dialog_manager Booking record created successfully: BK-75681
INFO 2025-06-09 21:20:54,208 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-75681'}
INFO 2025-06-09 21:20:54,208 views Updated session state: offering_addons
INFO 2025-06-09 21:20:54,209 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-75681'}
INFO 2025-06-09 21:20:54,209 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-09 21:20:54,209 views Booking confirmation check - State: offering_addons, Booking ID: BK-75681, Previous ID: BK-75681, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:20:54,210 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:20:54,211 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1239
INFO 2025-06-09 21:20:54,219 basehttp "GET /media/payment/QR%20Bank.jpeg HTTP/1.1" 304 0
INFO 2025-06-09 21:21:36,021 views Database connection successful
INFO 2025-06-09 21:21:36,025 views Received chat request at 2025-06-09 21:21:36.025972
DEBUG 2025-06-09 21:21:36,026 views Request headers: {'Content-Length': '321', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:21:36,026 views Request body: {"message":"no thanks","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"TLS","phone":"01158763903","email":"marco9043@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-75681"},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-09 21:21:36,029 views User input: no thanks
INFO 2025-06-09 21:21:36,029 views Current session state: offering_addons
INFO 2025-06-09 21:21:36,029 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'TLS', 'phone': '01158763903', 'email': 'marco9043@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-75681'}
INFO 2025-06-09 21:21:36,615 dialog_manager Using device: cpu
WARNING 2025-06-09 21:21:36,615 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:21:36,615 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:21:36,615 dialog_manager Processing message: no thanks
INFO 2025-06-09 21:21:36,620 dialog_manager Processing input: no thanks
INFO 2025-06-09 21:21:36,620 dialog_manager Using language: fi
INFO 2025-06-09 21:21:36,623 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-09 21:21:36,631 dialog_manager Gratitude intent detected
INFO 2025-06-09 21:21:36,631 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 21:21:36,631 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 21:21:36,634 views Updated session state: greeting
INFO 2025-06-09 21:21:36,634 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 21:21:36,634 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-09 21:21:36,634 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:21:36,639 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-09 21:21:55,158 views Database connection successful
INFO 2025-06-09 21:21:55,158 views Received chat request at 2025-06-09 21:21:55.158277
DEBUG 2025-06-09 21:21:55,170 views Request headers: {'Content-Length': '130', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:21:55,170 views Request body: {"message":"i want check my booking status","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-06-09 21:21:55,173 views User input: i want check my booking status
INFO 2025-06-09 21:21:55,173 views Current session state: greeting
INFO 2025-06-09 21:21:55,173 views Current user data: {'is_returning_customer': True}
INFO 2025-06-09 21:21:56,254 dialog_manager Using device: cpu
WARNING 2025-06-09 21:21:56,255 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:21:56,255 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:21:56,255 dialog_manager Processing message: i want check my booking status
INFO 2025-06-09 21:21:56,255 dialog_manager Processing input: i want check my booking status
INFO 2025-06-09 21:21:56,255 dialog_manager Using language: fi
INFO 2025-06-09 21:21:56,255 dialog_manager Detecting intent for input: i want check my booking status
INFO 2025-06-09 21:21:56,268 dialog_manager Booking intent detected
INFO 2025-06-09 21:21:56,268 dialog_manager Detected intent: booking
INFO 2025-06-09 21:21:56,280 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:21:56,280 views Updated session state: collecting_booking_info_for_status
INFO 2025-06-09 21:21:56,280 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:21:56,280 views Generated response: Sorry, I couldn't find any booking records for "i want". Please confirm the name spelling or try providing your booking ID instead.
INFO 2025-06-09 21:21:56,280 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:21:56,280 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:21:56,280 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 302
INFO 2025-06-09 21:22:09,793 views Database connection successful
INFO 2025-06-09 21:22:09,794 views Received chat request at 2025-06-09 21:22:09.794411
DEBUG 2025-06-09 21:22:09,795 views Request headers: {'Content-Length': '164', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:22:09,795 views Request body: {"message":"BK-75681","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7},"state":"collecting_booking_info_for_status","lang":"fi"}}
INFO 2025-06-09 21:22:09,795 views User input: BK-75681
INFO 2025-06-09 21:22:09,795 views Current session state: collecting_booking_info_for_status
INFO 2025-06-09 21:22:09,795 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7}
INFO 2025-06-09 21:22:10,340 dialog_manager Using device: cpu
WARNING 2025-06-09 21:22:10,342 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:22:10,342 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:22:10,342 dialog_manager Processing message: BK-75681
INFO 2025-06-09 21:22:10,342 dialog_manager Processing input: BK-75681
INFO 2025-06-09 21:22:10,342 dialog_manager Using language: fi
INFO 2025-06-09 21:22:10,342 dialog_manager Detecting intent for input: BK-75681
INFO 2025-06-09 21:22:10,342 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 21:22:10,342 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 21:22:10,350 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 31, 'booking_id': 'BK-75681', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-09 21:22:10,350 views Updated session state: greeting
INFO 2025-06-09 21:22:10,350 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 31, 'booking_id': 'BK-75681', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-09 21:22:10,362 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:22:10,365 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 718
INFO 2025-06-09 21:22:44,966 views Database connection successful
INFO 2025-06-09 21:22:44,966 views Received chat request at 2025-06-09 21:22:44.966676
DEBUG 2025-06-09 21:22:44,966 views Request headers: {'Content-Length': '290', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=Y2NR2cJnvBKMOx1u1CYQUJzCcIZU07Sn; sessionid=bkdtx25atu21jk2vsotshkiukngt7nbl'}
DEBUG 2025-06-09 21:22:44,966 views Request body: {"message":"thank you","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":31,"booking_id":"BK-75681","guest_name":"TLS","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18","status":"confirmed"}},"state":"greeting","lang":"fi"}}
INFO 2025-06-09 21:22:44,966 views User input: thank you
INFO 2025-06-09 21:22:44,966 views Current session state: greeting
INFO 2025-06-09 21:22:44,966 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 31, 'booking_id': 'BK-75681', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}}
INFO 2025-06-09 21:22:45,526 dialog_manager Using device: cpu
WARNING 2025-06-09 21:22:45,526 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:22:45,526 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:22:45,526 dialog_manager Processing message: thank you
INFO 2025-06-09 21:22:45,526 dialog_manager Processing input: thank you
INFO 2025-06-09 21:22:45,526 dialog_manager Using language: fi
INFO 2025-06-09 21:22:45,531 dialog_manager Detecting intent for input: thank you
INFO 2025-06-09 21:22:45,541 dialog_manager Gratitude intent detected
INFO 2025-06-09 21:22:45,541 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 21:22:50,246 dialog_manager Sentiment analysis: Positive (confidence: 0.79)
INFO 2025-06-09 21:22:50,246 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 31, 'booking_id': 'BK-75681', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:22:50,246 views Updated session state: greeting
INFO 2025-06-09 21:22:50,246 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 31, 'booking_id': 'BK-75681', 'guest_name': 'TLS', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-09 21:22:50,246 views Generated response: You're welcome! I'm glad I could help with your booking. Is there anything else you'd like to know about your reservation or our hotel services?
INFO 2025-06-09 21:22:50,246 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:22:50,246 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:22:50,327 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 537
INFO 2025-06-09 21:24:01,072 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-09 21:24:01,090 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25238
INFO 2025-06-09 21:24:52,742 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-09 21:26:04,568 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-09 21:26:04,579 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25674
INFO 2025-06-09 21:26:09,189 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17286
INFO 2025-06-09 21:26:27,380 views Database connection successful
INFO 2025-06-09 21:26:27,382 views Received chat request at 2025-06-09 21:26:27.382165
DEBUG 2025-06-09 21:26:27,384 views Request headers: {'Content-Length': '49', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:26:27,385 views Request body: {"message":"Hi, i wan booking room","session":{}}
INFO 2025-06-09 21:26:27,387 views User input: Hi, i wan booking room
INFO 2025-06-09 21:26:27,388 views Current session state: None
INFO 2025-06-09 21:26:27,388 views Current user data: None
INFO 2025-06-09 21:26:27,946 dialog_manager Using device: cpu
WARNING 2025-06-09 21:26:27,946 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:26:27,946 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:26:27,946 dialog_manager Processing message: Hi, i wan booking room
INFO 2025-06-09 21:26:27,946 dialog_manager Processing input: Hi, i wan booking room
INFO 2025-06-09 21:26:27,965 dialog_manager Using language: en
INFO 2025-06-09 21:26:27,965 dialog_manager Detecting intent for input: Hi, i wan booking room
INFO 2025-06-09 21:26:27,975 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-09 21:26:27,975 dialog_manager Detected intent: greeting
INFO 2025-06-09 21:26:31,522 dialog_manager Sentiment analysis: Neutral (confidence: 0.83)
INFO 2025-06-09 21:26:31,522 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-09 21:26:31,528 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>}
INFO 2025-06-09 21:26:31,528 views Updated session state: greeting
INFO 2025-06-09 21:26:31,528 views Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>}
INFO 2025-06-09 21:26:31,528 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-09 21:26:31,539 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:26:31,540 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:26:31,617 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 190
INFO 2025-06-09 21:26:52,814 views Database connection successful
INFO 2025-06-09 21:26:52,814 views Received chat request at 2025-06-09 21:26:52.814121
DEBUG 2025-06-09 21:26:52,814 views Request headers: {'Content-Length': '163', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:26:52,814 views Request body: {"message":"i want book for next saturday.","session":{"user_data":{"username":"sunee","is_returning_customer":false,"user_id":13},"state":"greeting","lang":"af"}}
INFO 2025-06-09 21:26:52,822 views User input: i want book for next saturday.
INFO 2025-06-09 21:26:52,822 views Current session state: greeting
INFO 2025-06-09 21:26:52,822 views Current user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13}
INFO 2025-06-09 21:26:53,389 dialog_manager Using device: cpu
WARNING 2025-06-09 21:26:53,389 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:26:53,389 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:26:53,393 dialog_manager Processing message: i want book for next saturday.
INFO 2025-06-09 21:26:53,393 dialog_manager Processing input: i want book for next saturday.
INFO 2025-06-09 21:26:53,393 dialog_manager Using language: af
INFO 2025-06-09 21:26:53,393 dialog_manager Detecting intent for input: i want book for next saturday.
INFO 2025-06-09 21:26:53,393 dialog_manager Booking intent detected
INFO 2025-06-09 21:26:53,393 dialog_manager Detected intent: booking
INFO 2025-06-09 21:26:53,403 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 21:26:53,404 dialog_manager Extracting dates from: i want book for next saturday.
INFO 2025-06-09 21:26:53,405 dialog_manager Extracted 'next saturday' date: 2025-06-21 21:26:53.405043
INFO 2025-06-09 21:26:53,406 dialog_manager Single date result: {'check_in': '2025-06-21', 'check_out': '2025-06-22'}
INFO 2025-06-09 21:26:53,406 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22'}
INFO 2025-06-09 21:26:53,406 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:26:53,406 views Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22'}
INFO 2025-06-09 21:26:53,416 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:26:53,416 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:26:53,420 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 316
INFO 2025-06-09 21:26:59,659 views Database connection successful
INFO 2025-06-09 21:26:59,660 views Received chat request at 2025-06-09 21:26:59.660966
DEBUG 2025-06-09 21:26:59,660 views Request headers: {'Content-Length': '212', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:26:59,663 views Request body: {"message":"sunee","session":{"user_data":{"username":"sunee","is_returning_customer":false,"user_id":13,"check_in_date":"2025-06-21","check_out_date":"2025-06-22"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-09 21:26:59,663 views User input: sunee
INFO 2025-06-09 21:26:59,663 views Current session state: collecting_booking_info
INFO 2025-06-09 21:26:59,663 views Current user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22'}
INFO 2025-06-09 21:27:00,219 dialog_manager Using device: cpu
WARNING 2025-06-09 21:27:00,219 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:27:00,219 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:27:00,221 dialog_manager Processing message: sunee
INFO 2025-06-09 21:27:00,221 dialog_manager Processing input: sunee
INFO 2025-06-09 21:27:00,221 dialog_manager Using language: af
INFO 2025-06-09 21:27:00,221 dialog_manager Detecting intent for input: sunee
INFO 2025-06-09 21:27:00,228 dialog_manager Detected intent: unknown
INFO 2025-06-09 21:27:00,228 dialog_manager Extracted name: sunee
INFO 2025-06-09 21:27:00,232 dialog_manager Extracting dates from: sunee
WARNING 2025-06-09 21:27:00,233 dialog_manager No dates found
INFO 2025-06-09 21:27:00,233 dialog_manager Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'user': <SimpleLazyObject: <User: sunee>>, 'guest_name': 'sunee'}
INFO 2025-06-09 21:27:00,233 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'user': <SimpleLazyObject: <User: sunee>>, 'guest_name': 'sunee'}
INFO 2025-06-09 21:27:00,233 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:27:00,235 views Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'user': <SimpleLazyObject: <User: sunee>>, 'guest_name': 'sunee'}
INFO 2025-06-09 21:27:00,244 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:27:00,244 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:27:00,250 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 342
INFO 2025-06-09 21:27:08,875 views Database connection successful
INFO 2025-06-09 21:27:08,875 views Received chat request at 2025-06-09 21:27:08.875986
DEBUG 2025-06-09 21:27:08,875 views Request headers: {'Content-Length': '238', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:27:08,881 views Request body: {"message":"0139739730","session":{"user_data":{"username":"sunee","is_returning_customer":false,"user_id":13,"check_in_date":"2025-06-21","check_out_date":"2025-06-22","guest_name":"sunee"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-09 21:27:08,883 views User input: 0139739730
INFO 2025-06-09 21:27:08,883 views Current session state: collecting_booking_info
INFO 2025-06-09 21:27:08,883 views Current user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee'}
INFO 2025-06-09 21:27:09,430 dialog_manager Using device: cpu
WARNING 2025-06-09 21:27:09,430 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:27:09,430 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:27:09,430 dialog_manager Processing message: 0139739730
INFO 2025-06-09 21:27:09,430 dialog_manager Processing input: 0139739730
INFO 2025-06-09 21:27:09,430 dialog_manager Using language: af
INFO 2025-06-09 21:27:09,430 dialog_manager Detecting intent for input: 0139739730
INFO 2025-06-09 21:27:09,430 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-09 21:27:09,430 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 21:27:09,430 dialog_manager Extracted standalone phone: 0139739730
INFO 2025-06-09 21:27:09,430 dialog_manager Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'user': <SimpleLazyObject: <User: sunee>>, 'phone': '0139739730'}
INFO 2025-06-09 21:27:09,430 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'user': <SimpleLazyObject: <User: sunee>>, 'phone': '0139739730'}
INFO 2025-06-09 21:27:09,437 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:27:09,438 views Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'user': <SimpleLazyObject: <User: sunee>>, 'phone': '0139739730'}
INFO 2025-06-09 21:27:09,453 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:27:09,453 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:27:09,455 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 362
INFO 2025-06-09 21:27:20,393 views Database connection successful
INFO 2025-06-09 21:27:20,396 views Received chat request at 2025-06-09 21:27:20.393732
DEBUG 2025-06-09 21:27:20,396 views Request headers: {'Content-Length': '266', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:27:20,396 views Request body: {"message":"hsnee96@gmail.com","session":{"user_data":{"username":"sunee","is_returning_customer":false,"user_id":13,"check_in_date":"2025-06-21","check_out_date":"2025-06-22","guest_name":"sunee","phone":"0139739730"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-09 21:27:20,396 views User input: hsnee96@gmail.com
INFO 2025-06-09 21:27:20,396 views Current session state: collecting_booking_info
INFO 2025-06-09 21:27:20,396 views Current user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730'}
INFO 2025-06-09 21:27:20,984 dialog_manager Using device: cpu
WARNING 2025-06-09 21:27:20,984 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:27:20,984 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:27:20,988 dialog_manager Processing message: hsnee96@gmail.com
INFO 2025-06-09 21:27:20,988 dialog_manager Processing input: hsnee96@gmail.com
INFO 2025-06-09 21:27:20,988 dialog_manager Using language: af
INFO 2025-06-09 21:27:20,988 dialog_manager Detecting intent for input: hsnee96@gmail.com
INFO 2025-06-09 21:27:20,994 dialog_manager Detected intent: unknown
INFO 2025-06-09 21:27:20,994 dialog_manager Extracted standalone email: hsnee96@gmail.com
INFO 2025-06-09 21:27:20,999 dialog_manager Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'user': <SimpleLazyObject: <User: sunee>>, 'email': 'hsnee96@gmail.com'}
INFO 2025-06-09 21:27:21,000 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'user': <SimpleLazyObject: <User: sunee>>, 'email': 'hsnee96@gmail.com'}
INFO 2025-06-09 21:27:21,001 views Updated session state: collecting_booking_info
INFO 2025-06-09 21:27:21,001 views Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'user': <SimpleLazyObject: <User: sunee>>, 'email': 'hsnee96@gmail.com'}
INFO 2025-06-09 21:27:21,009 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:27:21,012 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:27:21,012 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 812
INFO 2025-06-09 21:27:34,956 views Database connection successful
INFO 2025-06-09 21:27:34,959 views Received chat request at 2025-06-09 21:27:34.959657
DEBUG 2025-06-09 21:27:34,959 views Request headers: {'Content-Length': '290', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:27:34,961 views Request body: {"message":"standard room","session":{"user_data":{"username":"sunee","is_returning_customer":false,"user_id":13,"check_in_date":"2025-06-21","check_out_date":"2025-06-22","guest_name":"sunee","phone":"0139739730","email":"hsnee96@gmail.com"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-09 21:27:34,964 views User input: standard room
INFO 2025-06-09 21:27:34,964 views Current session state: collecting_booking_info
INFO 2025-06-09 21:27:34,966 views Current user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'email': 'hsnee96@gmail.com'}
INFO 2025-06-09 21:27:35,534 dialog_manager Using device: cpu
WARNING 2025-06-09 21:27:35,542 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:27:35,542 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:27:35,542 dialog_manager Processing message: standard room
INFO 2025-06-09 21:27:35,542 dialog_manager Processing input: standard room
INFO 2025-06-09 21:27:35,542 dialog_manager Using language: af
INFO 2025-06-09 21:27:35,542 dialog_manager Detecting intent for input: standard room
INFO 2025-06-09 21:27:35,555 dialog_manager Booking intent detected
INFO 2025-06-09 21:27:35,555 dialog_manager Detected intent: booking
INFO 2025-06-09 21:27:35,558 dialog_manager Extracting dates from: standard room
WARNING 2025-06-09 21:27:35,558 dialog_manager No dates found
INFO 2025-06-09 21:27:35,561 dialog_manager Extracted room type: Standard
INFO 2025-06-09 21:27:35,561 dialog_manager Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'email': 'hsnee96@gmail.com', 'user': <SimpleLazyObject: <User: sunee>>, 'room_type': 'Standard'}
INFO 2025-06-09 21:27:35,569 models Booking saved: BK-52970 for sunee
INFO 2025-06-09 21:27:35,569 dialog_manager Booking created successfully: ID=32, Booking_ID=BK-52970
INFO 2025-06-09 21:27:35,569 dialog_manager Booking record created successfully: BK-52970
INFO 2025-06-09 21:27:35,569 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'email': 'hsnee96@gmail.com', 'user': <SimpleLazyObject: <User: sunee>>, 'room_type': 'Standard', 'booking_id': 'BK-52970'}
INFO 2025-06-09 21:27:35,569 views Updated session state: offering_addons
INFO 2025-06-09 21:27:35,569 views Updated user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'email': 'hsnee96@gmail.com', 'user': <SimpleLazyObject: <User: sunee>>, 'room_type': 'Standard', 'booking_id': 'BK-52970'}
INFO 2025-06-09 21:27:35,569 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-09 21:27:35,569 views Booking confirmation check - State: offering_addons, Booking ID: BK-52970, Previous ID: BK-52970, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:27:35,574 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:27:35,578 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1244
INFO 2025-06-09 21:27:48,610 views Database connection successful
INFO 2025-06-09 21:27:48,610 views Received chat request at 2025-06-09 21:27:48.610693
DEBUG 2025-06-09 21:27:48,610 views Request headers: {'Content-Length': '325', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:27:48,614 views Request body: {"message":"no thanks","session":{"user_data":{"username":"sunee","is_returning_customer":false,"user_id":13,"check_in_date":"2025-06-21","check_out_date":"2025-06-22","guest_name":"sunee","phone":"0139739730","email":"hsnee96@gmail.com","room_type":"Standard","booking_id":"BK-52970"},"state":"offering_addons","lang":"af"}}
INFO 2025-06-09 21:27:48,616 views User input: no thanks
INFO 2025-06-09 21:27:48,616 views Current session state: offering_addons
INFO 2025-06-09 21:27:48,616 views Current user data: {'username': 'sunee', 'is_returning_customer': False, 'user_id': 13, 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'guest_name': 'sunee', 'phone': '0139739730', 'email': 'hsnee96@gmail.com', 'room_type': 'Standard', 'booking_id': 'BK-52970'}
INFO 2025-06-09 21:27:49,160 dialog_manager Using device: cpu
WARNING 2025-06-09 21:27:49,160 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:27:49,160 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:27:49,164 dialog_manager Processing message: no thanks
INFO 2025-06-09 21:27:49,164 dialog_manager Processing input: no thanks
INFO 2025-06-09 21:27:49,164 dialog_manager Using language: af
INFO 2025-06-09 21:27:49,164 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-09 21:27:49,176 dialog_manager Gratitude intent detected
INFO 2025-06-09 21:27:49,176 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 21:27:49,181 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 21:27:49,183 views Updated session state: greeting
INFO 2025-06-09 21:27:49,184 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 21:27:49,184 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-09 21:27:49,184 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:27:49,187 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-09 21:28:07,036 views Database connection successful
INFO 2025-06-09 21:28:07,036 views Received chat request at 2025-06-09 21:28:07.036265
DEBUG 2025-06-09 21:28:07,036 views Request headers: {'Content-Length': '133', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:28:07,036 views Request body: {"message":"i want to check my booking status","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-06-09 21:28:07,036 views User input: i want to check my booking status
INFO 2025-06-09 21:28:07,036 views Current session state: greeting
INFO 2025-06-09 21:28:07,036 views Current user data: {'is_returning_customer': True}
INFO 2025-06-09 21:28:07,599 dialog_manager Using device: cpu
WARNING 2025-06-09 21:28:07,599 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:28:07,599 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:28:07,599 dialog_manager Processing message: i want to check my booking status
INFO 2025-06-09 21:28:07,599 dialog_manager Processing input: i want to check my booking status
INFO 2025-06-09 21:28:07,599 dialog_manager Using language: af
INFO 2025-06-09 21:28:07,599 dialog_manager Detecting intent for input: i want to check my booking status
INFO 2025-06-09 21:28:07,618 dialog_manager Booking intent detected
INFO 2025-06-09 21:28:07,618 dialog_manager Detected intent: booking
INFO 2025-06-09 21:28:07,618 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'sunee', 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>}
INFO 2025-06-09 21:28:07,618 views Updated session state: collecting_booking_info_for_status
INFO 2025-06-09 21:28:07,618 views Updated user data: {'is_returning_customer': False, 'username': 'sunee', 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>}
INFO 2025-06-09 21:28:07,618 views Generated response: Sorry, I couldn't find any booking records for "i want". Please confirm the name spelling or try providing your booking ID instead.
INFO 2025-06-09 21:28:07,618 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:28:07,618 views Removed User object from session for JSON serialization
INFO 2025-06-09 21:28:07,635 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 305
INFO 2025-06-09 21:28:24,229 views Database connection successful
INFO 2025-06-09 21:28:24,229 views Received chat request at 2025-06-09 21:28:24.229731
DEBUG 2025-06-09 21:28:24,229 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 21:28:24,233 views Request body: {"message":"BK-52970","session":{"user_data":{"is_returning_customer":false,"username":"sunee","user_id":13},"state":"collecting_booking_info_for_status","lang":"af"}}
INFO 2025-06-09 21:28:24,233 views User input: BK-52970
INFO 2025-06-09 21:28:24,233 views Current session state: collecting_booking_info_for_status
INFO 2025-06-09 21:28:24,235 views Current user data: {'is_returning_customer': False, 'username': 'sunee', 'user_id': 13}
INFO 2025-06-09 21:28:24,802 dialog_manager Using device: cpu
WARNING 2025-06-09 21:28:24,802 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 21:28:24,802 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 21:28:24,802 dialog_manager Processing message: BK-52970
INFO 2025-06-09 21:28:24,802 dialog_manager Processing input: BK-52970
INFO 2025-06-09 21:28:24,802 dialog_manager Using language: af
INFO 2025-06-09 21:28:24,802 dialog_manager Detecting intent for input: BK-52970
INFO 2025-06-09 21:28:24,802 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 21:28:24,816 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 21:28:24,822 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 21), 'check_out_date': datetime.date(2025, 6, 22), 'status': 'confirmed'}}
INFO 2025-06-09 21:28:24,822 views Updated session state: greeting
INFO 2025-06-09 21:28:24,824 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 21), 'check_out_date': datetime.date(2025, 6, 22), 'status': 'confirmed'}}
INFO 2025-06-09 21:28:24,829 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 21:28:24,838 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 726
INFO 2025-06-09 22:59:53,579 views Database connection successful
INFO 2025-06-09 22:59:53,595 views Received chat request at 2025-06-09 22:59:53.595947
DEBUG 2025-06-09 22:59:53,613 views Request headers: {'Content-Length': '293', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 22:59:53,613 views Request body: {"message":"feedback","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":32,"booking_id":"BK-52970","guest_name":"sunee","room_name":"Standard Room","check_in_date":"2025-06-21","check_out_date":"2025-06-22","status":"confirmed"}},"state":"greeting","lang":"af"}}
INFO 2025-06-09 22:59:53,613 views User input: feedback
INFO 2025-06-09 22:59:53,613 views Current session state: greeting
INFO 2025-06-09 22:59:53,613 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'status': 'confirmed'}}
INFO 2025-06-09 22:59:54,562 dialog_manager Using device: cpu
WARNING 2025-06-09 22:59:54,562 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 22:59:54,562 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 22:59:54,562 dialog_manager Processing message: feedback
INFO 2025-06-09 22:59:54,562 dialog_manager Processing input: feedback
INFO 2025-06-09 22:59:54,562 dialog_manager Using language: af
INFO 2025-06-09 22:59:54,562 dialog_manager Detecting intent for input: feedback
INFO 2025-06-09 22:59:54,562 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-09 22:59:54,574 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 22:59:54,578 dialog_manager Dialog manager process completed - State: collecting_feedback_rating, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'status': 'confirmed'}, 'username': 'sunee', 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>}
INFO 2025-06-09 22:59:54,578 views Updated session state: collecting_feedback_rating
INFO 2025-06-09 22:59:54,578 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'status': 'confirmed'}, 'username': 'sunee', 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>}
INFO 2025-06-09 22:59:54,603 views Booking confirmation check - State: collecting_feedback_rating, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 22:59:54,603 views Removed User object from session for JSON serialization
INFO 2025-06-09 22:59:54,612 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 733
INFO 2025-06-09 23:00:03,873 views Database connection successful
INFO 2025-06-09 23:00:03,873 views Received chat request at 2025-06-09 23:00:03.873630
DEBUG 2025-06-09 23:00:03,873 views Request headers: {'Content-Length': '337', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'nXiShPxePqhXqkUUl4iD7WS9UlBemkqm', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=nXiShPxePqhXqkUUl4iD7WS9UlBemkqm; sessionid=1hblgmmou29qm1puyjzv0zkfsxd3yp8s'}
DEBUG 2025-06-09 23:00:03,873 views Request body: {"message":"3","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":32,"booking_id":"BK-52970","guest_name":"sunee","room_name":"Standard Room","check_in_date":"2025-06-21","check_out_date":"2025-06-22","status":"confirmed"},"username":"sunee","user_id":13},"state":"collecting_feedback_rating","lang":"af"}}
INFO 2025-06-09 23:00:03,873 views User input: 3
INFO 2025-06-09 23:00:03,873 views Current session state: collecting_feedback_rating
INFO 2025-06-09 23:00:03,873 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'status': 'confirmed'}, 'username': 'sunee', 'user_id': 13}
INFO 2025-06-09 23:00:04,301 dialog_manager Using device: cpu
WARNING 2025-06-09 23:00:04,301 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:00:04,301 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:00:04,301 dialog_manager Processing message: 3
INFO 2025-06-09 23:00:04,301 dialog_manager Processing input: 3
INFO 2025-06-09 23:00:04,301 dialog_manager Using language: af
INFO 2025-06-09 23:00:04,301 dialog_manager Detecting intent for input: 3
INFO 2025-06-09 23:00:04,353 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:00:04,353 dialog_manager Dialog manager process completed - State: collecting_feedback_comment, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'status': 'confirmed'}, 'username': 'sunee', 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>, 'feedback_rating': 3}
INFO 2025-06-09 23:00:04,353 views Updated session state: collecting_feedback_comment
INFO 2025-06-09 23:00:04,353 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 32, 'booking_id': 'BK-52970', 'guest_name': 'sunee', 'room_name': 'Standard Room', 'check_in_date': '2025-06-21', 'check_out_date': '2025-06-22', 'status': 'confirmed'}, 'username': 'sunee', 'user_id': 13, 'user': <SimpleLazyObject: <User: sunee>>, 'feedback_rating': 3}
INFO 2025-06-09 23:00:04,361 views Booking confirmation check - State: collecting_feedback_comment, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:00:04,361 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:00:04,364 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 626
INFO 2025-06-09 23:00:32,116 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25367
INFO 2025-06-09 23:00:47,163 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-09 23:00:47,175 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25238
INFO 2025-06-09 23:04:00,903 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11242
INFO 2025-06-09 23:04:05,658 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24937
INFO 2025-06-09 23:04:23,312 basehttp "GET /hotel_booking/room/1/ HTTP/1.1" 200 11227
INFO 2025-06-09 23:04:28,022 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11242
INFO 2025-06-09 23:04:33,698 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 11998
INFO 2025-06-09 23:04:35,438 basehttp "GET /hotel_booking/book/2/ HTTP/1.1" 302 0
INFO 2025-06-09 23:04:35,480 basehttp "GET /hotel_booking/login/?next=/hotel_booking/book/2/ HTTP/1.1" 200 10561
INFO 2025-06-09 23:04:39,751 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-09 23:05:42,401 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16554
INFO 2025-06-09 23:05:54,421 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 18933
INFO 2025-06-09 23:05:54,467 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:05:56,731 basehttp "GET /admin/auth/user/12/change/ HTTP/1.1" 200 26872
INFO 2025-06-09 23:05:56,771 basehttp "GET /static/admin/css/forms.css HTTP/1.1" 304 0
INFO 2025-06-09 23:05:56,778 basehttp "GET /static/admin/js/calendar.js HTTP/1.1" 304 0
INFO 2025-06-09 23:05:56,781 basehttp "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 304 0
INFO 2025-06-09 23:05:56,781 basehttp "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 304 0
INFO 2025-06-09 23:05:56,787 basehttp "GET /static/admin/css/widgets.css HTTP/1.1" 304 0
INFO 2025-06-09 23:05:56,787 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:05:56,897 basehttp "GET /static/admin/js/SelectBox.js HTTP/1.1" 200 4530
INFO 2025-06-09 23:05:56,897 basehttp "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 200 15709
INFO 2025-06-09 23:05:56,897 basehttp "GET /static/admin/js/change_form.js HTTP/1.1" 304 0
INFO 2025-06-09 23:05:57,259 basehttp "GET /static/admin/img/icon-clock.svg HTTP/1.1" 304 0
INFO 2025-06-09 23:05:57,259 basehttp "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 304 0
INFO 2025-06-09 23:05:57,259 basehttp "GET /static/admin/img/selector-icons.svg HTTP/1.1" 200 3291
INFO 2025-06-09 23:05:59,209 basehttp "GET /admin/auth/user/12/delete/ HTTP/1.1" 200 10685
INFO 2025-06-09 23:05:59,229 basehttp "GET /static/admin/js/cancel.js HTTP/1.1" 304 0
INFO 2025-06-09 23:06:00,024 basehttp "POST /admin/auth/user/12/delete/ HTTP/1.1" 302 0
INFO 2025-06-09 23:06:00,058 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 18616
INFO 2025-06-09 23:06:00,082 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:06:35,070 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-09 23:06:35,082 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25676
INFO 2025-06-09 23:06:38,965 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11673
INFO 2025-06-09 23:06:42,104 basehttp "GET /hotel_booking/book/2/ HTTP/1.1" 200 15688
INFO 2025-06-09 23:07:13,507 models Booking saved: 33 for johnny siew sheng ciong
INFO 2025-06-09 23:07:13,513 basehttp "POST /hotel_booking/book/2/ HTTP/1.1" 302 0
INFO 2025-06-09 23:07:13,540 basehttp "GET /hotel_booking/payment_qr/33/ HTTP/1.1" 200 11212
INFO 2025-06-09 23:07:18,047 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-09 23:07:23,240 views Database connection successful
INFO 2025-06-09 23:07:23,242 views Received chat request at 2025-06-09 23:07:23.242873
DEBUG 2025-06-09 23:07:23,244 views Request headers: {'Content-Length': '30', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:07:23,244 views Request body: {"message":"yes","session":{}}
INFO 2025-06-09 23:07:23,246 views User input: yes
INFO 2025-06-09 23:07:23,246 views Current session state: None
INFO 2025-06-09 23:07:23,246 views Current user data: None
INFO 2025-06-09 23:07:23,819 dialog_manager Using device: cpu
WARNING 2025-06-09 23:07:23,819 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:07:23,819 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:07:23,819 dialog_manager Processing message: yes
INFO 2025-06-09 23:07:23,819 dialog_manager Processing input: yes
INFO 2025-06-09 23:07:23,842 dialog_manager Using language: en
INFO 2025-06-09 23:07:23,842 dialog_manager Detecting intent for input: yes
INFO 2025-06-09 23:07:23,859 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:07:30,421 dialog_manager Sentiment analysis: Neutral (confidence: 0.44)
INFO 2025-06-09 23:07:30,421 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-06-09 23:07:30,421 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:07:30,421 views Updated session state: greeting
INFO 2025-06-09 23:07:30,421 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:07:30,421 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-06-09 23:07:30,421 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:07:30,433 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:07:30,506 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-06-09 23:07:41,654 views Database connection successful
INFO 2025-06-09 23:07:41,654 views Received chat request at 2025-06-09 23:07:41.654233
DEBUG 2025-06-09 23:07:41,654 views Request headers: {'Content-Length': '146', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:07:41,661 views Request body: {"message":"booking room","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"greeting","lang":"tr"}}
INFO 2025-06-09 23:07:41,663 views User input: booking room
INFO 2025-06-09 23:07:41,663 views Current session state: greeting
INFO 2025-06-09 23:07:41,663 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:07:42,227 dialog_manager Using device: cpu
WARNING 2025-06-09 23:07:42,240 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:07:42,240 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:07:42,240 dialog_manager Processing message: booking room
INFO 2025-06-09 23:07:42,240 dialog_manager Processing input: booking room
INFO 2025-06-09 23:07:42,240 dialog_manager Using language: tr
INFO 2025-06-09 23:07:42,240 dialog_manager Detecting intent for input: booking room
INFO 2025-06-09 23:07:42,243 dialog_manager Booking intent detected
INFO 2025-06-09 23:07:42,243 dialog_manager Detected intent: booking
INFO 2025-06-09 23:07:42,243 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:07:42,256 dialog_manager Extracting dates from: booking room
WARNING 2025-06-09 23:07:42,256 dialog_manager No dates found
INFO 2025-06-09 23:07:42,256 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:07:42,260 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:07:42,260 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:07:42,267 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:07:42,267 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:07:42,272 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 254
INFO 2025-06-09 23:08:16,473 views Database connection successful
INFO 2025-06-09 23:08:16,473 views Received chat request at 2025-06-09 23:08:16.473075
DEBUG 2025-06-09 23:08:16,473 views Request headers: {'Content-Length': '160', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:08:16,473 views Request body: {"message":"johnny siew","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:08:16,473 views User input: johnny siew
INFO 2025-06-09 23:08:16,476 views Current session state: collecting_booking_info
INFO 2025-06-09 23:08:16,476 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:08:17,031 dialog_manager Using device: cpu
WARNING 2025-06-09 23:08:17,031 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:08:17,031 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:08:17,031 dialog_manager Processing message: johnny siew
INFO 2025-06-09 23:08:17,031 dialog_manager Processing input: johnny siew
INFO 2025-06-09 23:08:17,031 dialog_manager Using language: tr
INFO 2025-06-09 23:08:17,031 dialog_manager Detecting intent for input: johnny siew
INFO 2025-06-09 23:08:17,031 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:08:17,031 dialog_manager Extracted name: johnny siew
INFO 2025-06-09 23:08:17,031 dialog_manager Extracting dates from: johnny siew
WARNING 2025-06-09 23:08:17,031 dialog_manager No dates found
INFO 2025-06-09 23:08:17,045 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'johnny siew'}
INFO 2025-06-09 23:08:17,045 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'johnny siew'}
INFO 2025-06-09 23:08:17,045 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:08:17,045 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'johnny siew'}
INFO 2025-06-09 23:08:17,055 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:08:17,055 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:08:17,057 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 292
INFO 2025-06-09 23:08:30,155 views Database connection successful
INFO 2025-06-09 23:08:30,156 views Received chat request at 2025-06-09 23:08:30.156390
DEBUG 2025-06-09 23:08:30,156 views Request headers: {'Content-Length': '187', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:08:30,156 views Request body: {"message":"01159727180","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny siew"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:08:30,156 views User input: 01159727180
INFO 2025-06-09 23:08:30,156 views Current session state: collecting_booking_info
INFO 2025-06-09 23:08:30,156 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew'}
INFO 2025-06-09 23:08:34,932 dialog_manager Using device: cpu
WARNING 2025-06-09 23:08:34,932 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:08:34,932 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:08:34,934 dialog_manager Processing message: 01159727180
INFO 2025-06-09 23:08:34,934 dialog_manager Processing input: 01159727180
INFO 2025-06-09 23:08:34,934 dialog_manager Using language: tr
INFO 2025-06-09 23:08:34,934 dialog_manager Detecting intent for input: 01159727180
INFO 2025-06-09 23:08:34,934 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-09 23:08:34,934 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:08:34,934 dialog_manager Extracted standalone phone: 01159727180
INFO 2025-06-09 23:08:34,934 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '01159727180'}
INFO 2025-06-09 23:08:34,934 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '01159727180'}
INFO 2025-06-09 23:08:34,934 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:08:34,934 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '01159727180'}
INFO 2025-06-09 23:08:34,934 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:08:34,934 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:08:34,934 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 313
INFO 2025-06-09 23:08:48,595 views Database connection successful
INFO 2025-06-09 23:08:48,595 views Received chat request at 2025-06-09 23:08:48.595081
DEBUG 2025-06-09 23:08:48,595 views Request headers: {'Content-Length': '218', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:08:48,595 views Request body: {"message":"johnnysiew@gmail.com","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny siew","phone":"01159727180"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:08:48,595 views User input: johnnysiew@gmail.com
INFO 2025-06-09 23:08:48,598 views Current session state: collecting_booking_info
INFO 2025-06-09 23:08:48,598 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180'}
INFO 2025-06-09 23:08:49,139 dialog_manager Using device: cpu
WARNING 2025-06-09 23:08:49,139 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:08:49,139 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:08:49,147 dialog_manager Processing message: johnnysiew@gmail.com
INFO 2025-06-09 23:08:49,147 dialog_manager Processing input: johnnysiew@gmail.com
INFO 2025-06-09 23:08:49,147 dialog_manager Using language: tr
INFO 2025-06-09 23:08:49,147 dialog_manager Detecting intent for input: johnnysiew@gmail.com
INFO 2025-06-09 23:08:49,155 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:08:49,155 dialog_manager Extracted standalone email: johnnysiew@gmail.com
INFO 2025-06-09 23:08:49,155 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'johnnysiew@gmail.com'}
INFO 2025-06-09 23:08:49,155 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'johnnysiew@gmail.com'}
INFO 2025-06-09 23:08:49,155 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:08:49,155 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'johnnysiew@gmail.com'}
INFO 2025-06-09 23:08:49,162 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:08:49,162 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:08:49,168 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 766
INFO 2025-06-09 23:09:09,970 views Database connection successful
INFO 2025-06-09 23:09:09,971 views Received chat request at 2025-06-09 23:09:09.971847
DEBUG 2025-06-09 23:09:09,973 views Request headers: {'Content-Length': '242', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:09:09,973 views Request body: {"message":"standard room","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny siew","phone":"01159727180","email":"johnnysiew@gmail.com"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:09:09,973 views User input: standard room
INFO 2025-06-09 23:09:09,973 views Current session state: collecting_booking_info
INFO 2025-06-09 23:09:09,975 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com'}
INFO 2025-06-09 23:09:10,521 dialog_manager Using device: cpu
WARNING 2025-06-09 23:09:10,521 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:09:10,521 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:09:10,521 dialog_manager Processing message: standard room
INFO 2025-06-09 23:09:10,521 dialog_manager Processing input: standard room
INFO 2025-06-09 23:09:10,521 dialog_manager Using language: tr
INFO 2025-06-09 23:09:10,521 dialog_manager Detecting intent for input: standard room
INFO 2025-06-09 23:09:10,521 dialog_manager Booking intent detected
INFO 2025-06-09 23:09:10,521 dialog_manager Detected intent: booking
INFO 2025-06-09 23:09:10,521 dialog_manager Extracting dates from: standard room
WARNING 2025-06-09 23:09:10,521 dialog_manager No dates found
INFO 2025-06-09 23:09:10,521 dialog_manager Extracted room type: Standard
INFO 2025-06-09 23:09:10,536 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Standard'}
INFO 2025-06-09 23:09:10,536 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Standard'}
INFO 2025-06-09 23:09:10,536 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:09:10,538 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Standard'}
INFO 2025-06-09 23:09:10,545 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:09:10,545 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:09:10,545 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 418
INFO 2025-06-09 23:09:41,037 views Database connection successful
INFO 2025-06-09 23:09:41,037 views Received chat request at 2025-06-09 23:09:41.037234
DEBUG 2025-06-09 23:09:41,037 views Request headers: {'Content-Length': '263', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:09:41,037 views Request body: {"message":"next monday","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny siew","phone":"01159727180","email":"johnnysiew@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:09:41,037 views User input: next monday
INFO 2025-06-09 23:09:41,042 views Current session state: collecting_booking_info
INFO 2025-06-09 23:09:41,042 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-09 23:09:41,596 dialog_manager Using device: cpu
WARNING 2025-06-09 23:09:41,596 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:09:41,596 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:09:41,596 dialog_manager Processing message: next monday
INFO 2025-06-09 23:09:41,596 dialog_manager Processing input: next monday
INFO 2025-06-09 23:09:41,596 dialog_manager Using language: tr
INFO 2025-06-09 23:09:41,596 dialog_manager Detecting intent for input: next monday
INFO 2025-06-09 23:09:41,609 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:09:41,612 dialog_manager Extracting dates from: next monday
INFO 2025-06-09 23:09:41,613 dialog_manager Extracted 'next monday' date: 2025-06-16 23:09:41.613499
INFO 2025-06-09 23:09:41,613 dialog_manager Single date result: {'check_in': '2025-06-16', 'check_out': '2025-06-17'}
INFO 2025-06-09 23:09:41,613 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17'}
INFO 2025-06-09 23:09:41,613 models Booking saved: BK-52873 for johnny siew
INFO 2025-06-09 23:09:41,622 dialog_manager Booking created successfully: ID=34, Booking_ID=BK-52873
INFO 2025-06-09 23:09:41,622 dialog_manager Booking record created successfully: BK-52873
INFO 2025-06-09 23:09:41,622 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-52873'}
INFO 2025-06-09 23:09:41,622 views Updated session state: offering_addons
INFO 2025-06-09 23:09:41,622 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-52873'}
INFO 2025-06-09 23:09:41,625 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-09 23:09:41,625 views Booking confirmation check - State: offering_addons, Booking ID: BK-52873, Previous ID: BK-52873, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:09:41,625 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:09:41,629 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1265
INFO 2025-06-09 23:10:05,993 views Database connection successful
INFO 2025-06-09 23:10:05,993 views Received chat request at 2025-06-09 23:10:05.993300
DEBUG 2025-06-09 23:10:05,993 views Request headers: {'Content-Length': '336', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:10:05,993 views Request body: {"message":"no, thank","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny siew","phone":"01159727180","email":"johnnysiew@gmail.com","room_type":"Standard","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-52873"},"state":"offering_addons","lang":"tr"}}
INFO 2025-06-09 23:10:05,993 views User input: no, thank
INFO 2025-06-09 23:10:05,993 views Current session state: offering_addons
INFO 2025-06-09 23:10:05,993 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny siew', 'phone': '01159727180', 'email': 'johnnysiew@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-52873'}
INFO 2025-06-09 23:10:06,542 dialog_manager Using device: cpu
WARNING 2025-06-09 23:10:06,542 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:10:06,542 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:10:06,542 dialog_manager Processing message: no, thank
INFO 2025-06-09 23:10:06,542 dialog_manager Processing input: no, thank
INFO 2025-06-09 23:10:06,542 dialog_manager Using language: tr
INFO 2025-06-09 23:10:06,542 dialog_manager Detecting intent for input: no, thank
INFO 2025-06-09 23:10:06,552 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:10:06,559 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 23:10:06,559 views Updated session state: greeting
INFO 2025-06-09 23:10:06,559 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 23:10:06,559 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-09 23:10:06,559 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:10:06,559 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-09 23:10:18,718 views Database connection successful
INFO 2025-06-09 23:10:18,718 views Received chat request at 2025-06-09 23:10:18.718312
DEBUG 2025-06-09 23:10:18,718 views Request headers: {'Content-Length': '111', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:10:18,722 views Request body: {"message":"upgrade rom","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"tr"}}
INFO 2025-06-09 23:10:18,722 views User input: upgrade rom
INFO 2025-06-09 23:10:18,722 views Current session state: greeting
INFO 2025-06-09 23:10:18,722 views Current user data: {'is_returning_customer': True}
INFO 2025-06-09 23:10:19,248 dialog_manager Using device: cpu
WARNING 2025-06-09 23:10:19,248 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:10:19,248 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:10:19,248 dialog_manager Processing message: upgrade rom
INFO 2025-06-09 23:10:19,263 dialog_manager Processing input: upgrade rom
INFO 2025-06-09 23:10:19,263 dialog_manager Using language: tr
INFO 2025-06-09 23:10:19,263 dialog_manager Detecting intent for input: upgrade rom
INFO 2025-06-09 23:10:19,265 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:10:19,265 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:10:19,265 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:10:19,265 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:10:19,265 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:10:19,265 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:10:19,265 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:10:19,277 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 326
INFO 2025-06-09 23:10:31,224 views Database connection successful
INFO 2025-06-09 23:10:31,227 views Received chat request at 2025-06-09 23:10:31.227954
DEBUG 2025-06-09 23:10:31,227 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:10:31,227 views Request body: {"message":"BK-52873","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14},"state":"collecting_booking_id_for_upgrade","lang":"tr"}}
INFO 2025-06-09 23:10:31,227 views User input: BK-52873
INFO 2025-06-09 23:10:31,227 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:10:31,227 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-09 23:10:31,807 dialog_manager Using device: cpu
WARNING 2025-06-09 23:10:31,807 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:10:31,807 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:10:31,807 dialog_manager Processing message: BK-52873
INFO 2025-06-09 23:10:31,807 dialog_manager Processing input: BK-52873
INFO 2025-06-09 23:10:31,807 dialog_manager Using language: tr
INFO 2025-06-09 23:10:31,807 dialog_manager Detecting intent for input: BK-52873
INFO 2025-06-09 23:10:31,807 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:10:31,807 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:10:31,822 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:10:31,822 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:10:31,822 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:10:31,822 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:10:31,822 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:10:31,835 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 752
INFO 2025-06-09 23:10:39,617 views Database connection successful
INFO 2025-06-09 23:10:39,617 views Received chat request at 2025-06-09 23:10:39.617520
DEBUG 2025-06-09 23:10:39,617 views Request headers: {'Content-Length': '358', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:10:39,617 views Request body: {"message":"deluxe room","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"tr"}}
INFO 2025-06-09 23:10:39,617 views User input: deluxe room
INFO 2025-06-09 23:10:39,617 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:10:39,617 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:10:40,156 dialog_manager Using device: cpu
WARNING 2025-06-09 23:10:40,158 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:10:40,158 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:10:40,158 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:10:40,158 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:10:40,160 dialog_manager Using language: tr
INFO 2025-06-09 23:10:40,160 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:10:40,164 dialog_manager Booking intent detected
INFO 2025-06-09 23:10:40,164 dialog_manager Detected intent: booking
INFO 2025-06-09 23:10:40,164 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:10:40,164 dialog_manager Extracting dates from: deluxe room
WARNING 2025-06-09 23:10:40,164 dialog_manager No dates found
INFO 2025-06-09 23:10:40,164 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:10:40,164 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:10:40,164 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:10:40,164 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:10:40,184 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:10:40,184 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:10:40,184 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 493
INFO 2025-06-09 23:10:56,738 views Database connection successful
INFO 2025-06-09 23:10:56,738 views Received chat request at 2025-06-09 23:10:56.738635
DEBUG 2025-06-09 23:10:56,738 views Request headers: {'Content-Length': '375', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:10:56,744 views Request body: {"message":"deluxe","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:10:56,746 views User input: deluxe
INFO 2025-06-09 23:10:56,746 views Current session state: collecting_booking_info
INFO 2025-06-09 23:10:56,746 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:10:57,288 dialog_manager Using device: cpu
WARNING 2025-06-09 23:10:57,288 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:10:57,288 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:10:57,288 dialog_manager Processing message: deluxe
INFO 2025-06-09 23:10:57,288 dialog_manager Processing input: deluxe
INFO 2025-06-09 23:10:57,288 dialog_manager Using language: tr
INFO 2025-06-09 23:10:57,288 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-09 23:10:57,300 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:10:57,300 dialog_manager Extracted name: deluxe
INFO 2025-06-09 23:10:57,300 dialog_manager Extracting dates from: deluxe
WARNING 2025-06-09 23:10:57,300 dialog_manager No dates found
INFO 2025-06-09 23:10:57,309 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:10:57,309 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'deluxe'}
INFO 2025-06-09 23:10:57,309 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'deluxe'}
INFO 2025-06-09 23:10:57,309 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:10:57,309 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'deluxe'}
INFO 2025-06-09 23:10:57,319 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:10:57,320 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:10:57,323 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 521
INFO 2025-06-09 23:11:44,097 views Database connection successful
INFO 2025-06-09 23:11:44,097 views Received chat request at 2025-06-09 23:11:44.097758
DEBUG 2025-06-09 23:11:44,097 views Request headers: {'Content-Length': '403', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:11:44,107 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe","guest_name":"deluxe"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:11:44,107 views User input: upgrade room
INFO 2025-06-09 23:11:44,107 views Current session state: collecting_booking_info
INFO 2025-06-09 23:11:44,107 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe'}
INFO 2025-06-09 23:11:44,671 dialog_manager Using device: cpu
WARNING 2025-06-09 23:11:44,671 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:11:44,671 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:11:44,671 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:11:44,671 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:11:44,671 dialog_manager Using language: tr
INFO 2025-06-09 23:11:44,671 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:11:44,679 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:11:44,679 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:11:44,679 dialog_manager Extracting dates from: upgrade room
WARNING 2025-06-09 23:11:44,679 dialog_manager No dates found
INFO 2025-06-09 23:11:44,679 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:11:44,679 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:11:44,679 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:11:44,686 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:11:44,686 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:11:44,695 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 521
INFO 2025-06-09 23:11:54,558 views Database connection successful
INFO 2025-06-09 23:11:54,558 views Received chat request at 2025-06-09 23:11:54.558589
DEBUG 2025-06-09 23:11:54,558 views Request headers: {'Content-Length': '401', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:11:54,558 views Request body: {"message":"1234567890","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe","guest_name":"deluxe"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:11:54,558 views User input: 1234567890
INFO 2025-06-09 23:11:54,558 views Current session state: collecting_booking_info
INFO 2025-06-09 23:11:54,558 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe'}
INFO 2025-06-09 23:11:55,103 dialog_manager Using device: cpu
WARNING 2025-06-09 23:11:55,103 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:11:55,103 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:11:55,103 dialog_manager Processing message: 1234567890
INFO 2025-06-09 23:11:55,103 dialog_manager Processing input: 1234567890
INFO 2025-06-09 23:11:55,103 dialog_manager Using language: tr
INFO 2025-06-09 23:11:55,103 dialog_manager Detecting intent for input: 1234567890
INFO 2025-06-09 23:11:55,103 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-09 23:11:55,103 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:11:55,103 dialog_manager Extracted standalone phone: 1234567890
INFO 2025-06-09 23:11:55,103 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '1234567890'}
INFO 2025-06-09 23:11:55,103 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '1234567890'}
INFO 2025-06-09 23:11:55,103 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:11:55,118 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '1234567890'}
INFO 2025-06-09 23:11:55,126 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:11:55,126 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:11:55,126 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 541
INFO 2025-06-09 23:12:00,815 views Database connection successful
INFO 2025-06-09 23:12:00,815 views Received chat request at 2025-06-09 23:12:00.815705
DEBUG 2025-06-09 23:12:00,815 views Request headers: {'Content-Length': '430', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:00,815 views Request body: {"message":"golden390@gmailcom","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe","guest_name":"deluxe","phone":"1234567890"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:12:00,815 views User input: golden390@gmailcom
INFO 2025-06-09 23:12:00,815 views Current session state: collecting_booking_info
INFO 2025-06-09 23:12:00,815 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890'}
INFO 2025-06-09 23:12:01,381 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:01,381 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:01,381 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:01,381 dialog_manager Processing message: golden390@gmailcom
INFO 2025-06-09 23:12:01,381 dialog_manager Processing input: golden390@gmailcom
INFO 2025-06-09 23:12:01,381 dialog_manager Using language: tr
INFO 2025-06-09 23:12:01,381 dialog_manager Detecting intent for input: golden390@gmailcom
INFO 2025-06-09 23:12:01,389 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:12:01,389 dialog_manager Extracting dates from: golden390@gmailcom
WARNING 2025-06-09 23:12:01,389 dialog_manager No dates found
INFO 2025-06-09 23:12:01,398 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:12:01,398 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:12:01,398 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:12:01,407 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:01,408 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:12:01,408 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 541
INFO 2025-06-09 23:12:08,733 views Database connection successful
INFO 2025-06-09 23:12:08,733 views Received chat request at 2025-06-09 23:12:08.733255
DEBUG 2025-06-09 23:12:08,733 views Request headers: {'Content-Length': '432', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:08,733 views Request body: {"message":"golden3903@gmail.com","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe","guest_name":"deluxe","phone":"1234567890"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:12:08,733 views User input: golden3903@gmail.com
INFO 2025-06-09 23:12:08,733 views Current session state: collecting_booking_info
INFO 2025-06-09 23:12:08,733 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890'}
INFO 2025-06-09 23:12:09,258 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:09,258 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:09,258 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:09,274 dialog_manager Processing message: golden3903@gmail.com
INFO 2025-06-09 23:12:09,274 dialog_manager Processing input: golden3903@gmail.com
INFO 2025-06-09 23:12:09,274 dialog_manager Using language: tr
INFO 2025-06-09 23:12:09,274 dialog_manager Detecting intent for input: golden3903@gmail.com
INFO 2025-06-09 23:12:09,278 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:12:09,278 dialog_manager Extracted standalone email: golden3903@gmail.com
INFO 2025-06-09 23:12:09,278 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-09 23:12:09,278 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-09 23:12:09,278 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:12:09,287 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-09 23:12:09,294 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:09,295 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:12:09,295 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 621
INFO 2025-06-09 23:12:13,116 views Database connection successful
INFO 2025-06-09 23:12:13,116 views Received chat request at 2025-06-09 23:12:13.116351
DEBUG 2025-06-09 23:12:13,121 views Request headers: {'Content-Length': '454', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:13,123 views Request body: {"message":"next monday","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe","guest_name":"deluxe","phone":"1234567890","email":"golden3903@gmail.com"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:12:13,123 views User input: next monday
INFO 2025-06-09 23:12:13,123 views Current session state: collecting_booking_info
INFO 2025-06-09 23:12:13,123 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'email': 'golden3903@gmail.com'}
INFO 2025-06-09 23:12:13,705 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:13,705 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:13,705 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:13,705 dialog_manager Processing message: next monday
INFO 2025-06-09 23:12:13,705 dialog_manager Processing input: next monday
INFO 2025-06-09 23:12:13,705 dialog_manager Using language: tr
INFO 2025-06-09 23:12:13,705 dialog_manager Detecting intent for input: next monday
INFO 2025-06-09 23:12:13,720 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:12:13,724 dialog_manager Extracting dates from: next monday
INFO 2025-06-09 23:12:13,724 dialog_manager Extracted 'next monday' date: 2025-06-16 23:12:13.724124
INFO 2025-06-09 23:12:13,726 dialog_manager Single date result: {'check_in': '2025-06-16', 'check_out': '2025-06-17'}
INFO 2025-06-09 23:12:13,726 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17'}
INFO 2025-06-09 23:12:13,735 models Booking saved: BK-33540 for deluxe
INFO 2025-06-09 23:12:13,735 dialog_manager Booking created successfully: ID=35, Booking_ID=BK-33540
INFO 2025-06-09 23:12:13,737 dialog_manager Booking record created successfully: BK-33540
INFO 2025-06-09 23:12:13,737 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-33540'}
INFO 2025-06-09 23:12:13,737 views Updated session state: offering_addons
INFO 2025-06-09 23:12:13,737 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-33540'}
INFO 2025-06-09 23:12:13,739 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-09 23:12:13,739 views Booking confirmation check - State: offering_addons, Booking ID: BK-33540, Previous ID: BK-33540, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:13,739 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:12:13,744 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1465
INFO 2025-06-09 23:12:22,258 views Database connection successful
INFO 2025-06-09 23:12:22,260 views Received chat request at 2025-06-09 23:12:22.260834
DEBUG 2025-06-09 23:12:22,260 views Request headers: {'Content-Length': '527', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:22,263 views Request body: {"message":"no thanks","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe","guest_name":"deluxe","phone":"1234567890","email":"golden3903@gmail.com","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-33540"},"state":"offering_addons","lang":"tr"}}
INFO 2025-06-09 23:12:22,265 views User input: no thanks
INFO 2025-06-09 23:12:22,268 views Current session state: offering_addons
INFO 2025-06-09 23:12:22,268 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'guest_name': 'deluxe', 'phone': '1234567890', 'email': 'golden3903@gmail.com', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-33540'}
INFO 2025-06-09 23:12:22,830 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:22,830 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:22,830 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:22,830 dialog_manager Processing message: no thanks
INFO 2025-06-09 23:12:22,830 dialog_manager Processing input: no thanks
INFO 2025-06-09 23:12:22,830 dialog_manager Using language: tr
INFO 2025-06-09 23:12:22,830 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-09 23:12:22,847 dialog_manager Gratitude intent detected
INFO 2025-06-09 23:12:22,847 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 23:12:22,847 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 23:12:22,847 views Updated session state: greeting
INFO 2025-06-09 23:12:22,847 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 23:12:22,847 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-09 23:12:22,847 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:22,847 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-09 23:12:25,017 views Database connection successful
INFO 2025-06-09 23:12:25,017 views Received chat request at 2025-06-09 23:12:25.017097
DEBUG 2025-06-09 23:12:25,017 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:25,017 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"tr"}}
INFO 2025-06-09 23:12:25,021 views User input: upgrade room
INFO 2025-06-09 23:12:25,021 views Current session state: greeting
INFO 2025-06-09 23:12:25,021 views Current user data: {'is_returning_customer': True}
INFO 2025-06-09 23:12:25,561 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:25,561 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:25,561 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:25,561 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:12:25,561 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:12:25,561 dialog_manager Using language: tr
INFO 2025-06-09 23:12:25,561 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:12:25,578 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:12:25,578 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:12:25,578 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:12:25,578 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:12:25,578 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:12:25,578 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:12:25,578 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:25,578 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:12:25,578 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 326
INFO 2025-06-09 23:12:39,112 views Database connection successful
INFO 2025-06-09 23:12:39,116 views Received chat request at 2025-06-09 23:12:39.116707
DEBUG 2025-06-09 23:12:39,116 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:39,118 views Request body: {"message":"BK-52873","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14},"state":"collecting_booking_id_for_upgrade","lang":"tr"}}
INFO 2025-06-09 23:12:39,118 views User input: BK-52873
INFO 2025-06-09 23:12:39,118 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:12:39,118 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-09 23:12:39,666 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:39,666 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:39,666 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:39,666 dialog_manager Processing message: BK-52873
INFO 2025-06-09 23:12:39,666 dialog_manager Processing input: BK-52873
INFO 2025-06-09 23:12:39,666 dialog_manager Using language: tr
INFO 2025-06-09 23:12:39,666 dialog_manager Detecting intent for input: BK-52873
INFO 2025-06-09 23:12:39,666 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:12:39,666 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:12:39,666 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:12:39,666 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:12:39,666 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:12:39,684 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:39,686 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:12:39,687 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 752
INFO 2025-06-09 23:12:46,933 views Database connection successful
INFO 2025-06-09 23:12:46,933 views Received chat request at 2025-06-09 23:12:46.933127
DEBUG 2025-06-09 23:12:46,933 views Request headers: {'Content-Length': '358', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:12:46,933 views Request body: {"message":"deluxe room","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"tr"}}
INFO 2025-06-09 23:12:46,933 views User input: deluxe room
INFO 2025-06-09 23:12:46,933 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:12:46,938 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:12:47,474 dialog_manager Using device: cpu
WARNING 2025-06-09 23:12:47,474 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:12:47,474 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:12:47,476 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:12:47,476 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:12:47,476 dialog_manager Using language: tr
INFO 2025-06-09 23:12:47,476 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:12:47,476 dialog_manager Booking intent detected
INFO 2025-06-09 23:12:47,476 dialog_manager Detected intent: booking
INFO 2025-06-09 23:12:47,476 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:12:47,485 dialog_manager Extracting dates from: deluxe room
WARNING 2025-06-09 23:12:47,485 dialog_manager No dates found
INFO 2025-06-09 23:12:47,486 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:12:47,486 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:12:47,486 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:12:47,486 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:12:47,493 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:12:47,493 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:12:47,496 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 493
INFO 2025-06-09 23:17:31,367 views Database connection successful
INFO 2025-06-09 23:17:31,393 views Received chat request at 2025-06-09 23:17:31.393012
DEBUG 2025-06-09 23:17:31,401 views Request headers: {'Content-Length': '378', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:17:31,401 views Request body: {"message":"thank you","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1},"room_type":"Deluxe"},"state":"collecting_booking_info","lang":"tr"}}
INFO 2025-06-09 23:17:31,405 views User input: thank you
INFO 2025-06-09 23:17:31,405 views Current session state: collecting_booking_info
INFO 2025-06-09 23:17:31,405 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:17:41,091 dialog_manager Using device: cpu
WARNING 2025-06-09 23:17:41,091 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:17:41,091 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:17:41,107 dialog_manager Processing message: thank you
INFO 2025-06-09 23:17:41,107 dialog_manager Processing input: thank you
INFO 2025-06-09 23:17:41,107 dialog_manager Using language: tr
INFO 2025-06-09 23:17:41,107 dialog_manager Detecting intent for input: thank you
INFO 2025-06-09 23:17:41,218 dialog_manager Gratitude intent detected
INFO 2025-06-09 23:17:41,218 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 23:17:41,218 dialog_manager Extracted name: thank you
INFO 2025-06-09 23:17:41,218 dialog_manager Extracting dates from: thank you
WARNING 2025-06-09 23:17:41,218 dialog_manager No dates found
INFO 2025-06-09 23:17:41,218 dialog_manager Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'thank you'}
INFO 2025-06-09 23:17:41,218 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'thank you'}
INFO 2025-06-09 23:17:41,218 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:17:41,237 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'thank you'}
INFO 2025-06-09 23:17:41,297 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:17:41,297 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:17:41,307 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 527
INFO 2025-06-09 23:17:56,249 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25368
INFO 2025-06-09 23:17:59,398 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-09 23:18:01,141 views Database connection successful
INFO 2025-06-09 23:18:01,146 views Received chat request at 2025-06-09 23:18:01.146304
DEBUG 2025-06-09 23:18:01,146 views Request headers: {'Content-Length': '36', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:18:01,148 views Request body: {"message":"thank you","session":{}}
INFO 2025-06-09 23:18:01,148 views User input: thank you
INFO 2025-06-09 23:18:01,148 views Current session state: None
INFO 2025-06-09 23:18:01,148 views Current user data: None
INFO 2025-06-09 23:18:01,884 dialog_manager Using device: cpu
WARNING 2025-06-09 23:18:01,884 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:18:01,884 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:18:01,884 dialog_manager Processing message: thank you
INFO 2025-06-09 23:18:01,884 dialog_manager Processing input: thank you
INFO 2025-06-09 23:18:01,914 dialog_manager Using language: en
INFO 2025-06-09 23:18:01,914 dialog_manager Detecting intent for input: thank you
INFO 2025-06-09 23:18:01,925 dialog_manager Gratitude intent detected
INFO 2025-06-09 23:18:01,925 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 23:18:07,774 dialog_manager Sentiment analysis: Positive (confidence: 0.79)
INFO 2025-06-09 23:18:07,784 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:18:07,784 views Updated session state: greeting
INFO 2025-06-09 23:18:07,786 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:18:07,786 views Generated response: Great to hear you're excited! Thank you for your kind words! How else can I assist you with your hotel needs today?
INFO 2025-06-09 23:18:07,786 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:18:07,788 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:18:07,915 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 262
INFO 2025-06-09 23:19:48,065 views Database connection successful
INFO 2025-06-09 23:19:48,073 views Received chat request at 2025-06-09 23:19:48.073634
DEBUG 2025-06-09 23:19:48,073 views Request headers: {'Content-Length': '143', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:19:48,081 views Request body: {"message":"thank you","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:19:48,081 views User input: thank you
INFO 2025-06-09 23:19:48,081 views Current session state: greeting
INFO 2025-06-09 23:19:48,081 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:19:49,381 dialog_manager Using device: cpu
WARNING 2025-06-09 23:19:49,381 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:19:49,391 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:19:49,391 dialog_manager Processing message: thank you
INFO 2025-06-09 23:19:49,391 dialog_manager Processing input: thank you
INFO 2025-06-09 23:19:49,396 dialog_manager Using language: en
INFO 2025-06-09 23:19:49,397 dialog_manager Detecting intent for input: thank you
INFO 2025-06-09 23:19:49,502 dialog_manager Gratitude intent detected
INFO 2025-06-09 23:19:49,510 dialog_manager Detected intent: express_gratitude
INFO 2025-06-09 23:19:55,629 dialog_manager Sentiment analysis: Positive (confidence: 0.79)
INFO 2025-06-09 23:19:55,637 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:19:55,637 views Updated session state: greeting
INFO 2025-06-09 23:19:55,643 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:19:55,646 views Generated response: Great to hear you're excited! You're very welcome! I'm here if you need any assistance with bookings or hotel information.
INFO 2025-06-09 23:19:55,646 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:19:55,646 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:19:55,820 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 269
INFO 2025-06-09 23:20:00,790 views Database connection successful
INFO 2025-06-09 23:20:00,794 views Received chat request at 2025-06-09 23:20:00.793687
DEBUG 2025-06-09 23:20:00,796 views Request headers: {'Content-Length': '141', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:20:00,796 views Request body: {"message":"aaaaaaa","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:20:00,798 views User input: aaaaaaa
INFO 2025-06-09 23:20:00,798 views Current session state: greeting
INFO 2025-06-09 23:20:00,798 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:20:02,287 dialog_manager Using device: cpu
WARNING 2025-06-09 23:20:02,287 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:20:02,287 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:20:02,300 dialog_manager Processing message: aaaaaaa
INFO 2025-06-09 23:20:02,300 dialog_manager Processing input: aaaaaaa
INFO 2025-06-09 23:20:02,302 dialog_manager Using language: en
INFO 2025-06-09 23:20:02,303 dialog_manager Detecting intent for input: aaaaaaa
INFO 2025-06-09 23:20:02,305 dialog_manager Invalid input detected: repetitive
INFO 2025-06-09 23:20:02,306 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:20:07,142 dialog_manager Sentiment analysis: Neutral (confidence: 0.62)
INFO 2025-06-09 23:20:07,188 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:20:07,188 views Updated session state: greeting
INFO 2025-06-09 23:20:07,188 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:20:07,208 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:20:07,215 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:20:07,428 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 633
INFO 2025-06-09 23:20:21,517 views Database connection successful
INFO 2025-06-09 23:20:21,523 views Received chat request at 2025-06-09 23:20:21.517915
DEBUG 2025-06-09 23:20:21,524 views Request headers: {'Content-Length': '135', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:20:21,525 views Request body: {"message":"3","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:20:21,525 views User input: 3
INFO 2025-06-09 23:20:21,525 views Current session state: greeting
INFO 2025-06-09 23:20:21,525 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:20:22,166 dialog_manager Using device: cpu
WARNING 2025-06-09 23:20:22,166 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:20:22,166 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:20:22,166 dialog_manager Processing message: 3
INFO 2025-06-09 23:20:22,166 dialog_manager Processing input: 3
INFO 2025-06-09 23:20:22,166 dialog_manager Using language: en
INFO 2025-06-09 23:20:22,166 dialog_manager Detecting intent for input: 3
INFO 2025-06-09 23:20:22,241 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:20:25,585 dialog_manager Sentiment analysis: Neutral (confidence: 0.50)
INFO 2025-06-09 23:20:25,587 dialog_manager Generated response: Could you provide more details so I can assist you better?
INFO 2025-06-09 23:20:25,587 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:20:25,587 views Updated session state: greeting
INFO 2025-06-09 23:20:25,587 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:20:25,587 views Generated response: Could you provide more details so I can assist you better?
INFO 2025-06-09 23:20:25,587 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:20:25,595 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:20:25,702 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-06-09 23:20:31,894 views Database connection successful
INFO 2025-06-09 23:20:31,895 views Received chat request at 2025-06-09 23:20:31.895770
DEBUG 2025-06-09 23:20:31,895 views Request headers: {'Content-Length': '146', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:20:31,895 views Request body: {"message":"Upgrade room","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:20:31,895 views User input: Upgrade room
INFO 2025-06-09 23:20:31,895 views Current session state: greeting
INFO 2025-06-09 23:20:31,895 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:20:32,578 dialog_manager Using device: cpu
WARNING 2025-06-09 23:20:32,578 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:20:32,578 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:20:32,578 dialog_manager Processing message: Upgrade room
INFO 2025-06-09 23:20:32,578 dialog_manager Processing input: Upgrade room
INFO 2025-06-09 23:20:32,578 dialog_manager Using language: en
INFO 2025-06-09 23:20:32,578 dialog_manager Detecting intent for input: Upgrade room
INFO 2025-06-09 23:20:32,631 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:20:32,631 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:20:32,631 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:20:32,631 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:20:32,631 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-09 23:20:32,631 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:20:32,631 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:20:32,631 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:20:32,631 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 326
INFO 2025-06-09 23:20:51,273 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 21895
INFO 2025-06-09 23:20:51,332 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:20:52,896 basehttp "GET /admin/hotel_booking/booking/35/change/ HTTP/1.1" 200 33163
INFO 2025-06-09 23:20:52,945 basehttp "GET /static/admin/js/inlines.js HTTP/1.1" 304 0
INFO 2025-06-09 23:20:52,945 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:20:52,957 basehttp "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 304 0
INFO 2025-06-09 23:21:01,765 views Database connection successful
INFO 2025-06-09 23:21:01,770 views Received chat request at 2025-06-09 23:21:01.770942
DEBUG 2025-06-09 23:21:01,772 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:21:01,772 views Request body: {"message":"BK-33540","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"collecting_booking_id_for_upgrade","lang":"en"}}
INFO 2025-06-09 23:21:01,772 views User input: BK-33540
INFO 2025-06-09 23:21:01,772 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:21:01,772 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-09 23:21:03,087 dialog_manager Using device: cpu
WARNING 2025-06-09 23:21:03,089 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:21:03,089 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:21:03,089 dialog_manager Processing message: BK-33540
INFO 2025-06-09 23:21:03,093 dialog_manager Processing input: BK-33540
INFO 2025-06-09 23:21:03,096 dialog_manager Using language: en
INFO 2025-06-09 23:21:03,098 dialog_manager Detecting intent for input: BK-33540
INFO 2025-06-09 23:21:03,098 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:21:03,098 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:21:03,106 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-33540', 'booking_to_upgrade': {'id': 35, 'booking_id': 'BK-33540', 'current_room': 'Deluxe Room', 'current_price': Decimal('205.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:21:03,106 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:21:03,106 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-33540', 'booking_to_upgrade': {'id': 35, 'booking_id': 'BK-33540', 'current_room': 'Deluxe Room', 'current_price': Decimal('205.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:21:03,123 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:21:03,123 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:21:03,138 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 681
INFO 2025-06-09 23:21:07,367 views Database connection successful
INFO 2025-06-09 23:21:07,367 views Received chat request at 2025-06-09 23:21:07.367908
DEBUG 2025-06-09 23:21:07,377 views Request headers: {'Content-Length': '350', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:21:07,377 views Request body: {"message":"suite","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"upgrade_booking_id":"BK-33540","booking_to_upgrade":{"id":35,"booking_id":"BK-33540","current_room":"Deluxe Room","current_price":"205.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"en"}}
INFO 2025-06-09 23:21:07,377 views User input: suite
INFO 2025-06-09 23:21:07,377 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:21:07,377 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'upgrade_booking_id': 'BK-33540', 'booking_to_upgrade': {'id': 35, 'booking_id': 'BK-33540', 'current_room': 'Deluxe Room', 'current_price': '205.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:21:08,033 dialog_manager Using device: cpu
WARNING 2025-06-09 23:21:08,033 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:21:08,033 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:21:08,033 dialog_manager Processing message: suite
INFO 2025-06-09 23:21:08,043 dialog_manager Processing input: suite
INFO 2025-06-09 23:21:08,043 dialog_manager Using language: en
INFO 2025-06-09 23:21:08,043 dialog_manager Detecting intent for input: suite
INFO 2025-06-09 23:21:08,049 dialog_manager Detected intent: unknown
INFO 2025-06-09 23:21:08,065 models Booking saved: BK-33540 for deluxe
INFO 2025-06-09 23:21:08,065 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 23:21:08,068 views Updated session state: greeting
INFO 2025-06-09 23:21:08,068 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 23:21:08,068 views Generated response: Your room type has been successfully upgraded to Suite and the total price has been adjusted. Additional cost: RM216.00 (RM216.00/night  1 nights). We look forward to your more comfortable stay!
INFO 2025-06-09 23:21:08,069 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:21:08,069 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 309
INFO 2025-06-09 23:21:30,982 basehttp "GET /admin/hotel_booking/booking/35/change/ HTTP/1.1" 200 33145
INFO 2025-06-09 23:21:31,015 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:21:33,150 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 21883
INFO 2025-06-09 23:21:34,911 basehttp "GET /admin/hotel_booking/booking/34/change/ HTTP/1.1" 200 33190
INFO 2025-06-09 23:21:34,955 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:21:43,427 views Database connection successful
INFO 2025-06-09 23:21:43,437 views Received chat request at 2025-06-09 23:21:43.437613
DEBUG 2025-06-09 23:21:43,439 views Request headers: {'Content-Length': '108', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:21:43,439 views Request body: {"message":"BK-52873","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:21:43,439 views User input: BK-52873
INFO 2025-06-09 23:21:43,439 views Current session state: greeting
INFO 2025-06-09 23:21:43,439 views Current user data: {'is_returning_customer': True}
INFO 2025-06-09 23:21:44,653 dialog_manager Using device: cpu
WARNING 2025-06-09 23:21:44,653 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:21:44,653 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:21:44,653 dialog_manager Processing message: BK-52873
INFO 2025-06-09 23:21:44,653 dialog_manager Processing input: BK-52873
INFO 2025-06-09 23:21:44,653 dialog_manager Using language: en
INFO 2025-06-09 23:21:44,653 dialog_manager Detecting intent for input: BK-52873
INFO 2025-06-09 23:21:44,653 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:21:44,653 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:21:44,653 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:21:44,653 views Updated session state: greeting
INFO 2025-06-09 23:21:44,653 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:21:44,674 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:21:44,677 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 738
INFO 2025-06-09 23:21:54,066 views Database connection successful
INFO 2025-06-09 23:21:54,066 views Received chat request at 2025-06-09 23:21:54.066069
DEBUG 2025-06-09 23:21:54,066 views Request headers: {'Content-Length': '303', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:21:54,066 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:21:54,066 views User input: upgrade room
INFO 2025-06-09 23:21:54,066 views Current session state: greeting
INFO 2025-06-09 23:21:54,066 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}}
INFO 2025-06-09 23:21:54,727 dialog_manager Using device: cpu
WARNING 2025-06-09 23:21:54,727 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:21:54,727 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:21:54,727 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:21:54,727 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:21:54,739 dialog_manager Using language: en
INFO 2025-06-09 23:21:54,739 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:21:54,745 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:21:54,745 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:21:54,754 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:21:54,754 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:21:54,755 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:21:54,763 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:21:54,765 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:21:54,769 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 958
INFO 2025-06-09 23:21:59,975 views Database connection successful
INFO 2025-06-09 23:21:59,975 views Received chat request at 2025-06-09 23:21:59.975465
DEBUG 2025-06-09 23:21:59,975 views Request headers: {'Content-Length': '549', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:21:59,975 views Request body: {"message":"Deluxe room","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"},"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"en"}}
INFO 2025-06-09 23:21:59,975 views User input: Deluxe room
INFO 2025-06-09 23:21:59,983 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:21:59,983 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:22:00,690 dialog_manager Using device: cpu
WARNING 2025-06-09 23:22:00,690 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:22:00,690 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:22:00,690 dialog_manager Processing message: Deluxe room
INFO 2025-06-09 23:22:00,690 dialog_manager Processing input: Deluxe room
INFO 2025-06-09 23:22:00,690 dialog_manager Using language: en
INFO 2025-06-09 23:22:00,690 dialog_manager Detecting intent for input: Deluxe room
INFO 2025-06-09 23:22:00,707 dialog_manager Booking intent detected
INFO 2025-06-09 23:22:00,707 dialog_manager Detected intent: booking
INFO 2025-06-09 23:22:00,714 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:22:00,715 dialog_manager Extracting dates from: Deluxe room
WARNING 2025-06-09 23:22:00,716 dialog_manager No dates found
INFO 2025-06-09 23:22:00,716 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:22:00,716 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:22:00,716 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:22:00,719 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:22:00,726 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:22:00,726 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:22:00,732 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 699
INFO 2025-06-09 23:22:10,872 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25368
INFO 2025-06-09 23:22:11,406 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-09 23:22:13,014 views Database connection successful
INFO 2025-06-09 23:22:13,014 views Received chat request at 2025-06-09 23:22:13.014504
DEBUG 2025-06-09 23:22:13,014 views Request headers: {'Content-Length': '35', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:22:13,014 views Request body: {"message":"BK-52873","session":{}}
INFO 2025-06-09 23:22:13,014 views User input: BK-52873
INFO 2025-06-09 23:22:13,014 views Current session state: None
INFO 2025-06-09 23:22:13,014 views Current user data: None
INFO 2025-06-09 23:22:13,622 dialog_manager Using device: cpu
WARNING 2025-06-09 23:22:13,622 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:22:13,622 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:22:13,622 dialog_manager Processing message: BK-52873
INFO 2025-06-09 23:22:13,626 dialog_manager Processing input: BK-52873
INFO 2025-06-09 23:22:13,647 dialog_manager Using language: en
INFO 2025-06-09 23:22:13,650 dialog_manager Detecting intent for input: BK-52873
INFO 2025-06-09 23:22:13,650 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:22:13,651 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:22:13,663 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:22:13,663 views Updated session state: greeting
INFO 2025-06-09 23:22:13,665 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:22:13,670 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:22:13,675 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 738
INFO 2025-06-09 23:22:18,243 views Database connection successful
INFO 2025-06-09 23:22:18,243 views Received chat request at 2025-06-09 23:22:18.243681
DEBUG 2025-06-09 23:22:18,243 views Request headers: {'Content-Length': '303', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:22:18,243 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:22:18,243 views User input: upgrade room
INFO 2025-06-09 23:22:18,243 views Current session state: greeting
INFO 2025-06-09 23:22:18,243 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}}
INFO 2025-06-09 23:22:18,825 dialog_manager Using device: cpu
WARNING 2025-06-09 23:22:18,825 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:22:18,825 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:22:18,825 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:22:18,825 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:22:18,825 dialog_manager Using language: en
INFO 2025-06-09 23:22:18,839 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:22:18,841 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:22:18,841 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:22:18,853 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:22:18,853 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:22:18,855 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:22:18,863 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:22:18,866 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:22:18,866 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 958
INFO 2025-06-09 23:22:30,600 views Database connection successful
INFO 2025-06-09 23:22:30,602 views Received chat request at 2025-06-09 23:22:30.602840
DEBUG 2025-06-09 23:22:30,619 views Request headers: {'Content-Length': '549', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:22:30,619 views Request body: {"message":"Deluxe Room","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"},"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"en"}}
INFO 2025-06-09 23:22:30,631 views User input: Deluxe Room
INFO 2025-06-09 23:22:30,649 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:22:30,649 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:22:32,440 dialog_manager Using device: cpu
WARNING 2025-06-09 23:22:32,448 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:22:32,449 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:22:32,449 dialog_manager Processing message: Deluxe Room
INFO 2025-06-09 23:22:32,449 dialog_manager Processing input: Deluxe Room
INFO 2025-06-09 23:22:32,449 dialog_manager Using language: en
INFO 2025-06-09 23:22:32,449 dialog_manager Detecting intent for input: Deluxe Room
INFO 2025-06-09 23:22:32,482 dialog_manager Booking intent detected
INFO 2025-06-09 23:22:32,496 dialog_manager Detected intent: booking
INFO 2025-06-09 23:22:32,498 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:22:32,498 dialog_manager Extracting dates from: Deluxe Room
WARNING 2025-06-09 23:22:32,498 dialog_manager No dates found
INFO 2025-06-09 23:22:32,498 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:22:32,498 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:22:32,498 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:22:32,511 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:22:32,546 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:22:32,546 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:22:32,546 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 699
INFO 2025-06-09 23:23:50,897 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-06-09 23:24:08,630 autoreload Watching for file changes with StatReloader
INFO 2025-06-09 23:24:21,151 middleware Admin user found: admin
INFO 2025-06-09 23:25:35,030 views Database connection successful
INFO 2025-06-09 23:25:35,030 views Received chat request at 2025-06-09 23:25:35.030324
DEBUG 2025-06-09 23:25:35,030 views Request headers: {'Cookie': '', 'Content-Length': '78', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:25:35,030 views Request body: {"message": "upgrade room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:25:35,030 views User input: upgrade room
INFO 2025-06-09 23:25:35,030 views Current session state: greeting
INFO 2025-06-09 23:25:35,030 views Current user data: {}
INFO 2025-06-09 23:25:36,574 dialog_manager Using device: cpu
WARNING 2025-06-09 23:25:36,574 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:25:36,590 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:25:36,590 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:25:36,590 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:25:37,677 dialog_manager Using language: en
INFO 2025-06-09 23:25:37,685 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:25:37,725 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:25:37,725 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:25:37,756 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:37,756 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:37,756 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:37,756 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:25:37,772 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:25:37,772 views Database connection successful
INFO 2025-06-09 23:25:37,772 views Received chat request at 2025-06-09 23:25:37.772853
DEBUG 2025-06-09 23:25:37,788 views Request headers: {'Cookie': '', 'Content-Length': '81', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:25:37,788 views Request body: {"message": "upgrade my room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:25:37,788 views User input: upgrade my room
INFO 2025-06-09 23:25:37,788 views Current session state: greeting
INFO 2025-06-09 23:25:37,788 views Current user data: {}
INFO 2025-06-09 23:25:39,150 dialog_manager Using device: cpu
WARNING 2025-06-09 23:25:39,163 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:25:39,163 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:25:39,171 dialog_manager Processing message: upgrade my room
INFO 2025-06-09 23:25:39,171 dialog_manager Processing input: upgrade my room
INFO 2025-06-09 23:25:39,239 dialog_manager Using language: en
INFO 2025-06-09 23:25:39,252 dialog_manager Detecting intent for input: upgrade my room
INFO 2025-06-09 23:25:39,268 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:25:39,268 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:25:39,335 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:39,335 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:39,337 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:39,337 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:25:39,339 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:25:39,349 views Database connection successful
INFO 2025-06-09 23:25:39,349 views Received chat request at 2025-06-09 23:25:39.349553
DEBUG 2025-06-09 23:25:39,351 views Request headers: {'Cookie': '', 'Content-Length': '78', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:25:39,351 views Request body: {"message": "room upgrade", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:25:39,351 views User input: room upgrade
INFO 2025-06-09 23:25:39,353 views Current session state: greeting
INFO 2025-06-09 23:25:39,353 views Current user data: {}
INFO 2025-06-09 23:25:40,746 dialog_manager Using device: cpu
WARNING 2025-06-09 23:25:40,746 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:25:40,746 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:25:40,746 dialog_manager Processing message: room upgrade
INFO 2025-06-09 23:25:40,746 dialog_manager Processing input: room upgrade
INFO 2025-06-09 23:25:40,793 dialog_manager Using language: en
INFO 2025-06-09 23:25:40,793 dialog_manager Detecting intent for input: room upgrade
INFO 2025-06-09 23:25:40,809 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:25:40,825 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:25:40,889 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:40,898 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:40,898 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:40,898 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:25:40,898 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:25:40,912 views Database connection successful
INFO 2025-06-09 23:25:40,912 views Received chat request at 2025-06-09 23:25:40.912126
DEBUG 2025-06-09 23:25:40,912 views Request headers: {'Cookie': '', 'Content-Length': '88', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:25:40,920 views Request body: {"message": "upgrade to better room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:25:40,920 views User input: upgrade to better room
INFO 2025-06-09 23:25:40,927 views Current session state: greeting
INFO 2025-06-09 23:25:40,927 views Current user data: {}
INFO 2025-06-09 23:25:42,578 dialog_manager Using device: cpu
WARNING 2025-06-09 23:25:42,578 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:25:42,578 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:25:42,594 dialog_manager Processing message: upgrade to better room
INFO 2025-06-09 23:25:42,594 dialog_manager Processing input: upgrade to better room
INFO 2025-06-09 23:25:42,642 dialog_manager Using language: en
INFO 2025-06-09 23:25:42,642 dialog_manager Detecting intent for input: upgrade to better room
INFO 2025-06-09 23:25:42,678 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:25:42,678 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:25:42,737 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:42,737 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:42,737 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:42,737 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:25:42,737 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:25:42,753 views Database connection successful
INFO 2025-06-09 23:25:42,753 views Received chat request at 2025-06-09 23:25:42.753966
DEBUG 2025-06-09 23:25:42,769 views Request headers: {'Cookie': '', 'Content-Length': '78', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:25:42,769 views Request body: {"message": "upgrade room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:25:42,769 views User input: upgrade room
INFO 2025-06-09 23:25:42,769 views Current session state: greeting
INFO 2025-06-09 23:25:42,769 views Current user data: {}
INFO 2025-06-09 23:25:44,212 dialog_manager Using device: cpu
WARNING 2025-06-09 23:25:44,212 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:25:44,212 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:25:44,212 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:25:44,212 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:25:44,228 dialog_manager Using language: en
INFO 2025-06-09 23:25:44,228 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:25:44,259 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:25:44,259 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:25:44,293 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:44,297 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:44,299 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:44,301 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:25:44,303 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:25:44,317 views Database connection successful
INFO 2025-06-09 23:25:44,317 views Received chat request at 2025-06-09 23:25:44.317255
DEBUG 2025-06-09 23:25:44,319 views Request headers: {'Cookie': '', 'Content-Length': '143', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:25:44,319 views Request body: {"message": "BK-12345", "session": {"state": "collecting_booking_id_for_upgrade", "user_data": {"is_returning_customer": false}, "lang": "pt"}}
INFO 2025-06-09 23:25:44,319 views User input: BK-12345
INFO 2025-06-09 23:25:44,321 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:44,323 views Current user data: {'is_returning_customer': False}
INFO 2025-06-09 23:25:45,737 dialog_manager Using device: cpu
WARNING 2025-06-09 23:25:45,737 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:25:45,737 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:25:45,737 dialog_manager Processing message: BK-12345
INFO 2025-06-09 23:25:45,753 dialog_manager Processing input: BK-12345
INFO 2025-06-09 23:25:45,753 dialog_manager Using language: pt
INFO 2025-06-09 23:25:45,756 dialog_manager Detecting intent for input: BK-12345
INFO 2025-06-09 23:25:45,756 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:25:45,756 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:25:45,769 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:25:45,769 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:25:45,769 views Updated user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:25:45,777 views Generated response: I couldn't find a booking with ID BK-12345. Please check your booking ID and try again.
INFO 2025-06-09 23:25:45,777 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:26:42,936 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25368
INFO 2025-06-09 23:26:44,056 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-09 23:26:46,012 views Database connection successful
INFO 2025-06-09 23:26:46,012 views Received chat request at 2025-06-09 23:26:46.012360
DEBUG 2025-06-09 23:26:46,017 views Request headers: {'Content-Length': '35', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:26:46,017 views Request body: {"message":"BK-52873","session":{}}
INFO 2025-06-09 23:26:46,021 views User input: BK-52873
INFO 2025-06-09 23:26:46,021 views Current session state: None
INFO 2025-06-09 23:26:46,021 views Current user data: None
INFO 2025-06-09 23:26:47,736 dialog_manager Using device: cpu
WARNING 2025-06-09 23:26:47,747 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:26:47,771 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:26:47,779 dialog_manager Processing message: BK-52873
INFO 2025-06-09 23:26:47,779 dialog_manager Processing input: BK-52873
INFO 2025-06-09 23:26:49,452 dialog_manager Using language: en
INFO 2025-06-09 23:26:49,461 dialog_manager Detecting intent for input: BK-52873
INFO 2025-06-09 23:26:49,461 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:26:49,461 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:26:49,495 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:26:49,495 views Updated session state: greeting
INFO 2025-06-09 23:26:49,495 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:26:49,522 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:26:49,533 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 738
INFO 2025-06-09 23:26:55,752 views Database connection successful
INFO 2025-06-09 23:26:55,752 views Received chat request at 2025-06-09 23:26:55.752524
DEBUG 2025-06-09 23:26:55,752 views Request headers: {'Content-Length': '303', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:26:55,752 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:26:55,752 views User input: upgrade room
INFO 2025-06-09 23:26:55,752 views Current session state: greeting
INFO 2025-06-09 23:26:55,760 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}}
INFO 2025-06-09 23:26:56,856 dialog_manager Using device: cpu
WARNING 2025-06-09 23:26:56,860 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:26:56,862 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:26:56,863 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:26:56,863 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:26:56,863 dialog_manager Using language: en
INFO 2025-06-09 23:26:56,863 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:26:56,930 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:26:56,930 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:26:56,942 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:26:56,945 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:26:56,945 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:26:56,963 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:26:56,965 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:26:56,973 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 958
INFO 2025-06-09 23:27:03,348 views Database connection successful
INFO 2025-06-09 23:27:03,350 views Received chat request at 2025-06-09 23:27:03.350880
DEBUG 2025-06-09 23:27:03,352 views Request headers: {'Content-Length': '549', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:27:03,352 views Request body: {"message":"deluxe room","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"},"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"en"}}
INFO 2025-06-09 23:27:03,354 views User input: deluxe room
INFO 2025-06-09 23:27:03,354 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:27:03,354 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:27:04,667 dialog_manager Using device: cpu
WARNING 2025-06-09 23:27:04,667 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:27:04,667 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:27:04,667 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:27:04,667 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:27:04,667 dialog_manager Using language: en
INFO 2025-06-09 23:27:04,672 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:27:04,682 dialog_manager Booking intent detected
INFO 2025-06-09 23:27:04,682 dialog_manager Detected intent: booking
INFO 2025-06-09 23:27:04,682 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:27:04,690 dialog_manager Extracting dates from: deluxe room
WARNING 2025-06-09 23:27:04,690 dialog_manager No dates found
INFO 2025-06-09 23:27:04,699 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:27:04,699 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:27:04,699 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:27:04,699 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}, 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:27:04,715 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:27:04,715 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:27:04,725 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 699
INFO 2025-06-09 23:30:21,441 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-06-09 23:30:28,975 autoreload Watching for file changes with StatReloader
INFO 2025-06-09 23:30:41,630 middleware Admin user found: admin
INFO 2025-06-09 23:31:29,388 views Database connection successful
INFO 2025-06-09 23:31:29,388 views Received chat request at 2025-06-09 23:31:29.388450
DEBUG 2025-06-09 23:31:29,388 views Request headers: {'Cookie': '', 'Content-Length': '187', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:29,395 views Request body: {"message": "deluxe room", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:31:29,395 views User input: deluxe room
INFO 2025-06-09 23:31:29,395 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:31:29,395 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:31:30,113 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:30,113 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:30,113 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:30,124 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:31:30,124 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:31:30,602 dialog_manager Using language: en
INFO 2025-06-09 23:31:30,602 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:31:30,639 dialog_manager Booking intent detected
INFO 2025-06-09 23:31:30,639 dialog_manager Detected intent: booking
INFO 2025-06-09 23:31:30,639 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:31:30,649 dialog_manager Extracting dates from: deluxe room
WARNING 2025-06-09 23:31:30,653 dialog_manager No dates found
INFO 2025-06-09 23:31:30,655 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:31:30,666 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:31:30,666 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:31:30,672 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False, 'room_type': 'Deluxe'}
INFO 2025-06-09 23:31:30,679 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:30,683 views Database connection successful
INFO 2025-06-09 23:31:30,683 views Received chat request at 2025-06-09 23:31:30.683036
DEBUG 2025-06-09 23:31:30,686 views Request headers: {'Cookie': '', 'Content-Length': '182', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:30,686 views Request body: {"message": "deluxe", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:31:30,686 views User input: deluxe
INFO 2025-06-09 23:31:30,686 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:31:30,689 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:31:31,237 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:31,237 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:31,237 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:31,237 dialog_manager Processing message: deluxe
INFO 2025-06-09 23:31:31,237 dialog_manager Processing input: deluxe
INFO 2025-06-09 23:31:31,245 dialog_manager Using language: en
INFO 2025-06-09 23:31:31,245 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-09 23:31:31,255 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:31:31,262 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:31:31,265 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:31,265 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:31:31,270 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:31,270 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:31:31,272 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:31,278 views Database connection successful
INFO 2025-06-09 23:31:31,279 views Received chat request at 2025-06-09 23:31:31.279738
DEBUG 2025-06-09 23:31:31,280 views Request headers: {'Cookie': '', 'Content-Length': '181', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:31,281 views Request body: {"message": "suite", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:31:31,281 views User input: suite
INFO 2025-06-09 23:31:31,282 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:31:31,282 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:31:31,819 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:31,819 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:31,819 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:31,819 dialog_manager Processing message: suite
INFO 2025-06-09 23:31:31,819 dialog_manager Processing input: suite
INFO 2025-06-09 23:31:31,844 dialog_manager Using language: en
INFO 2025-06-09 23:31:31,844 dialog_manager Detecting intent for input: suite
INFO 2025-06-09 23:31:31,856 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:31:31,860 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:31:31,890 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:31,890 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:31:31,890 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:31,890 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:31:31,890 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:31,902 views Database connection successful
INFO 2025-06-09 23:31:31,903 views Received chat request at 2025-06-09 23:31:31.903236
DEBUG 2025-06-09 23:31:31,903 views Request headers: {'Cookie': '', 'Content-Length': '191', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:31,905 views Request body: {"message": "executive suite", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:31:31,907 views User input: executive suite
INFO 2025-06-09 23:31:31,907 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:31:31,907 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:31:32,447 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:32,447 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:32,447 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:32,447 dialog_manager Processing message: executive suite
INFO 2025-06-09 23:31:32,447 dialog_manager Processing input: executive suite
INFO 2025-06-09 23:31:32,455 dialog_manager Using language: en
INFO 2025-06-09 23:31:32,455 dialog_manager Detecting intent for input: executive suite
INFO 2025-06-09 23:31:32,476 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:31:32,480 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:31:32,491 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:32,491 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:31:32,491 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:32,494 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:31:32,494 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:32,501 views Database connection successful
INFO 2025-06-09 23:31:32,502 views Received chat request at 2025-06-09 23:31:32.502907
DEBUG 2025-06-09 23:31:32,505 views Request headers: {'Cookie': '', 'Content-Length': '194', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:32,506 views Request body: {"message": "presidential villa", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:31:32,508 views User input: presidential villa
INFO 2025-06-09 23:31:32,508 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:31:32,508 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:31:33,053 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:33,053 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:33,053 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:33,053 dialog_manager Processing message: presidential villa
INFO 2025-06-09 23:31:33,053 dialog_manager Processing input: presidential villa
INFO 2025-06-09 23:31:33,072 dialog_manager Using language: en
INFO 2025-06-09 23:31:33,076 dialog_manager Detecting intent for input: presidential villa
INFO 2025-06-09 23:31:33,077 dialog_manager Detected intent: off_topic
INFO 2025-06-09 23:31:33,093 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:33,093 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:31:33,093 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:31:33,093 views Generated response: I couldn't find that room type. Available upgrade options are: Standard Room, Deluxe Room, Suite. Please choose one of these options.
INFO 2025-06-09 23:31:33,100 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:33,108 views Database connection successful
INFO 2025-06-09 23:31:33,110 views Received chat request at 2025-06-09 23:31:33.110960
DEBUG 2025-06-09 23:31:33,110 views Request headers: {'Cookie': '', 'Content-Length': '78', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:33,112 views Request body: {"message": "upgrade room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:31:33,112 views User input: upgrade room
INFO 2025-06-09 23:31:33,112 views Current session state: greeting
INFO 2025-06-09 23:31:33,113 views Current user data: {}
INFO 2025-06-09 23:31:33,684 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:33,686 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:33,686 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:33,686 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:31:33,686 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:31:33,697 dialog_manager Using language: en
INFO 2025-06-09 23:31:33,697 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:31:33,705 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:31:33,705 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:31:33,708 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:31:33,716 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:31:33,718 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:31:33,718 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:31:33,721 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:33,727 views Database connection successful
INFO 2025-06-09 23:31:33,728 views Received chat request at 2025-06-09 23:31:33.728377
DEBUG 2025-06-09 23:31:33,729 views Request headers: {'Cookie': '', 'Content-Length': '143', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:33,729 views Request body: {"message": "BK-12345", "session": {"state": "collecting_booking_id_for_upgrade", "user_data": {"is_returning_customer": false}, "lang": "pt"}}
INFO 2025-06-09 23:31:33,729 views User input: BK-12345
INFO 2025-06-09 23:31:33,729 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:31:33,729 views Current user data: {'is_returning_customer': False}
INFO 2025-06-09 23:31:34,287 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:34,287 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:34,287 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:34,287 dialog_manager Processing message: BK-12345
INFO 2025-06-09 23:31:34,287 dialog_manager Processing input: BK-12345
INFO 2025-06-09 23:31:34,287 dialog_manager Using language: pt
INFO 2025-06-09 23:31:34,287 dialog_manager Detecting intent for input: BK-12345
INFO 2025-06-09 23:31:34,287 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:31:34,287 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:31:34,298 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:31:34,298 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:31:34,298 views Updated user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:31:34,300 views Generated response: I couldn't find a booking with ID BK-12345. Please check your booking ID and try again.
INFO 2025-06-09 23:31:34,300 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:31:34,307 views Database connection successful
INFO 2025-06-09 23:31:34,307 views Received chat request at 2025-06-09 23:31:34.307287
DEBUG 2025-06-09 23:31:34,308 views Request headers: {'Cookie': '', 'Content-Length': '180', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:31:34,308 views Request body: {"message": "deluxe room", "session": {"state": "collecting_booking_id_for_upgrade", "user_data": {"is_returning_customer": false, "upgrade_booking_id": "BK-12345"}, "lang": "pt"}}
INFO 2025-06-09 23:31:34,308 views User input: deluxe room
INFO 2025-06-09 23:31:34,309 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:31:34,309 views Current user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:31:35,186 dialog_manager Using device: cpu
WARNING 2025-06-09 23:31:35,186 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:31:35,186 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:31:35,186 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:31:35,186 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:31:35,186 dialog_manager Using language: pt
INFO 2025-06-09 23:31:35,186 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:31:35,195 dialog_manager Booking intent detected
INFO 2025-06-09 23:31:35,196 dialog_manager Detected intent: booking
INFO 2025-06-09 23:31:35,196 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-09 23:31:35,196 dialog_manager Extracting dates from: deluxe room
WARNING 2025-06-09 23:31:35,196 dialog_manager No dates found
INFO 2025-06-09 23:31:35,196 dialog_manager Extracted room type: Deluxe
INFO 2025-06-09 23:31:35,196 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345', 'room_type': 'Deluxe'}
INFO 2025-06-09 23:31:35,196 views Updated session state: collecting_booking_info
INFO 2025-06-09 23:31:35,201 views Updated user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345', 'room_type': 'Deluxe'}
INFO 2025-06-09 23:31:35,205 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:04,902 autoreload C:\Users\NEW\OneDrive\Documents\PROJECT\PROJECT\DJANGO-PROJECT-main\hotel_booking\chatbot\dialog_manager.py changed, reloading.
INFO 2025-06-09 23:33:10,794 autoreload Watching for file changes with StatReloader
INFO 2025-06-09 23:33:23,083 middleware Admin user found: admin
INFO 2025-06-09 23:33:34,071 views Database connection successful
INFO 2025-06-09 23:33:34,083 views Received chat request at 2025-06-09 23:33:34.083238
DEBUG 2025-06-09 23:33:34,083 views Request headers: {'Cookie': '', 'Content-Length': '187', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:34,083 views Request body: {"message": "deluxe room", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:33:34,083 views User input: deluxe room
INFO 2025-06-09 23:33:34,083 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:33:34,083 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:33:34,733 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:34,735 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:34,739 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:34,743 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:33:34,743 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:33:35,289 dialog_manager Using language: en
INFO 2025-06-09 23:33:35,289 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:33:35,324 dialog_manager Booking intent detected
INFO 2025-06-09 23:33:35,325 dialog_manager Detected intent: booking
ERROR 2025-06-09 23:33:35,341 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:33:35,360 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:35,360 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:33:35,360 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:35,360 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:33:35,360 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:35,371 views Database connection successful
INFO 2025-06-09 23:33:35,373 views Received chat request at 2025-06-09 23:33:35.373626
DEBUG 2025-06-09 23:33:35,374 views Request headers: {'Cookie': '', 'Content-Length': '182', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:35,374 views Request body: {"message": "deluxe", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:33:35,374 views User input: deluxe
INFO 2025-06-09 23:33:35,374 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:33:35,374 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:33:36,002 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:36,002 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:36,002 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:36,002 dialog_manager Processing message: deluxe
INFO 2025-06-09 23:33:36,002 dialog_manager Processing input: deluxe
INFO 2025-06-09 23:33:36,011 dialog_manager Using language: en
INFO 2025-06-09 23:33:36,011 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-09 23:33:36,019 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:33:36,019 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:33:36,019 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:36,027 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:33:36,027 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:36,027 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:33:36,027 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:36,036 views Database connection successful
INFO 2025-06-09 23:33:36,036 views Received chat request at 2025-06-09 23:33:36.036010
DEBUG 2025-06-09 23:33:36,036 views Request headers: {'Cookie': '', 'Content-Length': '181', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:36,036 views Request body: {"message": "suite", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:33:36,036 views User input: suite
INFO 2025-06-09 23:33:36,036 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:33:36,036 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:33:36,676 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:36,676 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:36,676 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:36,676 dialog_manager Processing message: suite
INFO 2025-06-09 23:33:36,676 dialog_manager Processing input: suite
INFO 2025-06-09 23:33:36,700 dialog_manager Using language: en
INFO 2025-06-09 23:33:36,700 dialog_manager Detecting intent for input: suite
INFO 2025-06-09 23:33:36,707 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:33:36,707 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:33:36,728 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:36,728 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:33:36,728 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:36,730 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:33:36,730 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:36,735 views Database connection successful
INFO 2025-06-09 23:33:36,735 views Received chat request at 2025-06-09 23:33:36.735556
DEBUG 2025-06-09 23:33:36,735 views Request headers: {'Cookie': '', 'Content-Length': '191', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:36,740 views Request body: {"message": "executive suite", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:33:36,740 views User input: executive suite
INFO 2025-06-09 23:33:36,740 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:33:36,740 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:33:37,326 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:37,326 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:37,326 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:37,326 dialog_manager Processing message: executive suite
INFO 2025-06-09 23:33:37,326 dialog_manager Processing input: executive suite
INFO 2025-06-09 23:33:37,346 dialog_manager Using language: en
INFO 2025-06-09 23:33:37,346 dialog_manager Detecting intent for input: executive suite
INFO 2025-06-09 23:33:37,352 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:33:37,358 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:33:37,370 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:37,370 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:33:37,374 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:37,374 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:33:37,374 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:37,380 views Database connection successful
INFO 2025-06-09 23:33:37,380 views Received chat request at 2025-06-09 23:33:37.380690
DEBUG 2025-06-09 23:33:37,380 views Request headers: {'Cookie': '', 'Content-Length': '194', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:37,380 views Request body: {"message": "presidential villa", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:33:37,380 views User input: presidential villa
INFO 2025-06-09 23:33:37,380 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:33:37,380 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:33:38,041 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:38,041 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:38,041 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:38,041 dialog_manager Processing message: presidential villa
INFO 2025-06-09 23:33:38,041 dialog_manager Processing input: presidential villa
INFO 2025-06-09 23:33:38,057 dialog_manager Using language: en
INFO 2025-06-09 23:33:38,057 dialog_manager Detecting intent for input: presidential villa
INFO 2025-06-09 23:33:38,067 dialog_manager Detected intent: off_topic
INFO 2025-06-09 23:33:38,088 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:38,090 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:33:38,090 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:33:38,090 views Generated response: I couldn't find that room type. Available upgrade options are: Standard Room, Deluxe Room, Suite. Please choose one of these options.
INFO 2025-06-09 23:33:38,090 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:38,096 views Database connection successful
INFO 2025-06-09 23:33:38,096 views Received chat request at 2025-06-09 23:33:38.096705
DEBUG 2025-06-09 23:33:38,098 views Request headers: {'Cookie': '', 'Content-Length': '78', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:38,098 views Request body: {"message": "upgrade room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:33:38,098 views User input: upgrade room
INFO 2025-06-09 23:33:38,098 views Current session state: greeting
INFO 2025-06-09 23:33:38,100 views Current user data: {}
INFO 2025-06-09 23:33:38,723 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:38,723 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:38,723 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:38,723 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:33:38,723 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:33:38,743 dialog_manager Using language: en
INFO 2025-06-09 23:33:38,744 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:33:38,751 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:33:38,751 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:33:38,767 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:33:38,767 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:33:38,767 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:33:38,767 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:33:38,771 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:38,776 views Database connection successful
INFO 2025-06-09 23:33:38,776 views Received chat request at 2025-06-09 23:33:38.776556
DEBUG 2025-06-09 23:33:38,777 views Request headers: {'Cookie': '', 'Content-Length': '143', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:38,777 views Request body: {"message": "BK-12345", "session": {"state": "collecting_booking_id_for_upgrade", "user_data": {"is_returning_customer": false}, "lang": "pt"}}
INFO 2025-06-09 23:33:38,777 views User input: BK-12345
INFO 2025-06-09 23:33:38,777 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:33:38,777 views Current user data: {'is_returning_customer': False}
INFO 2025-06-09 23:33:39,336 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:39,336 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:39,336 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:39,336 dialog_manager Processing message: BK-12345
INFO 2025-06-09 23:33:39,352 dialog_manager Processing input: BK-12345
INFO 2025-06-09 23:33:39,352 dialog_manager Using language: pt
INFO 2025-06-09 23:33:39,352 dialog_manager Detecting intent for input: BK-12345
INFO 2025-06-09 23:33:39,352 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:33:39,354 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:33:39,354 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:33:39,354 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:33:39,354 views Updated user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:33:39,354 views Generated response: I couldn't find a booking with ID BK-12345. Please check your booking ID and try again.
INFO 2025-06-09 23:33:39,360 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:33:39,363 views Database connection successful
INFO 2025-06-09 23:33:39,365 views Received chat request at 2025-06-09 23:33:39.365622
DEBUG 2025-06-09 23:33:39,366 views Request headers: {'Cookie': '', 'Content-Length': '180', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:33:39,366 views Request body: {"message": "deluxe room", "session": {"state": "collecting_booking_id_for_upgrade", "user_data": {"is_returning_customer": false, "upgrade_booking_id": "BK-12345"}, "lang": "pt"}}
INFO 2025-06-09 23:33:39,366 views User input: deluxe room
INFO 2025-06-09 23:33:39,366 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:33:39,366 views Current user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345'}
INFO 2025-06-09 23:33:40,159 dialog_manager Using device: cpu
WARNING 2025-06-09 23:33:40,159 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:33:40,159 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:33:40,159 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:33:40,159 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:33:40,159 dialog_manager Using language: pt
INFO 2025-06-09 23:33:40,159 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:33:40,163 dialog_manager Booking intent detected
INFO 2025-06-09 23:33:40,163 dialog_manager Detected intent: booking
INFO 2025-06-09 23:33:40,171 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'upgrade_booking_id': 'deluxe'}
INFO 2025-06-09 23:33:40,172 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:33:40,173 views Updated user data: {'is_returning_customer': False, 'upgrade_booking_id': 'deluxe'}
INFO 2025-06-09 23:33:40,173 views Generated response: I couldn't find a booking with ID deluxe. Please check your booking ID and try again.
INFO 2025-06-09 23:33:40,173 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:16,872 basehttp "GET /admin/hotel_booking/booking/34/change/ HTTP/1.1" 200 33190
INFO 2025-06-09 23:34:17,007 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:34:18,950 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 21883
INFO 2025-06-09 23:34:19,006 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:34:24,577 models Room saved: Executive Suite (ID: 5)
INFO 2025-06-09 23:34:24,587 models Booking saved: BK-12345 for Test User
INFO 2025-06-09 23:34:49,020 views Database connection successful
INFO 2025-06-09 23:34:49,020 views Received chat request at 2025-06-09 23:34:49.020310
DEBUG 2025-06-09 23:34:49,035 views Request headers: {'Cookie': '', 'Content-Length': '187', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:49,035 views Request body: {"message": "deluxe room", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:34:49,037 views User input: deluxe room
INFO 2025-06-09 23:34:49,037 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:34:49,037 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:34:49,696 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:49,696 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:49,707 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:49,712 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:34:49,712 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:34:50,232 dialog_manager Using language: en
INFO 2025-06-09 23:34:50,232 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:34:50,260 dialog_manager Booking intent detected
INFO 2025-06-09 23:34:50,260 dialog_manager Detected intent: booking
ERROR 2025-06-09 23:34:50,268 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:34:50,279 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:50,279 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:34:50,279 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:50,281 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:34:50,281 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:50,287 views Database connection successful
INFO 2025-06-09 23:34:50,287 views Received chat request at 2025-06-09 23:34:50.287809
DEBUG 2025-06-09 23:34:50,289 views Request headers: {'Cookie': '', 'Content-Length': '182', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:50,289 views Request body: {"message": "deluxe", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:34:50,289 views User input: deluxe
INFO 2025-06-09 23:34:50,289 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:34:50,289 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:34:50,861 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:50,861 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:50,861 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:50,861 dialog_manager Processing message: deluxe
INFO 2025-06-09 23:34:50,861 dialog_manager Processing input: deluxe
INFO 2025-06-09 23:34:50,861 dialog_manager Using language: en
INFO 2025-06-09 23:34:50,861 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-09 23:34:50,877 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:34:50,879 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:34:50,886 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:50,886 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:34:50,886 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:50,887 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:34:50,888 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:50,892 views Database connection successful
INFO 2025-06-09 23:34:50,896 views Received chat request at 2025-06-09 23:34:50.896285
DEBUG 2025-06-09 23:34:50,896 views Request headers: {'Cookie': '', 'Content-Length': '181', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:50,896 views Request body: {"message": "suite", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:34:50,898 views User input: suite
INFO 2025-06-09 23:34:50,898 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:34:50,898 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:34:51,468 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:51,468 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:51,468 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:51,468 dialog_manager Processing message: suite
INFO 2025-06-09 23:34:51,468 dialog_manager Processing input: suite
INFO 2025-06-09 23:34:51,501 dialog_manager Using language: en
INFO 2025-06-09 23:34:51,509 dialog_manager Detecting intent for input: suite
INFO 2025-06-09 23:34:51,517 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:34:51,517 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:34:51,543 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:51,543 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:34:51,543 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:51,543 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:34:51,543 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:51,554 views Database connection successful
INFO 2025-06-09 23:34:51,554 views Received chat request at 2025-06-09 23:34:51.554546
DEBUG 2025-06-09 23:34:51,555 views Request headers: {'Cookie': '', 'Content-Length': '191', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:51,555 views Request body: {"message": "executive suite", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:34:51,556 views User input: executive suite
INFO 2025-06-09 23:34:51,557 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:34:51,557 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:34:52,091 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:52,091 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:52,091 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:52,091 dialog_manager Processing message: executive suite
INFO 2025-06-09 23:34:52,091 dialog_manager Processing input: executive suite
INFO 2025-06-09 23:34:52,111 dialog_manager Using language: en
INFO 2025-06-09 23:34:52,112 dialog_manager Detecting intent for input: executive suite
INFO 2025-06-09 23:34:52,116 dialog_manager Detected intent: unknown
ERROR 2025-06-09 23:34:52,120 dialog_manager Error processing upgrade selection: Booking matching query does not exist.
INFO 2025-06-09 23:34:52,132 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:52,138 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:34:52,138 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:52,139 views Generated response: Sorry, I encountered an error while processing your upgrade. Please contact our support team for assistance.
INFO 2025-06-09 23:34:52,140 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:52,147 views Database connection successful
INFO 2025-06-09 23:34:52,148 views Received chat request at 2025-06-09 23:34:52.148969
DEBUG 2025-06-09 23:34:52,148 views Request headers: {'Cookie': '', 'Content-Length': '194', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:52,148 views Request body: {"message": "presidential villa", "session": {"state": "selecting_upgrade_room", "user_data": {"booking_to_upgrade": {"id": 1, "booking_id": "BK-12345", "current_price": 100.0, "duration": 2}}}}
INFO 2025-06-09 23:34:52,148 views User input: presidential villa
INFO 2025-06-09 23:34:52,148 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:34:52,148 views Current user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}}
INFO 2025-06-09 23:34:52,707 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:52,707 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:52,707 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:52,707 dialog_manager Processing message: presidential villa
INFO 2025-06-09 23:34:52,707 dialog_manager Processing input: presidential villa
INFO 2025-06-09 23:34:52,721 dialog_manager Using language: en
INFO 2025-06-09 23:34:52,721 dialog_manager Detecting intent for input: presidential villa
INFO 2025-06-09 23:34:52,729 dialog_manager Detected intent: off_topic
INFO 2025-06-09 23:34:52,747 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:52,747 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:34:52,747 views Updated user data: {'booking_to_upgrade': {'id': 1, 'booking_id': 'BK-12345', 'current_price': 100.0, 'duration': 2}, 'is_returning_customer': False}
INFO 2025-06-09 23:34:52,747 views Generated response: I couldn't find that room type. Available upgrade options are: Standard Room, Deluxe Room, Suite, Executive Suite. Please choose one of these options.
INFO 2025-06-09 23:34:52,747 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:52,757 views Database connection successful
INFO 2025-06-09 23:34:52,758 views Received chat request at 2025-06-09 23:34:52.758620
DEBUG 2025-06-09 23:34:52,758 views Request headers: {'Cookie': '', 'Content-Length': '78', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:52,760 views Request body: {"message": "upgrade room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-09 23:34:52,760 views User input: upgrade room
INFO 2025-06-09 23:34:52,760 views Current session state: greeting
INFO 2025-06-09 23:34:52,760 views Current user data: {}
INFO 2025-06-09 23:34:53,300 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:53,300 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:53,300 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:53,300 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:34:53,300 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:34:53,320 dialog_manager Using language: en
INFO 2025-06-09 23:34:53,320 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:34:53,326 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:34:53,326 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:34:53,341 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False}
INFO 2025-06-09 23:34:53,341 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:34:53,341 views Updated user data: {'is_returning_customer': False}
INFO 2025-06-09 23:34:53,344 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-09 23:34:53,345 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:53,349 views Database connection successful
INFO 2025-06-09 23:34:53,349 views Received chat request at 2025-06-09 23:34:53.349122
DEBUG 2025-06-09 23:34:53,350 views Request headers: {'Cookie': '', 'Content-Length': '143', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:53,351 views Request body: {"message": "BK-12345", "session": {"state": "collecting_booking_id_for_upgrade", "user_data": {"is_returning_customer": false}, "lang": "pt"}}
INFO 2025-06-09 23:34:53,351 views User input: BK-12345
INFO 2025-06-09 23:34:53,352 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-09 23:34:53,352 views Current user data: {'is_returning_customer': False}
INFO 2025-06-09 23:34:53,909 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:53,909 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:53,909 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:53,909 dialog_manager Processing message: BK-12345
INFO 2025-06-09 23:34:53,909 dialog_manager Processing input: BK-12345
INFO 2025-06-09 23:34:53,909 dialog_manager Using language: pt
INFO 2025-06-09 23:34:53,909 dialog_manager Detecting intent for input: BK-12345
INFO 2025-06-09 23:34:53,909 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:34:53,909 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:34:53,925 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345', 'booking_to_upgrade': {'id': 36, 'booking_id': 'BK-12345', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 18', 'duration': 2}}
INFO 2025-06-09 23:34:53,925 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:34:53,927 views Updated user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345', 'booking_to_upgrade': {'id': 36, 'booking_id': 'BK-12345', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 18', 'duration': 2}}
INFO 2025-06-09 23:34:53,934 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:34:53,940 views Database connection successful
INFO 2025-06-09 23:34:53,940 views Received chat request at 2025-06-09 23:34:53.940192
DEBUG 2025-06-09 23:34:53,942 views Request headers: {'Cookie': '', 'Content-Length': '351', 'Content-Type': 'application/json'}
DEBUG 2025-06-09 23:34:53,942 views Request body: {"message": "deluxe room", "session": {"state": "selecting_upgrade_room", "user_data": {"is_returning_customer": false, "upgrade_booking_id": "BK-12345", "booking_to_upgrade": {"id": 36, "booking_id": "BK-12345", "current_room": "Standard Room", "current_price": "132.00", "check_in": "June 16", "check_out": "June 18", "duration": 2}}, "lang": "pt"}}
INFO 2025-06-09 23:34:53,943 views User input: deluxe room
INFO 2025-06-09 23:34:53,943 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:34:53,943 views Current user data: {'is_returning_customer': False, 'upgrade_booking_id': 'BK-12345', 'booking_to_upgrade': {'id': 36, 'booking_id': 'BK-12345', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 18', 'duration': 2}}
INFO 2025-06-09 23:34:54,748 dialog_manager Using device: cpu
WARNING 2025-06-09 23:34:54,748 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:34:54,748 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:34:54,748 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:34:54,748 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:34:54,748 dialog_manager Using language: pt
INFO 2025-06-09 23:34:54,748 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:34:54,748 dialog_manager Booking intent detected
INFO 2025-06-09 23:34:54,748 dialog_manager Detected intent: booking
INFO 2025-06-09 23:34:54,778 models Booking saved: BK-12345 for Test User
INFO 2025-06-09 23:34:54,778 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 23:34:54,778 views Updated session state: greeting
INFO 2025-06-09 23:34:54,778 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 23:34:54,778 views Generated response: Your room type has been successfully upgraded to Deluxe Room and the total price has been adjusted. Additional cost: RM146.00 (RM73.00/night  2 nights). We look forward to your more comfortable stay!
INFO 2025-06-09 23:34:54,778 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:35:24,183 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 22539
INFO 2025-06-09 23:35:24,285 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:35:27,778 basehttp "GET /admin/hotel_booking/booking/34/change/ HTTP/1.1" 200 33236
INFO 2025-06-09 23:35:27,862 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-09 23:35:34,690 basehttp "GET /hotel_booking/ HTTP/1.1" 200 26107
INFO 2025-06-09 23:35:37,007 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-09 23:35:46,406 views Database connection successful
INFO 2025-06-09 23:35:46,406 views Received chat request at 2025-06-09 23:35:46.406906
DEBUG 2025-06-09 23:35:46,409 views Request headers: {'Content-Length': '35', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:35:46,412 views Request body: {"message":"BK-52873","session":{}}
INFO 2025-06-09 23:35:46,412 views User input: BK-52873
INFO 2025-06-09 23:35:46,417 views Current session state: None
INFO 2025-06-09 23:35:46,418 views Current user data: None
INFO 2025-06-09 23:35:49,611 dialog_manager Using device: cpu
WARNING 2025-06-09 23:35:49,617 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:35:49,627 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:35:49,633 dialog_manager Processing message: BK-52873
INFO 2025-06-09 23:35:49,641 dialog_manager Processing input: BK-52873
INFO 2025-06-09 23:35:50,538 dialog_manager Using language: en
INFO 2025-06-09 23:35:50,541 dialog_manager Detecting intent for input: BK-52873
INFO 2025-06-09 23:35:50,541 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-09 23:35:50,544 dialog_manager Detected intent: invalid_input
INFO 2025-06-09 23:35:50,587 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:35:50,587 views Updated session state: greeting
INFO 2025-06-09 23:35:50,587 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-09 23:35:50,637 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:35:50,646 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 738
INFO 2025-06-09 23:35:56,274 views Database connection successful
INFO 2025-06-09 23:35:56,278 views Received chat request at 2025-06-09 23:35:56.278341
DEBUG 2025-06-09 23:35:56,278 views Request headers: {'Content-Length': '303', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:35:56,281 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-06-09 23:35:56,281 views User input: upgrade room
INFO 2025-06-09 23:35:56,281 views Current session state: greeting
INFO 2025-06-09 23:35:56,283 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}}
INFO 2025-06-09 23:35:57,989 dialog_manager Using device: cpu
WARNING 2025-06-09 23:35:57,993 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:35:57,993 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:35:57,993 dialog_manager Processing message: upgrade room
INFO 2025-06-09 23:35:57,997 dialog_manager Processing input: upgrade room
INFO 2025-06-09 23:35:57,997 dialog_manager Using language: en
INFO 2025-06-09 23:35:58,001 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-09 23:35:58,095 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-09 23:35:58,101 dialog_manager Detected intent: upgrade_room
INFO 2025-06-09 23:35:58,128 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:35:58,128 views Updated session state: selecting_upgrade_room
INFO 2025-06-09 23:35:58,128 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:35:58,160 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:35:58,160 views Removed User object from session for JSON serialization
INFO 2025-06-09 23:35:58,176 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1031
INFO 2025-06-09 23:36:06,174 views Database connection successful
INFO 2025-06-09 23:36:06,178 views Received chat request at 2025-06-09 23:36:06.178044
DEBUG 2025-06-09 23:36:06,178 views Request headers: {'Content-Length': '549', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-09 23:36:06,181 views Request body: {"message":"deluxe room","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":34,"booking_id":"BK-52873","guest_name":"johnny siew","room_name":"Standard Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"},"username":"johnny","user_id":14,"upgrade_booking_id":"BK-52873","booking_to_upgrade":{"id":34,"booking_id":"BK-52873","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"en"}}
INFO 2025-06-09 23:36:06,181 views User input: deluxe room
INFO 2025-06-09 23:36:06,181 views Current session state: selecting_upgrade_room
INFO 2025-06-09 23:36:06,181 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 34, 'booking_id': 'BK-52873', 'guest_name': 'johnny siew', 'room_name': 'Standard Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-52873', 'booking_to_upgrade': {'id': 34, 'booking_id': 'BK-52873', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-09 23:36:07,544 dialog_manager Using device: cpu
WARNING 2025-06-09 23:36:07,555 dialog_manager Using basic NLP functionality only
INFO 2025-06-09 23:36:07,555 dialog_manager DialogManager initialized successfully
INFO 2025-06-09 23:36:07,555 dialog_manager Processing message: deluxe room
INFO 2025-06-09 23:36:07,555 dialog_manager Processing input: deluxe room
INFO 2025-06-09 23:36:07,559 dialog_manager Using language: en
INFO 2025-06-09 23:36:07,560 dialog_manager Detecting intent for input: deluxe room
INFO 2025-06-09 23:36:07,574 dialog_manager Booking intent detected
INFO 2025-06-09 23:36:07,574 dialog_manager Detected intent: booking
INFO 2025-06-09 23:36:07,589 models Booking saved: BK-52873 for johnny siew
INFO 2025-06-09 23:36:07,589 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-09 23:36:07,597 views Updated session state: greeting
INFO 2025-06-09 23:36:07,597 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-09 23:36:07,597 views Generated response: Your room type has been successfully upgraded to Deluxe Room and the total price has been adjusted. Additional cost: RM73.00 (RM73.00/night  1 nights). We look forward to your more comfortable stay!
INFO 2025-06-09 23:36:07,597 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-09 23:36:07,605 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 313
INFO 2025-06-10 11:40:26,024 autoreload Watching for file changes with StatReloader
INFO 2025-06-10 11:40:50,034 middleware Admin user found: admin
INFO 2025-06-10 11:41:07,454 basehttp "GET /hotel_booking/ HTTP/1.1" 200 26107
WARNING 2025-06-10 11:41:08,543 log Not Found: /favicon.ico
WARNING 2025-06-10 11:41:08,544 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-10 11:41:29,332 basehttp "GET /hotel_booking/ HTTP/1.1" 200 26107
INFO 2025-06-10 11:41:49,830 basehttp "GET /admin/ HTTP/1.1" 200 13907
WARNING 2025-06-10 11:41:50,684 log Not Found: /favicon.ico
WARNING 2025-06-10 11:41:50,688 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-10 11:41:53,626 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15592
INFO 2025-06-10 11:41:53,682 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:41:55,897 basehttp "GET /admin/hotel_booking/room/5/change/ HTTP/1.1" 200 14376
INFO 2025-06-10 11:41:55,923 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:41:57,962 basehttp "GET /admin/hotel_booking/room/5/delete/ HTTP/1.1" 200 10736
INFO 2025-06-10 11:41:59,148 basehttp "POST /admin/hotel_booking/room/5/delete/ HTTP/1.1" 302 0
INFO 2025-06-10 11:41:59,217 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15341
INFO 2025-06-10 11:41:59,271 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:42:01,215 basehttp "GET /admin/hotel_booking/room/3/change/ HTTP/1.1" 200 15083
INFO 2025-06-10 11:42:01,271 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:42:08,522 models Room saved: Execuite Suite (ID: 3)
INFO 2025-06-10 11:42:08,524 basehttp "POST /admin/hotel_booking/room/3/change/ HTTP/1.1" 302 0
INFO 2025-06-10 11:42:08,573 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15408
INFO 2025-06-10 11:42:08,615 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:42:12,881 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25386
INFO 2025-06-10 11:42:28,885 basehttp "GET /admin/hotel_booking/room/3/change/ HTTP/1.1" 200 15119
INFO 2025-06-10 11:42:28,919 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:42:36,234 models Room saved: Executive Suite (ID: 3)
INFO 2025-06-10 11:42:36,256 basehttp "POST /admin/hotel_booking/room/3/change/ HTTP/1.1" 302 0
INFO 2025-06-10 11:42:36,317 basehttp "GET /admin/hotel_booking/room/ HTTP/1.1" 200 15411
INFO 2025-06-10 11:42:36,380 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:21,515 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13138
INFO 2025-06-10 11:47:28,515 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 22595
INFO 2025-06-10 11:47:28,621 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:30,710 basehttp "GET /admin/hotel_booking/booking/36/change/ HTTP/1.1" 200 33181
INFO 2025-06-10 11:47:30,782 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:32,269 basehttp "GET /admin/hotel_booking/booking/36/delete/ HTTP/1.1" 200 10819
INFO 2025-06-10 11:47:33,673 basehttp "POST /admin/hotel_booking/booking/36/delete/ HTTP/1.1" 302 0
INFO 2025-06-10 11:47:33,771 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 22123
INFO 2025-06-10 11:47:33,830 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:36,488 basehttp "GET /admin/hotel_booking/booking/34/change/ HTTP/1.1" 200 33194
INFO 2025-06-10 11:47:36,532 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:38,021 basehttp "GET /admin/hotel_booking/booking/34/delete/ HTTP/1.1" 200 10825
INFO 2025-06-10 11:47:38,737 basehttp "POST /admin/hotel_booking/booking/34/delete/ HTTP/1.1" 302 0
INFO 2025-06-10 11:47:38,820 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 21462
INFO 2025-06-10 11:47:38,887 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:40,301 basehttp "GET /admin/hotel_booking/booking/35/change/ HTTP/1.1" 200 33185
INFO 2025-06-10 11:47:40,354 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:41,942 basehttp "GET /admin/hotel_booking/booking/35/delete/ HTTP/1.1" 200 10822
INFO 2025-06-10 11:47:42,601 basehttp "POST /admin/hotel_booking/booking/35/delete/ HTTP/1.1" 302 0
INFO 2025-06-10 11:47:42,683 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 20803
INFO 2025-06-10 11:47:42,730 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 11:47:48,229 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-10 11:47:58,967 views Database connection successful
INFO 2025-06-10 11:47:58,969 views Received chat request at 2025-06-10 11:47:58.969642
DEBUG 2025-06-10 11:47:58,972 views Request headers: {'Content-Length': '46', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:47:58,973 views Request body: {"message":"i want booking room","session":{}}
INFO 2025-06-10 11:47:58,974 views User input: i want booking room
INFO 2025-06-10 11:47:58,975 views Current session state: None
INFO 2025-06-10 11:47:58,975 views Current user data: None
INFO 2025-06-10 11:47:59,719 dialog_manager Using device: cpu
WARNING 2025-06-10 11:47:59,719 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:47:59,719 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:47:59,727 dialog_manager Processing message: i want booking room
INFO 2025-06-10 11:47:59,729 dialog_manager Processing input: i want booking room
INFO 2025-06-10 11:48:00,249 dialog_manager Using language: en
INFO 2025-06-10 11:48:00,250 dialog_manager Detecting intent for input: i want booking room
INFO 2025-06-10 11:48:00,276 dialog_manager Booking intent detected
INFO 2025-06-10 11:48:00,276 dialog_manager Detected intent: booking
INFO 2025-06-10 11:48:00,284 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-10 11:48:00,288 dialog_manager Extracting dates from: i want booking room
WARNING 2025-06-10 11:48:00,288 dialog_manager No dates found
INFO 2025-06-10 11:48:00,294 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:48:00,296 views Updated session state: collecting_booking_info
INFO 2025-06-10 11:48:00,296 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:48:00,368 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:00,368 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:00,375 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 254
INFO 2025-06-10 11:48:04,093 views Database connection successful
INFO 2025-06-10 11:48:04,093 views Received chat request at 2025-06-10 11:48:04.093373
DEBUG 2025-06-10 11:48:04,096 views Request headers: {'Content-Length': '155', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:04,097 views Request body: {"message":"johnny","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-10 11:48:04,099 views User input: johnny
INFO 2025-06-10 11:48:04,099 views Current session state: collecting_booking_info
INFO 2025-06-10 11:48:04,104 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14}
INFO 2025-06-10 11:48:04,580 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:04,580 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:04,580 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:04,580 dialog_manager Processing message: johnny
INFO 2025-06-10 11:48:04,580 dialog_manager Processing input: johnny
INFO 2025-06-10 11:48:04,580 dialog_manager Using language: af
INFO 2025-06-10 11:48:04,580 dialog_manager Detecting intent for input: johnny
INFO 2025-06-10 11:48:04,580 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:48:04,580 dialog_manager Extracted name: johnny
INFO 2025-06-10 11:48:04,592 dialog_manager Extracting dates from: johnny
WARNING 2025-06-10 11:48:04,592 dialog_manager No dates found
INFO 2025-06-10 11:48:04,593 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'johnny'}
INFO 2025-06-10 11:48:04,593 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'johnny'}
INFO 2025-06-10 11:48:04,593 views Updated session state: collecting_booking_info
INFO 2025-06-10 11:48:04,594 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'guest_name': 'johnny'}
INFO 2025-06-10 11:48:04,605 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:04,606 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:04,607 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 282
INFO 2025-06-10 11:48:09,454 views Database connection successful
INFO 2025-06-10 11:48:09,454 views Received chat request at 2025-06-10 11:48:09.454045
DEBUG 2025-06-10 11:48:09,455 views Request headers: {'Content-Length': '182', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:09,456 views Request body: {"message":"01158763903","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-10 11:48:09,458 views User input: 01158763903
INFO 2025-06-10 11:48:09,459 views Current session state: collecting_booking_info
INFO 2025-06-10 11:48:09,460 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny'}
INFO 2025-06-10 11:48:09,925 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:09,925 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:09,925 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:09,925 dialog_manager Processing message: 01158763903
INFO 2025-06-10 11:48:09,925 dialog_manager Processing input: 01158763903
INFO 2025-06-10 11:48:09,925 dialog_manager Using language: af
INFO 2025-06-10 11:48:09,925 dialog_manager Detecting intent for input: 01158763903
INFO 2025-06-10 11:48:09,925 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-10 11:48:09,925 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:48:09,925 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-06-10 11:48:09,925 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '01158763903'}
INFO 2025-06-10 11:48:09,925 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '01158763903'}
INFO 2025-06-10 11:48:09,925 views Updated session state: collecting_booking_info
INFO 2025-06-10 11:48:09,940 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'user': <SimpleLazyObject: <User: johnny>>, 'phone': '01158763903'}
INFO 2025-06-10 11:48:09,949 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:09,949 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:09,949 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 303
INFO 2025-06-10 11:48:17,076 views Database connection successful
INFO 2025-06-10 11:48:17,076 views Received chat request at 2025-06-10 11:48:17.076778
DEBUG 2025-06-10 11:48:17,081 views Request headers: {'Content-Length': '213', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:17,081 views Request body: {"message":"golden3903@gmail.com","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny","phone":"01158763903"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-10 11:48:17,081 views User input: golden3903@gmail.com
INFO 2025-06-10 11:48:17,081 views Current session state: collecting_booking_info
INFO 2025-06-10 11:48:17,086 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903'}
INFO 2025-06-10 11:48:17,557 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:17,557 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:17,557 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:17,557 dialog_manager Processing message: golden3903@gmail.com
INFO 2025-06-10 11:48:17,557 dialog_manager Processing input: golden3903@gmail.com
INFO 2025-06-10 11:48:17,557 dialog_manager Using language: af
INFO 2025-06-10 11:48:17,557 dialog_manager Detecting intent for input: golden3903@gmail.com
INFO 2025-06-10 11:48:17,570 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:48:17,571 dialog_manager Extracted standalone email: golden3903@gmail.com
INFO 2025-06-10 11:48:17,572 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-10 11:48:17,573 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-10 11:48:17,574 views Updated session state: collecting_booking_info
INFO 2025-06-10 11:48:17,574 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: johnny>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-10 11:48:17,577 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:17,577 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:17,590 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-06-10 11:48:21,416 views Database connection successful
INFO 2025-06-10 11:48:21,417 views Received chat request at 2025-06-10 11:48:21.416079
DEBUG 2025-06-10 11:48:21,417 views Request headers: {'Content-Length': '232', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:21,420 views Request body: {"message":"standard","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny","phone":"01158763903","email":"golden3903@gmail.com"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-10 11:48:21,421 views User input: standard
INFO 2025-06-10 11:48:21,421 views Current session state: collecting_booking_info
INFO 2025-06-10 11:48:21,422 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com'}
INFO 2025-06-10 11:48:21,933 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:21,933 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:21,948 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:21,951 dialog_manager Processing message: standard
INFO 2025-06-10 11:48:21,951 dialog_manager Processing input: standard
INFO 2025-06-10 11:48:21,951 dialog_manager Using language: af
INFO 2025-06-10 11:48:21,952 dialog_manager Detecting intent for input: standard
INFO 2025-06-10 11:48:21,952 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-10 11:48:21,953 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:48:21,954 dialog_manager Extracting dates from: standard
WARNING 2025-06-10 11:48:21,954 dialog_manager No dates found
INFO 2025-06-10 11:48:21,954 dialog_manager Extracted room type: Standard
INFO 2025-06-10 11:48:21,955 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Standard'}
INFO 2025-06-10 11:48:21,955 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Standard'}
INFO 2025-06-10 11:48:21,955 views Updated session state: collecting_booking_info
INFO 2025-06-10 11:48:21,955 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: johnny>>, 'room_type': 'Standard'}
INFO 2025-06-10 11:48:21,957 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:21,957 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:21,957 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 408
INFO 2025-06-10 11:48:26,599 views Database connection successful
INFO 2025-06-10 11:48:26,599 views Received chat request at 2025-06-10 11:48:26.599049
DEBUG 2025-06-10 11:48:26,604 views Request headers: {'Content-Length': '258', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:26,606 views Request body: {"message":"next monday","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"af"}}
INFO 2025-06-10 11:48:26,606 views User input: next monday
INFO 2025-06-10 11:48:26,609 views Current session state: collecting_booking_info
INFO 2025-06-10 11:48:26,611 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-10 11:48:27,050 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:27,050 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:27,050 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:27,050 dialog_manager Processing message: next monday
INFO 2025-06-10 11:48:27,050 dialog_manager Processing input: next monday
INFO 2025-06-10 11:48:27,050 dialog_manager Using language: af
INFO 2025-06-10 11:48:27,050 dialog_manager Detecting intent for input: next monday
INFO 2025-06-10 11:48:27,050 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:48:27,050 dialog_manager Extracting dates from: next monday
INFO 2025-06-10 11:48:27,050 dialog_manager Extracted 'next monday' date: 2025-06-16 11:48:27.050353
INFO 2025-06-10 11:48:27,063 dialog_manager Single date result: {'check_in': '2025-06-16', 'check_out': '2025-06-17'}
INFO 2025-06-10 11:48:27,065 dialog_manager Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17'}
INFO 2025-06-10 11:48:27,068 models Booking saved: BK-16465 for johnny
INFO 2025-06-10 11:48:27,068 dialog_manager Booking created successfully: ID=37, Booking_ID=BK-16465
INFO 2025-06-10 11:48:27,068 dialog_manager Booking record created successfully: BK-16465
INFO 2025-06-10 11:48:27,075 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465'}
INFO 2025-06-10 11:48:27,075 views Updated session state: offering_addons
INFO 2025-06-10 11:48:27,075 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: johnny>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465'}
INFO 2025-06-10 11:48:27,076 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-10 11:48:27,077 views Booking confirmation check - State: offering_addons, Booking ID: BK-16465, Previous ID: BK-16465, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:27,077 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:27,082 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1255
INFO 2025-06-10 11:48:37,077 views Database connection successful
INFO 2025-06-10 11:48:37,077 views Received chat request at 2025-06-10 11:48:37.077238
DEBUG 2025-06-10 11:48:37,077 views Request headers: {'Content-Length': '331', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:37,077 views Request body: {"message":"breakfast","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-16465"},"state":"offering_addons","lang":"af"}}
INFO 2025-06-10 11:48:37,077 views User input: breakfast
INFO 2025-06-10 11:48:37,077 views Current session state: offering_addons
INFO 2025-06-10 11:48:37,077 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465'}
INFO 2025-06-10 11:48:37,536 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:37,536 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:37,536 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:37,536 dialog_manager Processing message: breakfast
INFO 2025-06-10 11:48:37,536 dialog_manager Processing input: breakfast
INFO 2025-06-10 11:48:37,536 dialog_manager Using language: af
INFO 2025-06-10 11:48:37,536 dialog_manager Detecting intent for input: breakfast
INFO 2025-06-10 11:48:37,536 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-10 11:48:37,536 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:48:37,536 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465', 'user': <SimpleLazyObject: <User: johnny>>, 'addon_selections': ['breakfast']}
INFO 2025-06-10 11:48:37,536 views Updated session state: collecting_breakfast_count
INFO 2025-06-10 11:48:37,536 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465', 'user': <SimpleLazyObject: <User: johnny>>, 'addon_selections': ['breakfast']}
INFO 2025-06-10 11:48:37,536 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-06-10 11:48:37,536 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-16465, Previous ID: BK-16465, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:37,536 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:37,549 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 478
INFO 2025-06-10 11:48:41,078 views Database connection successful
INFO 2025-06-10 11:48:41,080 views Received chat request at 2025-06-10 11:48:41.080290
DEBUG 2025-06-10 11:48:41,083 views Request headers: {'Content-Length': '367', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:41,086 views Request body: {"message":"2","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-16465","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"af"}}
INFO 2025-06-10 11:48:41,088 views User input: 2
INFO 2025-06-10 11:48:41,088 views Current session state: collecting_breakfast_count
INFO 2025-06-10 11:48:41,091 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465', 'addon_selections': ['breakfast']}
INFO 2025-06-10 11:48:41,783 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:41,783 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:41,783 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:41,783 dialog_manager Processing message: 2
INFO 2025-06-10 11:48:41,783 dialog_manager Processing input: 2
INFO 2025-06-10 11:48:41,783 dialog_manager Using language: af
INFO 2025-06-10 11:48:41,783 dialog_manager Detecting intent for input: 2
INFO 2025-06-10 11:48:41,783 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:48:41,798 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: johnny>>, 'breakfast_count': 2}
INFO 2025-06-10 11:48:41,799 views Updated session state: confirming_breakfast
INFO 2025-06-10 11:48:41,800 views Updated user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: johnny>>, 'breakfast_count': 2}
INFO 2025-06-10 11:48:41,800 views Generated response: OK, add breakfast for 2 guest(s), a total of RM40.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-06-10 11:48:41,801 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-16465, Previous ID: BK-16465, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:41,801 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:48:41,803 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 509
INFO 2025-06-10 11:48:46,021 views Database connection successful
INFO 2025-06-10 11:48:46,022 views Received chat request at 2025-06-10 11:48:46.022947
DEBUG 2025-06-10 11:48:46,022 views Request headers: {'Content-Length': '383', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:46,022 views Request body: {"message":"yes","session":{"user_data":{"username":"johnny","is_returning_customer":false,"user_id":14,"guest_name":"johnny","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-16465","addon_selections":["breakfast"],"breakfast_count":2},"state":"confirming_breakfast","lang":"af"}}
INFO 2025-06-10 11:48:46,030 views User input: yes
INFO 2025-06-10 11:48:46,031 views Current session state: confirming_breakfast
INFO 2025-06-10 11:48:46,032 views Current user data: {'username': 'johnny', 'is_returning_customer': False, 'user_id': 14, 'guest_name': 'johnny', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-16465', 'addon_selections': ['breakfast'], 'breakfast_count': 2}
INFO 2025-06-10 11:48:46,496 dialog_manager Using device: cpu
WARNING 2025-06-10 11:48:46,496 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:48:46,496 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:48:46,496 dialog_manager Processing message: yes
INFO 2025-06-10 11:48:46,496 dialog_manager Processing input: yes
INFO 2025-06-10 11:48:46,496 dialog_manager Using language: af
INFO 2025-06-10 11:48:46,496 dialog_manager Detecting intent for input: yes
INFO 2025-06-10 11:48:46,496 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:48:46,511 dialog_manager Addon created successfully: Breakfast for 2 people - RM20
INFO 2025-06-10 11:48:46,513 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-10 11:48:46,514 views Updated session state: greeting
INFO 2025-06-10 11:48:46,514 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-10 11:48:46,515 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-06-10 11:48:46,516 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:48:46,519 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-06-10 11:48:59,920 views Database connection successful
INFO 2025-06-10 11:48:59,920 views Received chat request at 2025-06-10 11:48:59.920966
DEBUG 2025-06-10 11:48:59,920 views Request headers: {'Content-Length': '112', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:48:59,920 views Request body: {"message":"upgrade room","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-06-10 11:48:59,920 views User input: upgrade room
INFO 2025-06-10 11:48:59,920 views Current session state: greeting
INFO 2025-06-10 11:48:59,920 views Current user data: {'is_returning_customer': True}
INFO 2025-06-10 11:49:00,384 dialog_manager Using device: cpu
WARNING 2025-06-10 11:49:00,384 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:49:00,384 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:49:00,384 dialog_manager Processing message: upgrade room
INFO 2025-06-10 11:49:00,384 dialog_manager Processing input: upgrade room
INFO 2025-06-10 11:49:00,384 dialog_manager Using language: af
INFO 2025-06-10 11:49:00,384 dialog_manager Detecting intent for input: upgrade room
INFO 2025-06-10 11:49:00,384 dialog_manager Pattern-based intent detected: upgrade_room
INFO 2025-06-10 11:49:00,384 dialog_manager Detected intent: upgrade_room
INFO 2025-06-10 11:49:00,394 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_upgrade, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:49:00,394 views Updated session state: collecting_booking_id_for_upgrade
INFO 2025-06-10 11:49:00,394 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:49:00,395 views Generated response: I'd be happy to help you upgrade your room! Please provide your booking ID so I can check your current reservation and show you available upgrade options.
INFO 2025-06-10 11:49:00,395 views Booking confirmation check - State: collecting_booking_id_for_upgrade, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:49:00,395 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:49:00,398 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 326
INFO 2025-06-10 11:49:06,995 views Database connection successful
INFO 2025-06-10 11:49:06,996 views Received chat request at 2025-06-10 11:49:06.996054
DEBUG 2025-06-10 11:49:06,996 views Request headers: {'Content-Length': '167', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:49:07,001 views Request body: {"message":"BK-16465","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14},"state":"collecting_booking_id_for_upgrade","lang":"af"}}
INFO 2025-06-10 11:49:07,001 views User input: BK-16465
INFO 2025-06-10 11:49:07,001 views Current session state: collecting_booking_id_for_upgrade
INFO 2025-06-10 11:49:07,004 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-10 11:49:07,435 dialog_manager Using device: cpu
WARNING 2025-06-10 11:49:07,435 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:49:07,435 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:49:07,435 dialog_manager Processing message: BK-16465
INFO 2025-06-10 11:49:07,435 dialog_manager Processing input: BK-16465
INFO 2025-06-10 11:49:07,435 dialog_manager Using language: af
INFO 2025-06-10 11:49:07,435 dialog_manager Detecting intent for input: BK-16465
INFO 2025-06-10 11:49:07,435 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-10 11:49:07,435 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:49:07,445 dialog_manager Dialog manager process completed - State: selecting_upgrade_room, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-16465', 'booking_to_upgrade': {'id': 37, 'booking_id': 'BK-16465', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-10 11:49:07,446 views Updated session state: selecting_upgrade_room
INFO 2025-06-10 11:49:07,447 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'upgrade_booking_id': 'BK-16465', 'booking_to_upgrade': {'id': 37, 'booking_id': 'BK-16465', 'current_room': 'Standard Room', 'current_price': Decimal('132.00'), 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-10 11:49:07,453 views Booking confirmation check - State: selecting_upgrade_room, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:49:07,454 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:49:07,457 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 762
INFO 2025-06-10 11:49:11,478 views Database connection successful
INFO 2025-06-10 11:49:11,478 views Received chat request at 2025-06-10 11:49:11.478085
DEBUG 2025-06-10 11:49:11,478 views Request headers: {'Content-Length': '353', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:49:11,484 views Request body: {"message":"deluxe","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14,"upgrade_booking_id":"BK-16465","booking_to_upgrade":{"id":37,"booking_id":"BK-16465","current_room":"Standard Room","current_price":"132.00","check_in":"June 16","check_out":"June 17","duration":1}},"state":"selecting_upgrade_room","lang":"af"}}
INFO 2025-06-10 11:49:11,484 views User input: deluxe
INFO 2025-06-10 11:49:11,487 views Current session state: selecting_upgrade_room
INFO 2025-06-10 11:49:11,487 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'upgrade_booking_id': 'BK-16465', 'booking_to_upgrade': {'id': 37, 'booking_id': 'BK-16465', 'current_room': 'Standard Room', 'current_price': '132.00', 'check_in': 'June 16', 'check_out': 'June 17', 'duration': 1}}
INFO 2025-06-10 11:49:11,908 dialog_manager Using device: cpu
WARNING 2025-06-10 11:49:11,908 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:49:11,908 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:49:11,908 dialog_manager Processing message: deluxe
INFO 2025-06-10 11:49:11,908 dialog_manager Processing input: deluxe
INFO 2025-06-10 11:49:11,908 dialog_manager Using language: af
INFO 2025-06-10 11:49:11,908 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-10 11:49:11,927 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:49:11,931 models Booking saved: BK-16465 for johnny
INFO 2025-06-10 11:49:11,931 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-10 11:49:11,931 views Updated session state: greeting
INFO 2025-06-10 11:49:11,937 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-10 11:49:11,937 views Generated response: Your room type has been successfully upgraded to Deluxe Room and the total price has been adjusted. Additional cost: RM73.00 (RM73.00/night  1 nights). We look forward to your more comfortable stay!
INFO 2025-06-10 11:49:11,937 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:49:11,942 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 313
INFO 2025-06-10 11:49:25,956 views Database connection successful
INFO 2025-06-10 11:49:25,956 views Received chat request at 2025-06-10 11:49:25.956193
DEBUG 2025-06-10 11:49:25,956 views Request headers: {'Content-Length': '117', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:49:25,964 views Request body: {"message":"hotel information","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"af"}}
INFO 2025-06-10 11:49:25,965 views User input: hotel information
INFO 2025-06-10 11:49:25,967 views Current session state: greeting
INFO 2025-06-10 11:49:25,968 views Current user data: {'is_returning_customer': True}
INFO 2025-06-10 11:49:26,396 dialog_manager Using device: cpu
WARNING 2025-06-10 11:49:26,412 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:49:26,413 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:49:26,413 dialog_manager Processing message: hotel information
INFO 2025-06-10 11:49:26,413 dialog_manager Processing input: hotel information
INFO 2025-06-10 11:49:26,413 dialog_manager Using language: af
INFO 2025-06-10 11:49:26,413 dialog_manager Detecting intent for input: hotel information
INFO 2025-06-10 11:49:26,413 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:49:26,413 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:49:26,413 views Updated session state: greeting
INFO 2025-06-10 11:49:26,421 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:49:26,425 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:49:26,426 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:49:26,430 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 398
INFO 2025-06-10 11:49:37,414 views Database connection successful
INFO 2025-06-10 11:49:37,414 views Received chat request at 2025-06-10 11:49:37.414308
DEBUG 2025-06-10 11:49:37,418 views Request headers: {'Content-Length': '153', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:49:37,420 views Request body: {"message":"booking information","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14},"state":"greeting","lang":"af"}}
INFO 2025-06-10 11:49:37,422 views User input: booking information
INFO 2025-06-10 11:49:37,424 views Current session state: greeting
INFO 2025-06-10 11:49:37,425 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-10 11:49:37,920 dialog_manager Using device: cpu
WARNING 2025-06-10 11:49:37,930 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:49:37,930 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:49:37,930 dialog_manager Processing message: booking information
INFO 2025-06-10 11:49:37,930 dialog_manager Processing input: booking information
INFO 2025-06-10 11:49:37,930 dialog_manager Using language: af
INFO 2025-06-10 11:49:37,930 dialog_manager Detecting intent for input: booking information
INFO 2025-06-10 11:49:37,938 dialog_manager Booking intent detected
INFO 2025-06-10 11:49:37,938 dialog_manager Detected intent: booking
INFO 2025-06-10 11:49:37,938 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-10 11:49:37,938 dialog_manager Extracting dates from: booking information
WARNING 2025-06-10 11:49:37,938 dialog_manager No dates found
INFO 2025-06-10 11:49:37,938 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:49:37,938 views Updated session state: collecting_booking_info
INFO 2025-06-10 11:49:37,938 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:49:37,954 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:49:37,954 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:49:37,954 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 254
INFO 2025-06-10 11:49:53,617 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25388
INFO 2025-06-10 11:49:54,403 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-10 11:49:55,906 views Database connection successful
INFO 2025-06-10 11:49:55,906 views Received chat request at 2025-06-10 11:49:55.906991
DEBUG 2025-06-10 11:49:55,908 views Request headers: {'Content-Length': '35', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:49:55,909 views Request body: {"message":"BK-16465","session":{}}
INFO 2025-06-10 11:49:55,910 views User input: BK-16465
INFO 2025-06-10 11:49:55,910 views Current session state: None
INFO 2025-06-10 11:49:55,910 views Current user data: None
INFO 2025-06-10 11:49:56,321 dialog_manager Using device: cpu
WARNING 2025-06-10 11:49:56,321 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:49:56,321 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:49:56,321 dialog_manager Processing message: BK-16465
INFO 2025-06-10 11:49:56,321 dialog_manager Processing input: BK-16465
INFO 2025-06-10 11:49:56,340 dialog_manager Using language: en
INFO 2025-06-10 11:49:56,340 dialog_manager Detecting intent for input: BK-16465
INFO 2025-06-10 11:49:56,340 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-10 11:49:56,340 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:49:56,350 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-10 11:49:56,350 views Updated session state: greeting
INFO 2025-06-10 11:49:56,350 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-10 11:49:56,359 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:49:56,365 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 875
INFO 2025-06-10 11:50:04,175 views Database connection successful
INFO 2025-06-10 11:50:04,176 views Received chat request at 2025-06-10 11:50:04.176107
DEBUG 2025-06-10 11:50:04,177 views Request headers: {'Content-Length': '295', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:50:04,177 views Request body: {"message":"change date","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-06-10 11:50:04,178 views User input: change date
INFO 2025-06-10 11:50:04,178 views Current session state: greeting
INFO 2025-06-10 11:50:04,178 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}}
INFO 2025-06-10 11:50:04,600 dialog_manager Using device: cpu
WARNING 2025-06-10 11:50:04,600 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:50:04,600 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:50:04,600 dialog_manager Processing message: change date
INFO 2025-06-10 11:50:04,600 dialog_manager Processing input: change date
INFO 2025-06-10 11:50:04,600 dialog_manager Using language: en
INFO 2025-06-10 11:50:04,600 dialog_manager Detecting intent for input: change date
INFO 2025-06-10 11:50:04,607 dialog_manager Pattern-based intent detected: change_date
INFO 2025-06-10 11:50:04,607 dialog_manager Detected intent: change_date
INFO 2025-06-10 11:50:04,615 dialog_manager Dialog manager process completed - State: collecting_new_check_in_date, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'change_date_booking_id': 'BK-16465', 'booking_to_change': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'current_checkin': 'June 16, 2025', 'current_checkout': 'June 17, 2025', 'current_checkin_date': '2025-06-16', 'current_checkout_date': '2025-06-17'}}
INFO 2025-06-10 11:50:04,615 views Updated session state: collecting_new_check_in_date
INFO 2025-06-10 11:50:04,615 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'change_date_booking_id': 'BK-16465', 'booking_to_change': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'current_checkin': 'June 16, 2025', 'current_checkout': 'June 17, 2025', 'current_checkin_date': '2025-06-16', 'current_checkout_date': '2025-06-17'}}
INFO 2025-06-10 11:50:04,615 views Generated response: Your current check-in date is June 16, 2025. Which day do you want to change it to? Please provide the new check-in date (e.g., 'June 15' or '15/06/2025').
INFO 2025-06-10 11:50:04,615 views Booking confirmation check - State: collecting_new_check_in_date, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:50:04,615 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:50:04,621 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 820
INFO 2025-06-10 11:50:20,376 views Database connection successful
INFO 2025-06-10 11:50:20,376 views Received chat request at 2025-06-10 11:50:20.376145
DEBUG 2025-06-10 11:50:20,376 views Request headers: {'Content-Length': '635', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:50:20,376 views Request body: {"message":"change to June 17","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"},"username":"johnny","user_id":14,"change_date_booking_id":"BK-16465","booking_to_change":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","current_checkin":"June 16, 2025","current_checkout":"June 17, 2025","current_checkin_date":"2025-06-16","current_checkout_date":"2025-06-17"}},"state":"collecting_new_check_in_date","lang":"en"}}
INFO 2025-06-10 11:50:20,376 views User input: change to June 17
INFO 2025-06-10 11:50:20,376 views Current session state: collecting_new_check_in_date
INFO 2025-06-10 11:50:20,376 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'change_date_booking_id': 'BK-16465', 'booking_to_change': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'current_checkin': 'June 16, 2025', 'current_checkout': 'June 17, 2025', 'current_checkin_date': '2025-06-16', 'current_checkout_date': '2025-06-17'}}
INFO 2025-06-10 11:50:20,801 dialog_manager Using device: cpu
WARNING 2025-06-10 11:50:20,801 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:50:20,801 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:50:20,801 dialog_manager Processing message: change to June 17
INFO 2025-06-10 11:50:20,801 dialog_manager Processing input: change to June 17
INFO 2025-06-10 11:50:20,801 dialog_manager Using language: en
INFO 2025-06-10 11:50:20,801 dialog_manager Detecting intent for input: change to June 17
INFO 2025-06-10 11:50:20,816 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:50:20,818 dialog_manager Dialog manager process completed - State: confirming_date_change, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'change_date_booking_id': 'BK-16465', 'booking_to_change': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'current_checkin': 'June 16, 2025', 'current_checkout': 'June 17, 2025', 'current_checkin_date': '2025-06-16', 'current_checkout_date': '2025-06-17'}, 'user': <SimpleLazyObject: <User: johnny>>, 'new_checkin_date': '2025-06-17', 'new_checkout_date': '2025-06-18'}
INFO 2025-06-10 11:50:20,818 views Updated session state: confirming_date_change
INFO 2025-06-10 11:50:20,818 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'change_date_booking_id': 'BK-16465', 'booking_to_change': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'current_checkin': 'June 16, 2025', 'current_checkout': 'June 17, 2025', 'current_checkin_date': '2025-06-16', 'current_checkout_date': '2025-06-17'}, 'user': <SimpleLazyObject: <User: johnny>>, 'new_checkin_date': '2025-06-17', 'new_checkout_date': '2025-06-18'}
INFO 2025-06-10 11:50:20,818 views Generated response: Are you sure to change the check-in time to June 17, 2025? Your new check-out date will be June 18, 2025. Please type 'Confirm' to proceed or 'Cancel' to abort.
INFO 2025-06-10 11:50:20,818 views Booking confirmation check - State: confirming_date_change, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:50:20,818 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:50:20,818 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 888
INFO 2025-06-10 11:50:26,357 views Database connection successful
INFO 2025-06-10 11:50:26,357 views Received chat request at 2025-06-10 11:50:26.357480
DEBUG 2025-06-10 11:50:26,357 views Request headers: {'Content-Length': '684', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:50:26,363 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-16","check_out_date":"2025-06-17","status":"confirmed"},"username":"johnny","user_id":14,"change_date_booking_id":"BK-16465","booking_to_change":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","current_checkin":"June 16, 2025","current_checkout":"June 17, 2025","current_checkin_date":"2025-06-16","current_checkout_date":"2025-06-17"},"new_checkin_date":"2025-06-17","new_checkout_date":"2025-06-18"},"state":"confirming_date_change","lang":"en"}}
INFO 2025-06-10 11:50:26,365 views User input: confirm
INFO 2025-06-10 11:50:26,365 views Current session state: confirming_date_change
INFO 2025-06-10 11:50:26,366 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'change_date_booking_id': 'BK-16465', 'booking_to_change': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'current_checkin': 'June 16, 2025', 'current_checkout': 'June 17, 2025', 'current_checkin_date': '2025-06-16', 'current_checkout_date': '2025-06-17'}, 'new_checkin_date': '2025-06-17', 'new_checkout_date': '2025-06-18'}
INFO 2025-06-10 11:50:27,045 dialog_manager Using device: cpu
WARNING 2025-06-10 11:50:27,049 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:50:27,049 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:50:27,049 dialog_manager Processing message: confirm
INFO 2025-06-10 11:50:27,049 dialog_manager Processing input: confirm
INFO 2025-06-10 11:50:27,049 dialog_manager Using language: en
INFO 2025-06-10 11:50:27,049 dialog_manager Detecting intent for input: confirm
INFO 2025-06-10 11:50:27,049 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:50:27,062 models Booking saved: BK-16465 for johnny
INFO 2025-06-10 11:50:27,062 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'date_change_37_2025-06-17': True, 'processing_date_change': False}
INFO 2025-06-10 11:50:27,062 views Updated session state: greeting
INFO 2025-06-10 11:50:27,062 views Updated user data: {'is_returning_customer': True, 'date_change_37_2025-06-17': True, 'processing_date_change': False}
INFO 2025-06-10 11:50:27,062 views Generated response: OK, your check-in date has been successfully changed to June 17, 2025. The booking ID remains unchanged. If you have any other needs, please continue to consult!
INFO 2025-06-10 11:50:27,062 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:50:27,070 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 338
INFO 2025-06-10 11:50:40,101 views Database connection successful
INFO 2025-06-10 11:50:40,102 views Received chat request at 2025-06-10 11:50:40.102783
DEBUG 2025-06-10 11:50:40,105 views Request headers: {'Content-Length': '188', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:50:40,106 views Request body: {"message":"i want book another room","session":{"user_data":{"is_returning_customer":true,"date_change_37_2025-06-17":true,"processing_date_change":false},"state":"greeting","lang":"en"}}
INFO 2025-06-10 11:50:40,106 views User input: i want book another room
INFO 2025-06-10 11:50:40,107 views Current session state: greeting
INFO 2025-06-10 11:50:40,108 views Current user data: {'is_returning_customer': True, 'date_change_37_2025-06-17': True, 'processing_date_change': False}
INFO 2025-06-10 11:50:40,518 dialog_manager Using device: cpu
WARNING 2025-06-10 11:50:40,518 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:50:40,518 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:50:40,518 dialog_manager Processing message: i want book another room
INFO 2025-06-10 11:50:40,518 dialog_manager Processing input: i want book another room
INFO 2025-06-10 11:50:40,518 dialog_manager Using language: en
INFO 2025-06-10 11:50:40,518 dialog_manager Detecting intent for input: i want book another room
INFO 2025-06-10 11:50:40,518 dialog_manager Book another room intent detected
INFO 2025-06-10 11:50:40,518 dialog_manager Detected intent: book_another_room
INFO 2025-06-10 11:51:03,298 dialog_manager Sentiment analysis: Neutral (confidence: 0.74)
INFO 2025-06-10 11:51:03,298 dialog_manager Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-06-10 11:51:03,298 dialog_manager Dialog manager process completed - State: collecting_parent_booking_id, User data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:51:03,298 views Updated session state: collecting_parent_booking_id
INFO 2025-06-10 11:51:03,298 views Updated user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:51:03,298 views Generated response: I'd be happy to help you book another room! To link it with your existing reservation, please provide your current booking ID.
INFO 2025-06-10 11:51:03,298 views Booking confirmation check - State: collecting_parent_booking_id, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:51:03,298 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:51:03,298 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 361
INFO 2025-06-10 11:51:07,799 views Database connection successful
INFO 2025-06-10 11:51:07,799 views Received chat request at 2025-06-10 11:51:07.799699
DEBUG 2025-06-10 11:51:07,799 views Request headers: {'Content-Length': '226', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:51:07,799 views Request body: {"message":"BK-16465","session":{"user_data":{"is_returning_customer":false,"date_change_37_2025-06-17":true,"processing_date_change":false,"username":"johnny","user_id":14},"state":"collecting_parent_booking_id","lang":"en"}}
INFO 2025-06-10 11:51:07,799 views User input: BK-16465
INFO 2025-06-10 11:51:07,813 views Current session state: collecting_parent_booking_id
INFO 2025-06-10 11:51:07,813 views Current user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-10 11:51:08,380 dialog_manager Using device: cpu
WARNING 2025-06-10 11:51:08,380 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:51:08,393 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:51:08,398 dialog_manager Processing message: BK-16465
INFO 2025-06-10 11:51:08,398 dialog_manager Processing input: BK-16465
INFO 2025-06-10 11:51:08,399 dialog_manager Using language: en
INFO 2025-06-10 11:51:08,399 dialog_manager Detecting intent for input: BK-16465
INFO 2025-06-10 11:51:08,400 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-10 11:51:08,401 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:51:08,407 dialog_manager Dialog manager process completed - State: selecting_additional_room_type, User data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18)}, 'is_additional_booking': True}
INFO 2025-06-10 11:51:08,407 views Updated session state: selecting_additional_room_type
INFO 2025-06-10 11:51:08,407 views Updated user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18)}, 'is_additional_booking': True}
INFO 2025-06-10 11:51:08,411 views Generated response: Perfect! I'll help you book an additional room to go with Deluxe Room.

What room type would you like for the additional booking?

A. Standard Room (RM132.00/night)
B. Deluxe Room (RM205.00/night)
C. Executive Suite (RM421.00/night)

Please select the room type (A, B, C, etc.) or tell me the room name.
INFO 2025-06-10 11:51:08,414 views Booking confirmation check - State: selecting_additional_room_type, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:51:08,415 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:51:08,418 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 750
INFO 2025-06-10 11:51:31,213 views Database connection successful
INFO 2025-06-10 11:51:31,214 views Received chat request at 2025-06-10 11:51:31.214663
DEBUG 2025-06-10 11:51:31,216 views Request headers: {'Content-Length': '416', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:51:31,218 views Request body: {"message":"executive","session":{"user_data":{"is_returning_customer":false,"date_change_37_2025-06-17":true,"processing_date_change":false,"username":"johnny","user_id":14,"parent_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18"},"is_additional_booking":true},"state":"selecting_additional_room_type","lang":"en"}}
INFO 2025-06-10 11:51:31,221 views User input: executive
INFO 2025-06-10 11:51:31,221 views Current session state: selecting_additional_room_type
INFO 2025-06-10 11:51:31,223 views Current user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True}
INFO 2025-06-10 11:51:32,060 dialog_manager Using device: cpu
WARNING 2025-06-10 11:51:32,060 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:51:32,060 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:51:32,060 dialog_manager Processing message: executive
INFO 2025-06-10 11:51:32,060 dialog_manager Processing input: executive
INFO 2025-06-10 11:51:32,060 dialog_manager Using language: en
INFO 2025-06-10 11:51:32,060 dialog_manager Detecting intent for input: executive
INFO 2025-06-10 11:51:32,060 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-10 11:51:32,060 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:51:32,069 dialog_manager Dialog manager process completed - State: confirming_additional_dates, User data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: johnny>>, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421.0}
INFO 2025-06-10 11:51:32,070 views Updated session state: confirming_additional_dates
INFO 2025-06-10 11:51:32,071 views Updated user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'user': <SimpleLazyObject: <User: johnny>>, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421.0}
INFO 2025-06-10 11:51:32,072 views Generated response: Great! You've selected Executive Suite (RM421.00/night) for your additional booking.

Your current booking is from 2025-06-17 to 2025-06-18.

Should the additional room have the same check-in and check-out dates?

A. Yes (use same dates)
B. No (select different dates)
INFO 2025-06-10 11:51:32,072 views Booking confirmation check - State: confirming_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:51:32,073 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:51:32,074 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 786
INFO 2025-06-10 11:51:38,438 views Database connection successful
INFO 2025-06-10 11:51:38,438 views Received chat request at 2025-06-10 11:51:38.438844
DEBUG 2025-06-10 11:51:38,438 views Request headers: {'Content-Length': '475', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:51:38,438 views Request body: {"message":"no","session":{"user_data":{"is_returning_customer":false,"date_change_37_2025-06-17":true,"processing_date_change":false,"username":"johnny","user_id":14,"parent_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18"},"is_additional_booking":true,"additional_room_type":"Executive Suite","additional_room_price":421},"state":"confirming_additional_dates","lang":"en"}}
INFO 2025-06-10 11:51:38,438 views User input: no
INFO 2025-06-10 11:51:38,438 views Current session state: confirming_additional_dates
INFO 2025-06-10 11:51:38,451 views Current user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421}
INFO 2025-06-10 11:51:39,054 dialog_manager Using device: cpu
WARNING 2025-06-10 11:51:39,054 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:51:39,054 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:51:39,054 dialog_manager Processing message: no
INFO 2025-06-10 11:51:39,054 dialog_manager Processing input: no
INFO 2025-06-10 11:51:39,054 dialog_manager Using language: en
INFO 2025-06-10 11:51:39,054 dialog_manager Detecting intent for input: no
INFO 2025-06-10 11:51:39,077 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:51:39,077 dialog_manager Dialog manager process completed - State: collecting_additional_dates, User data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:51:39,078 views Updated session state: collecting_additional_dates
INFO 2025-06-10 11:51:39,078 views Updated user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:51:39,079 views Generated response: Please provide the check-in and check-out dates for the additional room (e.g., 'June 15 to June 18' or '15/06/2025 to 18/06/2025').
INFO 2025-06-10 11:51:39,079 views Booking confirmation check - State: collecting_additional_dates, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:51:39,079 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:51:39,082 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 640
INFO 2025-06-10 11:51:54,974 views Database connection successful
INFO 2025-06-10 11:51:54,980 views Received chat request at 2025-06-10 11:51:54.980107
DEBUG 2025-06-10 11:51:54,980 views Request headers: {'Content-Length': '491', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:51:54,980 views Request body: {"message":"June 18 to June 20","session":{"user_data":{"is_returning_customer":false,"date_change_37_2025-06-17":true,"processing_date_change":false,"username":"johnny","user_id":14,"parent_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18"},"is_additional_booking":true,"additional_room_type":"Executive Suite","additional_room_price":421},"state":"collecting_additional_dates","lang":"en"}}
INFO 2025-06-10 11:51:54,980 views User input: June 18 to June 20
INFO 2025-06-10 11:51:54,980 views Current session state: collecting_additional_dates
INFO 2025-06-10 11:51:54,980 views Current user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421}
INFO 2025-06-10 11:51:55,757 dialog_manager Using device: cpu
WARNING 2025-06-10 11:51:55,757 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:51:55,757 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:51:55,757 dialog_manager Processing message: June 18 to June 20
INFO 2025-06-10 11:51:55,757 dialog_manager Processing input: June 18 to June 20
INFO 2025-06-10 11:51:55,772 dialog_manager Using language: en
INFO 2025-06-10 11:51:55,773 dialog_manager Detecting intent for input: June 18 to June 20
INFO 2025-06-10 11:51:55,773 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:51:55,773 dialog_manager Extracting dates from: June 18 to June 20
INFO 2025-06-10 11:51:55,773 dialog_manager Extracted month-to-month date: check-in 2025-06-18 00:00:00, check-out 2025-06-20 00:00:00
INFO 2025-06-10 11:51:55,786 dialog_manager Multiple date result: {'check_in': '2025-06-18', 'check_out': '2025-06-20'}
INFO 2025-06-10 11:51:55,786 dialog_manager Dialog manager process completed - State: confirming_additional_booking, User data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421, 'user': <SimpleLazyObject: <User: johnny>>, 'additional_check_in_date': '2025-06-18', 'additional_check_out_date': '2025-06-20', 'guest_name': 'johnny'}
INFO 2025-06-10 11:51:55,787 views Updated session state: confirming_additional_booking
INFO 2025-06-10 11:51:55,787 views Updated user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421, 'user': <SimpleLazyObject: <User: johnny>>, 'additional_check_in_date': '2025-06-18', 'additional_check_out_date': '2025-06-20', 'guest_name': 'johnny'}
INFO 2025-06-10 11:51:55,799 views Booking confirmation check - State: confirming_additional_booking, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:51:55,799 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:51:55,802 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1074
INFO 2025-06-10 11:52:10,396 views Database connection successful
INFO 2025-06-10 11:52:10,396 views Received chat request at 2025-06-10 11:52:10.396128
DEBUG 2025-06-10 11:52:10,396 views Request headers: {'Content-Length': '585', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:52:10,396 views Request body: {"message":"confirm","session":{"user_data":{"is_returning_customer":false,"date_change_37_2025-06-17":true,"processing_date_change":false,"username":"johnny","user_id":14,"parent_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18"},"is_additional_booking":true,"additional_room_type":"Executive Suite","additional_room_price":421,"additional_check_in_date":"2025-06-18","additional_check_out_date":"2025-06-20","guest_name":"johnny"},"state":"confirming_additional_booking","lang":"en"}}
INFO 2025-06-10 11:52:10,412 views User input: confirm
INFO 2025-06-10 11:52:10,412 views Current session state: confirming_additional_booking
INFO 2025-06-10 11:52:10,416 views Current user data: {'is_returning_customer': False, 'date_change_37_2025-06-17': True, 'processing_date_change': False, 'username': 'johnny', 'user_id': 14, 'parent_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}, 'is_additional_booking': True, 'additional_room_type': 'Executive Suite', 'additional_room_price': 421, 'additional_check_in_date': '2025-06-18', 'additional_check_out_date': '2025-06-20', 'guest_name': 'johnny'}
INFO 2025-06-10 11:52:11,327 dialog_manager Using device: cpu
WARNING 2025-06-10 11:52:11,327 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:52:11,327 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:52:11,327 dialog_manager Processing message: confirm
INFO 2025-06-10 11:52:11,327 dialog_manager Processing input: confirm
INFO 2025-06-10 11:52:11,327 dialog_manager Using language: en
INFO 2025-06-10 11:52:11,327 dialog_manager Detecting intent for input: confirm
INFO 2025-06-10 11:52:11,327 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:52:11,345 models Booking saved: BK-40354 for johnny
INFO 2025-06-10 11:52:11,345 dialog_manager Additional booking created successfully: ID=38, Booking_ID=BK-40354
INFO 2025-06-10 11:52:11,345 dialog_manager Linked to parent booking: BK-16465
INFO 2025-06-10 11:52:11,356 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-10 11:52:11,357 views Updated session state: greeting
INFO 2025-06-10 11:52:11,357 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-10 11:52:11,367 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:52:11,369 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 507
INFO 2025-06-10 11:52:23,220 views Database connection successful
INFO 2025-06-10 11:52:23,220 views Received chat request at 2025-06-10 11:52:23.220343
DEBUG 2025-06-10 11:52:23,228 views Request headers: {'Content-Length': '120', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:52:23,228 views Request body: {"message":"check booking status","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-06-10 11:52:23,228 views User input: check booking status
INFO 2025-06-10 11:52:23,228 views Current session state: greeting
INFO 2025-06-10 11:52:23,228 views Current user data: {'is_returning_customer': True}
INFO 2025-06-10 11:52:23,867 dialog_manager Using device: cpu
WARNING 2025-06-10 11:52:23,867 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:52:23,867 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:52:23,867 dialog_manager Processing message: check booking status
INFO 2025-06-10 11:52:23,867 dialog_manager Processing input: check booking status
INFO 2025-06-10 11:52:23,867 dialog_manager Using language: en
INFO 2025-06-10 11:52:23,867 dialog_manager Detecting intent for input: check booking status
INFO 2025-06-10 11:52:23,886 dialog_manager Booking intent detected
INFO 2025-06-10 11:52:23,886 dialog_manager Detected intent: booking
INFO 2025-06-10 11:52:23,891 dialog_manager Dialog manager process completed - State: collecting_booking_info_for_status, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:52:23,892 views Updated session state: collecting_booking_info_for_status
INFO 2025-06-10 11:52:23,892 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 11:52:23,893 views Generated response: I'd be happy to check your booking status! Do you remember the name, phone number, or booking ID used for the reservation? This will help me find your booking quickly.
INFO 2025-06-10 11:52:23,893 views Booking confirmation check - State: collecting_booking_info_for_status, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:52:23,894 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:52:23,894 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 340
INFO 2025-06-10 11:52:26,398 views Database connection successful
INFO 2025-06-10 11:52:26,399 views Received chat request at 2025-06-10 11:52:26.399874
DEBUG 2025-06-10 11:52:26,399 views Request headers: {'Content-Length': '168', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:52:26,399 views Request body: {"message":"BK-16465","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14},"state":"collecting_booking_info_for_status","lang":"en"}}
INFO 2025-06-10 11:52:26,399 views User input: BK-16465
INFO 2025-06-10 11:52:26,407 views Current session state: collecting_booking_info_for_status
INFO 2025-06-10 11:52:26,408 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-10 11:52:28,064 dialog_manager Using device: cpu
WARNING 2025-06-10 11:52:28,064 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:52:28,064 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:52:28,064 dialog_manager Processing message: BK-16465
INFO 2025-06-10 11:52:28,064 dialog_manager Processing input: BK-16465
INFO 2025-06-10 11:52:28,064 dialog_manager Using language: en
INFO 2025-06-10 11:52:28,064 dialog_manager Detecting intent for input: BK-16465
INFO 2025-06-10 11:52:28,064 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-10 11:52:28,064 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 11:52:28,083 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-10 11:52:28,083 views Updated session state: greeting
INFO 2025-06-10 11:52:28,083 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-10 11:52:28,102 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:52:28,105 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 875
INFO 2025-06-10 11:52:48,123 views Database connection successful
INFO 2025-06-10 11:52:48,127 views Received chat request at 2025-06-10 11:52:48.127247
DEBUG 2025-06-10 11:52:48,130 views Request headers: {'Content-Length': '298', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:52:48,131 views Request body: {"message":"cancel booking","session":{"user_data":{"is_returning_customer":true,"last_viewed_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18","status":"confirmed"}},"state":"greeting","lang":"en"}}
INFO 2025-06-10 11:52:48,133 views User input: cancel booking
INFO 2025-06-10 11:52:48,135 views Current session state: greeting
INFO 2025-06-10 11:52:48,137 views Current user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}}
INFO 2025-06-10 11:52:48,847 dialog_manager Using device: cpu
WARNING 2025-06-10 11:52:48,847 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:52:48,847 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:52:48,847 dialog_manager Processing message: cancel booking
INFO 2025-06-10 11:52:48,847 dialog_manager Processing input: cancel booking
INFO 2025-06-10 11:52:48,847 dialog_manager Using language: en
INFO 2025-06-10 11:52:48,847 dialog_manager Detecting intent for input: cancel booking
INFO 2025-06-10 11:52:48,867 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-06-10 11:52:48,867 dialog_manager Detected intent: cancel_booking
INFO 2025-06-10 11:52:48,869 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'cancel_booking_id': 'BK-16465', 'booking_to_cancel': {'id': 37, 'booking_id': 'BK-16465', 'room_name': 'Deluxe Room', 'guest_name': 'johnny', 'check_in': 'June 17', 'check_out': 'June 18', 'status': 'confirmed'}}
INFO 2025-06-10 11:52:48,869 views Updated session state: confirming_cancellation
INFO 2025-06-10 11:52:48,869 views Updated user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>, 'cancel_booking_id': 'BK-16465', 'booking_to_cancel': {'id': 37, 'booking_id': 'BK-16465', 'room_name': 'Deluxe Room', 'guest_name': 'johnny', 'check_in': 'June 17', 'check_out': 'June 18', 'status': 'confirmed'}}
INFO 2025-06-10 11:52:48,869 views Generated response: I found your booking! You have booked a Deluxe Room with check-in dates from June 17 to June 18. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-06-10 11:52:48,871 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:52:48,872 views Removed User object from session for JSON serialization
INFO 2025-06-10 11:52:48,874 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 729
INFO 2025-06-10 11:52:52,415 views Database connection successful
INFO 2025-06-10 11:52:52,415 views Received chat request at 2025-06-10 11:52:52.415319
DEBUG 2025-06-10 11:52:52,416 views Request headers: {'Content-Length': '533', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 11:52:52,416 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"last_viewed_booking":{"id":37,"booking_id":"BK-16465","guest_name":"johnny","room_name":"Deluxe Room","check_in_date":"2025-06-17","check_out_date":"2025-06-18","status":"confirmed"},"username":"johnny","user_id":14,"cancel_booking_id":"BK-16465","booking_to_cancel":{"id":37,"booking_id":"BK-16465","room_name":"Deluxe Room","guest_name":"johnny","check_in":"June 17","check_out":"June 18","status":"confirmed"}},"state":"confirming_cancellation","lang":"en"}}
INFO 2025-06-10 11:52:52,417 views User input: yes
INFO 2025-06-10 11:52:52,417 views Current session state: confirming_cancellation
INFO 2025-06-10 11:52:52,417 views Current user data: {'is_returning_customer': False, 'last_viewed_booking': {'id': 37, 'booking_id': 'BK-16465', 'guest_name': 'johnny', 'room_name': 'Deluxe Room', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'status': 'confirmed'}, 'username': 'johnny', 'user_id': 14, 'cancel_booking_id': 'BK-16465', 'booking_to_cancel': {'id': 37, 'booking_id': 'BK-16465', 'room_name': 'Deluxe Room', 'guest_name': 'johnny', 'check_in': 'June 17', 'check_out': 'June 18', 'status': 'confirmed'}}
INFO 2025-06-10 11:52:53,134 dialog_manager Using device: cpu
WARNING 2025-06-10 11:52:53,136 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 11:52:53,136 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 11:52:53,136 dialog_manager Processing message: yes
INFO 2025-06-10 11:52:53,136 dialog_manager Processing input: yes
INFO 2025-06-10 11:52:53,136 dialog_manager Using language: en
INFO 2025-06-10 11:52:53,136 dialog_manager Detecting intent for input: yes
INFO 2025-06-10 11:52:53,148 dialog_manager Detected intent: unknown
INFO 2025-06-10 11:52:53,156 models Booking saved: BK-16465 for johnny
INFO 2025-06-10 11:52:53,156 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-10 11:52:53,156 views Updated session state: greeting
INFO 2025-06-10 11:52:53,157 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-10 11:52:53,157 views Generated response: Your reservation has been successfully canceled, order number BK-16465. I hope to have the opportunity to serve you in the future!
INFO 2025-06-10 11:52:53,158 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 11:52:53,162 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-06-10 15:41:27,727 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 21939
INFO 2025-06-10 15:41:27,809 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 15:41:35,747 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25388
INFO 2025-06-10 16:12:23,602 views Database connection successful
INFO 2025-06-10 16:12:23,618 views Received chat request at 2025-06-10 16:12:23.618662
DEBUG 2025-06-10 16:12:23,634 views Request headers: {'Content-Length': '107', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 16:12:23,634 views Request body: {"message":"aaaaaaa","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-06-10 16:12:23,634 views User input: aaaaaaa
INFO 2025-06-10 16:12:23,650 views Current session state: greeting
INFO 2025-06-10 16:12:23,650 views Current user data: {'is_returning_customer': True}
INFO 2025-06-10 16:12:25,967 dialog_manager Using device: cpu
WARNING 2025-06-10 16:12:25,981 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 16:12:26,013 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 16:12:26,017 dialog_manager Processing message: aaaaaaa
INFO 2025-06-10 16:12:26,019 dialog_manager Processing input: aaaaaaa
INFO 2025-06-10 16:12:26,021 dialog_manager Using language: en
INFO 2025-06-10 16:12:26,023 dialog_manager Detecting intent for input: aaaaaaa
INFO 2025-06-10 16:12:26,023 dialog_manager Invalid input detected: repetitive
INFO 2025-06-10 16:12:26,023 dialog_manager Detected intent: invalid_input
INFO 2025-06-10 16:12:39,092 dialog_manager Sentiment analysis: Neutral (confidence: 0.62)
INFO 2025-06-10 16:12:39,141 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 16:12:39,141 views Updated session state: greeting
INFO 2025-06-10 16:12:39,141 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 16:12:39,174 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 16:12:39,174 views Removed User object from session for JSON serialization
INFO 2025-06-10 16:12:39,272 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 664
INFO 2025-06-10 16:41:57,310 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12449
INFO 2025-06-10 16:42:05,739 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-10 16:42:07,220 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12244
INFO 2025-06-10 16:42:09,151 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13138
INFO 2025-06-10 16:42:27,440 views Database connection successful
INFO 2025-06-10 16:42:27,443 views Received chat request at 2025-06-10 16:42:27.443016
DEBUG 2025-06-10 16:42:27,443 views Request headers: {'Content-Length': '138', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=0uFTYtDfP4uSsXqSorUSQWeo1RmRWZ0a; sessionid=qjq39md3fn16eoxb0v1nqhszvqnenlpi'}
DEBUG 2025-06-10 16:42:27,443 views Request body: {"message":"high","session":{"user_data":{"is_returning_customer":false,"username":"johnny","user_id":14},"state":"greeting","lang":"en"}}
INFO 2025-06-10 16:42:27,452 views User input: high
INFO 2025-06-10 16:42:27,452 views Current session state: greeting
INFO 2025-06-10 16:42:27,452 views Current user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14}
INFO 2025-06-10 16:42:28,983 dialog_manager Using device: cpu
WARNING 2025-06-10 16:42:28,983 dialog_manager Using basic NLP functionality only
INFO 2025-06-10 16:42:28,996 dialog_manager DialogManager initialized successfully
INFO 2025-06-10 16:42:28,996 dialog_manager Processing message: high
INFO 2025-06-10 16:42:29,000 dialog_manager Processing input: high
INFO 2025-06-10 16:42:29,000 dialog_manager Using language: en
INFO 2025-06-10 16:42:29,000 dialog_manager Detecting intent for input: high
INFO 2025-06-10 16:42:29,150 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-10 16:42:29,150 dialog_manager Detected intent: greeting
INFO 2025-06-10 16:42:33,915 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-06-10 16:42:33,915 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-10 16:42:33,915 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 16:42:33,915 views Updated session state: greeting
INFO 2025-06-10 16:42:33,915 views Updated user data: {'is_returning_customer': False, 'username': 'johnny', 'user_id': 14, 'user': <SimpleLazyObject: <User: johnny>>}
INFO 2025-06-10 16:42:33,915 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-10 16:42:33,929 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-10 16:42:33,929 views Removed User object from session for JSON serialization
INFO 2025-06-10 16:42:34,089 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 191
INFO 2025-06-10 16:43:06,199 basehttp "GET /admin/hotel_booking/bookingaddon/ HTTP/1.1" 200 14758
INFO 2025-06-10 16:43:06,260 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-10 16:43:07,334 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 18937
INFO 2025-06-10 16:43:07,363 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-11 11:11:46,843 autoreload Watching for file changes with StatReloader
INFO 2025-06-11 11:12:17,851 middleware Admin user found: admin
INFO 2025-06-11 11:12:22,797 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25388
INFO 2025-06-11 11:12:22,966 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-11 11:12:22,966 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-11 11:12:22,987 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-06-11 11:12:23,299 log Not Found: /favicon.ico
WARNING 2025-06-11 11:12:23,299 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-11 11:12:31,047 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25388
INFO 2025-06-11 11:12:33,579 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-11 11:12:33,598 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
INFO 2025-06-11 11:12:53,322 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11242
INFO 2025-06-11 11:13:39,564 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24957
INFO 2025-06-11 12:08:19,594 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-11 12:08:29,631 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-11 12:08:29,678 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25666
INFO 2025-06-11 12:08:32,022 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-11 12:08:36,314 views Database connection successful
INFO 2025-06-11 12:08:36,316 views Received chat request at 2025-06-11 12:08:36.316152
DEBUG 2025-06-11 12:08:36,319 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:08:36,323 views Request body: {"message":"Hello","session":{}}
INFO 2025-06-11 12:08:36,327 views User input: Hello
INFO 2025-06-11 12:08:36,327 views Current session state: None
INFO 2025-06-11 12:08:36,327 views Current user data: None
INFO 2025-06-11 12:08:37,884 dialog_manager Using device: cpu
WARNING 2025-06-11 12:08:37,885 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:08:37,891 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:08:37,897 dialog_manager Processing message: Hello
INFO 2025-06-11 12:08:37,897 dialog_manager Processing input: Hello
INFO 2025-06-11 12:08:38,895 dialog_manager Using language: en
INFO 2025-06-11 12:08:38,895 dialog_manager Detecting intent for input: Hello
INFO 2025-06-11 12:08:38,941 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-11 12:08:38,941 dialog_manager Detected intent: greeting
INFO 2025-06-11 12:09:06,646 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-06-11 12:09:06,647 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-11 12:09:06,703 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-11 12:09:06,726 views Updated session state: greeting
INFO 2025-06-11 12:09:06,745 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-11 12:09:06,745 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-11 12:09:06,745 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:06,747 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:06,840 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 199
INFO 2025-06-11 12:09:10,010 views Database connection successful
INFO 2025-06-11 12:09:10,010 views Received chat request at 2025-06-11 12:09:10.010144
DEBUG 2025-06-11 12:09:10,010 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:09:10,010 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"greeting","lang":"fi"}}
INFO 2025-06-11 12:09:10,010 views User input: i want booking room
INFO 2025-06-11 12:09:10,010 views Current session state: greeting
INFO 2025-06-11 12:09:10,010 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-11 12:09:10,841 dialog_manager Using device: cpu
WARNING 2025-06-11 12:09:10,841 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:09:10,841 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:09:10,851 dialog_manager Processing message: i want booking room
INFO 2025-06-11 12:09:10,851 dialog_manager Processing input: i want booking room
INFO 2025-06-11 12:09:10,851 dialog_manager Using language: fi
INFO 2025-06-11 12:09:10,851 dialog_manager Detecting intent for input: i want booking room
INFO 2025-06-11 12:09:10,898 dialog_manager Booking intent detected
INFO 2025-06-11 12:09:10,898 dialog_manager Detected intent: booking
INFO 2025-06-11 12:09:10,898 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-11 12:09:10,908 dialog_manager Extracting dates from: i want booking room
WARNING 2025-06-11 12:09:10,908 dialog_manager No dates found
INFO 2025-06-11 12:09:10,917 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-11 12:09:10,917 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:09:10,917 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-11 12:09:11,006 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:11,006 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:11,012 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-06-11 12:09:17,634 views Database connection successful
INFO 2025-06-11 12:09:17,634 views Received chat request at 2025-06-11 12:09:17.634095
DEBUG 2025-06-11 12:09:17,634 views Request headers: {'Content-Length': '147', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:09:17,636 views Request body: {"message":"JJ","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:09:17,636 views User input: JJ
INFO 2025-06-11 12:09:17,637 views Current session state: collecting_booking_info
INFO 2025-06-11 12:09:17,637 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-11 12:09:18,247 dialog_manager Using device: cpu
WARNING 2025-06-11 12:09:18,249 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:09:18,249 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:09:18,250 dialog_manager Processing message: JJ
INFO 2025-06-11 12:09:18,251 dialog_manager Processing input: JJ
INFO 2025-06-11 12:09:18,251 dialog_manager Using language: fi
INFO 2025-06-11 12:09:18,251 dialog_manager Detecting intent for input: JJ
INFO 2025-06-11 12:09:18,259 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:09:18,259 dialog_manager Extracted name: JJ
INFO 2025-06-11 12:09:18,263 dialog_manager Extracting dates from: JJ
WARNING 2025-06-11 12:09:18,263 dialog_manager No dates found
INFO 2025-06-11 12:09:18,263 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'JJ'}
INFO 2025-06-11 12:09:18,263 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'JJ'}
INFO 2025-06-11 12:09:18,263 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:09:18,263 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'JJ'}
INFO 2025-06-11 12:09:18,273 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:18,273 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:18,280 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 270
INFO 2025-06-11 12:09:22,757 views Database connection successful
INFO 2025-06-11 12:09:22,757 views Received chat request at 2025-06-11 12:09:22.757667
DEBUG 2025-06-11 12:09:22,759 views Request headers: {'Content-Length': '174', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:09:22,759 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:09:22,761 views User input: 01158763903
INFO 2025-06-11 12:09:22,761 views Current session state: collecting_booking_info
INFO 2025-06-11 12:09:22,763 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ'}
INFO 2025-06-11 12:09:23,380 dialog_manager Using device: cpu
WARNING 2025-06-11 12:09:23,380 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:09:23,380 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:09:23,380 dialog_manager Processing message: 01158763903
INFO 2025-06-11 12:09:23,380 dialog_manager Processing input: 01158763903
INFO 2025-06-11 12:09:23,380 dialog_manager Using language: fi
INFO 2025-06-11 12:09:23,380 dialog_manager Detecting intent for input: 01158763903
INFO 2025-06-11 12:09:23,380 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-11 12:09:23,380 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:09:23,380 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-06-11 12:09:23,380 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-11 12:09:23,380 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-11 12:09:23,380 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:09:23,387 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-11 12:09:23,396 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:23,396 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:23,396 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 291
INFO 2025-06-11 12:09:29,542 views Database connection successful
INFO 2025-06-11 12:09:29,542 views Received chat request at 2025-06-11 12:09:29.542498
DEBUG 2025-06-11 12:09:29,542 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:09:29,542 views Request body: {"message":"golden3903@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:09:29,542 views User input: golden3903@gmail.com
INFO 2025-06-11 12:09:29,542 views Current session state: collecting_booking_info
INFO 2025-06-11 12:09:29,542 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903'}
INFO 2025-06-11 12:09:30,127 dialog_manager Using device: cpu
WARNING 2025-06-11 12:09:30,127 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:09:30,127 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:09:30,127 dialog_manager Processing message: golden3903@gmail.com
INFO 2025-06-11 12:09:30,127 dialog_manager Processing input: golden3903@gmail.com
INFO 2025-06-11 12:09:30,127 dialog_manager Using language: fi
INFO 2025-06-11 12:09:30,127 dialog_manager Detecting intent for input: golden3903@gmail.com
INFO 2025-06-11 12:09:30,133 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:09:30,133 dialog_manager Extracted standalone email: golden3903@gmail.com
INFO 2025-06-11 12:09:30,141 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-11 12:09:30,141 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-11 12:09:30,141 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:09:30,141 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-11 12:09:30,147 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:30,152 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:30,152 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 744
INFO 2025-06-11 12:09:34,739 views Database connection successful
INFO 2025-06-11 12:09:34,739 views Received chat request at 2025-06-11 12:09:34.739436
DEBUG 2025-06-11 12:09:34,739 views Request headers: {'Content-Length': '222', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:09:34,739 views Request body: {"message":"deluxe","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ","phone":"01158763903","email":"golden3903@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:09:34,743 views User input: deluxe
INFO 2025-06-11 12:09:34,743 views Current session state: collecting_booking_info
INFO 2025-06-11 12:09:34,743 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com'}
INFO 2025-06-11 12:09:35,335 dialog_manager Using device: cpu
WARNING 2025-06-11 12:09:35,336 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:09:35,337 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:09:35,337 dialog_manager Processing message: deluxe
INFO 2025-06-11 12:09:35,337 dialog_manager Processing input: deluxe
INFO 2025-06-11 12:09:35,337 dialog_manager Using language: fi
INFO 2025-06-11 12:09:35,337 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-11 12:09:35,348 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:09:35,349 dialog_manager Extracting dates from: deluxe
WARNING 2025-06-11 12:09:35,351 dialog_manager No dates found
INFO 2025-06-11 12:09:35,351 dialog_manager Extracted room type: Deluxe
INFO 2025-06-11 12:09:35,352 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-11 12:09:35,353 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-11 12:09:35,353 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:09:35,353 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-11 12:09:35,366 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:35,366 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:35,372 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 394
INFO 2025-06-11 12:09:45,319 views Database connection successful
INFO 2025-06-11 12:09:45,321 views Received chat request at 2025-06-11 12:09:45.321981
DEBUG 2025-06-11 12:09:45,323 views Request headers: {'Content-Length': '249', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:09:45,323 views Request body: {"message":"next tuesday","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:09:45,323 views User input: next tuesday
INFO 2025-06-11 12:09:45,323 views Current session state: collecting_booking_info
INFO 2025-06-11 12:09:45,323 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-06-11 12:09:45,940 dialog_manager Using device: cpu
WARNING 2025-06-11 12:09:45,940 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:09:45,940 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:09:45,944 dialog_manager Processing message: next tuesday
INFO 2025-06-11 12:09:45,944 dialog_manager Processing input: next tuesday
INFO 2025-06-11 12:09:45,944 dialog_manager Using language: fi
INFO 2025-06-11 12:09:45,944 dialog_manager Detecting intent for input: next tuesday
INFO 2025-06-11 12:09:45,950 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:09:45,956 dialog_manager Extracting dates from: next tuesday
INFO 2025-06-11 12:09:45,957 dialog_manager Extracted 'next tuesday' date: 2025-06-17 12:09:45.957604
INFO 2025-06-11 12:09:45,957 dialog_manager Single date result: {'check_in': '2025-06-17', 'check_out': '2025-06-18'}
INFO 2025-06-11 12:09:45,957 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}
INFO 2025-06-11 12:09:45,973 models Booking saved: BK-67491 for JJ
INFO 2025-06-11 12:09:45,975 dialog_manager Booking created successfully: ID=39, Booking_ID=BK-67491
INFO 2025-06-11 12:09:45,975 dialog_manager Booking record created successfully: BK-67491
INFO 2025-06-11 12:09:45,976 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491'}
INFO 2025-06-11 12:09:45,976 views Updated session state: offering_addons
INFO 2025-06-11 12:09:45,976 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491'}
INFO 2025-06-11 12:09:45,976 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-11 12:09:45,976 views Booking confirmation check - State: offering_addons, Booking ID: BK-67491, Previous ID: BK-67491, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:09:45,976 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:09:45,983 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1239
INFO 2025-06-11 12:10:09,014 views Database connection successful
INFO 2025-06-11 12:10:09,014 views Received chat request at 2025-06-11 12:10:09.014686
DEBUG 2025-06-11 12:10:09,014 views Request headers: {'Content-Length': '321', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:10:09,014 views Request body: {"message":"breakfast","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-67491"},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-11 12:10:09,014 views User input: breakfast
INFO 2025-06-11 12:10:09,023 views Current session state: offering_addons
INFO 2025-06-11 12:10:09,023 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491'}
INFO 2025-06-11 12:10:09,598 dialog_manager Using device: cpu
WARNING 2025-06-11 12:10:09,598 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:10:09,601 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:10:09,602 dialog_manager Processing message: breakfast
INFO 2025-06-11 12:10:09,602 dialog_manager Processing input: breakfast
INFO 2025-06-11 12:10:09,607 dialog_manager Using language: fi
INFO 2025-06-11 12:10:09,607 dialog_manager Detecting intent for input: breakfast
INFO 2025-06-11 12:10:09,610 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-11 12:10:09,611 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:10:09,612 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-06-11 12:10:09,612 views Updated session state: collecting_breakfast_count
INFO 2025-06-11 12:10:09,612 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491', 'user': <SimpleLazyObject: <User: TLS>>, 'addon_selections': ['breakfast']}
INFO 2025-06-11 12:10:09,612 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-06-11 12:10:09,612 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-67491, Previous ID: BK-67491, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:10:09,612 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:10:09,612 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 468
INFO 2025-06-11 12:10:15,831 views Database connection successful
INFO 2025-06-11 12:10:15,831 views Received chat request at 2025-06-11 12:10:15.831718
DEBUG 2025-06-11 12:10:15,831 views Request headers: {'Content-Length': '357', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:10:15,836 views Request body: {"message":"7","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-67491","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"fi"}}
INFO 2025-06-11 12:10:15,836 views User input: 7
INFO 2025-06-11 12:10:15,839 views Current session state: collecting_breakfast_count
INFO 2025-06-11 12:10:15,839 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491', 'addon_selections': ['breakfast']}
INFO 2025-06-11 12:10:16,436 dialog_manager Using device: cpu
WARNING 2025-06-11 12:10:16,436 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:10:16,436 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:10:16,436 dialog_manager Processing message: 7
INFO 2025-06-11 12:10:16,436 dialog_manager Processing input: 7
INFO 2025-06-11 12:10:16,436 dialog_manager Using language: fi
INFO 2025-06-11 12:10:16,436 dialog_manager Detecting intent for input: 7
INFO 2025-06-11 12:10:16,453 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:10:16,454 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 7}
INFO 2025-06-11 12:10:16,454 views Updated session state: confirming_breakfast
INFO 2025-06-11 12:10:16,458 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: TLS>>, 'breakfast_count': 7}
INFO 2025-06-11 12:10:16,458 views Generated response: OK, add breakfast for 7 guest(s), a total of RM140.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-06-11 12:10:16,460 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-67491, Previous ID: BK-67491, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:10:16,462 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:10:16,462 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 500
INFO 2025-06-11 12:10:22,475 views Database connection successful
INFO 2025-06-11 12:10:22,477 views Received chat request at 2025-06-11 12:10:22.475603
DEBUG 2025-06-11 12:10:22,477 views Request headers: {'Content-Length': '373', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:10:22,477 views Request body: {"message":"yes","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"JJ","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-67491","addon_selections":["breakfast"],"breakfast_count":7},"state":"confirming_breakfast","lang":"fi"}}
INFO 2025-06-11 12:10:22,477 views User input: yes
INFO 2025-06-11 12:10:22,477 views Current session state: confirming_breakfast
INFO 2025-06-11 12:10:22,477 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'JJ', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-67491', 'addon_selections': ['breakfast'], 'breakfast_count': 7}
INFO 2025-06-11 12:10:23,080 dialog_manager Using device: cpu
WARNING 2025-06-11 12:10:23,080 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:10:23,080 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:10:23,080 dialog_manager Processing message: yes
INFO 2025-06-11 12:10:23,080 dialog_manager Processing input: yes
INFO 2025-06-11 12:10:23,080 dialog_manager Using language: fi
INFO 2025-06-11 12:10:23,080 dialog_manager Detecting intent for input: yes
INFO 2025-06-11 12:10:23,094 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:10:23,101 dialog_manager Addon created successfully: Breakfast for 7 people - RM20
INFO 2025-06-11 12:10:23,101 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-11 12:10:23,106 views Updated session state: greeting
INFO 2025-06-11 12:10:23,107 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-11 12:10:23,107 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-06-11 12:10:23,107 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:10:23,107 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-06-11 12:11:07,444 views Database connection successful
INFO 2025-06-11 12:11:07,444 views Received chat request at 2025-06-11 12:11:07.444649
DEBUG 2025-06-11 12:11:07,446 views Request headers: {'Content-Length': '114', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:11:07,446 views Request body: {"message":"cancel booking","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-06-11 12:11:07,448 views User input: cancel booking
INFO 2025-06-11 12:11:07,448 views Current session state: greeting
INFO 2025-06-11 12:11:07,448 views Current user data: {'is_returning_customer': True}
INFO 2025-06-11 12:11:08,077 dialog_manager Using device: cpu
WARNING 2025-06-11 12:11:08,077 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:11:08,077 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:11:08,077 dialog_manager Processing message: cancel booking
INFO 2025-06-11 12:11:08,077 dialog_manager Processing input: cancel booking
INFO 2025-06-11 12:11:08,077 dialog_manager Using language: fi
INFO 2025-06-11 12:11:08,077 dialog_manager Detecting intent for input: cancel booking
INFO 2025-06-11 12:11:08,088 dialog_manager Pattern-based intent detected: cancel_booking
INFO 2025-06-11 12:11:08,088 dialog_manager Detected intent: cancel_booking
INFO 2025-06-11 12:11:08,094 dialog_manager Dialog manager process completed - State: collecting_booking_id_for_cancel, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-06-11 12:11:08,094 views Updated session state: collecting_booking_id_for_cancel
INFO 2025-06-11 12:11:08,096 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'pending_cancel_intent': True}
INFO 2025-06-11 12:11:08,098 views Generated response: I'd be happy to help you cancel your booking. Please provide your booking ID or booking name, and I will help you check the booking information.
INFO 2025-06-11 12:11:08,100 views Booking confirmation check - State: collecting_booking_id_for_cancel, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:11:08,100 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:11:08,103 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 342
INFO 2025-06-11 12:11:15,434 views Database connection successful
INFO 2025-06-11 12:11:15,434 views Received chat request at 2025-06-11 12:11:15.434317
DEBUG 2025-06-11 12:11:15,437 views Request headers: {'Content-Length': '191', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:11:15,439 views Request body: {"message":"BK-67491","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"pending_cancel_intent":true},"state":"collecting_booking_id_for_cancel","lang":"fi"}}
INFO 2025-06-11 12:11:15,439 views User input: BK-67491
INFO 2025-06-11 12:11:15,442 views Current session state: collecting_booking_id_for_cancel
INFO 2025-06-11 12:11:15,443 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'pending_cancel_intent': True}
INFO 2025-06-11 12:11:16,071 dialog_manager Using device: cpu
WARNING 2025-06-11 12:11:16,071 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:11:16,071 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:11:16,071 dialog_manager Processing message: BK-67491
INFO 2025-06-11 12:11:16,071 dialog_manager Processing input: BK-67491
INFO 2025-06-11 12:11:16,071 dialog_manager Using language: fi
INFO 2025-06-11 12:11:16,071 dialog_manager Detecting intent for input: BK-67491
INFO 2025-06-11 12:11:16,071 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-11 12:11:16,071 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:11:16,090 dialog_manager Dialog manager process completed - State: confirming_cancellation, User data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-67491', 'booking_to_cancel': {'id': 39, 'booking_id': 'BK-67491', 'room_name': 'Deluxe Room', 'guest_name': 'JJ', 'check_in': 'June 17', 'check_out': 'June 18', 'status': 'confirmed'}}
INFO 2025-06-11 12:11:16,093 views Updated session state: confirming_cancellation
INFO 2025-06-11 12:11:16,094 views Updated user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'cancel_booking_id': 'BK-67491', 'booking_to_cancel': {'id': 39, 'booking_id': 'BK-67491', 'room_name': 'Deluxe Room', 'guest_name': 'JJ', 'check_in': 'June 17', 'check_out': 'June 18', 'status': 'confirmed'}}
INFO 2025-06-11 12:11:16,094 views Generated response: I found your booking! You have booked a Deluxe Room with check-in dates from June 17 to June 18. Are you sure you want to cancel? (Reply 'Yes' to confirm)
INFO 2025-06-11 12:11:16,096 views Booking confirmation check - State: confirming_cancellation, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:11:16,097 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:11:16,097 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 522
INFO 2025-06-11 12:11:19,014 views Database connection successful
INFO 2025-06-11 12:11:19,017 views Received chat request at 2025-06-11 12:11:19.017989
DEBUG 2025-06-11 12:11:19,017 views Request headers: {'Content-Length': '341', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=QQyjFV5LD2V3mj7cw5NfDiOpC2fJjjvp; sessionid=zgm17lwdbbm8fyztxnl37hgmcgqie1fd'}
DEBUG 2025-06-11 12:11:19,020 views Request body: {"message":"yes","session":{"user_data":{"is_returning_customer":false,"username":"TLS","user_id":7,"cancel_booking_id":"BK-67491","booking_to_cancel":{"id":39,"booking_id":"BK-67491","room_name":"Deluxe Room","guest_name":"JJ","check_in":"June 17","check_out":"June 18","status":"confirmed"}},"state":"confirming_cancellation","lang":"fi"}}
INFO 2025-06-11 12:11:19,020 views User input: yes
INFO 2025-06-11 12:11:19,022 views Current session state: confirming_cancellation
INFO 2025-06-11 12:11:19,024 views Current user data: {'is_returning_customer': False, 'username': 'TLS', 'user_id': 7, 'cancel_booking_id': 'BK-67491', 'booking_to_cancel': {'id': 39, 'booking_id': 'BK-67491', 'room_name': 'Deluxe Room', 'guest_name': 'JJ', 'check_in': 'June 17', 'check_out': 'June 18', 'status': 'confirmed'}}
INFO 2025-06-11 12:11:21,139 dialog_manager Using device: cpu
WARNING 2025-06-11 12:11:21,139 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:11:21,139 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:11:21,139 dialog_manager Processing message: yes
INFO 2025-06-11 12:11:21,139 dialog_manager Processing input: yes
INFO 2025-06-11 12:11:21,139 dialog_manager Using language: fi
INFO 2025-06-11 12:11:21,139 dialog_manager Detecting intent for input: yes
INFO 2025-06-11 12:11:21,152 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:11:21,156 models Booking saved: BK-67491 for JJ
INFO 2025-06-11 12:11:21,156 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-11 12:11:21,164 views Updated session state: greeting
INFO 2025-06-11 12:11:21,164 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-11 12:11:21,164 views Generated response: Your reservation has been successfully canceled, order number BK-67491. I hope to have the opportunity to serve you in the future!
INFO 2025-06-11 12:11:21,164 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:11:21,172 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 239
INFO 2025-06-11 12:11:36,974 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25385
INFO 2025-06-11 12:14:42,959 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-11 12:14:42,967 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
INFO 2025-06-11 12:14:47,580 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-11 12:15:34,224 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24957
INFO 2025-06-11 12:16:10,122 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-11 12:16:39,372 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16661
INFO 2025-06-11 12:17:04,824 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16543
INFO 2025-06-11 12:17:40,697 basehttp "POST /hotel_booking/register/ HTTP/1.1" 200 16598
INFO 2025-06-11 12:18:03,389 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-11 12:18:03,404 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25700
INFO 2025-06-11 12:18:13,568 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17289
INFO 2025-06-11 12:18:17,193 views Database connection successful
INFO 2025-06-11 12:18:17,193 views Received chat request at 2025-06-11 12:18:17.193749
DEBUG 2025-06-11 12:18:17,196 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:18:17,196 views Request body: {"message":"hello","session":{}}
INFO 2025-06-11 12:18:17,196 views User input: hello
INFO 2025-06-11 12:18:17,196 views Current session state: None
INFO 2025-06-11 12:18:17,200 views Current user data: None
INFO 2025-06-11 12:18:17,757 dialog_manager Using device: cpu
WARNING 2025-06-11 12:18:17,757 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:18:17,757 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:18:17,757 dialog_manager Processing message: hello
INFO 2025-06-11 12:18:17,761 dialog_manager Processing input: hello
INFO 2025-06-11 12:18:17,796 dialog_manager Using language: en
INFO 2025-06-11 12:18:17,796 dialog_manager Detecting intent for input: hello
INFO 2025-06-11 12:18:17,800 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-11 12:18:17,800 dialog_manager Detected intent: greeting
INFO 2025-06-11 12:18:21,272 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-06-11 12:18:21,272 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-11 12:18:21,302 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:18:21,302 views Updated session state: greeting
INFO 2025-06-11 12:18:21,302 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:18:21,302 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-11 12:18:21,310 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:18:21,310 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:18:21,388 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 205
INFO 2025-06-11 12:18:35,555 views Database connection successful
INFO 2025-06-11 12:18:35,555 views Received chat request at 2025-06-11 12:18:35.555258
DEBUG 2025-06-11 12:18:35,558 views Request headers: {'Content-Length': '158', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:18:35,560 views Request body: {"message":"i want to booking room","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15},"state":"greeting","lang":"fi"}}
INFO 2025-06-11 12:18:35,561 views User input: i want to booking room
INFO 2025-06-11 12:18:35,561 views Current session state: greeting
INFO 2025-06-11 12:18:35,563 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15}
INFO 2025-06-11 12:18:36,159 dialog_manager Using device: cpu
WARNING 2025-06-11 12:18:36,159 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:18:36,159 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:18:36,159 dialog_manager Processing message: i want to booking room
INFO 2025-06-11 12:18:36,159 dialog_manager Processing input: i want to booking room
INFO 2025-06-11 12:18:36,159 dialog_manager Using language: fi
INFO 2025-06-11 12:18:36,159 dialog_manager Detecting intent for input: i want to booking room
INFO 2025-06-11 12:18:36,178 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-11 12:18:36,178 dialog_manager Detected intent: booking
INFO 2025-06-11 12:18:36,178 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-11 12:18:36,183 dialog_manager Extracting dates from: i want to booking room
WARNING 2025-06-11 12:18:36,184 dialog_manager No dates found
INFO 2025-06-11 12:18:36,185 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:18:36,185 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:18:36,185 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:18:36,199 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:18:36,199 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:18:36,205 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 256
INFO 2025-06-11 12:18:42,544 views Database connection successful
INFO 2025-06-11 12:18:42,544 views Received chat request at 2025-06-11 12:18:42.544085
DEBUG 2025-06-11 12:18:42,544 views Request headers: {'Content-Length': '156', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:18:42,549 views Request body: {"message":"simon","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:18:42,549 views User input: simon
INFO 2025-06-11 12:18:42,549 views Current session state: collecting_booking_info
INFO 2025-06-11 12:18:42,549 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15}
INFO 2025-06-11 12:18:43,134 dialog_manager Using device: cpu
WARNING 2025-06-11 12:18:43,134 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:18:43,134 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:18:43,136 dialog_manager Processing message: simon
INFO 2025-06-11 12:18:43,136 dialog_manager Processing input: simon
INFO 2025-06-11 12:18:43,136 dialog_manager Using language: fi
INFO 2025-06-11 12:18:43,136 dialog_manager Detecting intent for input: simon
INFO 2025-06-11 12:18:43,136 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:18:43,136 dialog_manager Extracted name: simon
INFO 2025-06-11 12:18:43,136 dialog_manager Extracting dates from: simon
WARNING 2025-06-11 12:18:43,144 dialog_manager No dates found
INFO 2025-06-11 12:18:43,145 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>, 'guest_name': 'simon'}
INFO 2025-06-11 12:18:43,146 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>, 'guest_name': 'simon'}
INFO 2025-06-11 12:18:43,146 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:18:43,146 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>, 'guest_name': 'simon'}
INFO 2025-06-11 12:18:43,155 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:18:43,156 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:18:43,161 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 282
INFO 2025-06-11 12:18:52,853 views Database connection successful
INFO 2025-06-11 12:18:52,853 views Received chat request at 2025-06-11 12:18:52.853398
DEBUG 2025-06-11 12:18:52,853 views Request headers: {'Content-Length': '183', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:18:52,853 views Request body: {"message":"01112643008","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"simon"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:18:52,853 views User input: 01112643008
INFO 2025-06-11 12:18:52,853 views Current session state: collecting_booking_info
INFO 2025-06-11 12:18:52,853 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon'}
INFO 2025-06-11 12:18:53,428 dialog_manager Using device: cpu
WARNING 2025-06-11 12:18:53,428 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:18:53,438 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:18:53,438 dialog_manager Processing message: 01112643008
INFO 2025-06-11 12:18:53,438 dialog_manager Processing input: 01112643008
INFO 2025-06-11 12:18:53,441 dialog_manager Using language: fi
INFO 2025-06-11 12:18:53,441 dialog_manager Detecting intent for input: 01112643008
INFO 2025-06-11 12:18:53,441 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-11 12:18:53,443 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:18:53,444 dialog_manager Extracted standalone phone: 01112643008
INFO 2025-06-11 12:18:53,444 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'user': <SimpleLazyObject: <User: simonleh>>, 'phone': '01112643008'}
INFO 2025-06-11 12:18:53,444 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'user': <SimpleLazyObject: <User: simonleh>>, 'phone': '01112643008'}
INFO 2025-06-11 12:18:53,444 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:18:53,447 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'user': <SimpleLazyObject: <User: simonleh>>, 'phone': '01112643008'}
INFO 2025-06-11 12:18:53,455 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:18:53,455 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:18:53,455 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 303
INFO 2025-06-11 12:19:01,082 views Database connection successful
INFO 2025-06-11 12:19:01,082 views Received chat request at 2025-06-11 12:19:01.082283
DEBUG 2025-06-11 12:19:01,085 views Request headers: {'Content-Length': '214', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:19:01,086 views Request body: {"message":"simonlehzy@gmaol.com","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"simon","phone":"01112643008"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:19:01,086 views User input: simonlehzy@gmaol.com
INFO 2025-06-11 12:19:01,086 views Current session state: collecting_booking_info
INFO 2025-06-11 12:19:01,088 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008'}
INFO 2025-06-11 12:19:01,667 dialog_manager Using device: cpu
WARNING 2025-06-11 12:19:01,667 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:19:01,667 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:19:01,671 dialog_manager Processing message: simonlehzy@gmaol.com
INFO 2025-06-11 12:19:01,671 dialog_manager Processing input: simonlehzy@gmaol.com
INFO 2025-06-11 12:19:01,671 dialog_manager Using language: fi
INFO 2025-06-11 12:19:01,671 dialog_manager Detecting intent for input: simonlehzy@gmaol.com
INFO 2025-06-11 12:19:01,681 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:19:01,682 dialog_manager Extracted standalone email: simonlehzy@gmaol.com
INFO 2025-06-11 12:19:01,683 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'user': <SimpleLazyObject: <User: simonleh>>, 'email': 'simonlehzy@gmaol.com'}
INFO 2025-06-11 12:19:01,683 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'user': <SimpleLazyObject: <User: simonleh>>, 'email': 'simonlehzy@gmaol.com'}
INFO 2025-06-11 12:19:01,683 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:19:01,683 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'user': <SimpleLazyObject: <User: simonleh>>, 'email': 'simonlehzy@gmaol.com'}
INFO 2025-06-11 12:19:01,702 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:19:01,702 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:19:01,713 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-06-11 12:19:10,036 views Database connection successful
INFO 2025-06-11 12:19:10,039 views Received chat request at 2025-06-11 12:19:10.039549
DEBUG 2025-06-11 12:19:10,039 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:19:10,041 views Request body: {"message":"executive","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"simon","phone":"01112643008","email":"simonlehzy@gmaol.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:19:10,041 views User input: executive
INFO 2025-06-11 12:19:10,041 views Current session state: collecting_booking_info
INFO 2025-06-11 12:19:10,041 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com'}
INFO 2025-06-11 12:19:10,657 dialog_manager Using device: cpu
WARNING 2025-06-11 12:19:10,658 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:19:10,658 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:19:10,658 dialog_manager Processing message: executive
INFO 2025-06-11 12:19:10,658 dialog_manager Processing input: executive
INFO 2025-06-11 12:19:10,658 dialog_manager Using language: fi
INFO 2025-06-11 12:19:10,658 dialog_manager Detecting intent for input: executive
INFO 2025-06-11 12:19:10,663 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-11 12:19:10,665 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:19:10,665 dialog_manager Extracting dates from: executive
WARNING 2025-06-11 12:19:10,665 dialog_manager No dates found
INFO 2025-06-11 12:19:10,665 dialog_manager Extracted room type: Suite
INFO 2025-06-11 12:19:10,665 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'user': <SimpleLazyObject: <User: simonleh>>, 'room_type': 'Suite'}
INFO 2025-06-11 12:19:10,665 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'user': <SimpleLazyObject: <User: simonleh>>, 'room_type': 'Suite'}
INFO 2025-06-11 12:19:10,665 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:19:10,665 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'user': <SimpleLazyObject: <User: simonleh>>, 'room_type': 'Suite'}
INFO 2025-06-11 12:19:10,686 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:19:10,687 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:19:10,689 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 405
INFO 2025-06-11 12:19:31,693 views Database connection successful
INFO 2025-06-11 12:19:31,693 views Received chat request at 2025-06-11 12:19:31.693807
DEBUG 2025-06-11 12:19:31,696 views Request headers: {'Content-Length': '255', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:19:31,697 views Request body: {"message":"01/12/2025","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"simon","phone":"01112643008","email":"simonlehzy@gmaol.com","room_type":"Suite"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-11 12:19:31,697 views User input: 01/12/2025
INFO 2025-06-11 12:19:31,698 views Current session state: collecting_booking_info
INFO 2025-06-11 12:19:31,698 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'room_type': 'Suite'}
INFO 2025-06-11 12:19:32,296 dialog_manager Using device: cpu
WARNING 2025-06-11 12:19:32,296 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:19:32,296 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:19:32,296 dialog_manager Processing message: 01/12/2025
INFO 2025-06-11 12:19:32,296 dialog_manager Processing input: 01/12/2025
INFO 2025-06-11 12:19:32,296 dialog_manager Using language: fi
INFO 2025-06-11 12:19:32,296 dialog_manager Detecting intent for input: 01/12/2025
INFO 2025-06-11 12:19:32,296 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-06-11 12:19:32,296 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:19:32,296 dialog_manager Extracting dates from: 01/12/2025
INFO 2025-06-11 12:19:32,309 dialog_manager Extracted single date: {'check_in': '2025-12-01', 'check_out': '2025-12-02'}
INFO 2025-06-11 12:19:32,310 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: simonleh>>, 'check_in_date': '2025-12-01', 'check_out_date': '2025-12-02'}
INFO 2025-06-11 12:19:32,314 models Booking saved: BK-78878 for simon
INFO 2025-06-11 12:19:32,314 dialog_manager Booking created successfully: ID=40, Booking_ID=BK-78878
INFO 2025-06-11 12:19:32,314 dialog_manager Booking record created successfully: BK-78878
INFO 2025-06-11 12:19:32,314 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: simonleh>>, 'check_in_date': '2025-12-01', 'check_out_date': '2025-12-02', 'booking_id': 'BK-78878'}
INFO 2025-06-11 12:19:32,324 views Updated session state: offering_addons
INFO 2025-06-11 12:19:32,324 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'room_type': 'Suite', 'user': <SimpleLazyObject: <User: simonleh>>, 'check_in_date': '2025-12-01', 'check_out_date': '2025-12-02', 'booking_id': 'BK-78878'}
INFO 2025-06-11 12:19:32,324 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-11 12:19:32,325 views Booking confirmation check - State: offering_addons, Booking ID: BK-78878, Previous ID: BK-78878, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:19:32,325 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:19:32,335 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1249
INFO 2025-06-11 12:19:46,164 views Database connection successful
INFO 2025-06-11 12:19:46,164 views Received chat request at 2025-06-11 12:19:46.164641
DEBUG 2025-06-11 12:19:46,167 views Request headers: {'Content-Length': '329', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:19:46,169 views Request body: {"message":"no thanks","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"simon","phone":"01112643008","email":"simonlehzy@gmaol.com","room_type":"Suite","check_in_date":"2025-12-01","check_out_date":"2025-12-02","booking_id":"BK-78878"},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-11 12:19:46,169 views User input: no thanks
INFO 2025-06-11 12:19:46,169 views Current session state: offering_addons
INFO 2025-06-11 12:19:46,169 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'simon', 'phone': '01112643008', 'email': 'simonlehzy@gmaol.com', 'room_type': 'Suite', 'check_in_date': '2025-12-01', 'check_out_date': '2025-12-02', 'booking_id': 'BK-78878'}
INFO 2025-06-11 12:19:46,747 dialog_manager Using device: cpu
WARNING 2025-06-11 12:19:46,747 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:19:46,747 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:19:46,753 dialog_manager Processing message: no thanks
INFO 2025-06-11 12:19:46,755 dialog_manager Processing input: no thanks
INFO 2025-06-11 12:19:46,755 dialog_manager Using language: fi
INFO 2025-06-11 12:19:46,756 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-11 12:19:46,767 dialog_manager Gratitude intent detected
INFO 2025-06-11 12:19:46,769 dialog_manager Detected intent: express_gratitude
INFO 2025-06-11 12:19:46,771 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-11 12:19:46,771 views Updated session state: greeting
INFO 2025-06-11 12:19:46,771 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-11 12:19:46,772 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-11 12:19:46,772 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:19:46,775 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-11 12:20:27,433 basehttp "GET /admin/ HTTP/1.1" 200 13995
INFO 2025-06-11 12:20:30,566 basehttp "GET /admin/auth/user/ HTTP/1.1" 200 19410
INFO 2025-06-11 12:20:30,594 basehttp "GET /static/admin/img/icon-no.svg HTTP/1.1" 304 0
INFO 2025-06-11 12:20:30,611 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-11 12:20:33,805 basehttp "GET /admin/auth/user/15/change/ HTTP/1.1" 200 26882
INFO 2025-06-11 12:20:33,853 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-11 12:20:34,081 basehttp "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 200 15709
INFO 2025-06-11 12:20:34,087 basehttp "GET /static/admin/js/SelectBox.js HTTP/1.1" 200 4530
INFO 2025-06-11 12:20:34,439 basehttp "GET /static/admin/img/selector-icons.svg HTTP/1.1" 200 3291
INFO 2025-06-11 12:23:04,066 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25390
INFO 2025-06-11 12:25:19,588 basehttp "GET /hotel_booking/room/1/ HTTP/1.1" 200 11660
INFO 2025-06-11 12:25:20,903 basehttp "GET /hotel_booking/book/1/ HTTP/1.1" 200 15673
INFO 2025-06-11 12:25:25,201 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25390
INFO 2025-06-11 12:25:26,274 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17289
INFO 2025-06-11 12:25:41,826 views Database connection successful
INFO 2025-06-11 12:25:41,842 views Received chat request at 2025-06-11 12:25:41.842693
DEBUG 2025-06-11 12:25:41,845 views Request headers: {'Content-Length': '54', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:25:41,848 views Request body: {"message":"Hello i want booking a room","session":{}}
INFO 2025-06-11 12:25:41,848 views User input: Hello i want booking a room
INFO 2025-06-11 12:25:41,850 views Current session state: None
INFO 2025-06-11 12:25:41,850 views Current user data: None
INFO 2025-06-11 12:25:42,892 dialog_manager Using device: cpu
WARNING 2025-06-11 12:25:42,902 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:25:42,902 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:25:42,902 dialog_manager Processing message: Hello i want booking a room
INFO 2025-06-11 12:25:42,902 dialog_manager Processing input: Hello i want booking a room
INFO 2025-06-11 12:25:42,950 dialog_manager Using language: en
INFO 2025-06-11 12:25:42,950 dialog_manager Detecting intent for input: Hello i want booking a room
INFO 2025-06-11 12:25:42,969 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-11 12:25:42,975 dialog_manager Detected intent: greeting
INFO 2025-06-11 12:25:46,952 dialog_manager Sentiment analysis: Neutral (confidence: 0.69)
INFO 2025-06-11 12:25:46,952 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-11 12:25:46,973 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:25:46,973 views Updated session state: greeting
INFO 2025-06-11 12:25:46,973 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:25:46,973 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-11 12:25:46,987 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:25:46,991 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:25:47,138 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 193
INFO 2025-06-11 12:25:58,333 views Database connection successful
INFO 2025-06-11 12:25:58,337 views Received chat request at 2025-06-11 12:25:58.337946
DEBUG 2025-06-11 12:25:58,340 views Request headers: {'Content-Length': '157', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:25:58,340 views Request body: {"message":"i want booking a room","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15},"state":"greeting","lang":"en"}}
INFO 2025-06-11 12:25:58,340 views User input: i want booking a room
INFO 2025-06-11 12:25:58,340 views Current session state: greeting
INFO 2025-06-11 12:25:58,343 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15}
INFO 2025-06-11 12:25:59,313 dialog_manager Using device: cpu
WARNING 2025-06-11 12:25:59,313 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:25:59,313 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:25:59,313 dialog_manager Processing message: i want booking a room
INFO 2025-06-11 12:25:59,323 dialog_manager Processing input: i want booking a room
INFO 2025-06-11 12:25:59,323 dialog_manager Using language: en
INFO 2025-06-11 12:25:59,323 dialog_manager Detecting intent for input: i want booking a room
INFO 2025-06-11 12:25:59,339 dialog_manager Booking intent detected
INFO 2025-06-11 12:25:59,339 dialog_manager Detected intent: booking
INFO 2025-06-11 12:25:59,344 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-11 12:25:59,344 dialog_manager Extracting dates from: i want booking a room
WARNING 2025-06-11 12:25:59,344 dialog_manager No dates found
INFO 2025-06-11 12:25:59,346 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:25:59,346 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:25:59,348 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>}
INFO 2025-06-11 12:25:59,369 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:25:59,369 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:25:59,377 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 256
INFO 2025-06-11 12:26:03,581 views Database connection successful
INFO 2025-06-11 12:26:03,581 views Received chat request at 2025-06-11 12:26:03.581970
DEBUG 2025-06-11 12:26:03,581 views Request headers: {'Content-Length': '154', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:26:03,585 views Request body: {"message":"lhs","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-11 12:26:03,585 views User input: lhs
INFO 2025-06-11 12:26:03,585 views Current session state: collecting_booking_info
INFO 2025-06-11 12:26:03,585 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15}
INFO 2025-06-11 12:26:04,771 dialog_manager Using device: cpu
WARNING 2025-06-11 12:26:04,771 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:26:04,773 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:26:04,774 dialog_manager Processing message: lhs
INFO 2025-06-11 12:26:04,775 dialog_manager Processing input: lhs
INFO 2025-06-11 12:26:04,775 dialog_manager Using language: en
INFO 2025-06-11 12:26:04,775 dialog_manager Detecting intent for input: lhs
INFO 2025-06-11 12:26:04,792 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:26:04,795 dialog_manager Extracted name: lhs
INFO 2025-06-11 12:26:04,797 dialog_manager Extracting dates from: lhs
WARNING 2025-06-11 12:26:04,797 dialog_manager No dates found
INFO 2025-06-11 12:26:04,797 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>, 'guest_name': 'lhs'}
INFO 2025-06-11 12:26:04,797 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>, 'guest_name': 'lhs'}
INFO 2025-06-11 12:26:04,797 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:26:04,801 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'user': <SimpleLazyObject: <User: simonleh>>, 'guest_name': 'lhs'}
INFO 2025-06-11 12:26:04,814 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:26:04,814 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:26:04,818 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 278
INFO 2025-06-11 12:26:09,496 views Database connection successful
INFO 2025-06-11 12:26:09,501 views Received chat request at 2025-06-11 12:26:09.501165
DEBUG 2025-06-11 12:26:09,501 views Request headers: {'Content-Length': '181', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:26:09,503 views Request body: {"message":"01234567890","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"lhs"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-11 12:26:09,505 views User input: 01234567890
INFO 2025-06-11 12:26:09,505 views Current session state: collecting_booking_info
INFO 2025-06-11 12:26:09,508 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs'}
INFO 2025-06-11 12:26:10,444 dialog_manager Using device: cpu
WARNING 2025-06-11 12:26:10,452 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:26:10,452 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:26:10,452 dialog_manager Processing message: 01234567890
INFO 2025-06-11 12:26:10,452 dialog_manager Processing input: 01234567890
INFO 2025-06-11 12:26:10,452 dialog_manager Using language: en
INFO 2025-06-11 12:26:10,452 dialog_manager Detecting intent for input: 01234567890
INFO 2025-06-11 12:26:10,452 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-11 12:26:10,457 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:26:10,459 dialog_manager Extracted standalone phone: 01234567890
INFO 2025-06-11 12:26:10,460 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'user': <SimpleLazyObject: <User: simonleh>>, 'phone': '01234567890'}
INFO 2025-06-11 12:26:10,461 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'user': <SimpleLazyObject: <User: simonleh>>, 'phone': '01234567890'}
INFO 2025-06-11 12:26:10,461 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:26:10,464 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'user': <SimpleLazyObject: <User: simonleh>>, 'phone': '01234567890'}
INFO 2025-06-11 12:26:10,477 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:26:10,479 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:26:10,482 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 299
INFO 2025-06-11 12:26:17,335 views Database connection successful
INFO 2025-06-11 12:26:17,335 views Received chat request at 2025-06-11 12:26:17.335825
DEBUG 2025-06-11 12:26:17,335 views Request headers: {'Content-Length': '208', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:26:17,335 views Request body: {"message":"golden@gmail.com","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"lhs","phone":"01234567890"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-11 12:26:17,335 views User input: golden@gmail.com
INFO 2025-06-11 12:26:17,335 views Current session state: collecting_booking_info
INFO 2025-06-11 12:26:17,344 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890'}
INFO 2025-06-11 12:26:18,495 dialog_manager Using device: cpu
WARNING 2025-06-11 12:26:18,495 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:26:18,495 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:26:18,495 dialog_manager Processing message: golden@gmail.com
INFO 2025-06-11 12:26:18,509 dialog_manager Processing input: golden@gmail.com
INFO 2025-06-11 12:26:18,512 dialog_manager Using language: en
INFO 2025-06-11 12:26:18,513 dialog_manager Detecting intent for input: golden@gmail.com
INFO 2025-06-11 12:26:18,524 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:26:18,530 dialog_manager Extracted standalone email: golden@gmail.com
INFO 2025-06-11 12:26:18,532 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'user': <SimpleLazyObject: <User: simonleh>>, 'email': 'golden@gmail.com'}
INFO 2025-06-11 12:26:18,532 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'user': <SimpleLazyObject: <User: simonleh>>, 'email': 'golden@gmail.com'}
INFO 2025-06-11 12:26:18,532 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:26:18,532 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'user': <SimpleLazyObject: <User: simonleh>>, 'email': 'golden@gmail.com'}
INFO 2025-06-11 12:26:18,548 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:26:18,548 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:26:18,556 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 748
INFO 2025-06-11 12:26:31,914 views Database connection successful
INFO 2025-06-11 12:26:31,915 views Received chat request at 2025-06-11 12:26:31.915954
DEBUG 2025-06-11 12:26:31,915 views Request headers: {'Content-Length': '227', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:26:31,915 views Request body: {"message":"standard","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"lhs","phone":"01234567890","email":"golden@gmail.com"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-11 12:26:31,919 views User input: standard
INFO 2025-06-11 12:26:31,921 views Current session state: collecting_booking_info
INFO 2025-06-11 12:26:31,921 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com'}
INFO 2025-06-11 12:26:34,499 dialog_manager Using device: cpu
WARNING 2025-06-11 12:26:34,503 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:26:34,503 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:26:34,503 dialog_manager Processing message: standard
INFO 2025-06-11 12:26:34,503 dialog_manager Processing input: standard
INFO 2025-06-11 12:26:34,510 dialog_manager Using language: en
INFO 2025-06-11 12:26:34,510 dialog_manager Detecting intent for input: standard
INFO 2025-06-11 12:26:34,513 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-11 12:26:34,513 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:26:34,516 dialog_manager Extracting dates from: standard
WARNING 2025-06-11 12:26:34,519 dialog_manager No dates found
INFO 2025-06-11 12:26:34,519 dialog_manager Extracted room type: Standard
INFO 2025-06-11 12:26:34,519 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'user': <SimpleLazyObject: <User: simonleh>>, 'room_type': 'Standard'}
INFO 2025-06-11 12:26:34,522 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'user': <SimpleLazyObject: <User: simonleh>>, 'room_type': 'Standard'}
INFO 2025-06-11 12:26:34,522 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:26:34,522 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'user': <SimpleLazyObject: <User: simonleh>>, 'room_type': 'Standard'}
INFO 2025-06-11 12:26:34,538 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:26:34,538 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:26:34,545 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 400
INFO 2025-06-11 12:26:50,980 views Database connection successful
INFO 2025-06-11 12:26:50,981 views Received chat request at 2025-06-11 12:26:50.981496
DEBUG 2025-06-11 12:26:50,981 views Request headers: {'Content-Length': '253', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:26:50,981 views Request body: {"message":"next monday","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"lhs","phone":"01234567890","email":"golden@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"en"}}
INFO 2025-06-11 12:26:50,981 views User input: next monday
INFO 2025-06-11 12:26:50,981 views Current session state: collecting_booking_info
INFO 2025-06-11 12:26:50,981 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-11 12:26:51,918 dialog_manager Using device: cpu
WARNING 2025-06-11 12:26:51,918 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:26:51,918 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:26:51,918 dialog_manager Processing message: next monday
INFO 2025-06-11 12:26:51,918 dialog_manager Processing input: next monday
INFO 2025-06-11 12:26:51,927 dialog_manager Using language: en
INFO 2025-06-11 12:26:51,928 dialog_manager Detecting intent for input: next monday
INFO 2025-06-11 12:26:51,944 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:26:51,944 dialog_manager Extracting dates from: next monday
INFO 2025-06-11 12:26:51,944 dialog_manager Extracted 'next monday' date: 2025-06-16 12:26:51.944642
INFO 2025-06-11 12:26:51,944 dialog_manager Single date result: {'check_in': '2025-06-16', 'check_out': '2025-06-17'}
INFO 2025-06-11 12:26:51,951 dialog_manager Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: simonleh>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17'}
INFO 2025-06-11 12:26:51,959 models Booking saved: BK-29170 for lhs
INFO 2025-06-11 12:26:51,968 dialog_manager Booking created successfully: ID=41, Booking_ID=BK-29170
INFO 2025-06-11 12:26:51,968 dialog_manager Booking record created successfully: BK-29170
INFO 2025-06-11 12:26:51,968 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: simonleh>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-29170'}
INFO 2025-06-11 12:26:51,968 views Updated session state: offering_addons
INFO 2025-06-11 12:26:51,971 views Updated user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: simonleh>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-29170'}
INFO 2025-06-11 12:26:51,972 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-11 12:26:51,972 views Booking confirmation check - State: offering_addons, Booking ID: BK-29170, Previous ID: BK-29170, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:26:51,974 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:26:51,978 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1243
INFO 2025-06-11 12:27:08,838 views Database connection successful
INFO 2025-06-11 12:27:08,838 views Received chat request at 2025-06-11 12:27:08.838522
DEBUG 2025-06-11 12:27:08,838 views Request headers: {'Content-Length': '326', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:27:08,838 views Request body: {"message":"no thanks","session":{"user_data":{"username":"simonleh","is_returning_customer":false,"user_id":15,"guest_name":"lhs","phone":"01234567890","email":"golden@gmail.com","room_type":"Standard","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-29170"},"state":"offering_addons","lang":"en"}}
INFO 2025-06-11 12:27:08,838 views User input: no thanks
INFO 2025-06-11 12:27:08,838 views Current session state: offering_addons
INFO 2025-06-11 12:27:08,846 views Current user data: {'username': 'simonleh', 'is_returning_customer': False, 'user_id': 15, 'guest_name': 'lhs', 'phone': '01234567890', 'email': 'golden@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-29170'}
INFO 2025-06-11 12:27:09,781 dialog_manager Using device: cpu
WARNING 2025-06-11 12:27:09,787 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:27:09,787 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:27:09,787 dialog_manager Processing message: no thanks
INFO 2025-06-11 12:27:09,787 dialog_manager Processing input: no thanks
INFO 2025-06-11 12:27:09,787 dialog_manager Using language: en
INFO 2025-06-11 12:27:09,793 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-11 12:27:09,809 dialog_manager Gratitude intent detected
INFO 2025-06-11 12:27:09,810 dialog_manager Detected intent: express_gratitude
INFO 2025-06-11 12:27:09,810 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-11 12:27:09,810 views Updated session state: greeting
INFO 2025-06-11 12:27:09,812 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-11 12:27:09,812 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-11 12:27:09,822 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:27:09,827 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-11 12:27:57,727 views Database connection successful
INFO 2025-06-11 12:27:57,729 views Received chat request at 2025-06-11 12:27:57.729157
DEBUG 2025-06-11 12:27:57,731 views Request headers: {'Content-Length': '108', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=NTxUJKtvHi2onDVrs17kuoJxRkDFPKv0; sessionid=0g001olisifl1atoql64mowynqt6am4d'}
DEBUG 2025-06-11 12:27:57,733 views Request body: {"message":"BK-29170","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"en"}}
INFO 2025-06-11 12:27:57,734 views User input: BK-29170
INFO 2025-06-11 12:27:57,734 views Current session state: greeting
INFO 2025-06-11 12:27:57,736 views Current user data: {'is_returning_customer': True}
INFO 2025-06-11 12:27:58,684 dialog_manager Using device: cpu
WARNING 2025-06-11 12:27:58,690 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:27:58,690 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:27:58,690 dialog_manager Processing message: BK-29170
INFO 2025-06-11 12:27:58,690 dialog_manager Processing input: BK-29170
INFO 2025-06-11 12:27:58,690 dialog_manager Using language: en
INFO 2025-06-11 12:27:58,693 dialog_manager Detecting intent for input: BK-29170
INFO 2025-06-11 12:27:58,693 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-11 12:27:58,693 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:27:58,707 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 41, 'booking_id': 'BK-29170', 'guest_name': 'lhs', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-11 12:27:58,707 views Updated session state: greeting
INFO 2025-06-11 12:27:58,709 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 41, 'booking_id': 'BK-29170', 'guest_name': 'lhs', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-11 12:27:58,728 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:27:58,734 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 722
INFO 2025-06-11 12:28:09,654 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12727
INFO 2025-06-11 12:28:14,739 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25390
INFO 2025-06-11 12:28:16,889 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12727
INFO 2025-06-11 12:28:19,421 basehttp "GET /hotel_booking/edit_profile/ HTTP/1.1" 200 12413
INFO 2025-06-11 12:28:26,277 basehttp "POST /hotel_booking/edit_profile/ HTTP/1.1" 302 0
INFO 2025-06-11 12:28:26,312 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12815
INFO 2025-06-11 12:28:26,495 basehttp "GET /media/profile_pictures/Acer_Wallpaper_02_3840x2400_fpbTN5g.jpg HTTP/1.1" 200 5814996
INFO 2025-06-11 12:28:29,759 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25696
INFO 2025-06-11 12:28:31,630 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12246
INFO 2025-06-11 12:28:36,679 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17289
INFO 2025-06-11 12:28:37,747 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12451
INFO 2025-06-11 12:28:40,978 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25390
INFO 2025-06-11 12:28:50,728 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11675
INFO 2025-06-11 12:29:06,674 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-11 12:29:06,691 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
INFO 2025-06-11 12:29:13,139 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-11 12:30:28,774 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-11 12:30:28,791 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25698
INFO 2025-06-11 12:30:41,560 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11674
INFO 2025-06-11 12:30:45,668 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-11 12:30:49,332 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-11 12:30:53,164 views Database connection successful
INFO 2025-06-11 12:30:53,164 views Received chat request at 2025-06-11 12:30:53.164958
DEBUG 2025-06-11 12:30:53,164 views Request headers: {'Content-Length': '29', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:30:53,164 views Request body: {"message":"hi","session":{}}
INFO 2025-06-11 12:30:53,164 views User input: hi
INFO 2025-06-11 12:30:53,170 views Current session state: None
INFO 2025-06-11 12:30:53,172 views Current user data: None
INFO 2025-06-11 12:30:54,102 dialog_manager Using device: cpu
WARNING 2025-06-11 12:30:54,119 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:30:54,119 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:30:54,119 dialog_manager Processing message: hi
INFO 2025-06-11 12:30:54,119 dialog_manager Processing input: hi
INFO 2025-06-11 12:30:54,134 dialog_manager Using language: en
INFO 2025-06-11 12:30:54,135 dialog_manager Detecting intent for input: hi
INFO 2025-06-11 12:30:54,145 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-11 12:30:54,150 dialog_manager Detected intent: greeting
INFO 2025-06-11 12:30:57,375 dialog_manager Sentiment analysis: Neutral (confidence: 0.55)
INFO 2025-06-11 12:30:57,383 dialog_manager Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-11 12:30:57,384 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-11 12:30:57,384 views Updated session state: greeting
INFO 2025-06-11 12:30:57,384 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-11 12:30:57,397 views Generated response: Hi there! How may I help you with your stay?
INFO 2025-06-11 12:30:57,397 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:30:57,398 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:30:57,522 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 192
INFO 2025-06-11 12:31:13,512 views Database connection successful
INFO 2025-06-11 12:31:13,516 views Received chat request at 2025-06-11 12:31:13.516390
DEBUG 2025-06-11 12:31:13,518 views Request headers: {'Content-Length': '153', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:31:13,521 views Request body: {"message":"i want book a room","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16},"state":"greeting","lang":"sw"}}
INFO 2025-06-11 12:31:13,521 views User input: i want book a room
INFO 2025-06-11 12:31:13,521 views Current session state: greeting
INFO 2025-06-11 12:31:13,521 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16}
INFO 2025-06-11 12:31:14,636 dialog_manager Using device: cpu
WARNING 2025-06-11 12:31:14,642 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:31:14,642 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:31:14,642 dialog_manager Processing message: i want book a room
INFO 2025-06-11 12:31:14,642 dialog_manager Processing input: i want book a room
INFO 2025-06-11 12:31:14,642 dialog_manager Using language: sw
INFO 2025-06-11 12:31:14,642 dialog_manager Detecting intent for input: i want book a room
INFO 2025-06-11 12:31:14,657 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-11 12:31:14,657 dialog_manager Detected intent: booking
INFO 2025-06-11 12:31:14,666 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-11 12:31:14,666 dialog_manager Extracting dates from: i want book a room
WARNING 2025-06-11 12:31:14,669 dialog_manager No dates found
INFO 2025-06-11 12:31:14,669 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-11 12:31:14,669 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:31:14,669 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-11 12:31:14,686 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:31:14,686 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:31:14,692 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 255
INFO 2025-06-11 12:31:19,474 views Database connection successful
INFO 2025-06-11 12:31:19,474 views Received chat request at 2025-06-11 12:31:19.474035
DEBUG 2025-06-11 12:31:19,474 views Request headers: {'Content-Length': '157', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:31:19,474 views Request body: {"message":"Huiseng","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16},"state":"collecting_booking_info","lang":"sw"}}
INFO 2025-06-11 12:31:19,474 views User input: Huiseng
INFO 2025-06-11 12:31:19,481 views Current session state: collecting_booking_info
INFO 2025-06-11 12:31:19,482 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16}
INFO 2025-06-11 12:31:20,591 dialog_manager Using device: cpu
WARNING 2025-06-11 12:31:20,591 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:31:20,591 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:31:20,591 dialog_manager Processing message: Huiseng
INFO 2025-06-11 12:31:20,591 dialog_manager Processing input: Huiseng
INFO 2025-06-11 12:31:20,591 dialog_manager Using language: sw
INFO 2025-06-11 12:31:20,591 dialog_manager Detecting intent for input: Huiseng
INFO 2025-06-11 12:31:20,607 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:31:20,607 dialog_manager Extracted name: Huiseng
INFO 2025-06-11 12:31:20,607 dialog_manager Extracting dates from: Huiseng
WARNING 2025-06-11 12:31:20,614 dialog_manager No dates found
INFO 2025-06-11 12:31:20,615 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>, 'guest_name': 'Huiseng'}
INFO 2025-06-11 12:31:20,615 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>, 'guest_name': 'Huiseng'}
INFO 2025-06-11 12:31:20,618 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:31:20,620 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>, 'guest_name': 'Huiseng'}
INFO 2025-06-11 12:31:20,636 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:31:20,636 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:31:20,639 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 285
INFO 2025-06-11 12:31:26,795 views Database connection successful
INFO 2025-06-11 12:31:26,795 views Received chat request at 2025-06-11 12:31:26.795015
DEBUG 2025-06-11 12:31:26,797 views Request headers: {'Content-Length': '184', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:31:26,797 views Request body: {"message":"01110922275","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Huiseng"},"state":"collecting_booking_info","lang":"sw"}}
INFO 2025-06-11 12:31:26,797 views User input: 01110922275
INFO 2025-06-11 12:31:26,797 views Current session state: collecting_booking_info
INFO 2025-06-11 12:31:26,803 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng'}
INFO 2025-06-11 12:31:27,798 dialog_manager Using device: cpu
WARNING 2025-06-11 12:31:27,801 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:31:27,802 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:31:27,802 dialog_manager Processing message: 01110922275
INFO 2025-06-11 12:31:27,802 dialog_manager Processing input: 01110922275
INFO 2025-06-11 12:31:27,802 dialog_manager Using language: sw
INFO 2025-06-11 12:31:27,802 dialog_manager Detecting intent for input: 01110922275
INFO 2025-06-11 12:31:27,802 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-11 12:31:27,809 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:31:27,810 dialog_manager Extracted standalone phone: 01110922275
INFO 2025-06-11 12:31:27,812 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'user': <SimpleLazyObject: <User: Huiseng>>, 'phone': '01110922275'}
INFO 2025-06-11 12:31:27,813 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'user': <SimpleLazyObject: <User: Huiseng>>, 'phone': '01110922275'}
INFO 2025-06-11 12:31:27,815 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:31:27,815 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'user': <SimpleLazyObject: <User: Huiseng>>, 'phone': '01110922275'}
INFO 2025-06-11 12:31:27,832 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:31:27,834 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:31:27,838 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 306
INFO 2025-06-11 12:31:36,979 views Database connection successful
INFO 2025-06-11 12:31:36,982 views Received chat request at 2025-06-11 12:31:36.982296
DEBUG 2025-06-11 12:31:36,982 views Request headers: {'Content-Length': '214', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:31:36,984 views Request body: {"message":"huiseng72@gmail.com","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Huiseng","phone":"01110922275"},"state":"collecting_booking_info","lang":"sw"}}
INFO 2025-06-11 12:31:36,985 views User input: huiseng72@gmail.com
INFO 2025-06-11 12:31:36,985 views Current session state: collecting_booking_info
INFO 2025-06-11 12:31:36,985 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275'}
INFO 2025-06-11 12:31:37,951 dialog_manager Using device: cpu
WARNING 2025-06-11 12:31:37,951 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:31:37,951 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:31:37,960 dialog_manager Processing message: huiseng72@gmail.com
INFO 2025-06-11 12:31:37,960 dialog_manager Processing input: huiseng72@gmail.com
INFO 2025-06-11 12:31:37,963 dialog_manager Using language: sw
INFO 2025-06-11 12:31:37,963 dialog_manager Detecting intent for input: huiseng72@gmail.com
INFO 2025-06-11 12:31:37,972 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:31:37,972 dialog_manager Extracted standalone email: huiseng72@gmail.com
INFO 2025-06-11 12:31:37,983 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'user': <SimpleLazyObject: <User: Huiseng>>, 'email': 'huiseng72@gmail.com'}
INFO 2025-06-11 12:31:37,984 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'user': <SimpleLazyObject: <User: Huiseng>>, 'email': 'huiseng72@gmail.com'}
INFO 2025-06-11 12:31:37,987 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:31:37,987 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'user': <SimpleLazyObject: <User: Huiseng>>, 'email': 'huiseng72@gmail.com'}
INFO 2025-06-11 12:31:38,003 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:31:38,003 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:31:38,012 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 758
INFO 2025-06-11 12:31:48,936 views Database connection successful
INFO 2025-06-11 12:31:48,936 views Received chat request at 2025-06-11 12:31:48.936493
DEBUG 2025-06-11 12:31:48,936 views Request headers: {'Content-Length': '231', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:31:48,936 views Request body: {"message":"Deluxe","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Huiseng","phone":"01110922275","email":"huiseng72@gmail.com"},"state":"collecting_booking_info","lang":"sw"}}
INFO 2025-06-11 12:31:48,936 views User input: Deluxe
INFO 2025-06-11 12:31:48,940 views Current session state: collecting_booking_info
INFO 2025-06-11 12:31:48,940 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com'}
INFO 2025-06-11 12:31:49,940 dialog_manager Using device: cpu
WARNING 2025-06-11 12:31:49,940 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:31:49,940 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:31:49,949 dialog_manager Processing message: Deluxe
INFO 2025-06-11 12:31:49,949 dialog_manager Processing input: Deluxe
INFO 2025-06-11 12:31:49,953 dialog_manager Using language: sw
INFO 2025-06-11 12:31:49,962 dialog_manager Detecting intent for input: Deluxe
INFO 2025-06-11 12:31:49,980 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:31:49,980 dialog_manager Extracting dates from: Deluxe
WARNING 2025-06-11 12:31:49,982 dialog_manager No dates found
INFO 2025-06-11 12:31:49,982 dialog_manager Extracted room type: Deluxe
INFO 2025-06-11 12:31:49,982 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'user': <SimpleLazyObject: <User: Huiseng>>, 'room_type': 'Deluxe'}
INFO 2025-06-11 12:31:49,982 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'user': <SimpleLazyObject: <User: Huiseng>>, 'room_type': 'Deluxe'}
INFO 2025-06-11 12:31:49,982 views Updated session state: collecting_booking_info
INFO 2025-06-11 12:31:49,986 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'user': <SimpleLazyObject: <User: Huiseng>>, 'room_type': 'Deluxe'}
INFO 2025-06-11 12:31:50,000 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:31:50,000 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:31:50,007 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 408
INFO 2025-06-11 12:31:58,812 views Database connection successful
INFO 2025-06-11 12:31:58,812 views Received chat request at 2025-06-11 12:31:58.812640
DEBUG 2025-06-11 12:31:58,815 views Request headers: {'Content-Length': '257', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:31:58,816 views Request body: {"message":"next monday","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Huiseng","phone":"01110922275","email":"huiseng72@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"sw"}}
INFO 2025-06-11 12:31:58,817 views User input: next monday
INFO 2025-06-11 12:31:58,818 views Current session state: collecting_booking_info
INFO 2025-06-11 12:31:58,818 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-06-11 12:31:59,799 dialog_manager Using device: cpu
WARNING 2025-06-11 12:31:59,799 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:31:59,799 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:31:59,799 dialog_manager Processing message: next monday
INFO 2025-06-11 12:31:59,799 dialog_manager Processing input: next monday
INFO 2025-06-11 12:31:59,815 dialog_manager Using language: sw
INFO 2025-06-11 12:31:59,816 dialog_manager Detecting intent for input: next monday
INFO 2025-06-11 12:31:59,833 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:31:59,834 dialog_manager Extracting dates from: next monday
INFO 2025-06-11 12:31:59,834 dialog_manager Extracted 'next monday' date: 2025-06-16 12:31:59.834980
INFO 2025-06-11 12:31:59,834 dialog_manager Single date result: {'check_in': '2025-06-16', 'check_out': '2025-06-17'}
INFO 2025-06-11 12:31:59,837 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: Huiseng>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17'}
INFO 2025-06-11 12:31:59,849 models Booking saved: BK-40023 for Huiseng
INFO 2025-06-11 12:31:59,849 dialog_manager Booking created successfully: ID=42, Booking_ID=BK-40023
INFO 2025-06-11 12:31:59,852 dialog_manager Booking record created successfully: BK-40023
INFO 2025-06-11 12:31:59,852 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: Huiseng>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-40023'}
INFO 2025-06-11 12:31:59,854 views Updated session state: offering_addons
INFO 2025-06-11 12:31:59,855 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: Huiseng>>, 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-40023'}
INFO 2025-06-11 12:31:59,856 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-11 12:31:59,856 views Booking confirmation check - State: offering_addons, Booking ID: BK-40023, Previous ID: BK-40023, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:31:59,856 views Removed User object from session for JSON serialization
INFO 2025-06-11 12:31:59,861 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1252
INFO 2025-06-11 12:32:26,100 views Database connection successful
INFO 2025-06-11 12:32:26,100 views Received chat request at 2025-06-11 12:32:26.100050
DEBUG 2025-06-11 12:32:26,100 views Request headers: {'Content-Length': '329', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:32:26,100 views Request body: {"message":"no thank","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Huiseng","phone":"01110922275","email":"huiseng72@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-16","check_out_date":"2025-06-17","booking_id":"BK-40023"},"state":"offering_addons","lang":"sw"}}
INFO 2025-06-11 12:32:26,105 views User input: no thank
INFO 2025-06-11 12:32:26,105 views Current session state: offering_addons
INFO 2025-06-11 12:32:26,107 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Huiseng', 'phone': '01110922275', 'email': 'huiseng72@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-16', 'check_out_date': '2025-06-17', 'booking_id': 'BK-40023'}
INFO 2025-06-11 12:32:27,559 dialog_manager Using device: cpu
WARNING 2025-06-11 12:32:27,559 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:32:27,559 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:32:27,574 dialog_manager Processing message: no thank
INFO 2025-06-11 12:32:27,574 dialog_manager Processing input: no thank
INFO 2025-06-11 12:32:27,577 dialog_manager Using language: sw
INFO 2025-06-11 12:32:27,578 dialog_manager Detecting intent for input: no thank
INFO 2025-06-11 12:32:27,601 dialog_manager Detected intent: unknown
INFO 2025-06-11 12:32:27,601 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-11 12:32:27,601 views Updated session state: greeting
INFO 2025-06-11 12:32:27,601 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-11 12:32:27,601 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-11 12:32:27,609 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:32:27,617 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-11 12:32:31,957 views Database connection successful
INFO 2025-06-11 12:32:31,957 views Received chat request at 2025-06-11 12:32:31.957334
DEBUG 2025-06-11 12:32:31,957 views Request headers: {'Content-Length': '108', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-11 12:32:31,963 views Request body: {"message":"BK-40023","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"sw"}}
INFO 2025-06-11 12:32:31,963 views User input: BK-40023
INFO 2025-06-11 12:32:31,963 views Current session state: greeting
INFO 2025-06-11 12:32:31,963 views Current user data: {'is_returning_customer': True}
INFO 2025-06-11 12:32:33,175 dialog_manager Using device: cpu
WARNING 2025-06-11 12:32:33,175 dialog_manager Using basic NLP functionality only
INFO 2025-06-11 12:32:33,175 dialog_manager DialogManager initialized successfully
INFO 2025-06-11 12:32:33,175 dialog_manager Processing message: BK-40023
INFO 2025-06-11 12:32:33,175 dialog_manager Processing input: BK-40023
INFO 2025-06-11 12:32:33,175 dialog_manager Using language: sw
INFO 2025-06-11 12:32:33,175 dialog_manager Detecting intent for input: BK-40023
INFO 2025-06-11 12:32:33,175 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-11 12:32:33,175 dialog_manager Detected intent: invalid_input
INFO 2025-06-11 12:32:33,190 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 42, 'booking_id': 'BK-40023', 'guest_name': 'Huiseng', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-11 12:32:33,190 views Updated session state: greeting
INFO 2025-06-11 12:32:33,195 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 42, 'booking_id': 'BK-40023', 'guest_name': 'Huiseng', 'room_name': 'Deluxe Room', 'check_in_date': datetime.date(2025, 6, 16), 'check_out_date': datetime.date(2025, 6, 17), 'status': 'confirmed'}}
INFO 2025-06-11 12:32:33,211 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-11 12:32:33,218 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 726
INFO 2025-06-11 12:32:42,642 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12302
INFO 2025-06-11 12:33:05,894 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-11 14:30:14,432 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 24547
INFO 2025-06-11 14:30:14,508 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:15:30,818 autoreload Watching for file changes with StatReloader
INFO 2025-06-12 21:15:58,055 middleware Admin user found: admin
INFO 2025-06-12 21:16:02,008 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-12 21:16:02,104 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-12 21:16:02,104 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-12 21:16:02,154 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-06-12 21:16:02,466 log Not Found: /favicon.ico
WARNING 2025-06-12 21:16:02,474 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-12 21:16:07,631 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12302
INFO 2025-06-12 21:16:49,404 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 11285
WARNING 2025-06-12 21:16:55,330 log Not Found: /favicon.ico
WARNING 2025-06-12 21:16:55,330 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-12 21:16:56,558 basehttp "GET /admin/ HTTP/1.1" 200 13995
INFO 2025-06-12 21:16:58,756 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 24547
INFO 2025-06-12 21:16:58,823 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:23,307 basehttp "GET /admin/hotel_booking/booking/39/change/ HTTP/1.1" 200 36378
INFO 2025-06-12 21:25:23,375 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:25,603 basehttp "GET /admin/hotel_booking/booking/39/delete/ HTTP/1.1" 200 10969
INFO 2025-06-12 21:25:26,492 basehttp "POST /admin/hotel_booking/booking/39/delete/ HTTP/1.1" 302 0
INFO 2025-06-12 21:25:26,589 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 24073
INFO 2025-06-12 21:25:26,630 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:29,053 basehttp "GET /admin/hotel_booking/booking/41/change/ HTTP/1.1" 200 33244
INFO 2025-06-12 21:25:29,098 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:30,493 basehttp "GET /admin/hotel_booking/booking/41/delete/ HTTP/1.1" 200 10807
INFO 2025-06-12 21:25:31,176 basehttp "POST /admin/hotel_booking/booking/41/delete/ HTTP/1.1" 302 0
INFO 2025-06-12 21:25:31,316 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 23427
INFO 2025-06-12 21:25:31,377 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:33,683 basehttp "GET /admin/hotel_booking/booking/37/change/ HTTP/1.1" 200 36394
INFO 2025-06-12 21:25:33,720 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:35,453 basehttp "GET /admin/hotel_booking/booking/37/delete/ HTTP/1.1" 200 10981
INFO 2025-06-12 21:25:36,242 basehttp "POST /admin/hotel_booking/booking/37/delete/ HTTP/1.1" 302 0
INFO 2025-06-12 21:25:36,349 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 22769
INFO 2025-06-12 21:25:36,398 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:44,658 basehttp "GET /admin/hotel_booking/booking/26/change/ HTTP/1.1" 200 33247
INFO 2025-06-12 21:25:44,736 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 21:25:46,655 basehttp "GET /admin/hotel_booking/booking/26/delete/ HTTP/1.1" 200 10807
INFO 2025-06-12 21:25:47,371 basehttp "POST /admin/hotel_booking/booking/26/delete/ HTTP/1.1" 302 0
INFO 2025-06-12 21:25:47,468 basehttp "GET /admin/hotel_booking/booking/ HTTP/1.1" 200 22119
INFO 2025-06-12 21:25:47,528 basehttp "GET /admin/jsi18n/ HTTP/1.1" 200 3342
INFO 2025-06-12 23:06:19,442 views Database connection successful
INFO 2025-06-12 23:06:19,442 views Received chat request at 2025-06-12 23:06:19.442308
DEBUG 2025-06-12 23:06:19,444 views Request headers: {'Cookie': '', 'Content-Length': '75', 'Content-Type': 'application/json'}
DEBUG 2025-06-12 23:06:19,444 views Request body: {"message": "book room", "session": {"state": "greeting", "user_data": {}}}
INFO 2025-06-12 23:06:19,444 views User input: book room
INFO 2025-06-12 23:06:19,444 views Current session state: greeting
INFO 2025-06-12 23:06:19,444 views Current user data: {}
INFO 2025-06-12 23:06:19,961 dialog_manager Using device: cpu
WARNING 2025-06-12 23:06:19,961 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:06:19,966 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:06:19,968 dialog_manager Processing message: book room
INFO 2025-06-12 23:06:19,968 dialog_manager Processing input: book room
INFO 2025-06-12 23:06:20,390 dialog_manager Using language: en
INFO 2025-06-12 23:06:20,390 dialog_manager Detecting intent for input: book room
INFO 2025-06-12 23:06:20,403 dialog_manager Booking intent detected
INFO 2025-06-12 23:06:20,404 dialog_manager Detected intent: booking
INFO 2025-06-12 23:06:20,405 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-12 23:06:20,408 dialog_manager Extracting dates from: book room
WARNING 2025-06-12 23:06:20,408 dialog_manager No dates found
INFO 2025-06-12 23:06:20,412 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'testuser', 'is_returning_customer': False, 'user_id': 17, 'user': <User: testuser>}
INFO 2025-06-12 23:06:20,412 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:06:20,412 views Updated user data: {'username': 'testuser', 'is_returning_customer': False, 'user_id': 17, 'user': <User: testuser>}
INFO 2025-06-12 23:06:20,432 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:06:20,432 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:06:20,432 views Database connection successful
INFO 2025-06-12 23:06:20,432 views Received chat request at 2025-06-12 23:06:20.432062
DEBUG 2025-06-12 23:06:20,437 views Request headers: {'Cookie': '', 'Content-Length': '241', 'Content-Type': 'application/json'}
DEBUG 2025-06-12 23:06:20,438 views Request body: {"message": "John Doe, john@example.com, 0123456789, Standard Room, 2025-06-20, 2025-06-22", "session": {"state": "collecting_booking_info", "user_data": {"username": "testuser", "is_returning_customer": false, "user_id": 17}, "lang": "af"}}
INFO 2025-06-12 23:06:20,440 views User input: John Doe, john@example.com, 0123456789, Standard Room, 2025-06-20, 2025-06-22
INFO 2025-06-12 23:06:20,440 views Current session state: collecting_booking_info
INFO 2025-06-12 23:06:20,440 views Current user data: {'username': 'testuser', 'is_returning_customer': False, 'user_id': 17}
INFO 2025-06-12 23:06:20,853 dialog_manager Using device: cpu
WARNING 2025-06-12 23:06:20,853 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:06:20,853 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:06:20,853 dialog_manager Processing message: John Doe, john@example.com, 0123456789, Standard Room, 2025-06-20, 2025-06-22
INFO 2025-06-12 23:06:20,853 dialog_manager Processing input: John Doe, john@example.com, 0123456789, Standard Room, 2025-06-20, 2025-06-22
INFO 2025-06-12 23:06:20,853 dialog_manager Using language: af
INFO 2025-06-12 23:06:20,853 dialog_manager Detecting intent for input: John Doe, john@example.com, 0123456789, Standard Room, 2025-06-20, 2025-06-22
INFO 2025-06-12 23:06:20,868 dialog_manager Booking intent detected
INFO 2025-06-12 23:06:20,869 dialog_manager Detected intent: booking
INFO 2025-06-12 23:06:20,871 dialog_manager Extracted email: john@example.com
INFO 2025-06-12 23:06:20,872 dialog_manager Extracted phone: 0123456789
INFO 2025-06-12 23:06:20,873 dialog_manager Extracting dates from: John Doe, john@example.com, 0123456789, Standard Room, 2025-06-20, 2025-06-22
INFO 2025-06-12 23:06:20,873 dialog_manager Extracted YYYY/MM/DD date: 2025-06-20 00:00:00
INFO 2025-06-12 23:06:20,873 dialog_manager Extracted YYYY/MM/DD date: 2025-06-22 00:00:00
INFO 2025-06-12 23:06:20,873 dialog_manager Multiple date result: {'check_in': '2025-06-20', 'check_out': '2025-06-22'}
INFO 2025-06-12 23:06:20,873 dialog_manager Extracted room type: Standard
INFO 2025-06-12 23:06:20,874 dialog_manager Updated user data: {'username': 'testuser', 'is_returning_customer': False, 'user_id': 17, 'user': <User: testuser>, 'email': 'john@example.com', 'phone': '0123456789', 'check_in_date': '2025-06-20', 'check_out_date': '2025-06-22', 'room_type': 'Standard'}
INFO 2025-06-12 23:06:20,875 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'testuser', 'is_returning_customer': False, 'user_id': 17, 'user': <User: testuser>, 'email': 'john@example.com', 'phone': '0123456789', 'check_in_date': '2025-06-20', 'check_out_date': '2025-06-22', 'room_type': 'Standard'}
INFO 2025-06-12 23:06:20,875 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:06:20,875 views Updated user data: {'username': 'testuser', 'is_returning_customer': False, 'user_id': 17, 'user': <User: testuser>, 'email': 'john@example.com', 'phone': '0123456789', 'check_in_date': '2025-06-20', 'check_out_date': '2025-06-22', 'room_type': 'Standard'}
INFO 2025-06-12 23:06:20,875 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:06:20,875 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:06:21,236 middleware Admin user found: admin
ERROR 2025-06-12 23:06:21,258 exception Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
Traceback (most recent call last):
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_request(request)
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\middleware\common.py", line 48, in process_request
    host = request.get_host()
  File "C:\Users\NEW\AppData\Local\Programs\Python\Python310\lib\site-packages\django\http\request.py", line 186, in get_host
    raise DisallowedHost(msg)
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 'testserver'. You may need to add 'testserver' to ALLOWED_HOSTS.
WARNING 2025-06-12 23:06:21,343 log Bad Request: /hotel_booking/profile/
INFO 2025-06-12 23:07:34,685 models Booking saved: BK-12345 for John Doe
INFO 2025-06-12 23:07:34,692 models Booking saved: BK-67890 for Jane Smith
ERROR 2025-06-12 23:07:34,692 models Invalid booking dates for Bob Wilson: check-in 2025-06-05 is in the past
INFO 2025-06-12 23:08:12,854 models Booking saved: BK-12345 for John Doe
INFO 2025-06-12 23:08:12,859 models Booking saved: BK-67890 for Jane Smith
INFO 2025-06-12 23:08:12,866 models Booking saved: BK-11111 for Bob Wilson
INFO 2025-06-12 23:08:57,974 autoreload Watching for file changes with StatReloader
INFO 2025-06-12 23:09:06,181 middleware Admin user found: admin
INFO 2025-06-12 23:09:09,713 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-12 23:09:14,453 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12932
INFO 2025-06-12 23:09:19,146 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-12 23:09:20,020 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12450
INFO 2025-06-12 23:09:20,823 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-12 23:09:21,314 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12245
INFO 2025-06-12 23:09:22,445 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12932
INFO 2025-06-12 23:09:23,407 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12245
INFO 2025-06-12 23:09:23,888 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-12 23:09:24,353 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12450
INFO 2025-06-12 23:09:26,481 basehttp "GET /hotel_booking/book/1/ HTTP/1.1" 200 15672
INFO 2025-06-12 23:09:40,113 models Booking saved: 48 for Ting
INFO 2025-06-12 23:09:40,115 basehttp "POST /hotel_booking/book/1/ HTTP/1.1" 302 0
INFO 2025-06-12 23:09:40,129 basehttp "GET /hotel_booking/payment_qr/48/ HTTP/1.1" 200 11215
INFO 2025-06-12 23:09:40,161 basehttp "GET /media/payment/QR%20Bank.jpeg HTTP/1.1" 304 0
INFO 2025-06-12 23:09:45,163 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13921
INFO 2025-06-12 23:09:45,843 basehttp "GET /hotel_booking/booking_success/48/ HTTP/1.1" 200 11851
INFO 2025-06-12 23:09:49,021 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-12 23:09:50,924 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13921
INFO 2025-06-12 23:09:53,188 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-12 23:09:55,773 views Database connection successful
INFO 2025-06-12 23:09:55,775 views Received chat request at 2025-06-12 23:09:55.775686
DEBUG 2025-06-12 23:09:55,778 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:09:55,780 views Request body: {"message":"Hello","session":{}}
INFO 2025-06-12 23:09:55,782 views User input: Hello
INFO 2025-06-12 23:09:55,782 views Current session state: None
INFO 2025-06-12 23:09:55,783 views Current user data: None
INFO 2025-06-12 23:09:57,170 dialog_manager Using device: cpu
WARNING 2025-06-12 23:09:57,171 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:09:57,177 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:09:57,180 dialog_manager Processing message: Hello
INFO 2025-06-12 23:09:57,181 dialog_manager Processing input: Hello
INFO 2025-06-12 23:09:58,054 dialog_manager Using language: en
INFO 2025-06-12 23:09:58,055 dialog_manager Detecting intent for input: Hello
INFO 2025-06-12 23:09:58,084 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-12 23:09:58,084 dialog_manager Detected intent: greeting
INFO 2025-06-12 23:10:29,144 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-12 23:10:32,812 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-06-12 23:10:32,812 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-12 23:10:32,882 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-12 23:10:32,884 views Updated session state: greeting
INFO 2025-06-12 23:10:32,884 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-12 23:10:32,884 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-12 23:10:32,885 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:10:32,886 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:10:32,987 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 204
INFO 2025-06-12 23:10:43,651 views Database connection successful
INFO 2025-06-12 23:10:43,652 views Received chat request at 2025-06-12 23:10:43.652556
DEBUG 2025-06-12 23:10:43,652 views Request headers: {'Content-Length': '157', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:10:43,654 views Request body: {"message":"i want to booking room","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16},"state":"greeting","lang":"fi"}}
INFO 2025-06-12 23:10:43,656 views User input: i want to booking room
INFO 2025-06-12 23:10:43,657 views Current session state: greeting
INFO 2025-06-12 23:10:43,659 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16}
INFO 2025-06-12 23:10:44,315 dialog_manager Using device: cpu
WARNING 2025-06-12 23:10:44,315 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:10:44,318 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:10:44,321 dialog_manager Processing message: i want to booking room
INFO 2025-06-12 23:10:44,321 dialog_manager Processing input: i want to booking room
INFO 2025-06-12 23:10:44,324 dialog_manager Using language: fi
INFO 2025-06-12 23:10:44,324 dialog_manager Detecting intent for input: i want to booking room
INFO 2025-06-12 23:10:44,365 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-12 23:10:44,365 dialog_manager Detected intent: booking
INFO 2025-06-12 23:10:44,366 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-12 23:10:44,369 dialog_manager Extracting dates from: i want to booking room
WARNING 2025-06-12 23:10:44,370 dialog_manager No dates found
INFO 2025-06-12 23:10:44,373 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-12 23:10:44,373 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:10:44,374 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-12 23:10:44,435 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:10:44,436 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:10:44,440 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 255
INFO 2025-06-12 23:10:51,607 views Database connection successful
INFO 2025-06-12 23:10:51,608 views Received chat request at 2025-06-12 23:10:51.608673
DEBUG 2025-06-12 23:10:51,608 views Request headers: {'Content-Length': '154', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:10:51,609 views Request body: {"message":"Lily","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-12 23:10:51,609 views User input: Lily
INFO 2025-06-12 23:10:51,609 views Current session state: collecting_booking_info
INFO 2025-06-12 23:10:51,610 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16}
INFO 2025-06-12 23:10:52,127 dialog_manager Using device: cpu
WARNING 2025-06-12 23:10:52,128 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:10:52,129 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:10:52,129 dialog_manager Processing message: Lily
INFO 2025-06-12 23:10:52,130 dialog_manager Processing input: Lily
INFO 2025-06-12 23:10:52,130 dialog_manager Using language: fi
INFO 2025-06-12 23:10:52,131 dialog_manager Detecting intent for input: Lily
INFO 2025-06-12 23:10:52,137 dialog_manager Detected intent: unknown
INFO 2025-06-12 23:10:52,140 dialog_manager Extracted name: Lily
INFO 2025-06-12 23:10:52,140 dialog_manager Extracting dates from: Lily
WARNING 2025-06-12 23:10:52,141 dialog_manager No dates found
INFO 2025-06-12 23:10:52,141 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>, 'guest_name': 'Lily'}
INFO 2025-06-12 23:10:52,142 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>, 'guest_name': 'Lily'}
INFO 2025-06-12 23:10:52,142 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:10:52,143 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'user': <SimpleLazyObject: <User: Huiseng>>, 'guest_name': 'Lily'}
INFO 2025-06-12 23:10:52,151 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:10:52,152 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:10:52,154 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 279
INFO 2025-06-12 23:10:58,020 views Database connection successful
INFO 2025-06-12 23:10:58,020 views Received chat request at 2025-06-12 23:10:58.020909
DEBUG 2025-06-12 23:10:58,022 views Request headers: {'Content-Length': '180', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:10:58,023 views Request body: {"message":"0108083903","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-12 23:10:58,023 views User input: 0108083903
INFO 2025-06-12 23:10:58,024 views Current session state: collecting_booking_info
INFO 2025-06-12 23:10:58,025 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily'}
INFO 2025-06-12 23:10:58,539 dialog_manager Using device: cpu
WARNING 2025-06-12 23:10:58,540 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:10:58,541 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:10:58,542 dialog_manager Processing message: 0108083903
INFO 2025-06-12 23:10:58,542 dialog_manager Processing input: 0108083903
INFO 2025-06-12 23:10:58,543 dialog_manager Using language: fi
INFO 2025-06-12 23:10:58,543 dialog_manager Detecting intent for input: 0108083903
INFO 2025-06-12 23:10:58,543 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-12 23:10:58,543 dialog_manager Detected intent: invalid_input
INFO 2025-06-12 23:10:58,543 dialog_manager Extracted standalone phone: 0108083903
INFO 2025-06-12 23:10:58,543 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'user': <SimpleLazyObject: <User: Huiseng>>, 'phone': '0108083903'}
INFO 2025-06-12 23:10:58,547 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'user': <SimpleLazyObject: <User: Huiseng>>, 'phone': '0108083903'}
INFO 2025-06-12 23:10:58,547 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:10:58,547 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'user': <SimpleLazyObject: <User: Huiseng>>, 'phone': '0108083903'}
INFO 2025-06-12 23:10:58,552 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:10:58,553 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:10:58,553 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 299
INFO 2025-06-12 23:11:49,934 views Database connection successful
INFO 2025-06-12 23:11:49,935 views Received chat request at 2025-06-12 23:11:49.935450
DEBUG 2025-06-12 23:11:49,936 views Request headers: {'Content-Length': '215', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:11:49,938 views Request body: {"message":"goldenwong3903@gmail.com","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-12 23:11:49,938 views User input: goldenwong3903@gmail.com
INFO 2025-06-12 23:11:49,938 views Current session state: collecting_booking_info
INFO 2025-06-12 23:11:49,941 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903'}
INFO 2025-06-12 23:11:50,356 dialog_manager Using device: cpu
WARNING 2025-06-12 23:11:50,356 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:11:50,358 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:11:50,358 dialog_manager Processing message: goldenwong3903@gmail.com
INFO 2025-06-12 23:11:50,358 dialog_manager Processing input: goldenwong3903@gmail.com
INFO 2025-06-12 23:11:50,364 dialog_manager Using language: fi
INFO 2025-06-12 23:11:50,364 dialog_manager Detecting intent for input: goldenwong3903@gmail.com
INFO 2025-06-12 23:11:50,371 dialog_manager Detected intent: unknown
INFO 2025-06-12 23:11:50,371 dialog_manager Extracted standalone email: goldenwong3903@gmail.com
INFO 2025-06-12 23:11:50,371 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'user': <SimpleLazyObject: <User: Huiseng>>, 'email': 'goldenwong3903@gmail.com'}
INFO 2025-06-12 23:11:50,374 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'user': <SimpleLazyObject: <User: Huiseng>>, 'email': 'goldenwong3903@gmail.com'}
INFO 2025-06-12 23:11:50,374 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:11:50,374 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'user': <SimpleLazyObject: <User: Huiseng>>, 'email': 'goldenwong3903@gmail.com'}
INFO 2025-06-12 23:11:50,385 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:11:50,385 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:11:50,388 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 756
INFO 2025-06-12 23:12:03,247 views Database connection successful
INFO 2025-06-12 23:12:03,247 views Received chat request at 2025-06-12 23:12:03.247658
DEBUG 2025-06-12 23:12:03,247 views Request headers: {'Content-Length': '234', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:03,247 views Request body: {"message":"standard","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903","email":"goldenwong3903@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-12 23:12:03,255 views User input: standard
INFO 2025-06-12 23:12:03,255 views Current session state: collecting_booking_info
INFO 2025-06-12 23:12:03,257 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com'}
INFO 2025-06-12 23:12:03,670 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:03,672 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:03,672 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:03,672 dialog_manager Processing message: standard
INFO 2025-06-12 23:12:03,672 dialog_manager Processing input: standard
INFO 2025-06-12 23:12:03,672 dialog_manager Using language: fi
INFO 2025-06-12 23:12:03,672 dialog_manager Detecting intent for input: standard
INFO 2025-06-12 23:12:03,672 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-12 23:12:03,672 dialog_manager Detected intent: invalid_input
INFO 2025-06-12 23:12:03,672 dialog_manager Extracting dates from: standard
WARNING 2025-06-12 23:12:03,672 dialog_manager No dates found
INFO 2025-06-12 23:12:03,672 dialog_manager Extracted room type: Standard
INFO 2025-06-12 23:12:03,672 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'user': <SimpleLazyObject: <User: Huiseng>>, 'room_type': 'Standard'}
INFO 2025-06-12 23:12:03,672 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'user': <SimpleLazyObject: <User: Huiseng>>, 'room_type': 'Standard'}
INFO 2025-06-12 23:12:03,678 views Updated session state: collecting_booking_info
INFO 2025-06-12 23:12:03,678 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'user': <SimpleLazyObject: <User: Huiseng>>, 'room_type': 'Standard'}
INFO 2025-06-12 23:12:03,686 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:03,687 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:12:03,693 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 408
INFO 2025-06-12 23:12:09,246 views Database connection successful
INFO 2025-06-12 23:12:09,248 views Received chat request at 2025-06-12 23:12:09.248732
DEBUG 2025-06-12 23:12:09,250 views Request headers: {'Content-Length': '261', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:09,251 views Request body: {"message":"next tuesday","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903","email":"goldenwong3903@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-12 23:12:09,253 views User input: next tuesday
INFO 2025-06-12 23:12:09,253 views Current session state: collecting_booking_info
INFO 2025-06-12 23:12:09,255 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-12 23:12:09,667 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:09,667 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:09,667 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:09,667 dialog_manager Processing message: next tuesday
INFO 2025-06-12 23:12:09,667 dialog_manager Processing input: next tuesday
INFO 2025-06-12 23:12:09,667 dialog_manager Using language: fi
INFO 2025-06-12 23:12:09,667 dialog_manager Detecting intent for input: next tuesday
INFO 2025-06-12 23:12:09,688 dialog_manager Detected intent: unknown
INFO 2025-06-12 23:12:09,690 dialog_manager Extracting dates from: next tuesday
INFO 2025-06-12 23:12:09,691 dialog_manager Extracted 'next tuesday' date: 2025-06-17 23:12:09.691604
INFO 2025-06-12 23:12:09,691 dialog_manager Single date result: {'check_in': '2025-06-17', 'check_out': '2025-06-18'}
INFO 2025-06-12 23:12:09,691 dialog_manager Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: Huiseng>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18'}
INFO 2025-06-12 23:12:09,704 models Booking saved: BK-14642 for Lily
INFO 2025-06-12 23:12:09,705 dialog_manager Booking created successfully: ID=49, Booking_ID=BK-14642
INFO 2025-06-12 23:12:09,705 dialog_manager Booking record created successfully: BK-14642
INFO 2025-06-12 23:12:09,707 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: Huiseng>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642'}
INFO 2025-06-12 23:12:09,707 views Updated session state: offering_addons
INFO 2025-06-12 23:12:09,707 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: Huiseng>>, 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642'}
INFO 2025-06-12 23:12:09,708 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-12 23:12:09,708 views Booking confirmation check - State: offering_addons, Booking ID: BK-14642, Previous ID: BK-14642, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:09,709 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:12:09,709 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1258
INFO 2025-06-12 23:12:27,588 views Database connection successful
INFO 2025-06-12 23:12:27,589 views Received chat request at 2025-06-12 23:12:27.589204
DEBUG 2025-06-12 23:12:27,589 views Request headers: {'Content-Length': '333', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:27,590 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-14642"},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-12 23:12:27,590 views User input: breakfast
INFO 2025-06-12 23:12:27,590 views Current session state: offering_addons
INFO 2025-06-12 23:12:27,590 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642'}
INFO 2025-06-12 23:12:27,996 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:27,996 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:28,000 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:28,002 dialog_manager Processing message: breakfast
INFO 2025-06-12 23:12:28,002 dialog_manager Processing input: breakfast
INFO 2025-06-12 23:12:28,002 dialog_manager Using language: fi
INFO 2025-06-12 23:12:28,002 dialog_manager Detecting intent for input: breakfast
INFO 2025-06-12 23:12:28,002 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-12 23:12:28,002 dialog_manager Detected intent: invalid_input
INFO 2025-06-12 23:12:28,009 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'user': <SimpleLazyObject: <User: Huiseng>>, 'addon_selections': ['breakfast']}
INFO 2025-06-12 23:12:28,009 views Updated session state: collecting_breakfast_count
INFO 2025-06-12 23:12:28,010 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'user': <SimpleLazyObject: <User: Huiseng>>, 'addon_selections': ['breakfast']}
INFO 2025-06-12 23:12:28,011 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-06-12 23:12:28,011 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-14642, Previous ID: BK-14642, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:28,011 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:12:28,011 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 480
INFO 2025-06-12 23:12:31,260 views Database connection successful
INFO 2025-06-12 23:12:31,261 views Received chat request at 2025-06-12 23:12:31.261031
DEBUG 2025-06-12 23:12:31,261 views Request headers: {'Content-Length': '369', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:31,261 views Request body: {"message":"2","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-14642","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"fi"}}
INFO 2025-06-12 23:12:31,261 views User input: 2
INFO 2025-06-12 23:12:31,261 views Current session state: collecting_breakfast_count
INFO 2025-06-12 23:12:31,265 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast']}
INFO 2025-06-12 23:12:31,676 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:31,676 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:31,676 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:31,680 dialog_manager Processing message: 2
INFO 2025-06-12 23:12:31,681 dialog_manager Processing input: 2
INFO 2025-06-12 23:12:31,681 dialog_manager Using language: fi
INFO 2025-06-12 23:12:31,681 dialog_manager Detecting intent for input: 2
INFO 2025-06-12 23:12:31,690 dialog_manager Detected intent: unknown
INFO 2025-06-12 23:12:31,690 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: Huiseng>>, 'breakfast_count': 2}
INFO 2025-06-12 23:12:31,692 views Updated session state: confirming_breakfast
INFO 2025-06-12 23:12:31,692 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: Huiseng>>, 'breakfast_count': 2}
INFO 2025-06-12 23:12:31,692 views Generated response: OK, add breakfast for 2 guest(s), a total of RM40.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-06-12 23:12:31,692 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-14642, Previous ID: BK-14642, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:31,693 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:12:31,696 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 511
INFO 2025-06-12 23:12:34,268 views Database connection successful
INFO 2025-06-12 23:12:34,269 views Received chat request at 2025-06-12 23:12:34.269477
DEBUG 2025-06-12 23:12:34,270 views Request headers: {'Content-Length': '384', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:34,271 views Request body: {"message":"A.","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-14642","addon_selections":["breakfast"],"breakfast_count":2},"state":"confirming_breakfast","lang":"fi"}}
INFO 2025-06-12 23:12:34,272 views User input: A.
INFO 2025-06-12 23:12:34,273 views Current session state: confirming_breakfast
INFO 2025-06-12 23:12:34,273 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast'], 'breakfast_count': 2}
INFO 2025-06-12 23:12:34,689 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:34,689 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:34,689 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:34,689 dialog_manager Processing message: A.
INFO 2025-06-12 23:12:34,689 dialog_manager Processing input: A.
INFO 2025-06-12 23:12:34,689 dialog_manager Using language: fi
INFO 2025-06-12 23:12:34,689 dialog_manager Detecting intent for input: A.
INFO 2025-06-12 23:12:34,702 dialog_manager Detected intent: unknown
INFO 2025-06-12 23:12:34,702 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast'], 'breakfast_count': 2, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-12 23:12:34,702 views Updated session state: confirming_breakfast
INFO 2025-06-12 23:12:34,703 views Updated user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast'], 'breakfast_count': 2, 'user': <SimpleLazyObject: <User: Huiseng>>}
INFO 2025-06-12 23:12:34,703 views Generated response: Please reply 'Yes' (or A) to confirm the breakfast booking or 'No' (or B) to cancel.
INFO 2025-06-12 23:12:34,703 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-14642, Previous ID: BK-14642, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:34,705 views Removed User object from session for JSON serialization
INFO 2025-06-12 23:12:34,707 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 497
INFO 2025-06-12 23:12:40,303 views Database connection successful
INFO 2025-06-12 23:12:40,303 views Received chat request at 2025-06-12 23:12:40.303494
DEBUG 2025-06-12 23:12:40,303 views Request headers: {'Content-Length': '383', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:40,303 views Request body: {"message":"A","session":{"user_data":{"username":"Huiseng","is_returning_customer":false,"user_id":16,"guest_name":"Lily","phone":"0108083903","email":"goldenwong3903@gmail.com","room_type":"Standard","check_in_date":"2025-06-17","check_out_date":"2025-06-18","booking_id":"BK-14642","addon_selections":["breakfast"],"breakfast_count":2},"state":"confirming_breakfast","lang":"fi"}}
INFO 2025-06-12 23:12:40,303 views User input: A
INFO 2025-06-12 23:12:40,303 views Current session state: confirming_breakfast
INFO 2025-06-12 23:12:40,303 views Current user data: {'username': 'Huiseng', 'is_returning_customer': False, 'user_id': 16, 'guest_name': 'Lily', 'phone': '0108083903', 'email': 'goldenwong3903@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-06-17', 'check_out_date': '2025-06-18', 'booking_id': 'BK-14642', 'addon_selections': ['breakfast'], 'breakfast_count': 2}
INFO 2025-06-12 23:12:40,716 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:40,716 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:40,716 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:40,716 dialog_manager Processing message: A
INFO 2025-06-12 23:12:40,716 dialog_manager Processing input: A
INFO 2025-06-12 23:12:40,716 dialog_manager Using language: fi
INFO 2025-06-12 23:12:40,716 dialog_manager Detecting intent for input: A
INFO 2025-06-12 23:12:40,731 dialog_manager Detected intent: unknown
INFO 2025-06-12 23:12:40,732 dialog_manager Addon created successfully: Breakfast for 2 people - RM20
INFO 2025-06-12 23:12:40,732 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-12 23:12:40,732 views Updated session state: greeting
INFO 2025-06-12 23:12:40,738 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-12 23:12:40,738 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-06-12 23:12:40,738 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:40,743 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-06-12 23:12:43,988 views Database connection successful
INFO 2025-06-12 23:12:43,988 views Received chat request at 2025-06-12 23:12:43.988627
DEBUG 2025-06-12 23:12:43,988 views Request headers: {'Content-Length': '108', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:43,993 views Request body: {"message":"BK-14642","session":{"user_data":{"is_returning_customer":true},"state":"greeting","lang":"fi"}}
INFO 2025-06-12 23:12:43,993 views User input: BK-14642
INFO 2025-06-12 23:12:43,996 views Current session state: greeting
INFO 2025-06-12 23:12:43,996 views Current user data: {'is_returning_customer': True}
INFO 2025-06-12 23:12:44,405 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:44,405 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:44,405 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:44,405 dialog_manager Processing message: BK-14642
INFO 2025-06-12 23:12:44,405 dialog_manager Processing input: BK-14642
INFO 2025-06-12 23:12:44,405 dialog_manager Using language: fi
INFO 2025-06-12 23:12:44,405 dialog_manager Detecting intent for input: BK-14642
INFO 2025-06-12 23:12:44,405 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-12 23:12:44,405 dialog_manager Detected intent: invalid_input
INFO 2025-06-12 23:12:44,423 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 49, 'booking_id': 'BK-14642', 'guest_name': 'Lily', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-12 23:12:44,424 views Updated session state: greeting
INFO 2025-06-12 23:12:44,425 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 49, 'booking_id': 'BK-14642', 'guest_name': 'Lily', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-12 23:12:44,432 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:44,434 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 875
INFO 2025-06-12 23:12:46,591 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 14907
INFO 2025-06-12 23:12:51,081 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17288
INFO 2025-06-12 23:12:52,510 views Database connection successful
INFO 2025-06-12 23:12:52,510 views Received chat request at 2025-06-12 23:12:52.510591
DEBUG 2025-06-12 23:12:52,515 views Request headers: {'Content-Length': '35', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=J0D3dwKncNiaiplBSS0iJzjxf49PmO0Z; sessionid=uya7meb0pyn31rjc725i96nlcv1tis3r'}
DEBUG 2025-06-12 23:12:52,516 views Request body: {"message":"BK-14642","session":{}}
INFO 2025-06-12 23:12:52,518 views User input: BK-14642
INFO 2025-06-12 23:12:52,520 views Current session state: None
INFO 2025-06-12 23:12:52,521 views Current user data: None
INFO 2025-06-12 23:12:52,938 dialog_manager Using device: cpu
WARNING 2025-06-12 23:12:52,938 dialog_manager Using basic NLP functionality only
INFO 2025-06-12 23:12:52,938 dialog_manager DialogManager initialized successfully
INFO 2025-06-12 23:12:52,938 dialog_manager Processing message: BK-14642
INFO 2025-06-12 23:12:52,943 dialog_manager Processing input: BK-14642
INFO 2025-06-12 23:12:52,957 dialog_manager Using language: en
INFO 2025-06-12 23:12:52,958 dialog_manager Detecting intent for input: BK-14642
INFO 2025-06-12 23:12:52,958 dialog_manager Invalid input detected: mixed_random_short
INFO 2025-06-12 23:12:52,958 dialog_manager Detected intent: invalid_input
INFO 2025-06-12 23:12:52,972 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 49, 'booking_id': 'BK-14642', 'guest_name': 'Lily', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-12 23:12:52,972 views Updated session state: greeting
INFO 2025-06-12 23:12:52,972 views Updated user data: {'is_returning_customer': True, 'last_viewed_booking': {'id': 49, 'booking_id': 'BK-14642', 'guest_name': 'Lily', 'room_name': 'Standard Room', 'check_in_date': datetime.date(2025, 6, 17), 'check_out_date': datetime.date(2025, 6, 18), 'status': 'confirmed'}}
INFO 2025-06-12 23:12:52,986 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-12 23:12:52,989 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 875
INFO 2025-06-12 23:12:57,493 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 14907
INFO 2025-06-12 23:15:17,415 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-15 15:49:07,061 autoreload Watching for file changes with StatReloader
INFO 2025-06-15 15:49:47,732 middleware Admin user found: admin
INFO 2025-06-15 15:50:33,161 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25389
INFO 2025-06-15 15:50:33,231 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-15 15:50:33,250 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-15 15:50:33,254 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-06-15 15:50:33,523 log Not Found: /favicon.ico
WARNING 2025-06-15 15:50:33,524 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-15 15:50:37,050 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-15 15:50:37,085 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
INFO 2025-06-15 15:50:56,276 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-15 15:51:05,088 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-15 15:51:18,059 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-15 15:51:39,599 basehttp "POST /hotel_booking/login/ HTTP/1.1" 302 0
INFO 2025-06-15 15:51:39,611 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25666
INFO 2025-06-15 15:51:41,414 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12446
INFO 2025-06-15 15:51:42,135 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-15 15:51:49,089 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12446
INFO 2025-06-15 15:51:56,745 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12924
INFO 2025-06-15 15:51:57,926 basehttp "GET /hotel_booking/edit_profile/ HTTP/1.1" 200 12408
INFO 2025-06-15 15:52:02,672 basehttp "POST /hotel_booking/edit_profile/ HTTP/1.1" 302 0
INFO 2025-06-15 15:52:02,685 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13012
INFO 2025-06-15 15:52:02,895 basehttp "GET /media/profile_pictures/Acer_Wallpaper_04_3840x2400_DSKLQwJ.jpg HTTP/1.1" 200 4065253
INFO 2025-06-15 15:52:11,977 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12651
INFO 2025-06-15 15:52:21,925 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12241
INFO 2025-06-17 11:41:43,914 autoreload Watching for file changes with StatReloader
INFO 2025-06-17 11:42:08,241 middleware Admin user found: admin
INFO 2025-06-17 11:42:18,323 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25385
INFO 2025-06-17 11:42:18,362 basehttp "GET /media/room_images/11FWH-Deluxe-room-1400_6cYRY1C.jpg HTTP/1.1" 304 0
INFO 2025-06-17 11:42:18,362 basehttp "GET /media/room_images/11FWH-Superior-deluxe-1400_rGOG3Em.jpg HTTP/1.1" 304 0
INFO 2025-06-17 11:42:18,373 basehttp "GET /media/room_images/1400x680-FWH-Standard-Room-MYB_wbBJYCp_swnjHK0.jpg HTTP/1.1" 304 0
WARNING 2025-06-17 11:42:18,860 log Not Found: /favicon.ico
WARNING 2025-06-17 11:42:18,862 basehttp "GET /favicon.ico HTTP/1.1" 404 2847
INFO 2025-06-17 11:42:22,513 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17284
INFO 2025-06-17 11:42:29,660 views Database connection successful
INFO 2025-06-17 11:42:29,660 views Received chat request at 2025-06-17 11:42:29.660194
DEBUG 2025-06-17 11:42:29,660 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:42:29,660 views Request body: {"message":"Hello","session":{}}
INFO 2025-06-17 11:42:29,660 views User input: Hello
INFO 2025-06-17 11:42:29,660 views Current session state: None
INFO 2025-06-17 11:42:29,660 views Current user data: None
INFO 2025-06-17 11:42:31,137 dialog_manager Using device: cpu
WARNING 2025-06-17 11:42:31,137 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:42:31,147 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:42:31,155 dialog_manager Processing message: Hello
INFO 2025-06-17 11:42:31,157 dialog_manager Processing input: Hello
INFO 2025-06-17 11:42:32,036 dialog_manager Using language: en
INFO 2025-06-17 11:42:32,036 dialog_manager Detecting intent for input: Hello
INFO 2025-06-17 11:42:32,087 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-17 11:42:32,087 dialog_manager Detected intent: greeting
INFO 2025-06-17 11:43:00,817 dialog_manager Sentiment analysis: Neutral (confidence: 0.56)
INFO 2025-06-17 11:43:00,817 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-17 11:43:00,882 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-17 11:43:00,882 views Updated session state: greeting
INFO 2025-06-17 11:43:00,882 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-17 11:43:00,882 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-17 11:43:00,882 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:00,882 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:00,980 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 199
INFO 2025-06-17 11:43:07,335 views Database connection successful
INFO 2025-06-17 11:43:07,338 views Received chat request at 2025-06-17 11:43:07.338830
DEBUG 2025-06-17 11:43:07,341 views Request headers: {'Content-Length': '149', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:43:07,341 views Request body: {"message":"i want booking room","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"greeting","lang":"fi"}}
INFO 2025-06-17 11:43:07,344 views User input: i want booking room
INFO 2025-06-17 11:43:07,346 views Current session state: greeting
INFO 2025-06-17 11:43:07,347 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-17 11:43:08,005 dialog_manager Using device: cpu
WARNING 2025-06-17 11:43:08,005 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:43:08,016 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:43:08,021 dialog_manager Processing message: i want booking room
INFO 2025-06-17 11:43:08,021 dialog_manager Processing input: i want booking room
INFO 2025-06-17 11:43:08,024 dialog_manager Using language: fi
INFO 2025-06-17 11:43:08,024 dialog_manager Detecting intent for input: i want booking room
INFO 2025-06-17 11:43:08,032 dialog_manager Booking intent detected
INFO 2025-06-17 11:43:08,032 dialog_manager Detected intent: booking
INFO 2025-06-17 11:43:08,036 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-17 11:43:08,042 dialog_manager Extracting dates from: i want booking room
WARNING 2025-06-17 11:43:08,042 dialog_manager No dates found
INFO 2025-06-17 11:43:08,045 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-17 11:43:08,045 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:43:08,045 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>}
INFO 2025-06-17 11:43:08,124 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:08,124 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:08,138 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 250
INFO 2025-06-17 11:43:13,825 views Database connection successful
INFO 2025-06-17 11:43:13,825 views Received chat request at 2025-06-17 11:43:13.825141
DEBUG 2025-06-17 11:43:13,828 views Request headers: {'Content-Length': '147', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:43:13,829 views Request body: {"message":"cc","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-17 11:43:13,830 views User input: cc
INFO 2025-06-17 11:43:13,831 views Current session state: collecting_booking_info
INFO 2025-06-17 11:43:13,831 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7}
INFO 2025-06-17 11:43:14,915 dialog_manager Using device: cpu
WARNING 2025-06-17 11:43:14,917 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:43:14,917 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:43:14,917 dialog_manager Processing message: cc
INFO 2025-06-17 11:43:14,917 dialog_manager Processing input: cc
INFO 2025-06-17 11:43:14,917 dialog_manager Using language: fi
INFO 2025-06-17 11:43:14,917 dialog_manager Detecting intent for input: cc
INFO 2025-06-17 11:43:14,934 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:43:14,941 dialog_manager Extracted name: cc
INFO 2025-06-17 11:43:14,943 dialog_manager Extracting dates from: cc
WARNING 2025-06-17 11:43:14,943 dialog_manager No dates found
INFO 2025-06-17 11:43:14,945 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'cc'}
INFO 2025-06-17 11:43:14,947 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'cc'}
INFO 2025-06-17 11:43:14,949 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:43:14,951 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'user': <SimpleLazyObject: <User: TLS>>, 'guest_name': 'cc'}
INFO 2025-06-17 11:43:14,977 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:14,977 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:14,991 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 270
INFO 2025-06-17 11:43:19,118 views Database connection successful
INFO 2025-06-17 11:43:19,118 views Received chat request at 2025-06-17 11:43:19.118055
DEBUG 2025-06-17 11:43:19,118 views Request headers: {'Content-Length': '174', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:43:19,122 views Request body: {"message":"01158763903","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"cc"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-17 11:43:19,122 views User input: 01158763903
INFO 2025-06-17 11:43:19,123 views Current session state: collecting_booking_info
INFO 2025-06-17 11:43:19,123 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc'}
INFO 2025-06-17 11:43:20,155 dialog_manager Using device: cpu
WARNING 2025-06-17 11:43:20,155 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:43:20,155 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:43:20,155 dialog_manager Processing message: 01158763903
INFO 2025-06-17 11:43:20,155 dialog_manager Processing input: 01158763903
INFO 2025-06-17 11:43:20,161 dialog_manager Using language: fi
INFO 2025-06-17 11:43:20,162 dialog_manager Detecting intent for input: 01158763903
INFO 2025-06-17 11:43:20,163 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-17 11:43:20,164 dialog_manager Detected intent: invalid_input
INFO 2025-06-17 11:43:20,165 dialog_manager Extracted standalone phone: 01158763903
INFO 2025-06-17 11:43:20,165 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-17 11:43:20,165 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-17 11:43:20,165 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:43:20,168 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'user': <SimpleLazyObject: <User: TLS>>, 'phone': '01158763903'}
INFO 2025-06-17 11:43:20,185 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:20,185 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:20,190 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 291
INFO 2025-06-17 11:43:25,670 views Database connection successful
INFO 2025-06-17 11:43:25,670 views Received chat request at 2025-06-17 11:43:25.670590
DEBUG 2025-06-17 11:43:25,673 views Request headers: {'Content-Length': '205', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:43:25,675 views Request body: {"message":"golden3903@gmail.com","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"cc","phone":"01158763903"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-17 11:43:25,675 views User input: golden3903@gmail.com
INFO 2025-06-17 11:43:25,675 views Current session state: collecting_booking_info
INFO 2025-06-17 11:43:25,675 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903'}
INFO 2025-06-17 11:43:26,848 dialog_manager Using device: cpu
WARNING 2025-06-17 11:43:26,848 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:43:26,848 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:43:26,856 dialog_manager Processing message: golden3903@gmail.com
INFO 2025-06-17 11:43:26,856 dialog_manager Processing input: golden3903@gmail.com
INFO 2025-06-17 11:43:26,856 dialog_manager Using language: fi
INFO 2025-06-17 11:43:26,862 dialog_manager Detecting intent for input: golden3903@gmail.com
INFO 2025-06-17 11:43:26,873 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:43:26,879 dialog_manager Extracted standalone email: golden3903@gmail.com
INFO 2025-06-17 11:43:26,881 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-17 11:43:26,883 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-17 11:43:26,883 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:43:26,883 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'user': <SimpleLazyObject: <User: TLS>>, 'email': 'golden3903@gmail.com'}
INFO 2025-06-17 11:43:26,904 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:26,904 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:26,909 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 744
INFO 2025-06-17 11:43:30,798 views Database connection successful
INFO 2025-06-17 11:43:30,798 views Received chat request at 2025-06-17 11:43:30.798308
DEBUG 2025-06-17 11:43:30,798 views Request headers: {'Content-Length': '222', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:43:30,798 views Request body: {"message":"deluxe","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"cc","phone":"01158763903","email":"golden3903@gmail.com"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-17 11:43:30,798 views User input: deluxe
INFO 2025-06-17 11:43:30,803 views Current session state: collecting_booking_info
INFO 2025-06-17 11:43:30,803 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com'}
INFO 2025-06-17 11:43:31,852 dialog_manager Using device: cpu
WARNING 2025-06-17 11:43:31,852 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:43:31,852 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:43:31,852 dialog_manager Processing message: deluxe
INFO 2025-06-17 11:43:31,852 dialog_manager Processing input: deluxe
INFO 2025-06-17 11:43:31,852 dialog_manager Using language: fi
INFO 2025-06-17 11:43:31,864 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-17 11:43:31,870 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:43:31,870 dialog_manager Extracting dates from: deluxe
WARNING 2025-06-17 11:43:31,879 dialog_manager No dates found
INFO 2025-06-17 11:43:31,879 dialog_manager Extracted room type: Deluxe
INFO 2025-06-17 11:43:31,879 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-17 11:43:31,879 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-17 11:43:31,879 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:43:31,879 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'user': <SimpleLazyObject: <User: TLS>>, 'room_type': 'Deluxe'}
INFO 2025-06-17 11:43:31,896 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:31,898 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:31,899 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 394
INFO 2025-06-17 11:43:39,140 views Database connection successful
INFO 2025-06-17 11:43:39,147 views Received chat request at 2025-06-17 11:43:39.147879
DEBUG 2025-06-17 11:43:39,148 views Request headers: {'Content-Length': '248', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:43:39,148 views Request body: {"message":"next monday","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"cc","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"fi"}}
INFO 2025-06-17 11:43:39,148 views User input: next monday
INFO 2025-06-17 11:43:39,148 views Current session state: collecting_booking_info
INFO 2025-06-17 11:43:39,154 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-06-17 11:43:40,104 dialog_manager Using device: cpu
WARNING 2025-06-17 11:43:40,104 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:43:40,104 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:43:40,112 dialog_manager Processing message: next monday
INFO 2025-06-17 11:43:40,112 dialog_manager Processing input: next monday
INFO 2025-06-17 11:43:40,116 dialog_manager Using language: fi
INFO 2025-06-17 11:43:40,118 dialog_manager Detecting intent for input: next monday
INFO 2025-06-17 11:43:40,135 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:43:40,136 dialog_manager Extracting dates from: next monday
INFO 2025-06-17 11:43:40,136 dialog_manager Extracted 'next monday' date: 2025-06-23 11:43:40.136807
INFO 2025-06-17 11:43:40,136 dialog_manager Single date result: {'check_in': '2025-06-23', 'check_out': '2025-06-24'}
INFO 2025-06-17 11:43:40,136 dialog_manager Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-23', 'check_out_date': '2025-06-24'}
INFO 2025-06-17 11:43:40,162 models Booking saved: BK-36521 for cc
INFO 2025-06-17 11:43:40,162 dialog_manager Booking created successfully: ID=50, Booking_ID=BK-36521
INFO 2025-06-17 11:43:40,164 dialog_manager Booking record created successfully: BK-36521
INFO 2025-06-17 11:43:40,165 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-23', 'check_out_date': '2025-06-24', 'booking_id': 'BK-36521'}
INFO 2025-06-17 11:43:40,165 views Updated session state: offering_addons
INFO 2025-06-17 11:43:40,165 views Updated user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: TLS>>, 'check_in_date': '2025-06-23', 'check_out_date': '2025-06-24', 'booking_id': 'BK-36521'}
INFO 2025-06-17 11:43:40,169 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-17 11:43:40,169 views Booking confirmation check - State: offering_addons, Booking ID: BK-36521, Previous ID: BK-36521, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:43:40,169 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:43:40,173 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1239
INFO 2025-06-17 11:43:40,186 basehttp "GET /media/payment/QR%20Bank.jpeg HTTP/1.1" 304 0
INFO 2025-06-17 11:44:06,844 views Database connection successful
INFO 2025-06-17 11:44:06,844 views Received chat request at 2025-06-17 11:44:06.844531
DEBUG 2025-06-17 11:44:06,844 views Request headers: {'Content-Length': '321', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': '11kBn82iZlkglWBUiYdy474TiFYDxafo', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=11kBn82iZlkglWBUiYdy474TiFYDxafo; sessionid=njgnx3d5r1f02658et6e8wojs2hcwt20'}
DEBUG 2025-06-17 11:44:06,844 views Request body: {"message":"no thanks","session":{"user_data":{"username":"TLS","is_returning_customer":false,"user_id":7,"guest_name":"cc","phone":"01158763903","email":"golden3903@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-23","check_out_date":"2025-06-24","booking_id":"BK-36521"},"state":"offering_addons","lang":"fi"}}
INFO 2025-06-17 11:44:06,844 views User input: no thanks
INFO 2025-06-17 11:44:06,844 views Current session state: offering_addons
INFO 2025-06-17 11:44:06,851 views Current user data: {'username': 'TLS', 'is_returning_customer': False, 'user_id': 7, 'guest_name': 'cc', 'phone': '01158763903', 'email': 'golden3903@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-23', 'check_out_date': '2025-06-24', 'booking_id': 'BK-36521'}
INFO 2025-06-17 11:44:07,859 dialog_manager Using device: cpu
WARNING 2025-06-17 11:44:07,859 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:44:07,861 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:44:07,865 dialog_manager Processing message: no thanks
INFO 2025-06-17 11:44:07,865 dialog_manager Processing input: no thanks
INFO 2025-06-17 11:44:07,867 dialog_manager Using language: fi
INFO 2025-06-17 11:44:07,868 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-17 11:44:07,886 dialog_manager Gratitude intent detected
INFO 2025-06-17 11:44:07,889 dialog_manager Detected intent: express_gratitude
INFO 2025-06-17 11:44:07,891 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-17 11:44:07,892 views Updated session state: greeting
INFO 2025-06-17 11:44:07,893 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-17 11:44:07,893 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-17 11:44:07,893 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:44:07,901 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-17 11:47:45,896 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 13996
INFO 2025-06-17 11:47:45,930 basehttp "GET /media/profile_pictures/Acer_Wallpaper_04_3840x2400_DSKLQwJ.jpg HTTP/1.1" 304 0
INFO 2025-06-17 11:47:54,593 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25385
INFO 2025-06-17 11:47:58,795 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12446
INFO 2025-06-17 11:48:09,011 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 12241
INFO 2025-06-17 11:48:10,813 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-17 11:48:10,829 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
INFO 2025-06-17 11:48:52,625 basehttp "GET /hotel_booking/login/ HTTP/1.1" 200 10561
INFO 2025-06-17 11:48:55,511 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-17 11:49:11,358 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12018
INFO 2025-06-17 11:49:37,343 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-17 11:52:25,415 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12018
INFO 2025-06-17 11:52:32,386 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24957
INFO 2025-06-17 11:52:39,237 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12018
INFO 2025-06-17 11:52:46,363 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24957
INFO 2025-06-17 11:52:56,946 basehttp "GET /hotel_booking/contact/ HTTP/1.1" 200 11813
INFO 2025-06-17 11:53:58,481 basehttp "GET /hotel_booking/ HTTP/1.1" 200 24957
INFO 2025-06-17 11:55:08,514 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-17 11:56:07,934 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-17 11:56:07,951 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25696
INFO 2025-06-17 11:56:20,170 basehttp "GET /hotel_booking/rooms/ HTTP/1.1" 200 12449
INFO 2025-06-17 11:56:28,113 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17287
INFO 2025-06-17 11:56:34,656 views Database connection successful
INFO 2025-06-17 11:56:34,658 views Received chat request at 2025-06-17 11:56:34.658126
DEBUG 2025-06-17 11:56:34,659 views Request headers: {'Content-Length': '32', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:56:34,662 views Request body: {"message":"hello","session":{}}
INFO 2025-06-17 11:56:34,663 views User input: hello
INFO 2025-06-17 11:56:34,665 views Current session state: None
INFO 2025-06-17 11:56:34,670 views Current user data: None
INFO 2025-06-17 11:56:35,623 dialog_manager Using device: cpu
WARNING 2025-06-17 11:56:35,629 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:56:35,629 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:56:35,629 dialog_manager Processing message: hello
INFO 2025-06-17 11:56:35,629 dialog_manager Processing input: hello
INFO 2025-06-17 11:56:35,691 dialog_manager Using language: en
INFO 2025-06-17 11:56:35,691 dialog_manager Detecting intent for input: hello
INFO 2025-06-17 11:56:35,708 dialog_manager Pattern-based intent detected: greeting
INFO 2025-06-17 11:56:35,710 dialog_manager Detected intent: greeting
INFO 2025-06-17 11:56:40,195 dialog_manager Sentiment analysis: Neutral (confidence: 0.60)
INFO 2025-06-17 11:56:40,195 dialog_manager Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-17 11:56:40,243 dialog_manager Dialog manager process completed - State: greeting, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>}
INFO 2025-06-17 11:56:40,243 views Updated session state: greeting
INFO 2025-06-17 11:56:40,253 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>}
INFO 2025-06-17 11:56:40,254 views Generated response: Hello! Welcome to our hotel. How can I assist you today?
INFO 2025-06-17 11:56:40,255 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:56:40,257 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:56:40,386 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 203
INFO 2025-06-17 11:56:52,744 views Database connection successful
INFO 2025-06-17 11:56:52,745 views Received chat request at 2025-06-17 11:56:52.745139
DEBUG 2025-06-17 11:56:52,747 views Request headers: {'Content-Length': '155', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:56:52,748 views Request body: {"message":"i want to book a room","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19},"state":"greeting","lang":"nl"}}
INFO 2025-06-17 11:56:52,748 views User input: i want to book a room
INFO 2025-06-17 11:56:52,750 views Current session state: greeting
INFO 2025-06-17 11:56:52,753 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19}
INFO 2025-06-17 11:56:53,670 dialog_manager Using device: cpu
WARNING 2025-06-17 11:56:53,670 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:56:53,670 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:56:53,675 dialog_manager Processing message: i want to book a room
INFO 2025-06-17 11:56:53,675 dialog_manager Processing input: i want to book a room
INFO 2025-06-17 11:56:53,677 dialog_manager Using language: nl
INFO 2025-06-17 11:56:53,680 dialog_manager Detecting intent for input: i want to book a room
INFO 2025-06-17 11:56:53,697 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-17 11:56:53,697 dialog_manager Detected intent: booking
INFO 2025-06-17 11:56:53,704 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-17 11:56:53,706 dialog_manager Extracting dates from: i want to book a room
WARNING 2025-06-17 11:56:53,706 dialog_manager No dates found
INFO 2025-06-17 11:56:53,706 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>}
INFO 2025-06-17 11:56:53,711 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:56:53,712 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>}
INFO 2025-06-17 11:56:53,727 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:56:53,731 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:56:53,731 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 254
INFO 2025-06-17 11:57:00,104 views Database connection successful
INFO 2025-06-17 11:57:00,104 views Received chat request at 2025-06-17 11:57:00.104469
DEBUG 2025-06-17 11:57:00,106 views Request headers: {'Content-Length': '155', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:57:00,106 views Request body: {"message":"corina","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19},"state":"collecting_booking_info","lang":"nl"}}
INFO 2025-06-17 11:57:00,106 views User input: corina
INFO 2025-06-17 11:57:00,106 views Current session state: collecting_booking_info
INFO 2025-06-17 11:57:00,106 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19}
INFO 2025-06-17 11:57:01,043 dialog_manager Using device: cpu
WARNING 2025-06-17 11:57:01,043 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:57:01,043 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:57:01,043 dialog_manager Processing message: corina
INFO 2025-06-17 11:57:01,043 dialog_manager Processing input: corina
INFO 2025-06-17 11:57:01,043 dialog_manager Using language: nl
INFO 2025-06-17 11:57:01,043 dialog_manager Detecting intent for input: corina
INFO 2025-06-17 11:57:01,058 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:57:01,066 dialog_manager Extracted name: corina
INFO 2025-06-17 11:57:01,066 dialog_manager Extracting dates from: corina
WARNING 2025-06-17 11:57:01,066 dialog_manager No dates found
INFO 2025-06-17 11:57:01,066 dialog_manager Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>, 'guest_name': 'corina'}
INFO 2025-06-17 11:57:01,070 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>, 'guest_name': 'corina'}
INFO 2025-06-17 11:57:01,071 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:57:01,071 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'user': <SimpleLazyObject: <User: Corina>>, 'guest_name': 'corina'}
INFO 2025-06-17 11:57:01,091 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:57:01,092 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:57:01,095 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 282
INFO 2025-06-17 11:57:12,196 views Database connection successful
INFO 2025-06-17 11:57:12,197 views Received chat request at 2025-06-17 11:57:12.197251
DEBUG 2025-06-17 11:57:12,197 views Request headers: {'Content-Length': '183', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:57:12,198 views Request body: {"message":"018 976 0656","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina"},"state":"collecting_booking_info","lang":"nl"}}
INFO 2025-06-17 11:57:12,198 views User input: 018 976 0656
INFO 2025-06-17 11:57:12,198 views Current session state: collecting_booking_info
INFO 2025-06-17 11:57:12,198 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina'}
INFO 2025-06-17 11:57:13,154 dialog_manager Using device: cpu
WARNING 2025-06-17 11:57:13,155 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:57:13,155 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:57:13,155 dialog_manager Processing message: 018 976 0656
INFO 2025-06-17 11:57:13,155 dialog_manager Processing input: 018 976 0656
INFO 2025-06-17 11:57:13,155 dialog_manager Using language: nl
INFO 2025-06-17 11:57:13,159 dialog_manager Detecting intent for input: 018 976 0656
INFO 2025-06-17 11:57:13,159 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-17 11:57:13,159 dialog_manager Detected intent: invalid_input
INFO 2025-06-17 11:57:13,162 dialog_manager Extracted standalone phone: 018 976 0656
INFO 2025-06-17 11:57:13,163 dialog_manager Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'user': <SimpleLazyObject: <User: Corina>>, 'phone': '018 976 0656'}
INFO 2025-06-17 11:57:13,165 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'user': <SimpleLazyObject: <User: Corina>>, 'phone': '018 976 0656'}
INFO 2025-06-17 11:57:13,165 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:57:13,169 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'user': <SimpleLazyObject: <User: Corina>>, 'phone': '018 976 0656'}
INFO 2025-06-17 11:57:13,184 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:57:13,187 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:57:13,194 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 304
INFO 2025-06-17 11:57:25,989 views Database connection successful
INFO 2025-06-17 11:57:25,991 views Received chat request at 2025-06-17 11:57:25.991809
DEBUG 2025-06-17 11:57:25,991 views Request headers: {'Content-Length': '216', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:57:25,991 views Request body: {"message":"corinachanxy@gmail.com","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina","phone":"018 976 0656"},"state":"collecting_booking_info","lang":"nl"}}
INFO 2025-06-17 11:57:25,991 views User input: corinachanxy@gmail.com
INFO 2025-06-17 11:57:25,991 views Current session state: collecting_booking_info
INFO 2025-06-17 11:57:25,991 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656'}
INFO 2025-06-17 11:57:26,990 dialog_manager Using device: cpu
WARNING 2025-06-17 11:57:26,990 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:57:26,990 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:57:26,996 dialog_manager Processing message: corinachanxy@gmail.com
INFO 2025-06-17 11:57:26,998 dialog_manager Processing input: corinachanxy@gmail.com
INFO 2025-06-17 11:57:27,000 dialog_manager Using language: nl
INFO 2025-06-17 11:57:27,001 dialog_manager Detecting intent for input: corinachanxy@gmail.com
INFO 2025-06-17 11:57:27,017 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:57:27,017 dialog_manager Extracted standalone email: corinachanxy@gmail.com
INFO 2025-06-17 11:57:27,020 dialog_manager Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'user': <SimpleLazyObject: <User: Corina>>, 'email': 'corinachanxy@gmail.com'}
INFO 2025-06-17 11:57:27,020 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'user': <SimpleLazyObject: <User: Corina>>, 'email': 'corinachanxy@gmail.com'}
INFO 2025-06-17 11:57:27,022 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:57:27,022 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'user': <SimpleLazyObject: <User: Corina>>, 'email': 'corinachanxy@gmail.com'}
INFO 2025-06-17 11:57:27,037 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:57:27,039 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:57:27,045 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 759
INFO 2025-06-17 11:57:34,633 views Database connection successful
INFO 2025-06-17 11:57:34,633 views Received chat request at 2025-06-17 11:57:34.633467
DEBUG 2025-06-17 11:57:34,635 views Request headers: {'Content-Length': '233', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:57:34,635 views Request body: {"message":"deluxe","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina","phone":"018 976 0656","email":"corinachanxy@gmail.com"},"state":"collecting_booking_info","lang":"nl"}}
INFO 2025-06-17 11:57:34,637 views User input: deluxe
INFO 2025-06-17 11:57:34,637 views Current session state: collecting_booking_info
INFO 2025-06-17 11:57:34,637 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com'}
INFO 2025-06-17 11:57:37,290 dialog_manager Using device: cpu
WARNING 2025-06-17 11:57:37,299 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:57:37,299 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:57:37,299 dialog_manager Processing message: deluxe
INFO 2025-06-17 11:57:37,299 dialog_manager Processing input: deluxe
INFO 2025-06-17 11:57:37,305 dialog_manager Using language: nl
INFO 2025-06-17 11:57:37,307 dialog_manager Detecting intent for input: deluxe
INFO 2025-06-17 11:57:37,314 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:57:37,323 dialog_manager Extracting dates from: deluxe
WARNING 2025-06-17 11:57:37,323 dialog_manager No dates found
INFO 2025-06-17 11:57:37,323 dialog_manager Extracted room type: Deluxe
INFO 2025-06-17 11:57:37,323 dialog_manager Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'user': <SimpleLazyObject: <User: Corina>>, 'room_type': 'Deluxe'}
INFO 2025-06-17 11:57:37,323 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'user': <SimpleLazyObject: <User: Corina>>, 'room_type': 'Deluxe'}
INFO 2025-06-17 11:57:37,323 views Updated session state: collecting_booking_info
INFO 2025-06-17 11:57:37,323 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'user': <SimpleLazyObject: <User: Corina>>, 'room_type': 'Deluxe'}
INFO 2025-06-17 11:57:37,347 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:57:37,347 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:57:37,347 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 409
INFO 2025-06-17 11:57:47,130 views Database connection successful
INFO 2025-06-17 11:57:47,136 views Received chat request at 2025-06-17 11:57:47.136439
DEBUG 2025-06-17 11:57:47,138 views Request headers: {'Content-Length': '262', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:57:47,141 views Request body: {"message":"next wednesday","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina","phone":"018 976 0656","email":"corinachanxy@gmail.com","room_type":"Deluxe"},"state":"collecting_booking_info","lang":"nl"}}
INFO 2025-06-17 11:57:47,144 views User input: next wednesday
INFO 2025-06-17 11:57:47,150 views Current session state: collecting_booking_info
INFO 2025-06-17 11:57:47,153 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe'}
INFO 2025-06-17 11:57:48,047 dialog_manager Using device: cpu
WARNING 2025-06-17 11:57:48,047 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:57:48,058 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:57:48,058 dialog_manager Processing message: next wednesday
INFO 2025-06-17 11:57:48,058 dialog_manager Processing input: next wednesday
INFO 2025-06-17 11:57:48,063 dialog_manager Using language: nl
INFO 2025-06-17 11:57:48,064 dialog_manager Detecting intent for input: next wednesday
INFO 2025-06-17 11:57:48,074 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:57:48,074 dialog_manager Extracting dates from: next wednesday
INFO 2025-06-17 11:57:48,086 dialog_manager Extracted 'next wednesday' date: 2025-06-25 11:57:48.086178
INFO 2025-06-17 11:57:48,088 dialog_manager Single date result: {'check_in': '2025-06-25', 'check_out': '2025-06-26'}
INFO 2025-06-17 11:57:48,088 dialog_manager Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: Corina>>, 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26'}
INFO 2025-06-17 11:57:48,101 models Booking saved: BK-69769 for corina
INFO 2025-06-17 11:57:48,106 dialog_manager Booking created successfully: ID=51, Booking_ID=BK-69769
INFO 2025-06-17 11:57:48,108 dialog_manager Booking record created successfully: BK-69769
INFO 2025-06-17 11:57:48,108 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: Corina>>, 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769'}
INFO 2025-06-17 11:57:48,108 views Updated session state: offering_addons
INFO 2025-06-17 11:57:48,108 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'user': <SimpleLazyObject: <User: Corina>>, 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769'}
INFO 2025-06-17 11:57:48,108 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-17 11:57:48,108 views Booking confirmation check - State: offering_addons, Booking ID: BK-69769, Previous ID: BK-69769, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:57:48,113 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:57:48,117 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1257
INFO 2025-06-17 11:58:01,763 views Database connection successful
INFO 2025-06-17 11:58:01,764 views Received chat request at 2025-06-17 11:58:01.764532
DEBUG 2025-06-17 11:58:01,764 views Request headers: {'Content-Length': '332', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:58:01,764 views Request body: {"message":"breakfast","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina","phone":"018 976 0656","email":"corinachanxy@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-25","check_out_date":"2025-06-26","booking_id":"BK-69769"},"state":"offering_addons","lang":"nl"}}
INFO 2025-06-17 11:58:01,767 views User input: breakfast
INFO 2025-06-17 11:58:01,767 views Current session state: offering_addons
INFO 2025-06-17 11:58:01,767 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769'}
INFO 2025-06-17 11:58:02,668 dialog_manager Using device: cpu
WARNING 2025-06-17 11:58:02,668 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:58:02,668 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:58:02,668 dialog_manager Processing message: breakfast
INFO 2025-06-17 11:58:02,668 dialog_manager Processing input: breakfast
INFO 2025-06-17 11:58:02,680 dialog_manager Using language: nl
INFO 2025-06-17 11:58:02,681 dialog_manager Detecting intent for input: breakfast
INFO 2025-06-17 11:58:02,683 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-17 11:58:02,683 dialog_manager Detected intent: invalid_input
INFO 2025-06-17 11:58:02,685 dialog_manager Dialog manager process completed - State: collecting_breakfast_count, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769', 'user': <SimpleLazyObject: <User: Corina>>, 'addon_selections': ['breakfast']}
INFO 2025-06-17 11:58:02,688 views Updated session state: collecting_breakfast_count
INFO 2025-06-17 11:58:02,689 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769', 'user': <SimpleLazyObject: <User: Corina>>, 'addon_selections': ['breakfast']}
INFO 2025-06-17 11:58:02,690 views Generated response: Breakfast service is RM20/person. How many guests do you need to add breakfast for?
INFO 2025-06-17 11:58:02,690 views Booking confirmation check - State: collecting_breakfast_count, Booking ID: BK-69769, Previous ID: BK-69769, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:58:02,690 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:58:02,693 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 479
INFO 2025-06-17 11:58:10,757 views Database connection successful
INFO 2025-06-17 11:58:10,759 views Received chat request at 2025-06-17 11:58:10.759763
DEBUG 2025-06-17 11:58:10,761 views Request headers: {'Content-Length': '368', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:58:10,764 views Request body: {"message":"1","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina","phone":"018 976 0656","email":"corinachanxy@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-25","check_out_date":"2025-06-26","booking_id":"BK-69769","addon_selections":["breakfast"]},"state":"collecting_breakfast_count","lang":"nl"}}
INFO 2025-06-17 11:58:10,764 views User input: 1
INFO 2025-06-17 11:58:10,766 views Current session state: collecting_breakfast_count
INFO 2025-06-17 11:58:10,766 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769', 'addon_selections': ['breakfast']}
INFO 2025-06-17 11:58:11,628 dialog_manager Using device: cpu
WARNING 2025-06-17 11:58:11,628 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:58:11,628 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:58:11,644 dialog_manager Processing message: 1
INFO 2025-06-17 11:58:11,646 dialog_manager Processing input: 1
INFO 2025-06-17 11:58:11,647 dialog_manager Using language: nl
INFO 2025-06-17 11:58:11,647 dialog_manager Detecting intent for input: 1
INFO 2025-06-17 11:58:11,662 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:58:11,667 dialog_manager Dialog manager process completed - State: confirming_breakfast, User data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: Corina>>, 'breakfast_count': 1}
INFO 2025-06-17 11:58:11,667 views Updated session state: confirming_breakfast
INFO 2025-06-17 11:58:11,669 views Updated user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769', 'addon_selections': ['breakfast'], 'user': <SimpleLazyObject: <User: Corina>>, 'breakfast_count': 1}
INFO 2025-06-17 11:58:11,670 views Generated response: OK, add breakfast for 1 guest(s), a total of RM20.
Are you sure to book breakfast?
A. Yes
B. No
INFO 2025-06-17 11:58:11,670 views Booking confirmation check - State: confirming_breakfast, Booking ID: BK-69769, Previous ID: BK-69769, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:58:11,670 views Removed User object from session for JSON serialization
INFO 2025-06-17 11:58:11,670 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 510
INFO 2025-06-17 11:58:19,333 views Database connection successful
INFO 2025-06-17 11:58:19,334 views Received chat request at 2025-06-17 11:58:19.334799
DEBUG 2025-06-17 11:58:19,334 views Request headers: {'Content-Length': '384', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'obYLmbhvYR0pYUluWbwQrqsIis2zXtxw', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=obYLmbhvYR0pYUluWbwQrqsIis2zXtxw; sessionid=072i5p198cxb5ctdehfftv85cxvfqr0p'}
DEBUG 2025-06-17 11:58:19,334 views Request body: {"message":"yes","session":{"user_data":{"username":"Corina","is_returning_customer":false,"user_id":19,"guest_name":"corina","phone":"018 976 0656","email":"corinachanxy@gmail.com","room_type":"Deluxe","check_in_date":"2025-06-25","check_out_date":"2025-06-26","booking_id":"BK-69769","addon_selections":["breakfast"],"breakfast_count":1},"state":"confirming_breakfast","lang":"nl"}}
INFO 2025-06-17 11:58:19,339 views User input: yes
INFO 2025-06-17 11:58:19,340 views Current session state: confirming_breakfast
INFO 2025-06-17 11:58:19,340 views Current user data: {'username': 'Corina', 'is_returning_customer': False, 'user_id': 19, 'guest_name': 'corina', 'phone': '018 976 0656', 'email': 'corinachanxy@gmail.com', 'room_type': 'Deluxe', 'check_in_date': '2025-06-25', 'check_out_date': '2025-06-26', 'booking_id': 'BK-69769', 'addon_selections': ['breakfast'], 'breakfast_count': 1}
INFO 2025-06-17 11:58:20,304 dialog_manager Using device: cpu
WARNING 2025-06-17 11:58:20,304 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 11:58:20,304 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 11:58:20,304 dialog_manager Processing message: yes
INFO 2025-06-17 11:58:20,304 dialog_manager Processing input: yes
INFO 2025-06-17 11:58:20,313 dialog_manager Using language: nl
INFO 2025-06-17 11:58:20,314 dialog_manager Detecting intent for input: yes
INFO 2025-06-17 11:58:20,329 dialog_manager Detected intent: unknown
INFO 2025-06-17 11:58:20,349 dialog_manager Addon created successfully: Breakfast for 1 people - RM20
INFO 2025-06-17 11:58:20,349 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-17 11:58:20,354 views Updated session state: greeting
INFO 2025-06-17 11:58:20,354 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-17 11:58:20,354 views Generated response: Your breakfast service has been booked successfully and the fee will be charged to the room account. Breakfast is served from 6am to 11am. Enjoy your meal!
INFO 2025-06-17 11:58:20,356 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 11:58:20,362 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 264
INFO 2025-06-17 11:58:47,901 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-17 11:58:47,915 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
INFO 2025-06-17 11:59:09,419 basehttp "GET /hotel_booking/register/ HTTP/1.1" 200 16344
INFO 2025-06-17 11:59:49,556 basehttp "POST /hotel_booking/register/ HTTP/1.1" 302 0
INFO 2025-06-17 11:59:49,583 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25692
INFO 2025-06-17 11:59:57,714 basehttp "GET /hotel_booking/room/2/ HTTP/1.1" 200 11671
INFO 2025-06-17 12:00:10,619 basehttp "GET /hotel_booking/chatbot/ HTTP/1.1" 200 17285
INFO 2025-06-17 12:00:21,256 views Database connection successful
INFO 2025-06-17 12:00:21,258 views Received chat request at 2025-06-17 12:00:21.258837
DEBUG 2025-06-17 12:00:21,258 views Request headers: {'Content-Length': '38', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:00:21,258 views Request body: {"message":"book a room","session":{}}
INFO 2025-06-17 12:00:21,258 views User input: book a room
INFO 2025-06-17 12:00:21,258 views Current session state: None
INFO 2025-06-17 12:00:21,258 views Current user data: None
INFO 2025-06-17 12:00:22,254 dialog_manager Using device: cpu
WARNING 2025-06-17 12:00:22,254 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:00:22,254 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:00:22,254 dialog_manager Processing message: book a room
INFO 2025-06-17 12:00:22,254 dialog_manager Processing input: book a room
INFO 2025-06-17 12:00:22,278 dialog_manager Using language: en
INFO 2025-06-17 12:00:22,285 dialog_manager Detecting intent for input: book a room
INFO 2025-06-17 12:00:22,307 dialog_manager Pattern-based intent detected: booking
INFO 2025-06-17 12:00:22,307 dialog_manager Detected intent: booking
INFO 2025-06-17 12:00:22,307 dialog_manager Starting new booking process - cleared previous confirmation flags
INFO 2025-06-17 12:00:22,312 dialog_manager Extracting dates from: book a room
WARNING 2025-06-17 12:00:22,312 dialog_manager No dates found
INFO 2025-06-17 12:00:22,330 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'user': <SimpleLazyObject: <User: Jong>>}
INFO 2025-06-17 12:00:22,330 views Updated session state: collecting_booking_info
INFO 2025-06-17 12:00:22,330 views Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'user': <SimpleLazyObject: <User: Jong>>}
INFO 2025-06-17 12:00:22,354 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:00:22,354 views Removed User object from session for JSON serialization
INFO 2025-06-17 12:00:22,359 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 252
INFO 2025-06-17 12:00:30,870 views Database connection successful
INFO 2025-06-17 12:00:30,870 views Received chat request at 2025-06-17 12:00:30.870623
DEBUG 2025-06-17 12:00:30,873 views Request headers: {'Content-Length': '159', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:00:30,873 views Request body: {"message":"Jackson Jong","session":{"user_data":{"username":"Jong","is_returning_customer":false,"user_id":20},"state":"collecting_booking_info","lang":"sk"}}
INFO 2025-06-17 12:00:30,873 views User input: Jackson Jong
INFO 2025-06-17 12:00:30,873 views Current session state: collecting_booking_info
INFO 2025-06-17 12:00:30,873 views Current user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20}
INFO 2025-06-17 12:00:31,782 dialog_manager Using device: cpu
WARNING 2025-06-17 12:00:31,782 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:00:31,782 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:00:31,782 dialog_manager Processing message: Jackson Jong
INFO 2025-06-17 12:00:31,782 dialog_manager Processing input: Jackson Jong
INFO 2025-06-17 12:00:31,782 dialog_manager Using language: sk
INFO 2025-06-17 12:00:31,782 dialog_manager Detecting intent for input: Jackson Jong
INFO 2025-06-17 12:00:31,798 dialog_manager Detected intent: unknown
INFO 2025-06-17 12:00:31,806 dialog_manager Extracted name: Jackson Jong
INFO 2025-06-17 12:00:31,806 dialog_manager Extracting dates from: Jackson Jong
WARNING 2025-06-17 12:00:31,806 dialog_manager No dates found
INFO 2025-06-17 12:00:31,809 dialog_manager Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'user': <SimpleLazyObject: <User: Jong>>, 'guest_name': 'Jackson Jong'}
INFO 2025-06-17 12:00:31,809 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'user': <SimpleLazyObject: <User: Jong>>, 'guest_name': 'Jackson Jong'}
INFO 2025-06-17 12:00:31,809 views Updated session state: collecting_booking_info
INFO 2025-06-17 12:00:31,809 views Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'user': <SimpleLazyObject: <User: Jong>>, 'guest_name': 'Jackson Jong'}
INFO 2025-06-17 12:00:31,823 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:00:31,828 views Removed User object from session for JSON serialization
INFO 2025-06-17 12:00:31,832 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 292
INFO 2025-06-17 12:00:39,391 views Database connection successful
INFO 2025-06-17 12:00:39,391 views Received chat request at 2025-06-17 12:00:39.391518
DEBUG 2025-06-17 12:00:39,394 views Request headers: {'Content-Length': '186', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:00:39,395 views Request body: {"message":"01110529106","session":{"user_data":{"username":"Jong","is_returning_customer":false,"user_id":20,"guest_name":"Jackson Jong"},"state":"collecting_booking_info","lang":"sk"}}
INFO 2025-06-17 12:00:39,396 views User input: 01110529106
INFO 2025-06-17 12:00:39,396 views Current session state: collecting_booking_info
INFO 2025-06-17 12:00:39,396 views Current user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong'}
INFO 2025-06-17 12:00:40,308 dialog_manager Using device: cpu
WARNING 2025-06-17 12:00:40,308 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:00:40,308 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:00:40,308 dialog_manager Processing message: 01110529106
INFO 2025-06-17 12:00:40,308 dialog_manager Processing input: 01110529106
INFO 2025-06-17 12:00:40,308 dialog_manager Using language: sk
INFO 2025-06-17 12:00:40,308 dialog_manager Detecting intent for input: 01110529106
INFO 2025-06-17 12:00:40,308 dialog_manager Invalid input detected: too_many_digits
INFO 2025-06-17 12:00:40,316 dialog_manager Detected intent: invalid_input
INFO 2025-06-17 12:00:40,317 dialog_manager Extracted standalone phone: 01110529106
INFO 2025-06-17 12:00:40,320 dialog_manager Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'user': <SimpleLazyObject: <User: Jong>>, 'phone': '01110529106'}
INFO 2025-06-17 12:00:40,323 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'user': <SimpleLazyObject: <User: Jong>>, 'phone': '01110529106'}
INFO 2025-06-17 12:00:40,324 views Updated session state: collecting_booking_info
INFO 2025-06-17 12:00:40,324 views Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'user': <SimpleLazyObject: <User: Jong>>, 'phone': '01110529106'}
INFO 2025-06-17 12:00:40,339 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:00:40,342 views Removed User object from session for JSON serialization
INFO 2025-06-17 12:00:40,345 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 313
INFO 2025-06-17 12:00:52,493 views Database connection successful
INFO 2025-06-17 12:00:52,496 views Received chat request at 2025-06-17 12:00:52.496229
DEBUG 2025-06-17 12:00:52,498 views Request headers: {'Content-Length': '222', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:00:52,498 views Request body: {"message":"jacksonjong2002@gmail.com","session":{"user_data":{"username":"Jong","is_returning_customer":false,"user_id":20,"guest_name":"Jackson Jong","phone":"01110529106"},"state":"collecting_booking_info","lang":"sk"}}
INFO 2025-06-17 12:00:52,498 views User input: jacksonjong2002@gmail.com
INFO 2025-06-17 12:00:52,498 views Current session state: collecting_booking_info
INFO 2025-06-17 12:00:52,502 views Current user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106'}
INFO 2025-06-17 12:00:53,395 dialog_manager Using device: cpu
WARNING 2025-06-17 12:00:53,395 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:00:53,395 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:00:53,395 dialog_manager Processing message: jacksonjong2002@gmail.com
INFO 2025-06-17 12:00:53,395 dialog_manager Processing input: jacksonjong2002@gmail.com
INFO 2025-06-17 12:00:53,404 dialog_manager Using language: sk
INFO 2025-06-17 12:00:53,404 dialog_manager Detecting intent for input: jacksonjong2002@gmail.com
INFO 2025-06-17 12:00:53,422 dialog_manager Detected intent: unknown
INFO 2025-06-17 12:00:53,422 dialog_manager Extracted standalone email: jacksonjong2002@gmail.com
INFO 2025-06-17 12:00:53,422 dialog_manager Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'user': <SimpleLazyObject: <User: Jong>>, 'email': 'jacksonjong2002@gmail.com'}
INFO 2025-06-17 12:00:53,422 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'user': <SimpleLazyObject: <User: Jong>>, 'email': 'jacksonjong2002@gmail.com'}
INFO 2025-06-17 12:00:53,422 views Updated session state: collecting_booking_info
INFO 2025-06-17 12:00:53,422 views Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'user': <SimpleLazyObject: <User: Jong>>, 'email': 'jacksonjong2002@gmail.com'}
INFO 2025-06-17 12:00:53,444 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:00:53,446 views Removed User object from session for JSON serialization
INFO 2025-06-17 12:00:53,450 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 771
INFO 2025-06-17 12:01:00,484 views Database connection successful
INFO 2025-06-17 12:01:00,484 views Received chat request at 2025-06-17 12:01:00.484231
DEBUG 2025-06-17 12:01:00,484 views Request headers: {'Content-Length': '241', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:01:00,484 views Request body: {"message":"standard","session":{"user_data":{"username":"Jong","is_returning_customer":false,"user_id":20,"guest_name":"Jackson Jong","phone":"01110529106","email":"jacksonjong2002@gmail.com"},"state":"collecting_booking_info","lang":"sk"}}
INFO 2025-06-17 12:01:00,489 views User input: standard
INFO 2025-06-17 12:01:00,490 views Current session state: collecting_booking_info
INFO 2025-06-17 12:01:00,490 views Current user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com'}
INFO 2025-06-17 12:01:01,372 dialog_manager Using device: cpu
WARNING 2025-06-17 12:01:01,372 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:01:01,372 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:01:01,383 dialog_manager Processing message: standard
INFO 2025-06-17 12:01:01,383 dialog_manager Processing input: standard
INFO 2025-06-17 12:01:01,389 dialog_manager Using language: sk
INFO 2025-06-17 12:01:01,391 dialog_manager Detecting intent for input: standard
INFO 2025-06-17 12:01:01,392 dialog_manager Invalid input detected: random_pattern
INFO 2025-06-17 12:01:01,394 dialog_manager Detected intent: invalid_input
INFO 2025-06-17 12:01:01,396 dialog_manager Extracting dates from: standard
WARNING 2025-06-17 12:01:01,397 dialog_manager No dates found
INFO 2025-06-17 12:01:01,397 dialog_manager Extracted room type: Standard
INFO 2025-06-17 12:01:01,399 dialog_manager Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'user': <SimpleLazyObject: <User: Jong>>, 'room_type': 'Standard'}
INFO 2025-06-17 12:01:01,400 dialog_manager Dialog manager process completed - State: collecting_booking_info, User data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'user': <SimpleLazyObject: <User: Jong>>, 'room_type': 'Standard'}
INFO 2025-06-17 12:01:01,400 views Updated session state: collecting_booking_info
INFO 2025-06-17 12:01:01,402 views Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'user': <SimpleLazyObject: <User: Jong>>, 'room_type': 'Standard'}
INFO 2025-06-17 12:01:01,419 views Booking confirmation check - State: collecting_booking_info, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:01:01,419 views Removed User object from session for JSON serialization
INFO 2025-06-17 12:01:01,425 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 423
INFO 2025-06-17 12:01:23,533 views Database connection successful
INFO 2025-06-17 12:01:23,533 views Received chat request at 2025-06-17 12:01:23.533014
DEBUG 2025-06-17 12:01:23,548 views Request headers: {'Content-Length': '265', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:01:23,551 views Request body: {"message":"20/7/2025","session":{"user_data":{"username":"Jong","is_returning_customer":false,"user_id":20,"guest_name":"Jackson Jong","phone":"01110529106","email":"jacksonjong2002@gmail.com","room_type":"Standard"},"state":"collecting_booking_info","lang":"sk"}}
INFO 2025-06-17 12:01:23,553 views User input: 20/7/2025
INFO 2025-06-17 12:01:23,554 views Current session state: collecting_booking_info
INFO 2025-06-17 12:01:23,556 views Current user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'room_type': 'Standard'}
INFO 2025-06-17 12:01:24,570 dialog_manager Using device: cpu
WARNING 2025-06-17 12:01:24,581 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:01:24,581 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:01:24,583 dialog_manager Processing message: 20/7/2025
INFO 2025-06-17 12:01:24,587 dialog_manager Processing input: 20/7/2025
INFO 2025-06-17 12:01:24,587 dialog_manager Using language: sk
INFO 2025-06-17 12:01:24,590 dialog_manager Detecting intent for input: 20/7/2025
INFO 2025-06-17 12:01:24,590 dialog_manager Invalid input detected: digit_special_mix
INFO 2025-06-17 12:01:24,592 dialog_manager Detected intent: invalid_input
INFO 2025-06-17 12:01:24,593 dialog_manager Extracting dates from: 20/7/2025
INFO 2025-06-17 12:01:24,593 dialog_manager Extracted single date: {'check_in': '2025-07-20', 'check_out': '2025-07-21'}
INFO 2025-06-17 12:01:24,596 dialog_manager Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: Jong>>, 'check_in_date': '2025-07-20', 'check_out_date': '2025-07-21'}
INFO 2025-06-17 12:01:24,607 models Booking saved: BK-96107 for Jackson Jong
INFO 2025-06-17 12:01:24,611 dialog_manager Booking created successfully: ID=52, Booking_ID=BK-96107
INFO 2025-06-17 12:01:24,611 dialog_manager Booking record created successfully: BK-96107
INFO 2025-06-17 12:01:24,611 dialog_manager Dialog manager process completed - State: offering_addons, User data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: Jong>>, 'check_in_date': '2025-07-20', 'check_out_date': '2025-07-21', 'booking_id': 'BK-96107'}
INFO 2025-06-17 12:01:24,611 views Updated session state: offering_addons
INFO 2025-06-17 12:01:24,611 views Updated user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'room_type': 'Standard', 'user': <SimpleLazyObject: <User: Jong>>, 'check_in_date': '2025-07-20', 'check_out_date': '2025-07-21', 'booking_id': 'BK-96107'}
INFO 2025-06-17 12:01:24,611 views Generated response: <img src='/media/payment/QR Bank.jpeg' alt='Payment QR Code' class='img-fluid rounded' style='max-width: 300px;'><br>Please scan the QR code to complete your payment.
INFO 2025-06-17 12:01:24,616 views Booking confirmation check - State: offering_addons, Booking ID: BK-96107, Previous ID: BK-96107, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:01:24,618 views Removed User object from session for JSON serialization
INFO 2025-06-17 12:01:24,622 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 1275
INFO 2025-06-17 12:01:38,621 views Database connection successful
INFO 2025-06-17 12:01:38,624 views Received chat request at 2025-06-17 12:01:38.624561
DEBUG 2025-06-17 12:01:38,625 views Request headers: {'Content-Length': '340', 'Content-Type': 'application/json', 'Host': '127.0.0.1:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'X-Csrftoken': 'hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 'Sec-Ch-Ua': '"Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Accept': '*/*', 'Origin': 'http://127.0.0.1:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://127.0.0.1:8000/hotel_booking/chatbot/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-US,en;q=0.9', 'Cookie': 'csrftoken=hYGW3VJj9lxIrisTK31Qf6WIT0KyaYRJ; sessionid=cfl9d2zxv8jfq8d98vfp2wch6f63oo0o'}
DEBUG 2025-06-17 12:01:38,626 views Request body: {"message":"no thanks","session":{"user_data":{"username":"Jong","is_returning_customer":false,"user_id":20,"guest_name":"Jackson Jong","phone":"01110529106","email":"jacksonjong2002@gmail.com","room_type":"Standard","check_in_date":"2025-07-20","check_out_date":"2025-07-21","booking_id":"BK-96107"},"state":"offering_addons","lang":"sk"}}
INFO 2025-06-17 12:01:38,626 views User input: no thanks
INFO 2025-06-17 12:01:38,626 views Current session state: offering_addons
INFO 2025-06-17 12:01:38,626 views Current user data: {'username': 'Jong', 'is_returning_customer': False, 'user_id': 20, 'guest_name': 'Jackson Jong', 'phone': '01110529106', 'email': 'jacksonjong2002@gmail.com', 'room_type': 'Standard', 'check_in_date': '2025-07-20', 'check_out_date': '2025-07-21', 'booking_id': 'BK-96107'}
INFO 2025-06-17 12:01:39,571 dialog_manager Using device: cpu
WARNING 2025-06-17 12:01:39,574 dialog_manager Using basic NLP functionality only
INFO 2025-06-17 12:01:39,575 dialog_manager DialogManager initialized successfully
INFO 2025-06-17 12:01:39,575 dialog_manager Processing message: no thanks
INFO 2025-06-17 12:01:39,575 dialog_manager Processing input: no thanks
INFO 2025-06-17 12:01:39,580 dialog_manager Using language: sk
INFO 2025-06-17 12:01:39,582 dialog_manager Detecting intent for input: no thanks
INFO 2025-06-17 12:01:39,599 dialog_manager Gratitude intent detected
INFO 2025-06-17 12:01:39,599 dialog_manager Detected intent: express_gratitude
INFO 2025-06-17 12:01:39,599 dialog_manager Dialog manager process completed - State: greeting, User data: {'is_returning_customer': True}
INFO 2025-06-17 12:01:39,599 views Updated session state: greeting
INFO 2025-06-17 12:01:39,599 views Updated user data: {'is_returning_customer': True}
INFO 2025-06-17 12:01:39,599 views Generated response: No problem! Your booking is complete. Thank you for choosing our hotel! Is there anything else I can help you with?
INFO 2025-06-17 12:01:39,599 views Booking confirmation check - State: greeting, Booking ID: None, Previous ID: None, Confirmation sent: False, Will show confirmation: False
INFO 2025-06-17 12:01:39,608 basehttp "POST /hotel_booking/chatbot/api/ HTTP/1.1" 200 224
INFO 2025-06-17 12:01:46,243 basehttp "GET /hotel_booking/user/profile/ HTTP/1.1" 200 12934
INFO 2025-06-17 12:02:37,261 basehttp "GET /hotel_booking/user/logout/ HTTP/1.1" 302 0
INFO 2025-06-17 12:02:37,267 basehttp "GET /hotel_booking/ HTTP/1.1" 200 25258
